2023-11-13 18:56:03,083 - yq - INFO - 
##########START##########

2023-11-13 18:56:03,083 - yq - INFO - Doing grid search for GBM
2023-11-13 18:56:03,083 - yq - INFO - Doing grid search for Heston
2023-11-13 18:56:03,083 - yq - INFO - Running grid search for hist_window: 63, n_sim: 3
2023-11-13 18:56:03,257 - yq - INFO - Pricing the product on 2023-08-09 00:00:00
2023-11-13 18:56:03,257 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:03,265 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:03,445 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-11-13 18:56:03,446 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230809.csv
2023-11-13 18:56:03,446 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, Timestamp('2023-08-09 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:03,447 - yq - INFO - The log returns list for all assets is: [Date
2023-05-11    0.019255
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
                ...   
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-11    0.011227
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
                ...   
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:03,447 - yq - INFO - rho_S1S2 is 0.4397426412287944

2023-11-13 18:56:03,447 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43974264]
 [0.43974264 1.        ]]

2023-11-13 18:56:03,447 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49338982 0.43974264 0.        ]
 [0.49338982 1.         0.         0.        ]
 [0.43974264 0.         1.         0.45202036]
 [0.         0.         0.45202036 1.        ]]

2023-11-13 18:56:03,448 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49338982  0.8698083   0.          0.        ]
 [ 0.43974264 -0.24943949  0.86278986  0.        ]
 [ 0.          0.          0.52390551  0.85177639]]

2023-11-13 18:56:03,448 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:03,450 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 18:56:03,470 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:03,471 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  493.964093  257.832846
1  475.824697  262.000109
2  466.791570  246.303704
3  466.703981  244.336872
4  492.902479  243.680987
2023-11-13 18:56:03,551 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  493.964093  257.832846
2023-08-11  475.824697  262.000109
2023-08-14  466.791570  246.303704
2023-08-15  466.703981  244.336872
2023-08-16  492.902479  243.680987
2023-11-13 18:56:04,088 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 18:56:04,091 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  493.964093  257.832846
2023-08-11  475.824697  262.000109
2023-08-14  466.791570  246.303704
2023-08-15  466.703981  244.336872
...                ...         ...
2024-07-24  820.092953  271.922922
2024-07-25  766.527033  268.848925
2024-07-26  789.740179  271.600040
2024-07-29  857.042374  271.565172
2024-07-30  829.089966  270.392156

[245 rows x 2 columns]
2023-11-13 18:56:04,213 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:04,213 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  493.964093  257.832846
2023-08-11  475.824697  262.000109
2023-08-14  466.791570  246.303704
2023-08-15  466.703981  244.336872
2023-08-16  492.902479  243.680987
...                ...         ...
2024-07-24  820.092953  271.922922
2024-07-25  766.527033  268.848925
2024-07-26  789.740179  271.600040
2024-07-29  857.042374  271.565172
2024-07-30  829.089966  270.392156

[244 rows x 2 columns], sim=0): 0.0h 0.0m 0s 660ms
2023-11-13 18:56:04,214 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 18:56:04,235 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:04,236 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  489.746499  270.505229
1  475.328848  271.668210
2  443.296088  269.618072
3  425.156738  256.144924
4  430.119494  251.374231
2023-11-13 18:56:04,323 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  489.746499  270.505229
2023-08-11  475.328848  271.668210
2023-08-14  443.296088  269.618072
2023-08-15  425.156738  256.144924
2023-08-16  430.119494  251.374231
2023-11-13 18:56:04,339 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 18:56:04,342 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  489.746499  270.505229
2023-08-11  475.328848  271.668210
2023-08-14  443.296088  269.618072
2023-08-15  425.156738  256.144924
...                ...         ...
2024-07-24  211.025051  254.438310
2024-07-25  205.312146  252.398287
2024-07-26  200.958895  254.973637
2024-07-29  191.835370  254.113635
2024-07-30  187.064465  254.969699

[245 rows x 2 columns]
2023-11-13 18:56:04,439 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:04,440 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  489.746499  270.505229
2023-08-11  475.328848  271.668210
2023-08-14  443.296088  269.618072
2023-08-15  425.156738  256.144924
2023-08-16  430.119494  251.374231
...                ...         ...
2024-07-24  211.025051  254.438310
2024-07-25  205.312146  252.398287
2024-07-26  200.958895  254.973637
2024-07-29  191.835370  254.113635
2024-07-30  187.064465  254.969699

[244 rows x 2 columns], sim=1): 0.0h 0.0m 0s 113ms
2023-11-13 18:56:04,440 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 18:56:04,460 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:04,461 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  495.670243  264.317746
1  497.678849  263.467550
2  459.921764  258.984159
3  476.492584  260.219499
4  474.298468  249.648669
2023-11-13 18:56:04,546 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  495.670243  264.317746
2023-08-11  497.678849  263.467550
2023-08-14  459.921764  258.984159
2023-08-15  476.492584  260.219499
2023-08-16  474.298468  249.648669
2023-11-13 18:56:04,561 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 18:56:04,563 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-08-09   489.000000  265.500000
2023-08-10   495.670243  264.317746
2023-08-11   497.678849  263.467550
2023-08-14   459.921764  258.984159
2023-08-15   476.492584  260.219499
...                 ...         ...
2024-07-24  1104.408972  388.584532
2024-07-25  1184.000170  391.902381
2024-07-26  1153.151160  388.510205
2024-07-29  1102.982364  384.064520
2024-07-30  1108.771911  388.345453

[245 rows x 2 columns]
2023-11-13 18:56:04,661 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:04,661 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-08-10   495.670243  264.317746
2023-08-11   497.678849  263.467550
2023-08-14   459.921764  258.984159
2023-08-15   476.492584  260.219499
2023-08-16   474.298468  249.648669
...                 ...         ...
2024-07-24  1104.408972  388.584532
2024-07-25  1184.000170  391.902381
2024-07-26  1153.151160  388.510205
2024-07-29  1102.982364  384.064520
2024-07-30  1108.771911  388.345453

[244 rows x 2 columns], sim=2): 0.0h 0.0m 0s 112ms
2023-11-13 18:56:04,661 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, n_sim=3): 0.0h 0.0m 1s 219ms
2023-11-13 18:56:04,661 - yq - INFO - Pricing the product on 2023-08-10 00:00:00
2023-11-13 18:56:04,661 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:04,666 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:04,852 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-11-13 18:56:04,853 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230810.csv
2023-11-13 18:56:04,853 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c6ff0d0>, Timestamp('2023-08-10 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:04,854 - yq - INFO - The log returns list for all assets is: [Date
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
                ...   
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
                ...   
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:04,854 - yq - INFO - rho_S1S2 is 0.43912096394854827

2023-11-13 18:56:04,854 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43912096]
 [0.43912096 1.        ]]

2023-11-13 18:56:04,854 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49190426 0.43912096 0.        ]
 [0.49190426 1.         0.         0.        ]
 [0.43912096 0.         1.         0.49912194]
 [0.         0.         0.49912194 1.        ]]

2023-11-13 18:56:04,854 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49190426  0.8706493   0.          0.        ]
 [ 0.43912096 -0.24809699  0.86349329  0.        ]
 [ 0.          0.          0.57802643  0.81601805]]

2023-11-13 18:56:04,854 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c6ff0d0>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:04,854 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 18:56:04,873 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:04,875 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  512.057030  272.144657
1  494.721414  268.085843
2  519.633266  273.485519
3  502.069172  260.531197
4  498.429215  233.666946
2023-11-13 18:56:04,960 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  512.057030  272.144657
2023-08-14  494.721414  268.085843
2023-08-15  519.633266  273.485519
2023-08-16  502.069172  260.531197
2023-08-17  498.429215  233.666946
2023-11-13 18:56:04,976 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 18:56:04,978 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  512.057030  272.144657
2023-08-14  494.721414  268.085843
2023-08-15  519.633266  273.485519
2023-08-16  502.069172  260.531197
...                ...         ...
2024-07-24  423.559696  228.235129
2024-07-25  432.057015  230.499372
2024-07-26  433.212537  243.002878
2024-07-29  410.764768  236.844188
2024-07-30  416.041161  240.115714

[244 rows x 2 columns]
2023-11-13 18:56:05,073 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:05,073 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c6ff0d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  512.057030  272.144657
2023-08-14  494.721414  268.085843
2023-08-15  519.633266  273.485519
2023-08-16  502.069172  260.531197
2023-08-17  498.429215  233.666946
...                ...         ...
2024-07-24  423.559696  228.235129
2024-07-25  432.057015  230.499372
2024-07-26  433.212537  243.002878
2024-07-29  410.764768  236.844188
2024-07-30  416.041161  240.115714

[243 rows x 2 columns], sim=0): 0.0h 0.0m 0s 111ms
2023-11-13 18:56:05,074 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 18:56:05,093 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:05,094 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.169467  260.320368
1  475.310558  263.901448
2  466.401826  255.250296
3  442.287371  235.256305
4  470.197941  229.857421
2023-11-13 18:56:05,178 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  481.169467  260.320368
2023-08-14  475.310558  263.901448
2023-08-15  466.401826  255.250296
2023-08-16  442.287371  235.256305
2023-08-17  470.197941  229.857421
2023-11-13 18:56:05,192 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 18:56:05,194 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  481.169467  260.320368
2023-08-14  475.310558  263.901448
2023-08-15  466.401826  255.250296
2023-08-16  442.287371  235.256305
...                ...         ...
2024-07-24  383.442868  136.645069
2024-07-25  390.224286  142.292474
2024-07-26  396.745775  140.981559
2024-07-29  405.081127  148.319874
2024-07-30  398.241216  152.562847

[244 rows x 2 columns]
2023-11-13 18:56:05,289 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:05,289 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c6ff0d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  481.169467  260.320368
2023-08-14  475.310558  263.901448
2023-08-15  466.401826  255.250296
2023-08-16  442.287371  235.256305
2023-08-17  470.197941  229.857421
...                ...         ...
2024-07-24  383.442868  136.645069
2024-07-25  390.224286  142.292474
2024-07-26  396.745775  140.981559
2024-07-29  405.081127  148.319874
2024-07-30  398.241216  152.562847

[243 rows x 2 columns], sim=1): 0.0h 0.0m 0s 108ms
2023-11-13 18:56:05,289 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 18:56:05,309 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:05,311 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  470.250451  256.366369
1  489.288459  250.114975
2  506.106268  249.689415
3  485.982387  245.956781
4  495.015022  258.242675
2023-11-13 18:56:05,397 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  470.250451  256.366369
2023-08-14  489.288459  250.114975
2023-08-15  506.106268  249.689415
2023-08-16  485.982387  245.956781
2023-08-17  495.015022  258.242675
2023-11-13 18:56:05,411 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 18:56:05,414 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  470.250451  256.366369
2023-08-14  489.288459  250.114975
2023-08-15  506.106268  249.689415
2023-08-16  485.982387  245.956781
...                ...         ...
2024-07-24  283.713343  607.560563
2024-07-25  289.132184  609.635364
2024-07-26  288.966399  618.361542
2024-07-29  287.594806  654.333741
2024-07-30  282.881327  635.794135

[244 rows x 2 columns]
2023-11-13 18:56:05,513 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:05,514 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c6ff0d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  470.250451  256.366369
2023-08-14  489.288459  250.114975
2023-08-15  506.106268  249.689415
2023-08-16  485.982387  245.956781
2023-08-17  495.015022  258.242675
...                ...         ...
2024-07-24  283.713343  607.560563
2024-07-25  289.132184  609.635364
2024-07-26  288.966399  618.361542
2024-07-29  287.594806  654.333741
2024-07-30  282.881327  635.794135

[243 rows x 2 columns], sim=2): 0.0h 0.0m 0s 114ms
2023-11-13 18:56:05,514 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c6ff0d0>, n_sim=3): 0.0h 0.0m 0s 663ms
2023-11-13 18:56:05,514 - yq - INFO - Pricing the product on 2023-08-11 00:00:00
2023-11-13 18:56:05,514 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:05,518 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:05,702 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-11-13 18:56:05,702 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230811.csv
2023-11-13 18:56:05,702 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2849b0950>, Timestamp('2023-08-11 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:05,703 - yq - INFO - The log returns list for all assets is: [Date
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
                ...   
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
                ...   
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:05,703 - yq - INFO - rho_S1S2 is 0.4372111961971176

2023-11-13 18:56:05,703 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4372112]
 [0.4372112 1.       ]]

2023-11-13 18:56:05,703 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49088796 0.4372112  0.        ]
 [0.49088796 1.         0.         0.        ]
 [0.4372112  0.         1.         0.49218012]
 [0.         0.         0.49218012 1.        ]]

2023-11-13 18:56:05,704 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49088796  0.87122271  0.          0.        ]
 [ 0.4372112  -0.24634541  0.86496261  0.        ]
 [ 0.          0.          0.56901896  0.8223244 ]]

2023-11-13 18:56:05,704 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2849b0950>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:05,704 - yq - INFO - The adjusted S_0 is [494.9 262.8]
2023-11-13 18:56:05,722 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:05,723 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  509.119551  262.198616
1  516.908845  271.421178
2  520.054770  279.065288
3  518.459448  279.852029
4  505.725665  279.253585
2023-11-13 18:56:05,802 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  509.119551  262.198616
2023-08-15  516.908845  271.421178
2023-08-16  520.054770  279.065288
2023-08-17  518.459448  279.852029
2023-08-18  505.725665  279.253585
2023-11-13 18:56:05,816 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
...             ...      ...
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8

[63 rows x 2 columns]
2023-11-13 18:56:05,818 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-11  494.900000  262.800000
2023-08-14  509.119551  262.198616
2023-08-15  516.908845  271.421178
2023-08-16  520.054770  279.065288
2023-08-17  518.459448  279.852029
...                ...         ...
2024-07-24  560.913533  267.594543
2024-07-25  563.796052  267.618445
2024-07-26  573.054723  273.344085
2024-07-29  573.626150  274.134717
2024-07-30  581.564328  274.258394

[243 rows x 2 columns]
2023-11-13 18:56:05,916 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:05,916 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849b0950>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  509.119551  262.198616
2023-08-15  516.908845  271.421178
2023-08-16  520.054770  279.065288
2023-08-17  518.459448  279.852029
2023-08-18  505.725665  279.253585
...                ...         ...
2024-07-24  560.913533  267.594543
2024-07-25  563.796052  267.618445
2024-07-26  573.054723  273.344085
2024-07-29  573.626150  274.134717
2024-07-30  581.564328  274.258394

[242 rows x 2 columns], sim=0): 0.0h 0.0m 0s 112ms
2023-11-13 18:56:05,916 - yq - INFO - The adjusted S_0 is [494.9 262.8]
2023-11-13 18:56:05,936 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:05,937 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  485.074634  254.094123
1  483.953855  263.033556
2  480.794570  269.016310
3  487.791401  264.382856
4  499.055271  276.371243
2023-11-13 18:56:06,021 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  485.074634  254.094123
2023-08-15  483.953855  263.033556
2023-08-16  480.794570  269.016310
2023-08-17  487.791401  264.382856
2023-08-18  499.055271  276.371243
2023-11-13 18:56:06,038 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
...             ...      ...
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8

[63 rows x 2 columns]
2023-11-13 18:56:06,040 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-11  494.900000  262.800000
2023-08-14  485.074634  254.094123
2023-08-15  483.953855  263.033556
2023-08-16  480.794570  269.016310
2023-08-17  487.791401  264.382856
...                ...         ...
2024-07-24  439.999711  327.082789
2024-07-25  439.067495  329.985306
2024-07-26  440.046557  329.541953
2024-07-29  437.207061  326.844147
2024-07-30  437.288404  326.696078

[243 rows x 2 columns]
2023-11-13 18:56:06,139 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:06,139 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849b0950>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  485.074634  254.094123
2023-08-15  483.953855  263.033556
2023-08-16  480.794570  269.016310
2023-08-17  487.791401  264.382856
2023-08-18  499.055271  276.371243
...                ...         ...
2024-07-24  439.999711  327.082789
2024-07-25  439.067495  329.985306
2024-07-26  440.046557  329.541953
2024-07-29  437.207061  326.844147
2024-07-30  437.288404  326.696078

[242 rows x 2 columns], sim=1): 0.0h 0.0m 0s 115ms
2023-11-13 18:56:06,139 - yq - INFO - The adjusted S_0 is [494.9 262.8]
2023-11-13 18:56:06,159 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:06,160 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  508.316599  264.331340
1  507.535445  266.034564
2  507.161513  262.227521
3  527.593802  274.059446
4  524.942665  273.556082
2023-11-13 18:56:06,244 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  508.316599  264.331340
2023-08-15  507.535445  266.034564
2023-08-16  507.161513  262.227521
2023-08-17  527.593802  274.059446
2023-08-18  524.942665  273.556082
2023-11-13 18:56:06,257 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
...             ...      ...
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8

[63 rows x 2 columns]
2023-11-13 18:56:06,260 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-11  494.900000  262.800000
2023-08-14  508.316599  264.331340
2023-08-15  507.535445  266.034564
2023-08-16  507.161513  262.227521
2023-08-17  527.593802  274.059446
...                ...         ...
2024-07-24  433.399051  232.846427
2024-07-25  432.947081  230.478118
2024-07-26  432.379694  227.455123
2024-07-29  427.831182  225.711746
2024-07-30  431.922140  225.785913

[243 rows x 2 columns]
2023-11-13 18:56:06,359 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:06,359 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849b0950>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  508.316599  264.331340
2023-08-15  507.535445  266.034564
2023-08-16  507.161513  262.227521
2023-08-17  527.593802  274.059446
2023-08-18  524.942665  273.556082
...                ...         ...
2024-07-24  433.399051  232.846427
2024-07-25  432.947081  230.478118
2024-07-26  432.379694  227.455123
2024-07-29  427.831182  225.711746
2024-07-30  431.922140  225.785913

[242 rows x 2 columns], sim=2): 0.0h 0.0m 0s 113ms
2023-11-13 18:56:06,359 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2849b0950>, n_sim=3): 0.0h 0.0m 0s 659ms
2023-11-13 18:56:06,359 - yq - INFO - Pricing the product on 2023-08-14 00:00:00
2023-11-13 18:56:06,359 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:06,364 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:06,621 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-11-13 18:56:06,622 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230814.csv
2023-11-13 18:56:06,622 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e45da90>, Timestamp('2023-08-14 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:06,623 - yq - INFO - The log returns list for all assets is: [Date
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
                ...   
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
                ...   
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:06,623 - yq - INFO - rho_S1S2 is 0.4415351262144186

2023-11-13 18:56:06,623 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44153513]
 [0.44153513 1.        ]]

2023-11-13 18:56:06,623 - yq - INFO - Simplified correlation matrix is:
[[1.         0.5        0.44153513 0.        ]
 [0.5        1.         0.         0.        ]
 [0.44153513 0.         1.         0.35132408]
 [0.         0.         0.35132408 1.        ]]

2023-11-13 18:56:06,623 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.5         0.8660254   0.          0.        ]
 [ 0.44153513 -0.25492042  0.86026874  0.        ]
 [ 0.          0.          0.40838875  0.9128081 ]]

2023-11-13 18:56:06,623 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e45da90>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:06,623 - yq - INFO - The adjusted S_0 is [494.2 262.5]
2023-11-13 18:56:06,642 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:06,643 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  432.478948  262.621007
1  436.662374  275.935275
2  422.355467  257.876024
3  444.075568  260.770887
4  424.734788  261.200119
2023-11-13 18:56:06,722 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  432.478948  262.621007
2023-08-16  436.662374  275.935275
2023-08-17  422.355467  257.876024
2023-08-18  444.075568  260.770887
2023-08-21  424.734788  261.200119
2023-11-13 18:56:06,742 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
...             ...      ...
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5

[63 rows x 2 columns]
2023-11-13 18:56:06,744 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-14  494.200000  262.500000
2023-08-15  432.478948  262.621007
2023-08-16  436.662374  275.935275
2023-08-17  422.355467  257.876024
2023-08-18  444.075568  260.770887
...                ...         ...
2024-07-24  364.297841  156.245591
2024-07-25  374.844126  161.224847
2024-07-26  371.432138  162.529371
2024-07-29  377.663775  164.136531
2024-07-30  384.353440  167.641833

[242 rows x 2 columns]
2023-11-13 18:56:06,839 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:06,839 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e45da90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  432.478948  262.621007
2023-08-16  436.662374  275.935275
2023-08-17  422.355467  257.876024
2023-08-18  444.075568  260.770887
2023-08-21  424.734788  261.200119
...                ...         ...
2024-07-24  364.297841  156.245591
2024-07-25  374.844126  161.224847
2024-07-26  371.432138  162.529371
2024-07-29  377.663775  164.136531
2024-07-30  384.353440  167.641833

[241 rows x 2 columns], sim=0): 0.0h 0.0m 0s 115ms
2023-11-13 18:56:06,840 - yq - INFO - The adjusted S_0 is [494.2 262.5]
2023-11-13 18:56:06,860 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:06,861 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  520.296709  259.144118
1  522.350365  281.097460
2  487.473198  288.310024
3  511.243577  306.892040
4  464.035967  278.769827
2023-11-13 18:56:06,946 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  520.296709  259.144118
2023-08-16  522.350365  281.097460
2023-08-17  487.473198  288.310024
2023-08-18  511.243577  306.892040
2023-08-21  464.035967  278.769827
2023-11-13 18:56:06,960 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
...             ...      ...
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5

[63 rows x 2 columns]
2023-11-13 18:56:06,962 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-14  494.200000  262.500000
2023-08-15  520.296709  259.144118
2023-08-16  522.350365  281.097460
2023-08-17  487.473198  288.310024
2023-08-18  511.243577  306.892040
...                ...         ...
2024-07-24  485.668399  217.917279
2024-07-25  491.496702  220.168020
2024-07-26  494.938970  219.850521
2024-07-29  502.742115  220.418219
2024-07-30  496.471504  219.265557

[242 rows x 2 columns]
2023-11-13 18:56:07,062 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:07,062 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e45da90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  520.296709  259.144118
2023-08-16  522.350365  281.097460
2023-08-17  487.473198  288.310024
2023-08-18  511.243577  306.892040
2023-08-21  464.035967  278.769827
...                ...         ...
2024-07-24  485.668399  217.917279
2024-07-25  491.496702  220.168020
2024-07-26  494.938970  219.850521
2024-07-29  502.742115  220.418219
2024-07-30  496.471504  219.265557

[241 rows x 2 columns], sim=1): 0.0h 0.0m 0s 114ms
2023-11-13 18:56:07,063 - yq - INFO - The adjusted S_0 is [494.2 262.5]
2023-11-13 18:56:07,083 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:07,085 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  508.892837  256.943055
1  484.311805  243.741139
2  515.056372  247.019192
3  498.807066  263.781088
4  493.895390  235.034440
2023-11-13 18:56:07,173 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  508.892837  256.943055
2023-08-16  484.311805  243.741139
2023-08-17  515.056372  247.019192
2023-08-18  498.807066  263.781088
2023-08-21  493.895390  235.034440
2023-11-13 18:56:07,188 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
...             ...      ...
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5

[63 rows x 2 columns]
2023-11-13 18:56:07,190 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-14  494.200000  262.500000
2023-08-15  508.892837  256.943055
2023-08-16  484.311805  243.741139
2023-08-17  515.056372  247.019192
2023-08-18  498.807066  263.781088
...                ...         ...
2024-07-24  535.789521  245.815169
2024-07-25  530.889528  241.303685
2024-07-26  535.787178  250.919030
2024-07-29  540.226121  256.353693
2024-07-30  540.852205  255.024332

[242 rows x 2 columns]
2023-11-13 18:56:07,299 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:07,300 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e45da90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  508.892837  256.943055
2023-08-16  484.311805  243.741139
2023-08-17  515.056372  247.019192
2023-08-18  498.807066  263.781088
2023-08-21  493.895390  235.034440
...                ...         ...
2024-07-24  535.789521  245.815169
2024-07-25  530.889528  241.303685
2024-07-26  535.787178  250.919030
2024-07-29  540.226121  256.353693
2024-07-30  540.852205  255.024332

[241 rows x 2 columns], sim=2): 0.0h 0.0m 0s 124ms
2023-11-13 18:56:07,300 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e45da90>, n_sim=3): 0.0h 0.0m 0s 680ms
2023-11-13 18:56:07,300 - yq - INFO - Pricing the product on 2023-08-15 00:00:00
2023-11-13 18:56:07,300 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:07,305 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:07,490 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-11-13 18:56:07,491 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230815.csv
2023-11-13 18:56:07,491 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c754450>, Timestamp('2023-08-15 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:07,491 - yq - INFO - The log returns list for all assets is: [Date
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
                ...   
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
                ...   
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:07,492 - yq - INFO - rho_S1S2 is 0.4452426918206425

2023-11-13 18:56:07,492 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44524269]
 [0.44524269 1.        ]]

2023-11-13 18:56:07,492 - yq - INFO - Simplified correlation matrix is:
[[1.         0.01000001 0.44524269 0.        ]
 [0.01000001 1.         0.         0.        ]
 [0.44524269 0.         1.         0.49999999]
 [0.         0.         0.49999999 1.        ]]

2023-11-13 18:56:07,492 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.01000001  0.99995     0.          0.        ]
 [ 0.44524269 -0.00445265  0.89539886  0.        ]
 [ 0.          0.          0.55841035  0.82956488]]

2023-11-13 18:56:07,492 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c754450>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:07,492 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 18:56:07,511 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:07,512 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  505.823784  259.143714
1  518.164490  264.155019
2  493.760027  251.285116
3  493.465574  250.136389
4  473.826786  245.468992
2023-11-13 18:56:07,592 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  505.823784  259.143714
2023-08-17  518.164490  264.155019
2023-08-18  493.760027  251.285116
2023-08-21  493.465574  250.136389
2023-08-22  473.826786  245.468992
2023-11-13 18:56:07,606 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
...             ...      ...
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1

[63 rows x 2 columns]
2023-11-13 18:56:07,608 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-15  487.900000  258.100000
2023-08-16  505.823784  259.143714
2023-08-17  518.164490  264.155019
2023-08-18  493.760027  251.285116
2023-08-21  493.465574  250.136389
...                ...         ...
2024-07-24  601.531999  356.749104
2024-07-25  605.101152  355.049537
2024-07-26  619.218239  352.880812
2024-07-29  604.647888  352.327658
2024-07-30  606.318992  351.461681

[241 rows x 2 columns]
2023-11-13 18:56:07,704 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:07,704 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  505.823784  259.143714
2023-08-17  518.164490  264.155019
2023-08-18  493.760027  251.285116
2023-08-21  493.465574  250.136389
2023-08-22  473.826786  245.468992
...                ...         ...
2024-07-24  601.531999  356.749104
2024-07-25  605.101152  355.049537
2024-07-26  619.218239  352.880812
2024-07-29  604.647888  352.327658
2024-07-30  606.318992  351.461681

[240 rows x 2 columns], sim=0): 0.0h 0.0m 0s 110ms
2023-11-13 18:56:07,705 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 18:56:07,724 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:07,725 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  473.332771  260.447565
1  433.691388  260.076356
2  461.654422  270.984995
3  447.295221  268.377639
4  448.524566  259.321697
2023-11-13 18:56:07,810 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  473.332771  260.447565
2023-08-17  433.691388  260.076356
2023-08-18  461.654422  270.984995
2023-08-21  447.295221  268.377639
2023-08-22  448.524566  259.321697
2023-11-13 18:56:07,824 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
...             ...      ...
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1

[63 rows x 2 columns]
2023-11-13 18:56:07,826 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-15  487.900000  258.100000
2023-08-16  473.332771  260.447565
2023-08-17  433.691388  260.076356
2023-08-18  461.654422  270.984995
2023-08-21  447.295221  268.377639
...                ...         ...
2024-07-24  552.867318  239.012272
2024-07-25  550.297368  236.490591
2024-07-26  544.498469  235.221702
2024-07-29  545.301769  233.058023
2024-07-30  538.810858  234.302767

[241 rows x 2 columns]
2023-11-13 18:56:07,925 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:07,925 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  473.332771  260.447565
2023-08-17  433.691388  260.076356
2023-08-18  461.654422  270.984995
2023-08-21  447.295221  268.377639
2023-08-22  448.524566  259.321697
...                ...         ...
2024-07-24  552.867318  239.012272
2024-07-25  550.297368  236.490591
2024-07-26  544.498469  235.221702
2024-07-29  545.301769  233.058023
2024-07-30  538.810858  234.302767

[240 rows x 2 columns], sim=1): 0.0h 0.0m 0s 112ms
2023-11-13 18:56:07,925 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 18:56:07,945 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:07,946 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  496.231546  256.674871
1  509.621236  246.019869
2  536.652438  246.862899
3  510.109993  241.341492
4  535.181417  247.224378
2023-11-13 18:56:08,031 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  496.231546  256.674871
2023-08-17  509.621236  246.019869
2023-08-18  536.652438  246.862899
2023-08-21  510.109993  241.341492
2023-08-22  535.181417  247.224378
2023-11-13 18:56:08,045 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
...             ...      ...
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1

[63 rows x 2 columns]
2023-11-13 18:56:08,047 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-15  487.900000  258.100000
2023-08-16  496.231546  256.674871
2023-08-17  509.621236  246.019869
2023-08-18  536.652438  246.862899
2023-08-21  510.109993  241.341492
...                ...         ...
2024-07-24  503.065244  290.194110
2024-07-25  510.176492  291.561176
2024-07-26  509.563862  292.599172
2024-07-29  518.925492  293.302819
2024-07-30  515.406818  288.975682

[241 rows x 2 columns]
2023-11-13 18:56:08,146 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:08,147 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  496.231546  256.674871
2023-08-17  509.621236  246.019869
2023-08-18  536.652438  246.862899
2023-08-21  510.109993  241.341492
2023-08-22  535.181417  247.224378
...                ...         ...
2024-07-24  503.065244  290.194110
2024-07-25  510.176492  291.561176
2024-07-26  509.563862  292.599172
2024-07-29  518.925492  293.302819
2024-07-30  515.406818  288.975682

[240 rows x 2 columns], sim=2): 0.0h 0.0m 0s 113ms
2023-11-13 18:56:08,147 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, n_sim=3): 0.0h 0.0m 0s 658ms
2023-11-13 18:56:08,147 - yq - INFO - Pricing the product on 2023-08-16 00:00:00
2023-11-13 18:56:08,147 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:08,151 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:08,339 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-11-13 18:56:08,340 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230816.csv
2023-11-13 18:56:08,340 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c754450>, Timestamp('2023-08-16 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:08,341 - yq - INFO - The log returns list for all assets is: [Date
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
                ...   
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
                ...   
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:08,341 - yq - INFO - rho_S1S2 is 0.44125457706800547

2023-11-13 18:56:08,341 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44125458]
 [0.44125458 1.        ]]

2023-11-13 18:56:08,341 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49754798 0.44125458 0.        ]
 [0.49754798 1.         0.         0.        ]
 [0.44125458 0.         1.         0.5       ]
 [0.         0.         0.5        1.        ]]

2023-11-13 18:56:08,341 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49754798  0.86743646  0.          0.        ]
 [ 0.44125458 -0.25309672  0.8609509   0.        ]
 [ 0.          0.          0.58075321  0.81407967]]

2023-11-13 18:56:08,341 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c754450>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:08,342 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 18:56:08,361 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:08,362 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.029242  256.054991
1  485.440638  271.949250
2  499.417835  285.171218
3  500.216724  276.609328
4  500.027401  295.825836
2023-11-13 18:56:08,440 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  479.029242  256.054991
2023-08-18  485.440638  271.949250
2023-08-21  499.417835  285.171218
2023-08-22  500.216724  276.609328
2023-08-23  500.027401  295.825836
2023-11-13 18:56:08,455 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
...             ...      ...
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4

[63 rows x 2 columns]
2023-11-13 18:56:08,457 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-16  479.800000  257.400000
2023-08-17  479.029242  256.054991
2023-08-18  485.440638  271.949250
2023-08-21  499.417835  285.171218
2023-08-22  500.216724  276.609328
...                ...         ...
2024-07-24  580.914365  285.536407
2024-07-25  584.385157  292.072387
2024-07-26  583.288679  290.139068
2024-07-29  581.872007  297.928950
2024-07-30  582.108375  305.061498

[240 rows x 2 columns]
2023-11-13 18:56:08,549 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:08,550 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  479.029242  256.054991
2023-08-18  485.440638  271.949250
2023-08-21  499.417835  285.171218
2023-08-22  500.216724  276.609328
2023-08-23  500.027401  295.825836
...                ...         ...
2024-07-24  580.914365  285.536407
2024-07-25  584.385157  292.072387
2024-07-26  583.288679  290.139068
2024-07-29  581.872007  297.928950
2024-07-30  582.108375  305.061498

[239 rows x 2 columns], sim=0): 0.0h 0.0m 0s 107ms
2023-11-13 18:56:08,550 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 18:56:08,569 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:08,571 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  473.339101  263.142732
1  476.978222  249.930011
2  483.755747  260.062433
3  485.689006  262.902539
4  495.083824  255.839300
2023-11-13 18:56:08,656 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  473.339101  263.142732
2023-08-18  476.978222  249.930011
2023-08-21  483.755747  260.062433
2023-08-22  485.689006  262.902539
2023-08-23  495.083824  255.839300
2023-11-13 18:56:08,670 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
...             ...      ...
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4

[63 rows x 2 columns]
2023-11-13 18:56:08,672 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-16  479.800000  257.400000
2023-08-17  473.339101  263.142732
2023-08-18  476.978222  249.930011
2023-08-21  483.755747  260.062433
2023-08-22  485.689006  262.902539
...                ...         ...
2024-07-24  435.437418  272.526382
2024-07-25  434.101017  270.151325
2024-07-26  429.196172  274.907851
2024-07-29  428.751817  267.823845
2024-07-30  432.031534  269.321609

[240 rows x 2 columns]
2023-11-13 18:56:08,773 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:08,773 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  473.339101  263.142732
2023-08-18  476.978222  249.930011
2023-08-21  483.755747  260.062433
2023-08-22  485.689006  262.902539
2023-08-23  495.083824  255.839300
...                ...         ...
2024-07-24  435.437418  272.526382
2024-07-25  434.101017  270.151325
2024-07-26  429.196172  274.907851
2024-07-29  428.751817  267.823845
2024-07-30  432.031534  269.321609

[239 rows x 2 columns], sim=1): 0.0h 0.0m 0s 115ms
2023-11-13 18:56:08,774 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 18:56:08,793 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:08,794 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.809669  242.153532
1  495.989105  231.229873
2  491.939865  230.834347
3  520.893466  235.973598
4  531.468024  231.651647
2023-11-13 18:56:08,882 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  483.809669  242.153532
2023-08-18  495.989105  231.229873
2023-08-21  491.939865  230.834347
2023-08-22  520.893466  235.973598
2023-08-23  531.468024  231.651647
2023-11-13 18:56:08,896 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
...             ...      ...
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4

[63 rows x 2 columns]
2023-11-13 18:56:08,898 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-16  479.800000  257.400000
2023-08-17  483.809669  242.153532
2023-08-18  495.989105  231.229873
2023-08-21  491.939865  230.834347
2023-08-22  520.893466  235.973598
...                ...         ...
2024-07-24  614.442515  336.820783
2024-07-25  612.383790  341.750325
2024-07-26  618.141838  344.627253
2024-07-29  620.650192  343.059822
2024-07-30  619.748562  345.973134

[240 rows x 2 columns]
2023-11-13 18:56:08,993 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:08,993 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  483.809669  242.153532
2023-08-18  495.989105  231.229873
2023-08-21  491.939865  230.834347
2023-08-22  520.893466  235.973598
2023-08-23  531.468024  231.651647
...                ...         ...
2024-07-24  614.442515  336.820783
2024-07-25  612.383790  341.750325
2024-07-26  618.141838  344.627253
2024-07-29  620.650192  343.059822
2024-07-30  619.748562  345.973134

[239 rows x 2 columns], sim=2): 0.0h 0.0m 0s 108ms
2023-11-13 18:56:08,993 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, n_sim=3): 0.0h 0.0m 0s 656ms
2023-11-13 18:56:08,993 - yq - INFO - Pricing the product on 2023-08-17 00:00:00
2023-11-13 18:56:08,993 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:08,998 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:09,186 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-11-13 18:56:09,189 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230817.csv
2023-11-13 18:56:09,189 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c754450>, Timestamp('2023-08-17 00:00:00')): 0.0h 0.0m 0s 3ms
2023-11-13 18:56:09,190 - yq - INFO - The log returns list for all assets is: [Date
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
                ...   
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
                ...   
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:09,190 - yq - INFO - rho_S1S2 is 0.42663716309083205

2023-11-13 18:56:09,190 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42663716]
 [0.42663716 1.        ]]

2023-11-13 18:56:09,190 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49489507 0.42663716 0.        ]
 [0.49489507 1.         0.         0.        ]
 [0.42663716 0.         1.         0.46898583]
 [0.         0.         0.46898583 1.        ]]

2023-11-13 18:56:09,191 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49489507  0.86895274  0.          0.        ]
 [ 0.42663716 -0.24298287  0.87117166  0.        ]
 [ 0.          0.          0.53833918  0.84272827]]

2023-11-13 18:56:09,191 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c754450>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:09,191 - yq - INFO - The adjusted S_0 is [473.2 250.6]
2023-11-13 18:56:09,209 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:09,210 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  475.546292  252.764351
1  479.169300  255.065363
2  483.991540  255.970722
3  473.276777  253.047985
4  465.765406  251.023153
2023-11-13 18:56:09,298 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  475.546292  252.764351
2023-08-21  479.169300  255.065363
2023-08-22  483.991540  255.970722
2023-08-23  473.276777  253.047985
2023-08-24  465.765406  251.023153
2023-11-13 18:56:09,312 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
...             ...      ...
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6

[63 rows x 2 columns]
2023-11-13 18:56:09,314 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-17  473.200000  250.600000
2023-08-18  475.546292  252.764351
2023-08-21  479.169300  255.065363
2023-08-22  483.991540  255.970722
2023-08-23  473.276777  253.047985
...                ...         ...
2024-07-24  488.813830  322.002752
2024-07-25  484.855835  319.069651
2024-07-26  479.764614  322.866962
2024-07-29  485.673731  328.054479
2024-07-30  482.431621  324.775637

[239 rows x 2 columns]
2023-11-13 18:56:09,422 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:09,422 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  475.546292  252.764351
2023-08-21  479.169300  255.065363
2023-08-22  483.991540  255.970722
2023-08-23  473.276777  253.047985
2023-08-24  465.765406  251.023153
...                ...         ...
2024-07-24  488.813830  322.002752
2024-07-25  484.855835  319.069651
2024-07-26  479.764614  322.866962
2024-07-29  485.673731  328.054479
2024-07-30  482.431621  324.775637

[238 rows x 2 columns], sim=0): 0.0h 0.0m 0s 122ms
2023-11-13 18:56:09,422 - yq - INFO - The adjusted S_0 is [473.2 250.6]
2023-11-13 18:56:09,442 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:09,443 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.615780  251.197154
1  488.103049  258.496315
2  493.557566  258.634463
3  494.995506  256.154838
4  495.382893  253.373706
2023-11-13 18:56:09,528 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  472.615780  251.197154
2023-08-21  488.103049  258.496315
2023-08-22  493.557566  258.634463
2023-08-23  494.995506  256.154838
2023-08-24  495.382893  253.373706
2023-11-13 18:56:09,545 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
...             ...      ...
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6

[63 rows x 2 columns]
2023-11-13 18:56:09,547 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-17  473.200000  250.600000
2023-08-18  472.615780  251.197154
2023-08-21  488.103049  258.496315
2023-08-22  493.557566  258.634463
2023-08-23  494.995506  256.154838
...                ...         ...
2024-07-24  480.863287  288.956039
2024-07-25  484.440493  290.949681
2024-07-26  483.908882  290.894536
2024-07-29  478.001280  288.429352
2024-07-30  479.861950  289.188342

[239 rows x 2 columns]
2023-11-13 18:56:09,649 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:09,649 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  472.615780  251.197154
2023-08-21  488.103049  258.496315
2023-08-22  493.557566  258.634463
2023-08-23  494.995506  256.154838
2023-08-24  495.382893  253.373706
...                ...         ...
2024-07-24  480.863287  288.956039
2024-07-25  484.440493  290.949681
2024-07-26  483.908882  290.894536
2024-07-29  478.001280  288.429352
2024-07-30  479.861950  289.188342

[238 rows x 2 columns], sim=1): 0.0h 0.0m 0s 119ms
2023-11-13 18:56:09,649 - yq - INFO - The adjusted S_0 is [473.2 250.6]
2023-11-13 18:56:09,669 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:09,670 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  495.417496  253.853209
1  495.389114  250.055203
2  490.748064  252.630829
3  495.409307  252.119170
4  488.715654  253.237034
2023-11-13 18:56:09,755 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  495.417496  253.853209
2023-08-21  495.389114  250.055203
2023-08-22  490.748064  252.630829
2023-08-23  495.409307  252.119170
2023-08-24  488.715654  253.237034
2023-11-13 18:56:09,769 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
...             ...      ...
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6

[63 rows x 2 columns]
2023-11-13 18:56:09,771 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-17  473.200000  250.600000
2023-08-18  495.417496  253.853209
2023-08-21  495.389114  250.055203
2023-08-22  490.748064  252.630829
2023-08-23  495.409307  252.119170
...                ...         ...
2024-07-24  569.015718  276.661261
2024-07-25  574.574393  282.206761
2024-07-26  576.719128  277.466547
2024-07-29  578.142709  275.756785
2024-07-30  576.910943  276.277444

[239 rows x 2 columns]
2023-11-13 18:56:09,869 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:09,869 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  495.417496  253.853209
2023-08-21  495.389114  250.055203
2023-08-22  490.748064  252.630829
2023-08-23  495.409307  252.119170
2023-08-24  488.715654  253.237034
...                ...         ...
2024-07-24  569.015718  276.661261
2024-07-25  574.574393  282.206761
2024-07-26  576.719128  277.466547
2024-07-29  578.142709  275.756785
2024-07-30  576.910943  276.277444

[238 rows x 2 columns], sim=2): 0.0h 0.0m 0s 112ms
2023-11-13 18:56:09,869 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, n_sim=3): 0.0h 0.0m 0s 685ms
2023-11-13 18:56:09,869 - yq - INFO - Pricing the product on 2023-08-18 00:00:00
2023-11-13 18:56:09,869 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:09,874 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:10,057 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-11-13 18:56:10,058 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230818.csv
2023-11-13 18:56:10,058 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284fc3910>, Timestamp('2023-08-18 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:10,058 - yq - INFO - The log returns list for all assets is: [Date
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
                ...   
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
                ...   
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:10,058 - yq - INFO - rho_S1S2 is 0.4247711739692134

2023-11-13 18:56:10,059 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42477117]
 [0.42477117 1.        ]]

2023-11-13 18:56:10,059 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47611273 0.42477117 0.        ]
 [0.47611273 1.         0.         0.        ]
 [0.42477117 0.         1.         0.49999613]
 [0.         0.         0.49999613 1.        ]]

2023-11-13 18:56:10,059 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47611273  0.87938426  0.          0.        ]
 [ 0.42477117 -0.22997792  0.87560242  0.        ]
 [ 0.          0.          0.57103101  0.82092849]]

2023-11-13 18:56:10,059 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284fc3910>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:10,059 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 18:56:10,078 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:10,079 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  482.954005  248.019981
1  480.168385  242.655072
2  484.167825  244.364313
3  491.617579  251.057712
4  491.257442  259.604357
2023-11-13 18:56:10,165 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  482.954005  248.019981
2023-08-22  480.168385  242.655072
2023-08-23  484.167825  244.364313
2023-08-24  491.617579  251.057712
2023-08-25  491.257442  259.604357
2023-11-13 18:56:10,179 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
...             ...      ...
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5

[63 rows x 2 columns]
2023-11-13 18:56:10,256 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-18  471.900000  247.500000
2023-08-21  482.954005  248.019981
2023-08-22  480.168385  242.655072
2023-08-23  484.167825  244.364313
2023-08-24  491.617579  251.057712
...                ...         ...
2024-07-24  477.810333  279.504029
2024-07-25  482.328692  282.798193
2024-07-26  484.689011  283.761936
2024-07-29  484.312435  294.676872
2024-07-30  482.872399  289.932223

[238 rows x 2 columns]
2023-11-13 18:56:10,356 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:10,356 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fc3910>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  482.954005  248.019981
2023-08-22  480.168385  242.655072
2023-08-23  484.167825  244.364313
2023-08-24  491.617579  251.057712
2023-08-25  491.257442  259.604357
...                ...         ...
2024-07-24  477.810333  279.504029
2024-07-25  482.328692  282.798193
2024-07-26  484.689011  283.761936
2024-07-29  484.312435  294.676872
2024-07-30  482.872399  289.932223

[237 rows x 2 columns], sim=0): 0.0h 0.0m 0s 189ms
2023-11-13 18:56:10,357 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 18:56:10,376 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:10,377 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  457.505823  244.930014
1  426.031866  239.744846
2  430.264773  235.950894
3  424.235982  234.063087
4  426.255350  233.786282
2023-11-13 18:56:10,461 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  457.505823  244.930014
2023-08-22  426.031866  239.744846
2023-08-23  430.264773  235.950894
2023-08-24  424.235982  234.063087
2023-08-25  426.255350  233.786282
2023-11-13 18:56:10,475 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
...             ...      ...
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5

[63 rows x 2 columns]
2023-11-13 18:56:10,477 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-18  471.900000  247.500000
2023-08-21  457.505823  244.930014
2023-08-22  426.031866  239.744846
2023-08-23  430.264773  235.950894
2023-08-24  424.235982  234.063087
...                ...         ...
2024-07-24  397.018499  264.347100
2024-07-25  398.419839  266.499907
2024-07-26  404.311177  270.374792
2024-07-29  404.429189  265.338494
2024-07-30  406.247975  273.133714

[238 rows x 2 columns]
2023-11-13 18:56:10,580 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:10,580 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fc3910>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  457.505823  244.930014
2023-08-22  426.031866  239.744846
2023-08-23  430.264773  235.950894
2023-08-24  424.235982  234.063087
2023-08-25  426.255350  233.786282
...                ...         ...
2024-07-24  397.018499  264.347100
2024-07-25  398.419839  266.499907
2024-07-26  404.311177  270.374792
2024-07-29  404.429189  265.338494
2024-07-30  406.247975  273.133714

[237 rows x 2 columns], sim=1): 0.0h 0.0m 0s 117ms
2023-11-13 18:56:10,580 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 18:56:10,600 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:10,601 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  444.916192  249.758740
1  446.271490  248.509957
2  456.488081  244.136949
3  449.425685  242.149479
4  451.310931  247.280228
2023-11-13 18:56:10,685 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  444.916192  249.758740
2023-08-22  446.271490  248.509957
2023-08-23  456.488081  244.136949
2023-08-24  449.425685  242.149479
2023-08-25  451.310931  247.280228
2023-11-13 18:56:10,699 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
...             ...      ...
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5

[63 rows x 2 columns]
2023-11-13 18:56:10,701 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-18  471.900000  247.500000
2023-08-21  444.916192  249.758740
2023-08-22  446.271490  248.509957
2023-08-23  456.488081  244.136949
2023-08-24  449.425685  242.149479
...                ...         ...
2024-07-24  437.499211  186.941526
2024-07-25  437.144341  187.274030
2024-07-26  436.442411  190.202897
2024-07-29  433.385554  184.188203
2024-07-30  434.061719  182.137684

[238 rows x 2 columns]
2023-11-13 18:56:10,795 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:10,795 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fc3910>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  444.916192  249.758740
2023-08-22  446.271490  248.509957
2023-08-23  456.488081  244.136949
2023-08-24  449.425685  242.149479
2023-08-25  451.310931  247.280228
...                ...         ...
2024-07-24  437.499211  186.941526
2024-07-25  437.144341  187.274030
2024-07-26  436.442411  190.202897
2024-07-29  433.385554  184.188203
2024-07-30  434.061719  182.137684

[237 rows x 2 columns], sim=2): 0.0h 0.0m 0s 108ms
2023-11-13 18:56:10,795 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284fc3910>, n_sim=3): 0.0h 0.0m 0s 740ms
2023-11-13 18:56:10,795 - yq - INFO - Pricing the product on 2023-08-21 00:00:00
2023-11-13 18:56:10,795 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:10,800 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:10,984 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-11-13 18:56:10,985 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230821.csv
2023-11-13 18:56:10,985 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c754450>, Timestamp('2023-08-21 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:10,986 - yq - INFO - The log returns list for all assets is: [Date
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
                ...   
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
                ...   
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:10,986 - yq - INFO - rho_S1S2 is 0.4435422786799675

2023-11-13 18:56:10,986 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44354228]
 [0.44354228 1.        ]]

2023-11-13 18:56:10,986 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45213377 0.44354228 0.        ]
 [0.45213377 1.         0.         0.        ]
 [0.44354228 0.         1.         0.43768538]
 [0.         0.         0.43768538 1.        ]]

2023-11-13 18:56:10,986 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.45213377  0.89195014  0.          0.        ]
 [ 0.44354228 -0.22483369  0.86759441  0.        ]
 [ 0.          0.          0.50448156  0.86342246]]

2023-11-13 18:56:10,986 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c754450>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:10,987 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 18:56:11,005 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:11,006 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  461.997882  245.389083
1  447.518388  235.256604
2  437.425687  237.281797
3  439.509053  233.759971
4  454.683112  232.490403
2023-11-13 18:56:11,085 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  461.997882  245.389083
2023-08-23  447.518388  235.256604
2023-08-24  437.425687  237.281797
2023-08-25  439.509053  233.759971
2023-08-28  454.683112  232.490403
2023-11-13 18:56:11,099 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
...             ...      ...
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9

[63 rows x 2 columns]
2023-11-13 18:56:11,101 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-21  469.900000  244.900000
2023-08-22  461.997882  245.389083
2023-08-23  447.518388  235.256604
2023-08-24  437.425687  237.281797
2023-08-25  439.509053  233.759971
...                ...         ...
2024-07-24  295.914508  153.476070
2024-07-25  296.565006  153.610698
2024-07-26  296.722459  152.755363
2024-07-29  301.674157  155.087358
2024-07-30  297.703049  154.416423

[237 rows x 2 columns]
2023-11-13 18:56:11,194 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:11,194 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  461.997882  245.389083
2023-08-23  447.518388  235.256604
2023-08-24  437.425687  237.281797
2023-08-25  439.509053  233.759971
2023-08-28  454.683112  232.490403
...                ...         ...
2024-07-24  295.914508  153.476070
2024-07-25  296.565006  153.610698
2024-07-26  296.722459  152.755363
2024-07-29  301.674157  155.087358
2024-07-30  297.703049  154.416423

[236 rows x 2 columns], sim=0): 0.0h 0.0m 0s 107ms
2023-11-13 18:56:11,194 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 18:56:11,213 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:11,214 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  460.904910  239.173757
1  483.035725  246.314098
2  481.649113  242.662910
3  448.570142  240.775778
4  437.104550  240.425573
2023-11-13 18:56:11,298 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  460.904910  239.173757
2023-08-23  483.035725  246.314098
2023-08-24  481.649113  242.662910
2023-08-25  448.570142  240.775778
2023-08-28  437.104550  240.425573
2023-11-13 18:56:11,312 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
...             ...      ...
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9

[63 rows x 2 columns]
2023-11-13 18:56:11,314 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-21  469.900000  244.900000
2023-08-22  460.904910  239.173757
2023-08-23  483.035725  246.314098
2023-08-24  481.649113  242.662910
2023-08-25  448.570142  240.775778
...                ...         ...
2024-07-24  448.968164  161.038904
2024-07-25  449.953331  162.346597
2024-07-26  446.527742  163.987069
2024-07-29  443.618894  162.252737
2024-07-30  437.938172  160.105098

[237 rows x 2 columns]
2023-11-13 18:56:11,410 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:11,410 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  460.904910  239.173757
2023-08-23  483.035725  246.314098
2023-08-24  481.649113  242.662910
2023-08-25  448.570142  240.775778
2023-08-28  437.104550  240.425573
...                ...         ...
2024-07-24  448.968164  161.038904
2024-07-25  449.953331  162.346597
2024-07-26  446.527742  163.987069
2024-07-29  443.618894  162.252737
2024-07-30  437.938172  160.105098

[236 rows x 2 columns], sim=1): 0.0h 0.0m 0s 109ms
2023-11-13 18:56:11,410 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 18:56:11,429 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:11,430 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  461.668596  245.757326
1  474.906273  242.174873
2  463.947866  251.918703
3  468.842953  259.084236
4  469.979175  259.252812
2023-11-13 18:56:11,514 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  461.668596  245.757326
2023-08-23  474.906273  242.174873
2023-08-24  463.947866  251.918703
2023-08-25  468.842953  259.084236
2023-08-28  469.979175  259.252812
2023-11-13 18:56:11,528 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
...             ...      ...
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9

[63 rows x 2 columns]
2023-11-13 18:56:11,530 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-21  469.900000  244.900000
2023-08-22  461.668596  245.757326
2023-08-23  474.906273  242.174873
2023-08-24  463.947866  251.918703
2023-08-25  468.842953  259.084236
...                ...         ...
2024-07-24  436.536234  328.778371
2024-07-25  429.945487  326.719486
2024-07-26  425.024309  331.877174
2024-07-29  431.073530  336.881192
2024-07-30  436.445087  339.721613

[237 rows x 2 columns]
2023-11-13 18:56:11,629 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:11,629 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  461.668596  245.757326
2023-08-23  474.906273  242.174873
2023-08-24  463.947866  251.918703
2023-08-25  468.842953  259.084236
2023-08-28  469.979175  259.252812
...                ...         ...
2024-07-24  436.536234  328.778371
2024-07-25  429.945487  326.719486
2024-07-26  425.024309  331.877174
2024-07-29  431.073530  336.881192
2024-07-30  436.445087  339.721613

[236 rows x 2 columns], sim=2): 0.0h 0.0m 0s 112ms
2023-11-13 18:56:11,629 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c754450>, n_sim=3): 0.0h 0.0m 0s 646ms
2023-11-13 18:56:11,629 - yq - INFO - Pricing the product on 2023-08-22 00:00:00
2023-11-13 18:56:11,629 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:11,633 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:11,815 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-11-13 18:56:11,816 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230822.csv
2023-11-13 18:56:11,816 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28512d210>, Timestamp('2023-08-22 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:11,817 - yq - INFO - The log returns list for all assets is: [Date
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
                ...   
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
                ...   
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:11,817 - yq - INFO - rho_S1S2 is 0.4369426266185002

2023-11-13 18:56:11,817 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43694263]
 [0.43694263 1.        ]]

2023-11-13 18:56:11,817 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43500852 0.43694263 0.        ]
 [0.43500852 1.         0.         0.        ]
 [0.43694263 0.         1.         0.42109536]
 [0.         0.         0.42109536 1.        ]]

2023-11-13 18:56:11,817 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43500852  0.90042634  0.          0.        ]
 [ 0.43694263 -0.21109308  0.87436883  0.        ]
 [ 0.          0.          0.48159924  0.87639156]]

2023-11-13 18:56:11,817 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x28512d210>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:11,817 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 18:56:11,835 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:11,836 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  475.458970  249.404116
1  459.152545  242.043568
2  457.214684  238.985572
3  458.846809  239.861595
4  443.408359  250.964951
2023-11-13 18:56:11,917 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  475.458970  249.404116
2023-08-24  459.152545  242.043568
2023-08-25  457.214684  238.985572
2023-08-28  458.846809  239.861595
2023-08-29  443.408359  250.964951
2023-11-13 18:56:11,930 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 18:56:11,932 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  475.458970  249.404116
2023-08-24  459.152545  242.043568
2023-08-25  457.214684  238.985572
2023-08-28  458.846809  239.861595
...                ...         ...
2024-07-24  604.742965  431.594005
2024-07-25  602.476211  420.429852
2024-07-26  606.721044  426.278810
2024-07-29  602.776835  427.580269
2024-07-30  610.701413  431.215997

[236 rows x 2 columns]
2023-11-13 18:56:12,038 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:12,038 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28512d210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  475.458970  249.404116
2023-08-24  459.152545  242.043568
2023-08-25  457.214684  238.985572
2023-08-28  458.846809  239.861595
2023-08-29  443.408359  250.964951
...                ...         ...
2024-07-24  604.742965  431.594005
2024-07-25  602.476211  420.429852
2024-07-26  606.721044  426.278810
2024-07-29  602.776835  427.580269
2024-07-30  610.701413  431.215997

[235 rows x 2 columns], sim=0): 0.0h 0.0m 0s 119ms
2023-11-13 18:56:12,038 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 18:56:12,058 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:12,059 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  468.380238  251.424367
1  458.011733  247.464078
2  471.399611  258.080438
3  456.435586  249.472404
4  452.911789  254.375425
2023-11-13 18:56:12,144 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  468.380238  251.424367
2023-08-24  458.011733  247.464078
2023-08-25  471.399611  258.080438
2023-08-28  456.435586  249.472404
2023-08-29  452.911789  254.375425
2023-11-13 18:56:12,157 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 18:56:12,160 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  468.380238  251.424367
2023-08-24  458.011733  247.464078
2023-08-25  471.399611  258.080438
2023-08-28  456.435586  249.472404
...                ...         ...
2024-07-24  382.413905  333.710770
2024-07-25  381.742062  333.118660
2024-07-26  379.041795  327.649518
2024-07-29  382.024348  327.231660
2024-07-30  377.025801  324.690364

[236 rows x 2 columns]
2023-11-13 18:56:12,263 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:12,263 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28512d210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  468.380238  251.424367
2023-08-24  458.011733  247.464078
2023-08-25  471.399611  258.080438
2023-08-28  456.435586  249.472404
2023-08-29  452.911789  254.375425
...                ...         ...
2024-07-24  382.413905  333.710770
2024-07-25  381.742062  333.118660
2024-07-26  379.041795  327.649518
2024-07-29  382.024348  327.231660
2024-07-30  377.025801  324.690364

[235 rows x 2 columns], sim=1): 0.0h 0.0m 0s 117ms
2023-11-13 18:56:12,264 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 18:56:12,283 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:12,284 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.143873  243.075847
1  495.391039  245.077186
2  522.304907  274.212318
3  536.510760  274.883120
4  534.738155  260.230250
2023-11-13 18:56:12,369 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  481.143873  243.075847
2023-08-24  495.391039  245.077186
2023-08-25  522.304907  274.212318
2023-08-28  536.510760  274.883120
2023-08-29  534.738155  260.230250
2023-11-13 18:56:12,383 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 18:56:12,385 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  481.143873  243.075847
2023-08-24  495.391039  245.077186
2023-08-25  522.304907  274.212318
2023-08-28  536.510760  274.883120
...                ...         ...
2024-07-24  459.448942  256.982966
2024-07-25  461.871977  258.815602
2024-07-26  463.228623  257.825694
2024-07-29  463.303993  253.002292
2024-07-30  464.977839  253.486291

[236 rows x 2 columns]
2023-11-13 18:56:12,485 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:12,485 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28512d210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  481.143873  243.075847
2023-08-24  495.391039  245.077186
2023-08-25  522.304907  274.212318
2023-08-28  536.510760  274.883120
2023-08-29  534.738155  260.230250
...                ...         ...
2024-07-24  459.448942  256.982966
2024-07-25  461.871977  258.815602
2024-07-26  463.228623  257.825694
2024-07-29  463.303993  253.002292
2024-07-30  464.977839  253.486291

[235 rows x 2 columns], sim=2): 0.0h 0.0m 0s 113ms
2023-11-13 18:56:12,485 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x28512d210>, n_sim=3): 0.0h 0.0m 0s 671ms
2023-11-13 18:56:12,485 - yq - INFO - Pricing the product on 2023-08-23 00:00:00
2023-11-13 18:56:12,485 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:12,490 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:12,672 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-11-13 18:56:12,673 - yq - INFO - Parameters loaded successfully from /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230823.csv
2023-11-13 18:56:12,673 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284be5b10>, Timestamp('2023-08-23 00:00:00')): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:12,674 - yq - INFO - The log returns list for all assets is: [Date
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
                ...   
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
                ...   
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:56:12,674 - yq - INFO - rho_S1S2 is 0.4371733468311143

2023-11-13 18:56:12,674 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43717335]
 [0.43717335 1.        ]]

2023-11-13 18:56:12,674 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47207362 0.43717335 0.        ]
 [0.47207362 1.         0.         0.        ]
 [0.43717335 0.         1.         0.46617826]
 [0.         0.         0.46617826 1.        ]]

2023-11-13 18:56:12,674 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47207362  0.88155913  0.          0.        ]
 [ 0.43717335 -0.23410569  0.86837434  0.        ]
 [ 0.          0.          0.53684021  0.84368394]]

2023-11-13 18:56:12,674 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284be5b10>): 0.0h 0.0m 0s 1ms
2023-11-13 18:56:12,674 - yq - INFO - The adjusted S_0 is [480.  246.2]
2023-11-13 18:56:12,692 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:12,693 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  465.682601  244.089232
1  489.870826  259.982130
2  480.383924  251.656230
3  455.565039  246.677201
4  467.718956  254.579465
2023-11-13 18:56:12,777 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  465.682601  244.089232
2023-08-25  489.870826  259.982130
2023-08-28  480.383924  251.656230
2023-08-29  455.565039  246.677201
2023-08-30  467.718956  254.579465
2023-11-13 18:56:12,792 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
...             ...      ...
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2

[63 rows x 2 columns]
2023-11-13 18:56:12,794 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-23  480.000000  246.200000
2023-08-24  465.682601  244.089232
2023-08-25  489.870826  259.982130
2023-08-28  480.383924  251.656230
2023-08-29  455.565039  246.677201
...                ...         ...
2024-07-24  386.316763  264.520212
2024-07-25  385.265823  261.255852
2024-07-26  388.944739  261.914214
2024-07-29  390.506198  260.718264
2024-07-30  386.582077  265.680545

[235 rows x 2 columns]
2023-11-13 18:56:12,896 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:12,897 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284be5b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  465.682601  244.089232
2023-08-25  489.870826  259.982130
2023-08-28  480.383924  251.656230
2023-08-29  455.565039  246.677201
2023-08-30  467.718956  254.579465
...                ...         ...
2024-07-24  386.316763  264.520212
2024-07-25  385.265823  261.255852
2024-07-26  388.944739  261.914214
2024-07-29  390.506198  260.718264
2024-07-30  386.582077  265.680545

[234 rows x 2 columns], sim=0): 0.0h 0.0m 0s 117ms
2023-11-13 18:56:12,897 - yq - INFO - The adjusted S_0 is [480.  246.2]
2023-11-13 18:56:12,916 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:12,917 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  499.628668  245.069096
1  460.132207  239.732917
2  466.203180  234.055612
3  512.757047  249.243391
4  523.031071  246.683027
2023-11-13 18:56:13,001 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  499.628668  245.069096
2023-08-25  460.132207  239.732917
2023-08-28  466.203180  234.055612
2023-08-29  512.757047  249.243391
2023-08-30  523.031071  246.683027
2023-11-13 18:56:13,017 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
...             ...      ...
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2

[63 rows x 2 columns]
2023-11-13 18:56:13,019 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-23  480.000000  246.200000
2023-08-24  499.628668  245.069096
2023-08-25  460.132207  239.732917
2023-08-28  466.203180  234.055612
2023-08-29  512.757047  249.243391
...                ...         ...
2024-07-24  766.902827  366.485683
2024-07-25  774.831749  374.440744
2024-07-26  779.842975  369.124453
2024-07-29  787.718685  379.677811
2024-07-30  793.431182  377.617921

[235 rows x 2 columns]
2023-11-13 18:56:13,115 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:13,115 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284be5b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  499.628668  245.069096
2023-08-25  460.132207  239.732917
2023-08-28  466.203180  234.055612
2023-08-29  512.757047  249.243391
2023-08-30  523.031071  246.683027
...                ...         ...
2024-07-24  766.902827  366.485683
2024-07-25  774.831749  374.440744
2024-07-26  779.842975  369.124453
2024-07-29  787.718685  379.677811
2024-07-30  793.431182  377.617921

[234 rows x 2 columns], sim=1): 0.0h 0.0m 0s 111ms
2023-11-13 18:56:13,116 - yq - INFO - The adjusted S_0 is [480.  246.2]
2023-11-13 18:56:13,135 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:56:13,136 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.095502  241.764070
1  461.589116  238.973487
2  440.206201  239.130200
3  426.144399  234.239878
4  435.097117  234.918128
2023-11-13 18:56:13,219 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  472.095502  241.764070
2023-08-25  461.589116  238.973487
2023-08-28  440.206201  239.130200
2023-08-29  426.144399  234.239878
2023-08-30  435.097117  234.918128
2023-11-13 18:56:13,233 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
...             ...      ...
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2

[63 rows x 2 columns]
2023-11-13 18:56:13,235 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-23  480.000000  246.200000
2023-08-24  472.095502  241.764070
2023-08-25  461.589116  238.973487
2023-08-28  440.206201  239.130200
2023-08-29  426.144399  234.239878
...                ...         ...
2024-07-24  400.833612  201.908416
2024-07-25  400.621904  196.513746
2024-07-26  403.296649  195.249171
2024-07-29  404.859306  195.870592
2024-07-30  405.137579  195.535962

[235 rows x 2 columns]
2023-11-13 18:56:13,329 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:56:13,329 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284be5b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  472.095502  241.764070
2023-08-25  461.589116  238.973487
2023-08-28  440.206201  239.130200
2023-08-29  426.144399  234.239878
2023-08-30  435.097117  234.918128
...                ...         ...
2024-07-24  400.833612  201.908416
2024-07-25  400.621904  196.513746
2024-07-26  403.296649  195.249171
2024-07-29  404.859306  195.870592
2024-07-30  405.137579  195.535962

[234 rows x 2 columns], sim=2): 0.0h 0.0m 0s 108ms
2023-11-13 18:56:13,329 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284be5b10>, n_sim=3): 0.0h 0.0m 0s 659ms
2023-11-13 18:56:13,329 - yq - INFO - Pricing the product on 2023-08-24 00:00:00
2023-11-13 18:56:13,329 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:56:13,337 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:56:13,527 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-11-13 18:56:13,527 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230824.csv
2023-11-13 18:56:13,528 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/lonn_call.csv
2023-11-13 18:56:13,530 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     430  53.599991  28.433285  0.0175
1      0.16     440  45.049988  27.074509  0.0175
2      0.16     450  37.099991  26.028452  0.0175
3      0.16     460  29.824997  25.145454  0.0175
4      0.16     470  23.349991  24.413734  0.0175
2023-11-13 18:56:13,530 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/sika_call.csv
2023-11-13 18:56:13,532 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     195  47.125008  36.494854  0.0175
1      0.16     200  42.300003  34.223370  0.0175
2      0.16     210  32.924995  30.578308  0.0175
3      0.16     220  24.175003  27.988766  0.0175
4      0.16     230  16.475006  26.213083  0.0175
2023-11-13 18:56:13,535 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     430  53.599991  0.0175
1      0.16     440  45.049988  0.0175
2      0.16     450  37.099991  0.0175
3      0.16     460  29.824997  0.0175
4      0.16     470  23.349991  0.0175
   maturity  strike      price    rate
0      0.16     195  47.125008  0.0175
1      0.16     200  42.300003  0.0175
2      0.16     210  32.924995  0.0175
3      0.16     220  24.175003  0.0175
4      0.16     230  16.475006  0.0175
2023-11-13 18:56:13,535 - yq - INFO - Calibrating LONZA on 2023-08-24 00:00:00.
2023-11-13 18:56:43,121 - yq - INFO - Calibrating SIKA on 2023-08-24 00:00:00.
2023-11-13 18:57:16,070 - yq - INFO - The S_0 for LONZA and SIKA are 477.5 and 240.9
2023-11-13 18:57:16,072 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 2 seconds
2023-11-13 18:57:16,088 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230824.csv
2023-11-13 18:57:16,088 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.33803635  0.01413864 -0.14568493  0.42595032  0.24696454]
 [ 1.54186366  0.49433563 -0.08512047  0.5         0.16430446]]
2023-11-13 18:57:16,094 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285102790>, Timestamp('2023-08-24 00:00:00')): 0.0h 1.0m 2s 567ms
2023-11-13 18:57:16,103 - yq - INFO - The log returns list for all assets is: [Date
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
                ...   
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
                ...   
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:57:16,106 - yq - INFO - rho_S1S2 is 0.42692214622823577

2023-11-13 18:57:16,106 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42692215]
 [0.42692215 1.        ]]

2023-11-13 18:57:16,106 - yq - INFO - Simplified correlation matrix is:
[[1.         0.42595032 0.42692215 0.        ]
 [0.42595032 1.         0.         0.        ]
 [0.42692215 0.         1.         0.5       ]
 [0.         0.         0.5        1.        ]]

2023-11-13 18:57:16,107 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.42595032  0.90474655  0.          0.        ]
 [ 0.42692215 -0.20099289  0.8816685   0.        ]
 [ 0.          0.          0.56710657  0.82364442]]

2023-11-13 18:57:16,107 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285102790>): 0.0h 0.0m 0s 12ms
2023-11-13 18:57:16,118 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 18:57:16,139 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:57:16,141 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  478.436845  230.878835
1  468.499117  228.172669
2  489.031444  233.445570
3  484.597177  234.628361
4  516.930765  241.903614
2023-11-13 18:57:16,260 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  478.436845  230.878835
2023-08-28  468.499117  228.172669
2023-08-29  489.031444  233.445570
2023-08-30  484.597177  234.628361
2023-08-31  516.930765  241.903614
2023-11-13 18:57:16,366 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 18:57:16,369 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  478.436845  230.878835
2023-08-28  468.499117  228.172669
2023-08-29  489.031444  233.445570
2023-08-30  484.597177  234.628361
...                ...         ...
2024-07-24  499.695198  105.784585
2024-07-25  499.752995  110.809380
2024-07-26  502.157823  114.093891
2024-07-29  507.312011  107.118469
2024-07-30  504.207193   99.751969

[234 rows x 2 columns]
2023-11-13 18:57:16,508 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:57:16,508 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285102790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  478.436845  230.878835
2023-08-28  468.499117  228.172669
2023-08-29  489.031444  233.445570
2023-08-30  484.597177  234.628361
2023-08-31  516.930765  241.903614
...                ...         ...
2024-07-24  499.695198  105.784585
2024-07-25  499.752995  110.809380
2024-07-26  502.157823  114.093891
2024-07-29  507.312011  107.118469
2024-07-30  504.207193   99.751969

[233 rows x 2 columns], sim=0): 0.0h 0.0m 0s 245ms
2023-11-13 18:57:16,509 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 18:57:16,533 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:57:16,534 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  462.496760  237.867622
1  458.186558  232.022870
2  455.143554  241.247673
3  419.899706  235.449897
4  450.540828  251.313787
2023-11-13 18:57:16,644 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  462.496760  237.867622
2023-08-28  458.186558  232.022870
2023-08-29  455.143554  241.247673
2023-08-30  419.899706  235.449897
2023-08-31  450.540828  251.313787
2023-11-13 18:57:16,663 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 18:57:16,666 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  462.496760  237.867622
2023-08-28  458.186558  232.022870
2023-08-29  455.143554  241.247673
2023-08-30  419.899706  235.449897
...                ...         ...
2024-07-24  445.155330  113.676376
2024-07-25  438.421154  114.444669
2024-07-26  440.064405  114.344762
2024-07-29  438.938787  111.660856
2024-07-30  434.794300  109.084758

[234 rows x 2 columns]
2023-11-13 18:57:17,086 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:57:17,086 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285102790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  462.496760  237.867622
2023-08-28  458.186558  232.022870
2023-08-29  455.143554  241.247673
2023-08-30  419.899706  235.449897
2023-08-31  450.540828  251.313787
...                ...         ...
2024-07-24  445.155330  113.676376
2024-07-25  438.421154  114.444669
2024-07-26  440.064405  114.344762
2024-07-29  438.938787  111.660856
2024-07-30  434.794300  109.084758

[233 rows x 2 columns], sim=1): 0.0h 0.0m 0s 438ms
2023-11-13 18:57:17,087 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 18:57:17,107 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:57:17,108 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.934405  249.722821
1  497.365636  246.289051
2  499.410377  250.457565
3  502.372422  253.433273
4  508.105968  249.754679
2023-11-13 18:57:17,205 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  481.934405  249.722821
2023-08-28  497.365636  246.289051
2023-08-29  499.410377  250.457565
2023-08-30  502.372422  253.433273
2023-08-31  508.105968  249.754679
2023-11-13 18:57:17,220 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 18:57:17,223 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  481.934405  249.722821
2023-08-28  497.365636  246.289051
2023-08-29  499.410377  250.457565
2023-08-30  502.372422  253.433273
...                ...         ...
2024-07-24  610.630477  273.573528
2024-07-25  608.436610  265.032723
2024-07-26  610.215023  279.063975
2024-07-29  610.944150  281.096385
2024-07-30  606.969775  282.418358

[234 rows x 2 columns]
2023-11-13 18:57:17,335 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:57:17,335 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285102790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  481.934405  249.722821
2023-08-28  497.365636  246.289051
2023-08-29  499.410377  250.457565
2023-08-30  502.372422  253.433273
2023-08-31  508.105968  249.754679
...                ...         ...
2024-07-24  610.630477  273.573528
2024-07-25  608.436610  265.032723
2024-07-26  610.215023  279.063975
2024-07-29  610.944150  281.096385
2024-07-30  606.969775  282.418358

[233 rows x 2 columns], sim=2): 0.0h 0.0m 0s 128ms
2023-11-13 18:57:17,335 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285102790>, n_sim=3): 0.0h 1.0m 3s 810ms
2023-11-13 18:57:17,335 - yq - INFO - Pricing the product on 2023-08-25 00:00:00
2023-11-13 18:57:17,335 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:57:17,343 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:57:17,573 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-11-13 18:57:17,574 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230825.csv
2023-11-13 18:57:17,578 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/lonn_call.csv
2023-11-13 18:57:17,580 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     440  53.750000  27.479589  0.0175
1  0.157193     450  44.949997  26.013029  0.0175
2  0.157193     460  36.750000  24.936087  0.0175
3  0.157193     470  29.224991  24.031950  0.0175
4  0.157193     480  22.524994  23.274614  0.0175
2023-11-13 18:57:17,581 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/sika_call.csv
2023-11-13 18:57:17,583 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     195  46.399994  36.397018  0.0175
1  0.157193     200  41.574997  34.104519  0.0175
2  0.157193     210  32.174995  30.276834  0.0175
3  0.157193     220  23.375000  27.452997  0.0175
4  0.157193     230  15.724994  25.756443  0.0175
2023-11-13 18:57:17,587 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     440  53.750000  0.0175
1  0.157193     450  44.949997  0.0175
2  0.157193     460  36.750000  0.0175
3  0.157193     470  29.224991  0.0175
4  0.157193     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.157193     195  46.399994  0.0175
1  0.157193     200  41.574997  0.0175
2  0.157193     210  32.174995  0.0175
3  0.157193     220  23.375000  0.0175
4  0.157193     230  15.724994  0.0175
2023-11-13 18:57:17,587 - yq - INFO - Calibrating LONZA on 2023-08-25 00:00:00.
2023-11-13 18:57:49,778 - yq - INFO - Calibrating SIKA on 2023-08-25 00:00:00.
2023-11-13 18:58:23,951 - yq - INFO - The S_0 for LONZA and SIKA are 473.3 and 239.7
2023-11-13 18:58:23,952 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 6 seconds
2023-11-13 18:58:23,968 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230825.csv
2023-11-13 18:58:23,968 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.00998102  0.01653369 -0.09939915  0.43626749  0.26639181]
 [ 0.71606732  0.09452001 -0.06954189  0.46381089  0.25335613]]
2023-11-13 18:58:23,972 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, Timestamp('2023-08-25 00:00:00')): 0.0h 1.0m 6s 398ms
2023-11-13 18:58:23,982 - yq - INFO - The log returns list for all assets is: [Date
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
                ...   
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
                ...   
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:58:23,984 - yq - INFO - rho_S1S2 is 0.4263512706844439

2023-11-13 18:58:23,985 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42635127]
 [0.42635127 1.        ]]

2023-11-13 18:58:23,985 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43626749 0.42635127 0.        ]
 [0.43626749 1.         0.         0.        ]
 [0.42635127 0.         1.         0.46381089]
 [0.         0.         0.46381089 1.        ]]

2023-11-13 18:58:23,986 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43626749  0.89981703  0.          0.        ]
 [ 0.42635127 -0.20671225  0.88062174  0.        ]
 [ 0.          0.          0.52668571  0.85006009]]

2023-11-13 18:58:23,986 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>): 0.0h 0.0m 0s 14ms
2023-11-13 18:58:24,000 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 18:58:24,022 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:58:24,029 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.100926  237.579854
1  496.816850  239.094322
2  510.673136  248.618414
3  516.540674  240.726982
4  510.120819  232.738844
2023-11-13 18:58:24,147 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  491.100926  237.579854
2023-08-29  496.816850  239.094322
2023-08-30  510.673136  248.618414
2023-08-31  516.540674  240.726982
2023-09-01  510.120819  232.738844
2023-11-13 18:58:24,218 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 18:58:24,223 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  491.100926  237.579854
2023-08-29  496.816850  239.094322
2023-08-30  510.673136  248.618414
2023-08-31  516.540674  240.726982
...                ...         ...
2024-07-24  526.904999  282.031013
2024-07-25  520.018416  260.582397
2024-07-26  518.682290  250.704804
2024-07-29  511.329129  239.325291
2024-07-30  506.349647  234.789256

[233 rows x 2 columns]
2023-11-13 18:58:24,354 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:58:24,354 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  491.100926  237.579854
2023-08-29  496.816850  239.094322
2023-08-30  510.673136  248.618414
2023-08-31  516.540674  240.726982
2023-09-01  510.120819  232.738844
...                ...         ...
2024-07-24  526.904999  282.031013
2024-07-25  520.018416  260.582397
2024-07-26  518.682290  250.704804
2024-07-29  511.329129  239.325291
2024-07-30  506.349647  234.789256

[232 rows x 2 columns], sim=0): 0.0h 0.0m 0s 204ms
2023-11-13 18:58:24,355 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 18:58:24,378 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:58:24,379 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  473.077417  225.231001
1  503.552512  216.910462
2  510.653697  217.110616
3  530.988381  221.771320
4  526.219830  225.511262
2023-11-13 18:58:24,487 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  473.077417  225.231001
2023-08-29  503.552512  216.910462
2023-08-30  510.653697  217.110616
2023-08-31  530.988381  221.771320
2023-09-01  526.219830  225.511262
2023-11-13 18:58:24,504 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 18:58:24,507 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  473.077417  225.231001
2023-08-29  503.552512  216.910462
2023-08-30  510.653697  217.110616
2023-08-31  530.988381  221.771320
...                ...         ...
2024-07-24  623.234092  522.695543
2024-07-25  632.552042  517.558973
2024-07-26  631.063453  515.686582
2024-07-29  629.127336  520.134320
2024-07-30  636.523991  531.762484

[233 rows x 2 columns]
2023-11-13 18:58:24,624 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:58:24,624 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  473.077417  225.231001
2023-08-29  503.552512  216.910462
2023-08-30  510.653697  217.110616
2023-08-31  530.988381  221.771320
2023-09-01  526.219830  225.511262
...                ...         ...
2024-07-24  623.234092  522.695543
2024-07-25  632.552042  517.558973
2024-07-26  631.063453  515.686582
2024-07-29  629.127336  520.134320
2024-07-30  636.523991  531.762484

[232 rows x 2 columns], sim=1): 0.0h 0.0m 0s 134ms
2023-11-13 18:58:24,625 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 18:58:24,650 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:58:24,671 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  456.790960  230.736542
1  464.875750  240.534349
2  461.428735  239.785343
3  461.495094  235.306247
4  467.811357  232.273067
2023-11-13 18:58:24,780 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  456.790960  230.736542
2023-08-29  464.875750  240.534349
2023-08-30  461.428735  239.785343
2023-08-31  461.495094  235.306247
2023-09-01  467.811357  232.273067
2023-11-13 18:58:24,822 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 18:58:24,824 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  456.790960  230.736542
2023-08-29  464.875750  240.534349
2023-08-30  461.428735  239.785343
2023-08-31  461.495094  235.306247
...                ...         ...
2024-07-24  377.807227  239.083896
2024-07-25  379.944472  239.368618
2024-07-26  374.378662  232.059227
2024-07-29  374.822877  234.796112
2024-07-30  376.875382  236.774290

[233 rows x 2 columns]
2023-11-13 18:58:24,967 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:58:24,967 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  456.790960  230.736542
2023-08-29  464.875750  240.534349
2023-08-30  461.428735  239.785343
2023-08-31  461.495094  235.306247
2023-09-01  467.811357  232.273067
...                ...         ...
2024-07-24  377.807227  239.083896
2024-07-25  379.944472  239.368618
2024-07-26  374.378662  232.059227
2024-07-29  374.822877  234.796112
2024-07-30  376.875382  236.774290

[232 rows x 2 columns], sim=2): 0.0h 0.0m 0s 159ms
2023-11-13 18:58:24,967 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, n_sim=3): 0.0h 1.0m 7s 395ms
2023-11-13 18:58:24,967 - yq - INFO - Pricing the product on 2023-08-28 00:00:00
2023-11-13 18:58:24,967 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:58:24,978 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:58:25,211 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-11-13 18:58:25,212 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230828.csv
2023-11-13 18:58:25,214 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/lonn_call.csv
2023-11-13 18:58:25,216 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     440  53.750000  27.479589  0.0175
1  0.148772     450  44.949997  26.013029  0.0175
2  0.148772     460  36.750000  24.936087  0.0175
3  0.148772     470  29.224991  24.031950  0.0175
4  0.148772     480  22.524994  23.274614  0.0175
2023-11-13 18:58:25,217 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/sika_call.csv
2023-11-13 18:58:25,219 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     200  44.550003  33.966270  0.0175
1  0.148772     210  34.950005  29.767315  0.0175
2  0.148772     220  25.850006  26.848900  0.0175
3  0.148772     230  17.750000  25.146227  0.0175
4  0.148772     240  11.025000  23.833889  0.0175
2023-11-13 18:58:25,222 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     440  53.750000  0.0175
1  0.148772     450  44.949997  0.0175
2  0.148772     460  36.750000  0.0175
3  0.148772     470  29.224991  0.0175
4  0.148772     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.148772     200  44.550003  0.0175
1  0.148772     210  34.950005  0.0175
2  0.148772     220  25.850006  0.0175
3  0.148772     230  17.750000  0.0175
4  0.148772     240  11.025000  0.0175
2023-11-13 18:58:25,223 - yq - INFO - Calibrating LONZA on 2023-08-28 00:00:00.
2023-11-13 18:58:56,589 - yq - INFO - Calibrating SIKA on 2023-08-28 00:00:00.
2023-11-13 18:59:25,907 - yq - INFO - The S_0 for LONZA and SIKA are 475.5 and 242.6
2023-11-13 18:59:25,912 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 18:59:25,930 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230828.csv
2023-11-13 18:59:25,930 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.39183549  0.02318726 -0.08870748  0.45277774  0.27745903]
 [ 0.42349945  0.45668889 -0.0807276   0.49961571  0.33180966]]
2023-11-13 18:59:25,933 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, Timestamp('2023-08-28 00:00:00')): 0.0h 1.0m 0s 721ms
2023-11-13 18:59:25,942 - yq - INFO - The log returns list for all assets is: [Date
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
                ...   
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
                ...   
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 18:59:25,943 - yq - INFO - rho_S1S2 is 0.4301092130230156

2023-11-13 18:59:25,944 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43010921]
 [0.43010921 1.        ]]

2023-11-13 18:59:25,944 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45277774 0.43010921 0.        ]
 [0.45277774 1.         0.         0.        ]
 [0.43010921 0.         1.         0.49961571]
 [0.         0.         0.49961571 1.        ]]

2023-11-13 18:59:25,944 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.45277774  0.89162342  0.          0.        ]
 [ 0.43010921 -0.21841494  0.87595718  0.        ]
 [ 0.          0.          0.57036545  0.82139105]]

2023-11-13 18:59:25,944 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>): 0.0h 0.0m 0s 12ms
2023-11-13 18:59:25,954 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 18:59:25,975 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:59:25,977 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  476.386293  230.744780
1  468.129692  231.533446
2  477.387310  233.847969
3  476.170945  234.796961
4  467.082139  220.512749
2023-11-13 18:59:26,088 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  476.386293  230.744780
2023-08-30  468.129692  231.533446
2023-08-31  477.387310  233.847969
2023-09-01  476.170945  234.796961
2023-09-04  467.082139  220.512749
2023-11-13 18:59:26,168 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 18:59:26,171 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  476.386293  230.744780
2023-08-30  468.129692  231.533446
2023-08-31  477.387310  233.847969
2023-09-01  476.170945  234.796961
...                ...         ...
2024-07-24  542.587902  106.608856
2024-07-25  540.799809  103.632382
2024-07-26  545.700949  107.644244
2024-07-29  548.840497  107.051644
2024-07-30  542.356612  102.959660

[232 rows x 2 columns]
2023-11-13 18:59:26,290 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:59:26,290 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  476.386293  230.744780
2023-08-30  468.129692  231.533446
2023-08-31  477.387310  233.847969
2023-09-01  476.170945  234.796961
2023-09-04  467.082139  220.512749
...                ...         ...
2024-07-24  542.587902  106.608856
2024-07-25  540.799809  103.632382
2024-07-26  545.700949  107.644244
2024-07-29  548.840497  107.051644
2024-07-30  542.356612  102.959660

[231 rows x 2 columns], sim=0): 0.0h 0.0m 0s 200ms
2023-11-13 18:59:26,291 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 18:59:26,310 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:59:26,312 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  485.482668  249.380541
1  476.654993  248.426122
2  505.110262  269.429749
3  480.142408  266.579314
4  503.586905  288.557659
2023-11-13 18:59:26,407 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  485.482668  249.380541
2023-08-30  476.654993  248.426122
2023-08-31  505.110262  269.429749
2023-09-01  480.142408  266.579314
2023-09-04  503.586905  288.557659
2023-11-13 18:59:26,424 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 18:59:26,427 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  485.482668  249.380541
2023-08-30  476.654993  248.426122
2023-08-31  505.110262  269.429749
2023-09-01  480.142408  266.579314
...                ...         ...
2024-07-24  444.814311  408.111278
2024-07-25  443.161339  412.596233
2024-07-26  439.129751  395.593823
2024-07-29  438.985297  396.795267
2024-07-30  433.132726  396.433593

[232 rows x 2 columns]
2023-11-13 18:59:26,538 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:59:26,538 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  485.482668  249.380541
2023-08-30  476.654993  248.426122
2023-08-31  505.110262  269.429749
2023-09-01  480.142408  266.579314
2023-09-04  503.586905  288.557659
...                ...         ...
2024-07-24  444.814311  408.111278
2024-07-25  443.161339  412.596233
2024-07-26  439.129751  395.593823
2024-07-29  438.985297  396.795267
2024-07-30  433.132726  396.433593

[231 rows x 2 columns], sim=1): 0.0h 0.0m 0s 129ms
2023-11-13 18:59:26,539 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 18:59:26,561 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 18:59:26,562 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  485.768159  264.409648
1  475.197112  274.451114
2  461.503588  267.680073
3  475.893623  265.672648
4  449.422961  259.856543
2023-11-13 18:59:26,660 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  485.768159  264.409648
2023-08-30  475.197112  274.451114
2023-08-31  461.503588  267.680073
2023-09-01  475.893623  265.672648
2023-09-04  449.422961  259.856543
2023-11-13 18:59:26,677 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 18:59:26,680 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  485.768159  264.409648
2023-08-30  475.197112  274.451114
2023-08-31  461.503588  267.680073
2023-09-01  475.893623  265.672648
...                ...         ...
2024-07-24  431.027675  160.918106
2024-07-25  442.496800  172.357965
2024-07-26  439.298425  165.502530
2024-07-29  429.654877  157.683417
2024-07-30  420.986181  149.761479

[232 rows x 2 columns]
2023-11-13 18:59:26,791 - yq - INFO - Path of 1 sim is plotted
2023-11-13 18:59:26,791 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  485.768159  264.409648
2023-08-30  475.197112  274.451114
2023-08-31  461.503588  267.680073
2023-09-01  475.893623  265.672648
2023-09-04  449.422961  259.856543
...                ...         ...
2024-07-24  431.027675  160.918106
2024-07-25  442.496800  172.357965
2024-07-26  439.298425  165.502530
2024-07-29  429.654877  157.683417
2024-07-30  420.986181  149.761479

[231 rows x 2 columns], sim=2): 0.0h 0.0m 0s 127ms
2023-11-13 18:59:26,791 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b20cd0>, n_sim=3): 0.0h 1.0m 1s 582ms
2023-11-13 18:59:26,791 - yq - INFO - Pricing the product on 2023-08-29 00:00:00
2023-11-13 18:59:26,791 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 18:59:26,801 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 18:59:27,026 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-11-13 18:59:27,026 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230829.csv
2023-11-13 18:59:27,029 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/lonn_call.csv
2023-11-13 18:59:27,031 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     440  53.750000  27.479589  0.0175
1  0.145965     450  44.949997  26.013029  0.0175
2  0.145965     460  36.750000  24.936087  0.0175
3  0.145965     470  29.224991  24.031950  0.0175
4  0.145965     480  22.524994  23.274614  0.0175
2023-11-13 18:59:27,031 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/sika_call.csv
2023-11-13 18:59:27,033 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     200  48.200005  35.602180  0.0175
1  0.145965     210  38.550003  31.489353  0.0175
2  0.145965     220  29.175003  27.868134  0.0175
3  0.145965     230  20.525002  25.417206  0.0175
4  0.145965     240  13.150000  23.884602  0.0175
2023-11-13 18:59:27,036 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     440  53.750000  0.0175
1  0.145965     450  44.949997  0.0175
2  0.145965     460  36.750000  0.0175
3  0.145965     470  29.224991  0.0175
4  0.145965     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.145965     200  48.200005  0.0175
1  0.145965     210  38.550003  0.0175
2  0.145965     220  29.175003  0.0175
3  0.145965     230  20.525002  0.0175
4  0.145965     240  13.150000  0.0175
2023-11-13 18:59:27,036 - yq - INFO - Calibrating LONZA on 2023-08-29 00:00:00.
2023-11-13 18:59:57,167 - yq - INFO - Calibrating SIKA on 2023-08-29 00:00:00.
2023-11-13 19:00:28,002 - yq - INFO - The S_0 for LONZA and SIKA are 479.9 and 246.0
2023-11-13 19:00:28,003 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 19:00:28,020 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230829.csv
2023-11-13 19:00:28,020 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.09852521  0.38850528 -0.06945707  0.47111114  0.26601197]
 [ 3.02214662  0.02539103 -0.08981993  0.45056736  0.29327412]]
2023-11-13 19:00:28,026 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b24690>, Timestamp('2023-08-29 00:00:00')): 0.0h 1.0m 0s 1000ms
2023-11-13 19:00:28,041 - yq - INFO - The log returns list for all assets is: [Date
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
                ...   
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
                ...   
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:00:28,045 - yq - INFO - rho_S1S2 is 0.434975731220062

2023-11-13 19:00:28,045 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43497573]
 [0.43497573 1.        ]]

2023-11-13 19:00:28,045 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47111114 0.43497573 0.        ]
 [0.47111114 1.         0.         0.        ]
 [0.43497573 0.         1.         0.45056736]
 [0.         0.         0.45056736 1.        ]]

2023-11-13 19:00:28,046 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47111114  0.88207386  0.          0.        ]
 [ 0.43497573 -0.23231831  0.8699565   0.        ]
 [ 0.          0.          0.51791942  0.85542941]]

2023-11-13 19:00:28,046 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b24690>): 0.0h 0.0m 0s 20ms
2023-11-13 19:00:28,062 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 19:00:28,083 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:00:28,090 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.699387  235.763226
1  500.716072  231.776678
2  503.755836  233.296881
3  513.086336  243.866248
4  507.962048  238.153787
2023-11-13 19:00:28,209 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  484.699387  235.763226
2023-08-31  500.716072  231.776678
2023-09-01  503.755836  233.296881
2023-09-04  513.086336  243.866248
2023-09-05  507.962048  238.153787
2023-11-13 19:00:28,359 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 19:00:28,363 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  484.699387  235.763226
2023-08-31  500.716072  231.776678
2023-09-01  503.755836  233.296881
2023-09-04  513.086336  243.866248
...                ...         ...
2024-07-24  298.011176  199.989436
2024-07-25  318.474478  206.980232
2024-07-26  329.727638  210.262400
2024-07-29  317.992410  213.093086
2024-07-30  302.560285  206.517855

[231 rows x 2 columns]
2023-11-13 19:00:28,477 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:00:28,478 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b24690>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  484.699387  235.763226
2023-08-31  500.716072  231.776678
2023-09-01  503.755836  233.296881
2023-09-04  513.086336  243.866248
2023-09-05  507.962048  238.153787
...                ...         ...
2024-07-24  298.011176  199.989436
2024-07-25  318.474478  206.980232
2024-07-26  329.727638  210.262400
2024-07-29  317.992410  213.093086
2024-07-30  302.560285  206.517855

[230 rows x 2 columns], sim=0): 0.0h 0.0m 0s 263ms
2023-11-13 19:00:28,478 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 19:00:28,498 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:00:28,499 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.597765  253.348016
1  458.666608  264.136768
2  460.499075  250.468936
3  462.520162  242.423444
4  472.293952  236.452830
2023-11-13 19:00:28,586 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  483.597765  253.348016
2023-08-31  458.666608  264.136768
2023-09-01  460.499075  250.468936
2023-09-04  462.520162  242.423444
2023-09-05  472.293952  236.452830
2023-11-13 19:00:28,600 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 19:00:28,602 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  483.597765  253.348016
2023-08-31  458.666608  264.136768
2023-09-01  460.499075  250.468936
2023-09-04  462.520162  242.423444
...                ...         ...
2024-07-24  497.057433  353.753367
2024-07-25  509.577912  352.160587
2024-07-26  504.482389  364.415141
2024-07-29  496.454704  367.506664
2024-07-30  484.749756  369.039735

[231 rows x 2 columns]
2023-11-13 19:00:28,703 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:00:28,703 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b24690>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  483.597765  253.348016
2023-08-31  458.666608  264.136768
2023-09-01  460.499075  250.468936
2023-09-04  462.520162  242.423444
2023-09-05  472.293952  236.452830
...                ...         ...
2024-07-24  497.057433  353.753367
2024-07-25  509.577912  352.160587
2024-07-26  504.482389  364.415141
2024-07-29  496.454704  367.506664
2024-07-30  484.749756  369.039735

[230 rows x 2 columns], sim=1): 0.0h 0.0m 0s 115ms
2023-11-13 19:00:28,704 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 19:00:28,723 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:00:28,724 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  488.325901  247.801757
1  522.462807  266.268899
2  530.847068  270.474729
3  536.439043  269.606128
4  518.279770  269.555988
2023-11-13 19:00:28,817 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  488.325901  247.801757
2023-08-31  522.462807  266.268899
2023-09-01  530.847068  270.474729
2023-09-04  536.439043  269.606128
2023-09-05  518.279770  269.555988
2023-11-13 19:00:28,834 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 19:00:28,836 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  488.325901  247.801757
2023-08-31  522.462807  266.268899
2023-09-01  530.847068  270.474729
2023-09-04  536.439043  269.606128
...                ...         ...
2024-07-24  986.973774  324.079158
2024-07-25  929.680525  313.966780
2024-07-26  916.955750  308.800243
2024-07-29  922.318400  311.817348
2024-07-30  940.571187  313.486858

[231 rows x 2 columns]
2023-11-13 19:00:28,942 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:00:28,942 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b24690>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  488.325901  247.801757
2023-08-31  522.462807  266.268899
2023-09-01  530.847068  270.474729
2023-09-04  536.439043  269.606128
2023-09-05  518.279770  269.555988
...                ...         ...
2024-07-24  986.973774  324.079158
2024-07-25  929.680525  313.966780
2024-07-26  916.955750  308.800243
2024-07-29  922.318400  311.817348
2024-07-30  940.571187  313.486858

[230 rows x 2 columns], sim=2): 0.0h 0.0m 0s 123ms
2023-11-13 19:00:28,942 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b24690>, n_sim=3): 0.0h 1.0m 1s 918ms
2023-11-13 19:00:28,943 - yq - INFO - Pricing the product on 2023-08-30 00:00:00
2023-11-13 19:00:28,943 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:00:28,955 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:00:29,163 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-11-13 19:00:29,163 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230830.csv
2023-11-13 19:00:29,167 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/lonn_call.csv
2023-11-13 19:00:29,168 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     440  53.750000  27.479589  0.0175
1  0.143158     450  44.949997  26.013029  0.0175
2  0.143158     460  36.750000  24.936087  0.0175
3  0.143158     470  29.224991  24.031950  0.0175
4  0.143158     480  22.524994  23.274614  0.0175
2023-11-13 19:00:29,170 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/sika_call.csv
2023-11-13 19:00:29,171 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     200  48.200005  35.602180  0.0175
1  0.143158     210  38.550003  31.489353  0.0175
2  0.143158     220  29.175003  27.868134  0.0175
3  0.143158     230  20.525002  25.417206  0.0175
4  0.143158     240  13.150000  23.884602  0.0175
2023-11-13 19:00:29,174 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     440  53.750000  0.0175
1  0.143158     450  44.949997  0.0175
2  0.143158     460  36.750000  0.0175
3  0.143158     470  29.224991  0.0175
4  0.143158     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.143158     200  48.200005  0.0175
1  0.143158     210  38.550003  0.0175
2  0.143158     220  29.175003  0.0175
3  0.143158     230  20.525002  0.0175
4  0.143158     240  13.150000  0.0175
2023-11-13 19:00:29,174 - yq - INFO - Calibrating LONZA on 2023-08-30 00:00:00.
2023-11-13 19:00:59,428 - yq - INFO - Calibrating SIKA on 2023-08-30 00:00:00.
2023-11-13 19:01:30,308 - yq - INFO - The S_0 for LONZA and SIKA are 483.2 and 246.3
2023-11-13 19:01:30,309 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 1 seconds
2023-11-13 19:01:30,326 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230830.csv
2023-11-13 19:01:30,326 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.06571097  0.64606719 -0.06054775  0.49999936  0.26018055]
 [ 2.67127702  0.02904458 -0.08895958  0.45211423  0.2980381 ]]
2023-11-13 19:01:30,327 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e5c7590>, Timestamp('2023-08-30 00:00:00')): 0.0h 1.0m 1s 165ms
2023-11-13 19:01:30,340 - yq - INFO - The log returns list for all assets is: [Date
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
                ...   
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
                ...   
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:01:30,342 - yq - INFO - rho_S1S2 is 0.4192264656802595

2023-11-13 19:01:30,342 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41922647]
 [0.41922647 1.        ]]

2023-11-13 19:01:30,342 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49999936 0.41922647 0.        ]
 [0.49999936 1.         0.         0.        ]
 [0.41922647 0.         1.         0.45211423]
 [0.         0.         0.45211423 1.        ]]

2023-11-13 19:01:30,343 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49999936  0.86602577  0.          0.        ]
 [ 0.41922647 -0.2420401   0.87502329  0.        ]
 [ 0.          0.          0.51668823  0.85617363]]

2023-11-13 19:01:30,343 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e5c7590>): 0.0h 0.0m 0s 16ms
2023-11-13 19:01:30,358 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 19:01:30,380 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:01:30,383 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  475.846313  242.692509
1  495.468713  239.183111
2  502.256497  239.994955
3  527.730602  252.162269
4  512.666597  249.194462
2023-11-13 19:01:30,506 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  475.846313  242.692509
2023-09-01  495.468713  239.183111
2023-09-04  502.256497  239.994955
2023-09-05  527.730602  252.162269
2023-09-06  512.666597  249.194462
2023-11-13 19:01:30,575 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 19:01:30,582 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  475.846313  242.692509
2023-09-01  495.468713  239.183111
2023-09-04  502.256497  239.994955
2023-09-05  527.730602  252.162269
...                ...         ...
2024-07-24  459.743889  260.691763
2024-07-25  455.202762  260.721273
2024-07-26  453.746584  270.841817
2024-07-29  456.243021  267.434782
2024-07-30  437.736526  259.614450

[230 rows x 2 columns]
2023-11-13 19:01:30,695 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:01:30,695 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5c7590>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  475.846313  242.692509
2023-09-01  495.468713  239.183111
2023-09-04  502.256497  239.994955
2023-09-05  527.730602  252.162269
2023-09-06  512.666597  249.194462
...                ...         ...
2024-07-24  459.743889  260.691763
2024-07-25  455.202762  260.721273
2024-07-26  453.746584  270.841817
2024-07-29  456.243021  267.434782
2024-07-30  437.736526  259.614450

[229 rows x 2 columns], sim=0): 0.0h 0.0m 0s 187ms
2023-11-13 19:01:30,696 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 19:01:30,715 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:01:30,716 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  512.513001  257.034344
1  520.417064  239.765838
2  532.256309  238.975301
3  501.385799  227.365150
4  513.826834  224.350334
2023-11-13 19:01:30,807 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  512.513001  257.034344
2023-09-01  520.417064  239.765838
2023-09-04  532.256309  238.975301
2023-09-05  501.385799  227.365150
2023-09-06  513.826834  224.350334
2023-11-13 19:01:30,826 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 19:01:30,828 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  512.513001  257.034344
2023-09-01  520.417064  239.765838
2023-09-04  532.256309  238.975301
2023-09-05  501.385799  227.365150
...                ...         ...
2024-07-24  436.693582  152.462831
2024-07-25  431.387346  151.115700
2024-07-26  434.624198  152.960747
2024-07-29  469.406264  151.760009
2024-07-30  445.044309  151.160106

[230 rows x 2 columns]
2023-11-13 19:01:30,926 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:01:30,926 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5c7590>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  512.513001  257.034344
2023-09-01  520.417064  239.765838
2023-09-04  532.256309  238.975301
2023-09-05  501.385799  227.365150
2023-09-06  513.826834  224.350334
...                ...         ...
2024-07-24  436.693582  152.462831
2024-07-25  431.387346  151.115700
2024-07-26  434.624198  152.960747
2024-07-29  469.406264  151.760009
2024-07-30  445.044309  151.160106

[229 rows x 2 columns], sim=1): 0.0h 0.0m 0s 116ms
2023-11-13 19:01:30,927 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 19:01:30,946 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:01:30,947 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  492.614567  257.812155
1  476.951324  266.941244
2  490.320220  267.128889
3  494.921839  269.564651
4  485.277010  271.982159
2023-11-13 19:01:31,036 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  492.614567  257.812155
2023-09-01  476.951324  266.941244
2023-09-04  490.320220  267.128889
2023-09-05  494.921839  269.564651
2023-09-06  485.277010  271.982159
2023-11-13 19:01:31,051 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 19:01:31,053 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  492.614567  257.812155
2023-09-01  476.951324  266.941244
2023-09-04  490.320220  267.128889
2023-09-05  494.921839  269.564651
...                ...         ...
2024-07-24  837.074379  347.713978
2024-07-25  873.275246  350.193314
2024-07-26  860.145702  361.022635
2024-07-29  872.524265  365.751598
2024-07-30  906.414597  367.084587

[230 rows x 2 columns]
2023-11-13 19:01:31,159 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:01:31,159 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5c7590>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  492.614567  257.812155
2023-09-01  476.951324  266.941244
2023-09-04  490.320220  267.128889
2023-09-05  494.921839  269.564651
2023-09-06  485.277010  271.982159
...                ...         ...
2024-07-24  837.074379  347.713978
2024-07-25  873.275246  350.193314
2024-07-26  860.145702  361.022635
2024-07-29  872.524265  365.751598
2024-07-30  906.414597  367.084587

[229 rows x 2 columns], sim=2): 0.0h 0.0m 0s 121ms
2023-11-13 19:01:31,159 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e5c7590>, n_sim=3): 0.0h 1.0m 1s 998ms
2023-11-13 19:01:31,159 - yq - INFO - Pricing the product on 2023-08-31 00:00:00
2023-11-13 19:01:31,159 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:01:31,166 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:01:31,725 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-11-13 19:01:31,725 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230831.csv
2023-11-13 19:01:31,730 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/lonn_call.csv
2023-11-13 19:01:31,732 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     440  53.750000  27.479589  0.0175
1  0.140351     450  44.949997  26.013029  0.0175
2  0.140351     460  36.750000  24.936087  0.0175
3  0.140351     470  29.224991  24.031950  0.0175
4  0.140351     480  22.524994  23.274614  0.0175
2023-11-13 19:01:31,734 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/sika_call.csv
2023-11-13 19:01:31,736 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     210  42.050003  28.883789  0.0175
1  0.140351     220  32.525002  26.351738  0.0175
2  0.140351     230  23.550003  24.511261  0.0175
3  0.140351     240  15.625000  23.255863  0.0175
4  0.140351     250   9.325000  22.476318  0.0175
2023-11-13 19:01:31,739 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     440  53.750000  0.0175
1  0.140351     450  44.949997  0.0175
2  0.140351     460  36.750000  0.0175
3  0.140351     470  29.224991  0.0175
4  0.140351     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.140351     210  42.050003  0.0175
1  0.140351     220  32.525002  0.0175
2  0.140351     230  23.550003  0.0175
3  0.140351     240  15.625000  0.0175
4  0.140351     250   9.325000  0.0175
2023-11-13 19:01:31,740 - yq - INFO - Calibrating LONZA on 2023-08-31 00:00:00.
2023-11-13 19:02:00,599 - yq - INFO - Calibrating SIKA on 2023-08-31 00:00:00.
2023-11-13 19:02:32,094 - yq - INFO - The S_0 for LONZA and SIKA are 488.9 and 250.4
2023-11-13 19:02:32,095 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 19:02:32,106 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230831.csv
2023-11-13 19:02:32,106 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.59214261  0.02021137 -0.10970634  0.46162083  0.27190494]
 [ 0.59364873  0.20855077 -0.05900075  0.49999583  0.28146356]]
2023-11-13 19:02:32,107 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b32310>, Timestamp('2023-08-31 00:00:00')): 0.0h 1.0m 0s 382ms
2023-11-13 19:02:32,115 - yq - INFO - The log returns list for all assets is: [Date
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
                ...   
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
                ...   
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:02:32,117 - yq - INFO - rho_S1S2 is 0.42699878448050116

2023-11-13 19:02:32,117 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42699878]
 [0.42699878 1.        ]]

2023-11-13 19:02:32,117 - yq - INFO - Simplified correlation matrix is:
[[1.         0.46162083 0.42699878 0.        ]
 [0.46162083 1.         0.         0.        ]
 [0.42699878 0.         1.         0.49999583]
 [0.         0.         0.49999583 1.        ]]

2023-11-13 19:02:32,118 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.46162083  0.88707734  0.          0.        ]
 [ 0.42699878 -0.22220333  0.87652594  0.        ]
 [ 0.          0.          0.57042902  0.8213469 ]]

2023-11-13 19:02:32,118 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b32310>): 0.0h 0.0m 0s 11ms
2023-11-13 19:02:32,125 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 19:02:32,146 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:02:32,149 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  496.765008  251.035765
1  478.566151  236.091506
2  492.038795  230.878183
3  489.477875  214.982250
4  459.553427  225.065780
2023-11-13 19:02:32,245 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  496.765008  251.035765
2023-09-04  478.566151  236.091506
2023-09-05  492.038795  230.878183
2023-09-06  489.477875  214.982250
2023-09-07  459.553427  225.065780
2023-11-13 19:02:32,345 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 19:02:32,348 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  496.765008  251.035765
2023-09-04  478.566151  236.091506
2023-09-05  492.038795  230.878183
2023-09-06  489.477875  214.982250
...                ...         ...
2024-07-24  658.502158  478.542375
2024-07-25  649.244257  464.552622
2024-07-26  645.250943  453.497912
2024-07-29  642.050982  440.574366
2024-07-30  641.593310  435.985800

[229 rows x 2 columns]
2023-11-13 19:02:32,471 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:02:32,472 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b32310>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  496.765008  251.035765
2023-09-04  478.566151  236.091506
2023-09-05  492.038795  230.878183
2023-09-06  489.477875  214.982250
2023-09-07  459.553427  225.065780
...                ...         ...
2024-07-24  658.502158  478.542375
2024-07-25  649.244257  464.552622
2024-07-26  645.250943  453.497912
2024-07-29  642.050982  440.574366
2024-07-30  641.593310  435.985800

[228 rows x 2 columns], sim=0): 0.0h 0.0m 0s 224ms
2023-11-13 19:02:32,472 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 19:02:32,492 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:02:32,493 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  503.260325  250.763029
1  484.886543  246.117935
2  466.289671  246.691091
3  467.009535  254.223938
4  444.150036  246.302496
2023-11-13 19:02:32,585 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  503.260325  250.763029
2023-09-04  484.886543  246.117935
2023-09-05  466.289671  246.691091
2023-09-06  467.009535  254.223938
2023-09-07  444.150036  246.302496
2023-11-13 19:02:32,607 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 19:02:32,609 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  503.260325  250.763029
2023-09-04  484.886543  246.117935
2023-09-05  466.289671  246.691091
2023-09-06  467.009535  254.223938
...                ...         ...
2024-07-24  640.904611  299.486546
2024-07-25  633.809131  304.308325
2024-07-26  633.858694  290.356861
2024-07-29  623.808260  285.573357
2024-07-30  619.564790  276.461986

[229 rows x 2 columns]
2023-11-13 19:02:32,714 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:02:32,714 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b32310>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  503.260325  250.763029
2023-09-04  484.886543  246.117935
2023-09-05  466.289671  246.691091
2023-09-06  467.009535  254.223938
2023-09-07  444.150036  246.302496
...                ...         ...
2024-07-24  640.904611  299.486546
2024-07-25  633.809131  304.308325
2024-07-26  633.858694  290.356861
2024-07-29  623.808260  285.573357
2024-07-30  619.564790  276.461986

[228 rows x 2 columns], sim=1): 0.0h 0.0m 0s 120ms
2023-11-13 19:02:32,714 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 19:02:32,734 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:02:32,736 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  500.255001  252.869519
1  521.548889  255.720739
2  535.730653  256.671121
3  572.834716  259.439984
4  579.421264  261.931310
2023-11-13 19:02:32,830 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  500.255001  252.869519
2023-09-04  521.548889  255.720739
2023-09-05  535.730653  256.671121
2023-09-06  572.834716  259.439984
2023-09-07  579.421264  261.931310
2023-11-13 19:02:32,846 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 19:02:32,848 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  500.255001  252.869519
2023-09-04  521.548889  255.720739
2023-09-05  535.730653  256.671121
2023-09-06  572.834716  259.439984
...                ...         ...
2024-07-24  561.980758  184.661998
2024-07-25  564.678808  182.837634
2024-07-26  567.917449  187.557289
2024-07-29  569.501071  191.250893
2024-07-30  565.384900  188.808360

[229 rows x 2 columns]
2023-11-13 19:02:32,956 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:02:32,956 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b32310>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  500.255001  252.869519
2023-09-04  521.548889  255.720739
2023-09-05  535.730653  256.671121
2023-09-06  572.834716  259.439984
2023-09-07  579.421264  261.931310
...                ...         ...
2024-07-24  561.980758  184.661998
2024-07-25  564.678808  182.837634
2024-07-26  567.917449  187.557289
2024-07-29  569.501071  191.250893
2024-07-30  565.384900  188.808360

[228 rows x 2 columns], sim=2): 0.0h 0.0m 0s 123ms
2023-11-13 19:02:32,956 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b32310>, n_sim=3): 0.0h 1.0m 1s 233ms
2023-11-13 19:02:32,956 - yq - INFO - Pricing the product on 2023-09-01 00:00:00
2023-11-13 19:02:32,956 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:02:32,963 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:02:33,175 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-11-13 19:02:33,175 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230901.csv
2023-11-13 19:02:33,178 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/lonn_call.csv
2023-11-13 19:02:33,179 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     440  49.199997  29.907877  0.0175
1  0.137544     450  40.449997  27.950396  0.0175
2  0.137544     460  32.449997  26.641903  0.0175
3  0.137544     470  25.049995  25.297674  0.0175
4  0.137544     480  18.649996  24.305870  0.0175
2023-11-13 19:02:33,180 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/sika_call.csv
2023-11-13 19:02:33,181 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     200  48.399994  34.529781  0.0175
1  0.137544     210  38.724991  30.920095  0.0175
2  0.137544     220  29.299995  27.579824  0.0175
3  0.137544     230  20.625000  25.546993  0.0175
4  0.137544     240  13.125000  23.984301  0.0175
2023-11-13 19:02:33,184 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     440  49.199997  0.0175
1  0.137544     450  40.449997  0.0175
2  0.137544     460  32.449997  0.0175
3  0.137544     470  25.049995  0.0175
4  0.137544     480  18.649996  0.0175
   maturity  strike      price    rate
0  0.137544     200  48.399994  0.0175
1  0.137544     210  38.724991  0.0175
2  0.137544     220  29.299995  0.0175
3  0.137544     230  20.625000  0.0175
4  0.137544     240  13.125000  0.0175
2023-11-13 19:02:33,185 - yq - INFO - Calibrating LONZA on 2023-09-01 00:00:00.
2023-11-13 19:03:03,259 - yq - INFO - Calibrating SIKA on 2023-09-01 00:00:00.
2023-11-13 19:03:33,090 - yq - INFO - The S_0 for LONZA and SIKA are 492.5 and 247.0
2023-11-13 19:03:33,093 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 59 seconds
2023-11-13 19:03:33,110 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230901.csv
2023-11-13 19:03:33,110 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.31620876  0.03323644 -0.08064225  0.4842838   0.29567013]
 [ 2.24297716  0.03570834 -0.08221894  0.47299939  0.29970399]]
2023-11-13 19:03:33,112 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13fd1e850>, Timestamp('2023-09-01 00:00:00')): 0.0h 0.0m 59s 937ms
2023-11-13 19:03:33,121 - yq - INFO - The log returns list for all assets is: [Date
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
                ...   
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
                ...   
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:03:33,123 - yq - INFO - rho_S1S2 is 0.4188302744380037

2023-11-13 19:03:33,123 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41883027]
 [0.41883027 1.        ]]

2023-11-13 19:03:33,124 - yq - INFO - Simplified correlation matrix is:
[[1.         0.4842838  0.41883027 0.        ]
 [0.4842838  1.         0.         0.        ]
 [0.41883027 0.         1.         0.47299939]
 [0.         0.         0.47299939 1.        ]]

2023-11-13 19:03:33,124 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.4842838   0.87491097  0.          0.        ]
 [ 0.41883027 -0.23183241  0.87797206  0.        ]
 [ 0.          0.          0.53874082  0.84247156]]

2023-11-13 19:03:33,124 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13fd1e850>): 0.0h 0.0m 0s 12ms
2023-11-13 19:03:33,134 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 19:03:33,154 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:03:33,156 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.701801  260.364580
1  479.367594  259.556624
2  487.628200  265.701620
3  462.927727  256.473082
4  439.114791  257.776912
2023-11-13 19:03:33,262 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  487.701801  260.364580
2023-09-05  479.367594  259.556624
2023-09-06  487.628200  265.701620
2023-09-07  462.927727  256.473082
2023-09-08  439.114791  257.776912
2023-11-13 19:03:33,331 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 19:03:33,334 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  487.701801  260.364580
2023-09-05  479.367594  259.556624
2023-09-06  487.628200  265.701620
2023-09-07  462.927727  256.473082
...                ...         ...
2024-07-24  305.055897  270.911473
2024-07-25  314.645958  283.084270
2024-07-26  316.078023  282.565126
2024-07-29  314.339251  278.236595
2024-07-30  317.789773  279.387497

[228 rows x 2 columns]
2023-11-13 19:03:33,456 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:03:33,456 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd1e850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  487.701801  260.364580
2023-09-05  479.367594  259.556624
2023-09-06  487.628200  265.701620
2023-09-07  462.927727  256.473082
2023-09-08  439.114791  257.776912
...                ...         ...
2024-07-24  305.055897  270.911473
2024-07-25  314.645958  283.084270
2024-07-26  316.078023  282.565126
2024-07-29  314.339251  278.236595
2024-07-30  317.789773  279.387497

[227 rows x 2 columns], sim=0): 0.0h 0.0m 0s 192ms
2023-11-13 19:03:33,457 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 19:03:33,476 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:03:33,477 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  489.699057  257.795915
1  484.383372  269.233082
2  462.170783  259.710530
3  472.878212  265.483557
4  483.951031  265.738691
2023-11-13 19:03:33,569 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  489.699057  257.795915
2023-09-05  484.383372  269.233082
2023-09-06  462.170783  259.710530
2023-09-07  472.878212  265.483557
2023-09-08  483.951031  265.738691
2023-11-13 19:03:33,584 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 19:03:33,587 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  489.699057  257.795915
2023-09-05  484.383372  269.233082
2023-09-06  462.170783  259.710530
2023-09-07  472.878212  265.483557
...                ...         ...
2024-07-24  659.374836  275.502729
2024-07-25  652.461215  275.144895
2024-07-26  672.076080  277.087581
2024-07-29  673.583766  272.055698
2024-07-30  680.207730  267.339706

[228 rows x 2 columns]
2023-11-13 19:03:33,691 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:03:33,691 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd1e850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  489.699057  257.795915
2023-09-05  484.383372  269.233082
2023-09-06  462.170783  259.710530
2023-09-07  472.878212  265.483557
2023-09-08  483.951031  265.738691
...                ...         ...
2024-07-24  659.374836  275.502729
2024-07-25  652.461215  275.144895
2024-07-26  672.076080  277.087581
2024-07-29  673.583766  272.055698
2024-07-30  680.207730  267.339706

[227 rows x 2 columns], sim=1): 0.0h 0.0m 0s 119ms
2023-11-13 19:03:33,692 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 19:03:33,713 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:03:33,714 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.869983  248.200690
1  463.148416  234.315227
2  462.477884  244.742847
3  453.569932  238.910548
4  458.648397  241.657065
2023-11-13 19:03:33,810 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  484.869983  248.200690
2023-09-05  463.148416  234.315227
2023-09-06  462.477884  244.742847
2023-09-07  453.569932  238.910548
2023-09-08  458.648397  241.657065
2023-11-13 19:03:33,830 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 19:03:33,833 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  484.869983  248.200690
2023-09-05  463.148416  234.315227
2023-09-06  462.477884  244.742847
2023-09-07  453.569932  238.910548
...                ...         ...
2024-07-24  382.062041  208.685392
2024-07-25  386.602833  217.565648
2024-07-26  398.770676  220.734554
2024-07-29  400.617526  224.867494
2024-07-30  400.522031  228.716105

[228 rows x 2 columns]
2023-11-13 19:03:33,939 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:03:33,939 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd1e850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  484.869983  248.200690
2023-09-05  463.148416  234.315227
2023-09-06  462.477884  244.742847
2023-09-07  453.569932  238.910548
2023-09-08  458.648397  241.657065
...                ...         ...
2024-07-24  382.062041  208.685392
2024-07-25  386.602833  217.565648
2024-07-26  398.770676  220.734554
2024-07-29  400.617526  224.867494
2024-07-30  400.522031  228.716105

[227 rows x 2 columns], sim=2): 0.0h 0.0m 0s 126ms
2023-11-13 19:03:33,939 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13fd1e850>, n_sim=3): 0.0h 1.0m 0s 766ms
2023-11-13 19:03:33,939 - yq - INFO - Pricing the product on 2023-09-04 00:00:00
2023-11-13 19:03:33,939 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:03:33,947 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:03:34,151 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-11-13 19:03:34,152 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230904.csv
2023-11-13 19:03:34,155 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/lonn_call.csv
2023-11-13 19:03:34,157 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     450  51.750000  30.906645  0.0175
1  0.129123     460  42.599991  28.382610  0.0175
2  0.129123     470  33.899994  26.205038  0.0175
3  0.129123     480  25.949997  24.541363  0.0175
4  0.129123     490  20.000000  24.976856  0.0175
2023-11-13 19:03:34,157 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/sika_call.csv
2023-11-13 19:03:34,159 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     200  48.399994  34.529781  0.0175
1  0.129123     210  38.724991  30.920095  0.0175
2  0.129123     220  29.299995  27.579824  0.0175
3  0.129123     230  20.625000  25.546993  0.0175
4  0.129123     240  13.125000  23.984301  0.0175
2023-11-13 19:03:34,162 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     450  51.750000  0.0175
1  0.129123     460  42.599991  0.0175
2  0.129123     470  33.899994  0.0175
3  0.129123     480  25.949997  0.0175
4  0.129123     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.129123     200  48.399994  0.0175
1  0.129123     210  38.724991  0.0175
2  0.129123     220  29.299995  0.0175
3  0.129123     230  20.625000  0.0175
4  0.129123     240  13.125000  0.0175
2023-11-13 19:03:34,162 - yq - INFO - Calibrating LONZA on 2023-09-04 00:00:00.
2023-11-13 19:04:05,232 - yq - INFO - Calibrating SIKA on 2023-09-04 00:00:00.
2023-11-13 19:04:36,491 - yq - INFO - The S_0 for LONZA and SIKA are 495.3 and 247.5
2023-11-13 19:04:36,492 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 2 seconds
2023-11-13 19:04:36,505 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230904.csv
2023-11-13 19:04:36,505 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.93346328  0.04746603 -0.08166659  0.49908188  0.35311166]
 [ 2.48776816  0.03560839 -0.0752348   0.46795118  0.30329866]]
2023-11-13 19:04:36,507 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284fcfc50>, Timestamp('2023-09-04 00:00:00')): 0.0h 1.0m 2s 355ms
2023-11-13 19:04:36,514 - yq - INFO - The log returns list for all assets is: [Date
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
                ...   
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
                ...   
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:04:36,516 - yq - INFO - rho_S1S2 is 0.41812507172262614

2023-11-13 19:04:36,516 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41812507]
 [0.41812507 1.        ]]

2023-11-13 19:04:36,516 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49908188 0.41812507 0.        ]
 [0.49908188 1.         0.         0.        ]
 [0.41812507 0.         1.         0.46795118]
 [0.         0.         0.46795118 1.        ]]

2023-11-13 19:04:36,517 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49908188  0.86655483  0.          0.        ]
 [ 0.41812507 -0.24081413  0.87588811  0.        ]
 [ 0.          0.          0.53425909  0.84532078]]

2023-11-13 19:04:36,517 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284fcfc50>): 0.0h 0.0m 0s 10ms
2023-11-13 19:04:36,535 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 19:04:36,556 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:04:36,559 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  511.450065  250.417572
1  478.022850  244.484885
2  470.042224  242.131338
3  446.624217  241.172478
4  404.716448  228.414017
2023-11-13 19:04:36,657 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  511.450065  250.417572
2023-09-06  478.022850  244.484885
2023-09-07  470.042224  242.131338
2023-09-08  446.624217  241.172478
2023-09-11  404.716448  228.414017
2023-11-13 19:04:36,739 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 19:04:36,742 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  511.450065  250.417572
2023-09-06  478.022850  244.484885
2023-09-07  470.042224  242.131338
2023-09-08  446.624217  241.172478
...                ...         ...
2024-07-24  407.882899  229.543060
2024-07-25  399.956573  223.293905
2024-07-26  395.877207  227.568909
2024-07-29  385.343866  230.664392
2024-07-30  385.047836  234.691300

[227 rows x 2 columns]
2023-11-13 19:04:36,859 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:04:36,859 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fcfc50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  511.450065  250.417572
2023-09-06  478.022850  244.484885
2023-09-07  470.042224  242.131338
2023-09-08  446.624217  241.172478
2023-09-11  404.716448  228.414017
...                ...         ...
2024-07-24  407.882899  229.543060
2024-07-25  399.956573  223.293905
2024-07-26  395.877207  227.568909
2024-07-29  385.343866  230.664392
2024-07-30  385.047836  234.691300

[226 rows x 2 columns], sim=0): 0.0h 0.0m 0s 199ms
2023-11-13 19:04:36,859 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 19:04:36,880 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:04:36,881 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  474.650494  237.955463
1  451.181445  235.892025
2  449.831840  237.309938
3  444.911142  232.758088
4  434.673617  241.144984
2023-11-13 19:04:36,981 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  474.650494  237.955463
2023-09-06  451.181445  235.892025
2023-09-07  449.831840  237.309938
2023-09-08  444.911142  232.758088
2023-09-11  434.673617  241.144984
2023-11-13 19:04:36,997 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 19:04:37,000 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  474.650494  237.955463
2023-09-06  451.181445  235.892025
2023-09-07  449.831840  237.309938
2023-09-08  444.911142  232.758088
...                ...         ...
2024-07-24  536.941284  172.818057
2024-07-25  540.058475  175.578124
2024-07-26  537.680960  173.046723
2024-07-29  545.952004  178.437223
2024-07-30  554.385295  182.310797

[227 rows x 2 columns]
2023-11-13 19:04:37,111 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:04:37,111 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fcfc50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  474.650494  237.955463
2023-09-06  451.181445  235.892025
2023-09-07  449.831840  237.309938
2023-09-08  444.911142  232.758088
2023-09-11  434.673617  241.144984
...                ...         ...
2024-07-24  536.941284  172.818057
2024-07-25  540.058475  175.578124
2024-07-26  537.680960  173.046723
2024-07-29  545.952004  178.437223
2024-07-30  554.385295  182.310797

[226 rows x 2 columns], sim=1): 0.0h 0.0m 0s 128ms
2023-11-13 19:04:37,112 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 19:04:37,133 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:04:37,135 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  505.392971  244.683055
1  492.591809  238.097177
2  522.645960  247.447990
3  524.551589  238.870466
4  545.658905  236.766307
2023-11-13 19:04:37,239 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  505.392971  244.683055
2023-09-06  492.591809  238.097177
2023-09-07  522.645960  247.447990
2023-09-08  524.551589  238.870466
2023-09-11  545.658905  236.766307
2023-11-13 19:04:37,264 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 19:04:37,267 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  505.392971  244.683055
2023-09-06  492.591809  238.097177
2023-09-07  522.645960  247.447990
2023-09-08  524.551589  238.870466
...                ...         ...
2024-07-24  540.787092  276.330439
2024-07-25  545.375722  272.282222
2024-07-26  547.870457  276.884060
2024-07-29  548.198665  279.346699
2024-07-30  567.741293  277.064554

[227 rows x 2 columns]
2023-11-13 19:04:37,386 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:04:37,386 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fcfc50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  505.392971  244.683055
2023-09-06  492.591809  238.097177
2023-09-07  522.645960  247.447990
2023-09-08  524.551589  238.870466
2023-09-11  545.658905  236.766307
...                ...         ...
2024-07-24  540.787092  276.330439
2024-07-25  545.375722  272.282222
2024-07-26  547.870457  276.884060
2024-07-29  548.198665  279.346699
2024-07-30  567.741293  277.064554

[226 rows x 2 columns], sim=2): 0.0h 0.0m 0s 144ms
2023-11-13 19:04:37,386 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284fcfc50>, n_sim=3): 0.0h 1.0m 3s 236ms
2023-11-13 19:04:37,386 - yq - INFO - Pricing the product on 2023-09-05 00:00:00
2023-11-13 19:04:37,386 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:04:37,395 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:04:37,627 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-11-13 19:04:37,628 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230905.csv
2023-11-13 19:04:37,631 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/lonn_call.csv
2023-11-13 19:04:37,634 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     450  51.750000  30.906645  0.0175
1  0.126316     460  42.599991  28.382610  0.0175
2  0.126316     470  33.899994  26.205038  0.0175
3  0.126316     480  25.949997  24.541363  0.0175
4  0.126316     490  20.000000  24.976856  0.0175
2023-11-13 19:04:37,635 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/sika_call.csv
2023-11-13 19:04:37,638 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     195  47.824997  34.854164  0.0175
1  0.126316     200  43.025002  33.723049  0.0175
2  0.126316     210  33.425003  29.825727  0.0175
3  0.126316     220  24.275002  26.838257  0.0175
4  0.126316     230  16.150000  25.069353  0.0175
2023-11-13 19:04:37,644 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     450  51.750000  0.0175
1  0.126316     460  42.599991  0.0175
2  0.126316     470  33.899994  0.0175
3  0.126316     480  25.949997  0.0175
4  0.126316     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.126316     195  47.824997  0.0175
1  0.126316     200  43.025002  0.0175
2  0.126316     210  33.425003  0.0175
3  0.126316     220  24.275002  0.0175
4  0.126316     230  16.150000  0.0175
2023-11-13 19:04:37,644 - yq - INFO - Calibrating LONZA on 2023-09-05 00:00:00.
2023-11-13 19:05:09,749 - yq - INFO - Calibrating SIKA on 2023-09-05 00:00:00.
2023-11-13 19:05:38,840 - yq - INFO - The S_0 for LONZA and SIKA are 494.4 and 241.8
2023-11-13 19:05:38,841 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 1 seconds
2023-11-13 19:05:38,849 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230905.csv
2023-11-13 19:05:38,849 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.93850781  0.03092621 -0.07975329  0.46494976  0.32825381]
 [ 0.56842901  0.8981093  -0.14261829  0.497741    0.49820795]]
2023-11-13 19:05:38,850 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285126650>, Timestamp('2023-09-05 00:00:00')): 0.0h 1.0m 1s 223ms
2023-11-13 19:05:38,858 - yq - INFO - The log returns list for all assets is: [Date
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
                ...   
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
                ...   
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:05:38,862 - yq - INFO - rho_S1S2 is 0.41003852432556814

2023-11-13 19:05:38,862 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41003852]
 [0.41003852 1.        ]]

2023-11-13 19:05:38,862 - yq - INFO - Simplified correlation matrix is:
[[1.         0.46494976 0.41003852 0.        ]
 [0.46494976 1.         0.         0.        ]
 [0.41003852 0.         1.         0.497741  ]
 [0.         0.         0.497741   1.        ]]

2023-11-13 19:05:38,862 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.46494976  0.88533707  0.          0.        ]
 [ 0.41003852 -0.21533868  0.88628306  0.        ]
 [ 0.          0.          0.561605    0.82740548]]

2023-11-13 19:05:38,862 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285126650>): 0.0h 0.0m 0s 12ms
2023-11-13 19:05:38,872 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 19:05:38,892 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:05:38,895 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  498.404586  245.091989
1  506.375861  257.250680
2  509.140503  251.383501
3  535.998133  263.314838
4  507.779203  252.319307
2023-11-13 19:05:38,997 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  498.404586  245.091989
2023-09-07  506.375861  257.250680
2023-09-08  509.140503  251.383501
2023-09-11  535.998133  263.314838
2023-09-12  507.779203  252.319307
2023-11-13 19:05:39,079 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 19:05:39,082 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  498.404586  245.091989
2023-09-07  506.375861  257.250680
2023-09-08  509.140503  251.383501
2023-09-11  535.998133  263.314838
...                ...         ...
2024-07-24  368.854429  255.876420
2024-07-25  369.578997  272.838670
2024-07-26  368.968568  253.321997
2024-07-29  368.095723  260.775435
2024-07-30  355.041310  247.982851

[226 rows x 2 columns]
2023-11-13 19:05:39,194 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:05:39,194 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285126650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  498.404586  245.091989
2023-09-07  506.375861  257.250680
2023-09-08  509.140503  251.383501
2023-09-11  535.998133  263.314838
2023-09-12  507.779203  252.319307
...                ...         ...
2024-07-24  368.854429  255.876420
2024-07-25  369.578997  272.838670
2024-07-26  368.968568  253.321997
2024-07-29  368.095723  260.775435
2024-07-30  355.041310  247.982851

[225 rows x 2 columns], sim=0): 0.0h 0.0m 0s 195ms
2023-11-13 19:05:39,195 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 19:05:39,214 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:05:39,215 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  513.776089  236.745506
1  538.749401  231.926422
2  559.704460  224.009832
3  546.842153  203.206496
4  521.218888  205.206124
2023-11-13 19:05:39,306 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  513.776089  236.745506
2023-09-07  538.749401  231.926422
2023-09-08  559.704460  224.009832
2023-09-11  546.842153  203.206496
2023-09-12  521.218888  205.206124
2023-11-13 19:05:39,320 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 19:05:39,322 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  513.776089  236.745506
2023-09-07  538.749401  231.926422
2023-09-08  559.704460  224.009832
2023-09-11  546.842153  203.206496
...                ...         ...
2024-07-24  360.794589  269.081037
2024-07-25  362.416507  280.609926
2024-07-26  366.613670  285.469785
2024-07-29  366.594317  280.932542
2024-07-30  371.463238  295.590619

[226 rows x 2 columns]
2023-11-13 19:05:39,425 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:05:39,426 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285126650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  513.776089  236.745506
2023-09-07  538.749401  231.926422
2023-09-08  559.704460  224.009832
2023-09-11  546.842153  203.206496
2023-09-12  521.218888  205.206124
...                ...         ...
2024-07-24  360.794589  269.081037
2024-07-25  362.416507  280.609926
2024-07-26  366.613670  285.469785
2024-07-29  366.594317  280.932542
2024-07-30  371.463238  295.590619

[225 rows x 2 columns], sim=1): 0.0h 0.0m 0s 118ms
2023-11-13 19:05:39,426 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 19:05:39,447 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:05:39,448 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  469.106859  232.521479
1  467.381825  242.929882
2  507.497442  253.461829
3  485.716918  247.740033
4  460.084139  245.134466
2023-11-13 19:05:39,677 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  469.106859  232.521479
2023-09-07  467.381825  242.929882
2023-09-08  507.497442  253.461829
2023-09-11  485.716918  247.740033
2023-09-12  460.084139  245.134466
2023-11-13 19:05:39,697 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 19:05:39,700 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  469.106859  232.521479
2023-09-07  467.381825  242.929882
2023-09-08  507.497442  253.461829
2023-09-11  485.716918  247.740033
...                ...         ...
2024-07-24  376.320043   69.068491
2024-07-25  376.936626   67.506048
2024-07-26  372.146747   69.116791
2024-07-29  367.168142   70.687852
2024-07-30  371.693731   73.019009

[226 rows x 2 columns]
2023-11-13 19:05:39,805 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:05:39,805 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285126650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  469.106859  232.521479
2023-09-07  467.381825  242.929882
2023-09-08  507.497442  253.461829
2023-09-11  485.716918  247.740033
2023-09-12  460.084139  245.134466
...                ...         ...
2024-07-24  376.320043   69.068491
2024-07-25  376.936626   67.506048
2024-07-26  372.146747   69.116791
2024-07-29  367.168142   70.687852
2024-07-30  371.693731   73.019009

[225 rows x 2 columns], sim=2): 0.0h 0.0m 0s 123ms
2023-11-13 19:05:39,806 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285126650>, n_sim=3): 0.0h 1.0m 2s 180ms
2023-11-13 19:05:39,806 - yq - INFO - Pricing the product on 2023-09-06 00:00:00
2023-11-13 19:05:39,806 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:05:39,814 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:05:40,028 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-11-13 19:05:40,028 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230906.csv
2023-11-13 19:05:40,032 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/lonn_call.csv
2023-11-13 19:05:40,033 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     450  51.750000  30.906645  0.0175
1  0.123509     460  42.599991  28.382610  0.0175
2  0.123509     470  33.899994  26.205038  0.0175
3  0.123509     480  25.949997  24.541363  0.0175
4  0.123509     490  20.000000  24.976856  0.0175
2023-11-13 19:05:40,034 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/sika_call.csv
2023-11-13 19:05:40,036 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     200  46.400002  35.939377  0.0175
1  0.123509     210  36.725006  31.652964  0.0175
2  0.123509     220  27.350006  27.994894  0.0175
3  0.123509     230  18.775002  25.656116  0.0175
4  0.123509     240  11.525000  24.011927  0.0175
2023-11-13 19:05:40,039 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     450  51.750000  0.0175
1  0.123509     460  42.599991  0.0175
2  0.123509     470  33.899994  0.0175
3  0.123509     480  25.949997  0.0175
4  0.123509     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.123509     200  46.400002  0.0175
1  0.123509     210  36.725006  0.0175
2  0.123509     220  27.350006  0.0175
3  0.123509     230  18.775002  0.0175
4  0.123509     240  11.525000  0.0175
2023-11-13 19:05:40,039 - yq - INFO - Calibrating LONZA on 2023-09-06 00:00:00.
2023-11-13 19:06:09,352 - yq - INFO - Calibrating SIKA on 2023-09-06 00:00:00.
2023-11-13 19:06:41,034 - yq - INFO - The S_0 for LONZA and SIKA are 496.1 and 245.5
2023-11-13 19:06:41,035 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 19:06:41,044 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230906.csv
2023-11-13 19:06:41,044 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.2530891   0.03988815 -0.0756017   0.49323974  0.34824311]
 [ 5.67219548  0.01593937 -0.09951881  0.48482255  0.33430654]]
2023-11-13 19:06:41,045 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e5438d0>, Timestamp('2023-09-06 00:00:00')): 0.0h 1.0m 1s 17ms
2023-11-13 19:06:41,057 - yq - INFO - The log returns list for all assets is: [Date
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
                ...   
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
                ...   
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:06:41,059 - yq - INFO - rho_S1S2 is 0.39478894626329986

2023-11-13 19:06:41,059 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39478895]
 [0.39478895 1.        ]]

2023-11-13 19:06:41,059 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49323974 0.39478895 0.        ]
 [0.49323974 1.         0.         0.        ]
 [0.39478895 0.         1.         0.48482255]
 [0.         0.         0.48482255 1.        ]]

2023-11-13 19:06:41,059 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49323974  0.86989342  0.          0.        ]
 [ 0.39478895 -0.22384995  0.89108523  0.        ]
 [ 0.          0.          0.54408101  0.83903269]]

2023-11-13 19:06:41,060 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e5438d0>): 0.0h 0.0m 0s 14ms
2023-11-13 19:06:41,066 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 19:06:41,088 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:06:41,091 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  502.802124  253.114836
1  491.518892  250.064287
2  485.214928  236.760878
3  473.512503  246.970634
4  474.558696  240.506724
2023-11-13 19:06:41,201 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  502.802124  253.114836
2023-09-08  491.518892  250.064287
2023-09-11  485.214928  236.760878
2023-09-12  473.512503  246.970634
2023-09-13  474.558696  240.506724
2023-11-13 19:06:41,295 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 19:06:41,298 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  502.802124  253.114836
2023-09-08  491.518892  250.064287
2023-09-11  485.214928  236.760878
2023-09-12  473.512503  246.970634
...                ...         ...
2024-07-24  624.137717  370.511729
2024-07-25  618.761917  374.623804
2024-07-26  604.903423  378.477573
2024-07-29  613.118695  382.721046
2024-07-30  614.699195  387.817827

[225 rows x 2 columns]
2023-11-13 19:06:41,417 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:06:41,418 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5438d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  502.802124  253.114836
2023-09-08  491.518892  250.064287
2023-09-11  485.214928  236.760878
2023-09-12  473.512503  246.970634
2023-09-13  474.558696  240.506724
...                ...         ...
2024-07-24  624.137717  370.511729
2024-07-25  618.761917  374.623804
2024-07-26  604.903423  378.477573
2024-07-29  613.118695  382.721046
2024-07-30  614.699195  387.817827

[224 rows x 2 columns], sim=0): 0.0h 0.0m 0s 213ms
2023-11-13 19:06:41,418 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 19:06:41,439 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:06:41,440 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  499.808401  246.830134
1  509.307350  242.476657
2  509.119382  249.095020
3  514.632354  238.575236
4  518.491548  239.417238
2023-11-13 19:06:41,536 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  499.808401  246.830134
2023-09-08  509.307350  242.476657
2023-09-11  509.119382  249.095020
2023-09-12  514.632354  238.575236
2023-09-13  518.491548  239.417238
2023-11-13 19:06:41,552 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 19:06:41,554 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  499.808401  246.830134
2023-09-08  509.307350  242.476657
2023-09-11  509.119382  249.095020
2023-09-12  514.632354  238.575236
...                ...         ...
2024-07-24  675.991515  291.033599
2024-07-25  694.556175  291.937060
2024-07-26  698.584007  290.326439
2024-07-29  672.447731  285.168156
2024-07-30  661.485458  288.425830

[225 rows x 2 columns]
2023-11-13 19:06:41,664 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:06:41,665 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5438d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  499.808401  246.830134
2023-09-08  509.307350  242.476657
2023-09-11  509.119382  249.095020
2023-09-12  514.632354  238.575236
2023-09-13  518.491548  239.417238
...                ...         ...
2024-07-24  675.991515  291.033599
2024-07-25  694.556175  291.937060
2024-07-26  698.584007  290.326439
2024-07-29  672.447731  285.168156
2024-07-30  661.485458  288.425830

[224 rows x 2 columns], sim=1): 0.0h 0.0m 0s 126ms
2023-11-13 19:06:41,665 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 19:06:41,687 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:06:41,688 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  493.222581  238.481875
1  508.463499  236.934247
2  493.258405  241.256874
3  472.186802  234.599612
4  450.953381  237.700941
2023-11-13 19:06:41,785 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  493.222581  238.481875
2023-09-08  508.463499  236.934247
2023-09-11  493.258405  241.256874
2023-09-12  472.186802  234.599612
2023-09-13  450.953381  237.700941
2023-11-13 19:06:41,800 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 19:06:41,803 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  493.222581  238.481875
2023-09-08  508.463499  236.934247
2023-09-11  493.258405  241.256874
2023-09-12  472.186802  234.599612
...                ...         ...
2024-07-24  241.674224  288.745690
2024-07-25  244.550373  289.413052
2024-07-26  244.303308  292.048800
2024-07-29  244.919016  292.192627
2024-07-30  246.536310  291.219229

[225 rows x 2 columns]
2023-11-13 19:06:41,918 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:06:41,918 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5438d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  493.222581  238.481875
2023-09-08  508.463499  236.934247
2023-09-11  493.258405  241.256874
2023-09-12  472.186802  234.599612
2023-09-13  450.953381  237.700941
...                ...         ...
2024-07-24  241.674224  288.745690
2024-07-25  244.550373  289.413052
2024-07-26  244.303308  292.048800
2024-07-29  244.919016  292.192627
2024-07-30  246.536310  291.219229

[224 rows x 2 columns], sim=2): 0.0h 0.0m 0s 131ms
2023-11-13 19:06:41,918 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e5438d0>, n_sim=3): 0.0h 1.0m 1s 891ms
2023-11-13 19:06:41,918 - yq - INFO - Pricing the product on 2023-09-07 00:00:00
2023-11-13 19:06:41,918 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:06:41,925 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:06:42,145 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-11-13 19:06:42,145 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230907.csv
2023-11-13 19:06:42,149 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/lonn_call.csv
2023-11-13 19:06:42,151 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     450  51.750000  30.906645  0.0175
1  0.120702     460  42.599991  28.382610  0.0175
2  0.120702     470  33.899994  26.205038  0.0175
3  0.120702     480  25.949997  24.541363  0.0175
4  0.120702     490  20.000000  24.976856  0.0175
2023-11-13 19:06:42,152 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/sika_call.csv
2023-11-13 19:06:42,153 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     200  50.349998  39.359463  0.0175
1  0.120702     210  40.625000  34.584309  0.0175
2  0.120702     220  31.100006  30.254286  0.0175
3  0.120702     230  22.099998  26.922087  0.0175
4  0.120702     240  14.300000  25.054329  0.0175
2023-11-13 19:06:42,156 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     450  51.750000  0.0175
1  0.120702     460  42.599991  0.0175
2  0.120702     470  33.899994  0.0175
3  0.120702     480  25.949997  0.0175
4  0.120702     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.120702     200  50.349998  0.0175
1  0.120702     210  40.625000  0.0175
2  0.120702     220  31.100006  0.0175
3  0.120702     230  22.099998  0.0175
4  0.120702     240  14.300000  0.0175
2023-11-13 19:06:42,157 - yq - INFO - Calibrating LONZA on 2023-09-07 00:00:00.
2023-11-13 19:07:15,694 - yq - INFO - Calibrating SIKA on 2023-09-07 00:00:00.
2023-11-13 19:07:46,551 - yq - INFO - The S_0 for LONZA and SIKA are 492.4 and 249.1
2023-11-13 19:07:46,552 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 4 seconds
2023-11-13 19:07:46,559 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230907.csv
2023-11-13 19:07:46,559 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.82860673  0.01625117 -0.08691243  0.49249524  0.32453634]
 [ 3.22810772  0.0163521  -0.07521777  0.45870222  0.3710469 ]]
2023-11-13 19:07:46,560 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e50e750>, Timestamp('2023-09-07 00:00:00')): 0.0h 1.0m 4s 415ms
2023-11-13 19:07:46,568 - yq - INFO - The log returns list for all assets is: [Date
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
                ...   
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
                ...   
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:07:46,570 - yq - INFO - rho_S1S2 is 0.393484816904622

2023-11-13 19:07:46,571 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39348482]
 [0.39348482 1.        ]]

2023-11-13 19:07:46,571 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49249524 0.39348482 0.        ]
 [0.49249524 1.         0.         0.        ]
 [0.39348482 0.         1.         0.45870222]
 [0.         0.         0.45870222 1.        ]]

2023-11-13 19:07:46,571 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49249524  0.87031514  0.          0.        ]
 [ 0.39348482 -0.22266578  0.89195832  0.        ]
 [ 0.          0.          0.51426419  0.85763183]]

2023-11-13 19:07:46,571 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e50e750>): 0.0h 0.0m 0s 11ms
2023-11-13 19:07:46,579 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 19:07:46,602 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:07:46,605 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  520.938130  265.392843
1  478.772211  261.844275
2  497.994622  280.885807
3  504.300205  273.236205
4  490.564596  256.367868
2023-11-13 19:07:46,715 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  520.938130  265.392843
2023-09-11  478.772211  261.844275
2023-09-12  497.994622  280.885807
2023-09-13  504.300205  273.236205
2023-09-14  490.564596  256.367868
2023-11-13 19:07:46,768 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 19:07:46,772 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  520.938130  265.392843
2023-09-11  478.772211  261.844275
2023-09-12  497.994622  280.885807
2023-09-13  504.300205  273.236205
...                ...         ...
2024-07-24  436.952258  175.726076
2024-07-25  443.741073  183.304716
2024-07-26  439.345154  181.800136
2024-07-29  437.343027  180.735322
2024-07-30  437.093924  180.629322

[224 rows x 2 columns]
2023-11-13 19:07:46,887 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:07:46,887 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e50e750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  520.938130  265.392843
2023-09-11  478.772211  261.844275
2023-09-12  497.994622  280.885807
2023-09-13  504.300205  273.236205
2023-09-14  490.564596  256.367868
...                ...         ...
2024-07-24  436.952258  175.726076
2024-07-25  443.741073  183.304716
2024-07-26  439.345154  181.800136
2024-07-29  437.343027  180.735322
2024-07-30  437.093924  180.629322

[223 rows x 2 columns], sim=0): 0.0h 0.0m 0s 170ms
2023-11-13 19:07:46,888 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 19:07:46,910 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:07:46,912 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  495.085515  257.215542
1  484.344334  273.450219
2  518.464623  286.699622
3  548.415551  292.484887
4  489.070606  282.403496
2023-11-13 19:07:47,015 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  495.085515  257.215542
2023-09-11  484.344334  273.450219
2023-09-12  518.464623  286.699622
2023-09-13  548.415551  292.484887
2023-09-14  489.070606  282.403496
2023-11-13 19:07:47,034 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 19:07:47,037 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  495.085515  257.215542
2023-09-11  484.344334  273.450219
2023-09-12  518.464623  286.699622
2023-09-13  548.415551  292.484887
...                ...         ...
2024-07-24  392.926157  210.379179
2024-07-25  394.577005  209.384252
2024-07-26  389.641835  208.584294
2024-07-29  388.487116  208.378439
2024-07-30  388.220898  207.263391

[224 rows x 2 columns]
2023-11-13 19:07:47,149 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:07:47,149 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e50e750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  495.085515  257.215542
2023-09-11  484.344334  273.450219
2023-09-12  518.464623  286.699622
2023-09-13  548.415551  292.484887
2023-09-14  489.070606  282.403496
...                ...         ...
2024-07-24  392.926157  210.379179
2024-07-25  394.577005  209.384252
2024-07-26  389.641835  208.584294
2024-07-29  388.487116  208.378439
2024-07-30  388.220898  207.263391

[223 rows x 2 columns], sim=1): 0.0h 0.0m 0s 131ms
2023-11-13 19:07:47,150 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 19:07:47,170 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:07:47,171 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.611532  250.876254
1  514.910920  235.311823
2  529.042124  230.265557
3  536.681383  219.997329
4  534.741859  222.674159
2023-11-13 19:07:47,269 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  487.611532  250.876254
2023-09-11  514.910920  235.311823
2023-09-12  529.042124  230.265557
2023-09-13  536.681383  219.997329
2023-09-14  534.741859  222.674159
2023-11-13 19:07:47,289 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 19:07:47,291 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  487.611532  250.876254
2023-09-11  514.910920  235.311823
2023-09-12  529.042124  230.265557
2023-09-13  536.681383  219.997329
...                ...         ...
2024-07-24  602.446347  319.733522
2024-07-25  611.082145  319.440828
2024-07-26  603.812592  318.396157
2024-07-29  600.355398  314.500249
2024-07-30  600.628247  314.675499

[224 rows x 2 columns]
2023-11-13 19:07:47,407 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:07:47,407 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e50e750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  487.611532  250.876254
2023-09-11  514.910920  235.311823
2023-09-12  529.042124  230.265557
2023-09-13  536.681383  219.997329
2023-09-14  534.741859  222.674159
...                ...         ...
2024-07-24  602.446347  319.733522
2024-07-25  611.082145  319.440828
2024-07-26  603.812592  318.396157
2024-07-29  600.355398  314.500249
2024-07-30  600.628247  314.675499

[223 rows x 2 columns], sim=2): 0.0h 0.0m 0s 135ms
2023-11-13 19:07:47,407 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e50e750>, n_sim=3): 0.0h 1.0m 5s 264ms
2023-11-13 19:07:47,407 - yq - INFO - Pricing the product on 2023-09-08 00:00:00
2023-11-13 19:07:47,407 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:07:47,415 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:07:47,643 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-11-13 19:07:47,643 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230908.csv
2023-11-13 19:07:47,646 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/lonn_call.csv
2023-11-13 19:07:47,648 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     450  51.750000  30.906645  0.0175
1  0.117895     460  42.599991  28.382610  0.0175
2  0.117895     470  33.899994  26.205038  0.0175
3  0.117895     480  25.949997  24.541363  0.0175
4  0.117895     490  20.000000  24.976856  0.0175
2023-11-13 19:07:47,650 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/sika_call.csv
2023-11-13 19:07:47,652 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     200  43.724991  38.051220  0.0175
1  0.117895     210  34.074997  32.932762  0.0175
2  0.117895     220  24.849991  29.042345  0.0175
3  0.117895     230  16.599998  26.669315  0.0175
4  0.117895     240   9.925000  25.268066  0.0175
2023-11-13 19:07:47,655 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     450  51.750000  0.0175
1  0.117895     460  42.599991  0.0175
2  0.117895     470  33.899994  0.0175
3  0.117895     480  25.949997  0.0175
4  0.117895     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.117895     200  43.724991  0.0175
1  0.117895     210  34.074997  0.0175
2  0.117895     220  24.849991  0.0175
3  0.117895     230  16.599998  0.0175
4  0.117895     240   9.925000  0.0175
2023-11-13 19:07:47,655 - yq - INFO - Calibrating LONZA on 2023-09-08 00:00:00.
2023-11-13 19:08:20,193 - yq - INFO - Calibrating SIKA on 2023-09-08 00:00:00.
2023-11-13 19:08:52,123 - yq - INFO - The S_0 for LONZA and SIKA are 483.8 and 242.6
2023-11-13 19:08:52,123 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 4 seconds
2023-11-13 19:08:52,132 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230908.csv
2023-11-13 19:08:52,132 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.95174462  0.02330904 -0.06371646  0.49854134  0.29550992]
 [ 0.63947478  0.75119702 -0.13121988  0.499909    0.47618609]]
2023-11-13 19:08:52,133 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, Timestamp('2023-09-08 00:00:00')): 0.0h 1.0m 4s 490ms
2023-11-13 19:08:52,145 - yq - INFO - The log returns list for all assets is: [Date
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
                ...   
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
                ...   
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:08:52,147 - yq - INFO - rho_S1S2 is 0.4004093040896815

2023-11-13 19:08:52,147 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4004093]
 [0.4004093 1.       ]]

2023-11-13 19:08:52,148 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49854134 0.4004093  0.        ]
 [0.49854134 1.         0.         0.        ]
 [0.4004093  0.         1.         0.499909  ]
 [0.         0.         0.499909   1.        ]]

2023-11-13 19:08:52,149 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49854134  0.86686592  0.          0.        ]
 [ 0.4004093  -0.23027851  0.88692965  0.        ]
 [ 0.          0.          0.56363997  0.82602057]]

2023-11-13 19:08:52,149 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f5a990>): 0.0h 0.0m 0s 16ms
2023-11-13 19:08:52,158 - yq - INFO - The adjusted S_0 is [483.8 242.6]
2023-11-13 19:08:52,179 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:08:52,182 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.585644  247.644853
1  489.729544  239.071852
2  503.188508  241.051221
3  504.019877  250.228708
4  507.399036  242.511391
2023-11-13 19:08:52,297 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  487.585644  247.644853
2023-09-12  489.729544  239.071852
2023-09-13  503.188508  241.051221
2023-09-14  504.019877  250.228708
2023-09-15  507.399036  242.511391
2023-11-13 19:08:52,387 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
...             ...      ...
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6

[63 rows x 2 columns]
2023-11-13 19:08:52,390 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-08  483.800000  242.600000
2023-09-11  487.585644  247.644853
2023-09-12  489.729544  239.071852
2023-09-13  503.188508  241.051221
2023-09-14  504.019877  250.228708
...                ...         ...
2024-07-24  622.307995  481.112919
2024-07-25  627.310928  490.294019
2024-07-26  621.889472  475.820772
2024-07-29  616.348932  461.410245
2024-07-30  607.081653  439.177309

[223 rows x 2 columns]
2023-11-13 19:08:52,502 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:08:52,502 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  487.585644  247.644853
2023-09-12  489.729544  239.071852
2023-09-13  503.188508  241.051221
2023-09-14  504.019877  250.228708
2023-09-15  507.399036  242.511391
...                ...         ...
2024-07-24  622.307995  481.112919
2024-07-25  627.310928  490.294019
2024-07-26  621.889472  475.820772
2024-07-29  616.348932  461.410245
2024-07-30  607.081653  439.177309

[222 rows x 2 columns], sim=0): 0.0h 0.0m 0s 202ms
2023-11-13 19:08:52,502 - yq - INFO - The adjusted S_0 is [483.8 242.6]
2023-11-13 19:08:52,522 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:08:52,523 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  463.608213  237.847630
1  432.247200  240.964639
2  407.617743  224.883541
3  409.188989  231.717646
4  408.299128  222.493332
2023-11-13 19:08:52,613 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  463.608213  237.847630
2023-09-12  432.247200  240.964639
2023-09-13  407.617743  224.883541
2023-09-14  409.188989  231.717646
2023-09-15  408.299128  222.493332
2023-11-13 19:08:52,629 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
...             ...      ...
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6

[63 rows x 2 columns]
2023-11-13 19:08:52,632 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-08  483.800000  242.600000
2023-09-11  463.608213  237.847630
2023-09-12  432.247200  240.964639
2023-09-13  407.617743  224.883541
2023-09-14  409.188989  231.717646
...                ...         ...
2024-07-24  394.007444  575.400082
2024-07-25  386.766734  531.394742
2024-07-26  387.825907  526.155076
2024-07-29  384.152669  504.732668
2024-07-30  380.377831  500.879815

[223 rows x 2 columns]
2023-11-13 19:08:52,738 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:08:52,738 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  463.608213  237.847630
2023-09-12  432.247200  240.964639
2023-09-13  407.617743  224.883541
2023-09-14  409.188989  231.717646
2023-09-15  408.299128  222.493332
...                ...         ...
2024-07-24  394.007444  575.400082
2024-07-25  386.766734  531.394742
2024-07-26  387.825907  526.155076
2024-07-29  384.152669  504.732668
2024-07-30  380.377831  500.879815

[222 rows x 2 columns], sim=1): 0.0h 0.0m 0s 122ms
2023-11-13 19:08:52,739 - yq - INFO - The adjusted S_0 is [483.8 242.6]
2023-11-13 19:08:52,760 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:08:52,761 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  468.038745  229.795719
1  480.037873  222.644092
2  461.780129  220.394359
3  462.553327  212.162476
4  445.388565  208.609024
2023-11-13 19:08:52,857 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  468.038745  229.795719
2023-09-12  480.037873  222.644092
2023-09-13  461.780129  220.394359
2023-09-14  462.553327  212.162476
2023-09-15  445.388565  208.609024
2023-11-13 19:08:52,873 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
...             ...      ...
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6

[63 rows x 2 columns]
2023-11-13 19:08:52,875 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-08  483.800000  242.600000
2023-09-11  468.038745  229.795719
2023-09-12  480.037873  222.644092
2023-09-13  461.780129  220.394359
2023-09-14  462.553327  212.162476
...                ...         ...
2024-07-24  368.607736   79.773179
2024-07-25  366.399035   83.439704
2024-07-26  365.125611   80.513007
2024-07-29  357.165469   75.209276
2024-07-30  359.019215   69.581089

[223 rows x 2 columns]
2023-11-13 19:08:52,984 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:08:52,984 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  468.038745  229.795719
2023-09-12  480.037873  222.644092
2023-09-13  461.780129  220.394359
2023-09-14  462.553327  212.162476
2023-09-15  445.388565  208.609024
...                ...         ...
2024-07-24  368.607736   79.773179
2024-07-25  366.399035   83.439704
2024-07-26  365.125611   80.513007
2024-07-29  357.165469   75.209276
2024-07-30  359.019215   69.581089

[222 rows x 2 columns], sim=2): 0.0h 0.0m 0s 125ms
2023-11-13 19:08:52,984 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, n_sim=3): 0.0h 1.0m 5s 344ms
2023-11-13 19:08:52,984 - yq - INFO - Pricing the product on 2023-09-11 00:00:00
2023-11-13 19:08:52,985 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:08:52,993 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:08:53,210 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-11-13 19:08:53,211 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230911.csv
2023-11-13 19:08:53,215 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/lonn_call.csv
2023-11-13 19:08:53,216 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     450  51.750000  30.906645  0.0175
1  0.109474     460  42.599991  28.382610  0.0175
2  0.109474     470  33.899994  26.205038  0.0175
3  0.109474     480  25.949997  24.541363  0.0175
4  0.109474     490  20.000000  24.976856  0.0175
2023-11-13 19:08:53,217 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/sika_call.csv
2023-11-13 19:08:53,219 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     200  45.050003  35.881733  0.0175
1  0.109474     210  35.325005  31.835203  0.0175
2  0.109474     220  25.974998  28.917973  0.0175
3  0.109474     230  17.424995  26.826229  0.0175
4  0.109474     240  10.424999  25.718927  0.0175
2023-11-13 19:08:53,222 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     450  51.750000  0.0175
1  0.109474     460  42.599991  0.0175
2  0.109474     470  33.899994  0.0175
3  0.109474     480  25.949997  0.0175
4  0.109474     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.109474     200  45.050003  0.0175
1  0.109474     210  35.325005  0.0175
2  0.109474     220  25.974998  0.0175
3  0.109474     230  17.424995  0.0175
4  0.109474     240  10.424999  0.0175
2023-11-13 19:08:53,222 - yq - INFO - Calibrating LONZA on 2023-09-11 00:00:00.
2023-11-13 19:09:23,906 - yq - INFO - Calibrating SIKA on 2023-09-11 00:00:00.
2023-11-13 19:09:57,932 - yq - INFO - The S_0 for LONZA and SIKA are 487.2 and 243.1
2023-11-13 19:09:57,932 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 4 seconds
2023-11-13 19:09:57,946 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230911.csv
2023-11-13 19:09:57,946 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.06336567e-02  9.79934388e+00 -6.63848627e-07  2.75851390e-02
   2.87485827e-01]
 [ 8.25496091e-02  5.98995436e+00 -1.02421888e-01  4.80214925e-01
   4.90052679e-01]]
2023-11-13 19:09:57,947 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, Timestamp('2023-09-11 00:00:00')): 0.0h 1.0m 4s 737ms
2023-11-13 19:09:57,954 - yq - INFO - The log returns list for all assets is: [Date
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
                ...   
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
                ...   
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:09:57,956 - yq - INFO - rho_S1S2 is 0.3985701703055984

2023-11-13 19:09:57,956 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39857017]
 [0.39857017 1.        ]]

2023-11-13 19:09:57,956 - yq - INFO - Simplified correlation matrix is:
[[1.         0.02758514 0.39857017 0.        ]
 [0.02758514 1.         0.         0.        ]
 [0.39857017 0.         1.         0.48021493]
 [0.         0.         0.48021493 1.        ]]

2023-11-13 19:09:57,957 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.02758514  0.99961946  0.          0.        ]
 [ 0.39857017 -0.0109988   0.91707189  0.        ]
 [ 0.          0.          0.52363935  0.85194004]]

2023-11-13 19:09:57,957 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f5a990>): 0.0h 0.0m 0s 10ms
2023-11-13 19:09:57,969 - yq - INFO - The adjusted S_0 is [487.2 243.1]
2023-11-13 19:09:57,989 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:09:57,992 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.906706  248.969211
1  456.716173  234.663493
2  496.025078  252.827814
3  492.627311  249.498094
4  501.202708  253.976074
2023-11-13 19:09:58,092 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  479.906706  248.969211
2023-09-13  456.716173  234.663493
2023-09-14  496.025078  252.827814
2023-09-15  492.627311  249.498094
2023-09-18  501.202708  253.976074
2023-11-13 19:09:58,174 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
...             ...      ...
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1

[63 rows x 2 columns]
2023-11-13 19:09:58,177 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-11  487.200000  243.100000
2023-09-12  479.906706  248.969211
2023-09-13  456.716173  234.663493
2023-09-14  496.025078  252.827814
2023-09-15  492.627311  249.498094
...                ...         ...
2024-07-24  507.367771  196.930839
2024-07-25  482.777653  185.864543
2024-07-26  470.274365  171.095744
2024-07-29  484.220793  165.625993
2024-07-30  473.310587  175.951834

[222 rows x 2 columns]
2023-11-13 19:09:58,300 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:09:58,300 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  479.906706  248.969211
2023-09-13  456.716173  234.663493
2023-09-14  496.025078  252.827814
2023-09-15  492.627311  249.498094
2023-09-18  501.202708  253.976074
...                ...         ...
2024-07-24  507.367771  196.930839
2024-07-25  482.777653  185.864543
2024-07-26  470.274365  171.095744
2024-07-29  484.220793  165.625993
2024-07-30  473.310587  175.951834

[221 rows x 2 columns], sim=0): 0.0h 0.0m 0s 205ms
2023-11-13 19:09:58,301 - yq - INFO - The adjusted S_0 is [487.2 243.1]
2023-11-13 19:09:58,321 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:09:58,322 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  505.172657  241.790423
1  485.146180  231.952413
2  495.702409  243.058987
3  498.749420  237.345888
4  493.288096  240.098322
2023-11-13 19:09:58,417 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  505.172657  241.790423
2023-09-13  485.146180  231.952413
2023-09-14  495.702409  243.058987
2023-09-15  498.749420  237.345888
2023-09-18  493.288096  240.098322
2023-11-13 19:09:58,433 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
...             ...      ...
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1

[63 rows x 2 columns]
2023-11-13 19:09:58,435 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-11  487.200000  243.100000
2023-09-12  505.172657  241.790423
2023-09-13  485.146180  231.952413
2023-09-14  495.702409  243.058987
2023-09-15  498.749420  237.345888
...                ...         ...
2024-07-24  252.545334   72.986593
2024-07-25  254.511276   72.928282
2024-07-26  284.776508   74.737932
2024-07-29  282.546842   84.053476
2024-07-30  279.985961   89.352815

[222 rows x 2 columns]
2023-11-13 19:09:58,545 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:09:58,545 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  505.172657  241.790423
2023-09-13  485.146180  231.952413
2023-09-14  495.702409  243.058987
2023-09-15  498.749420  237.345888
2023-09-18  493.288096  240.098322
...                ...         ...
2024-07-24  252.545334   72.986593
2024-07-25  254.511276   72.928282
2024-07-26  284.776508   74.737932
2024-07-29  282.546842   84.053476
2024-07-30  279.985961   89.352815

[221 rows x 2 columns], sim=1): 0.0h 0.0m 0s 126ms
2023-11-13 19:09:58,546 - yq - INFO - The adjusted S_0 is [487.2 243.1]
2023-11-13 19:09:58,567 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:09:58,568 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  498.640322  235.954562
1  511.517459  253.175879
2  502.582692  256.790324
3  491.147940  254.085755
4  474.621061  232.995588
2023-11-13 19:09:58,672 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  498.640322  235.954562
2023-09-13  511.517459  253.175879
2023-09-14  502.582692  256.790324
2023-09-15  491.147940  254.085755
2023-09-18  474.621061  232.995588
2023-11-13 19:09:58,689 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
...             ...      ...
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1

[63 rows x 2 columns]
2023-11-13 19:09:58,691 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-09-11   487.200000  243.100000
2023-09-12   498.640322  235.954562
2023-09-13   511.517459  253.175879
2023-09-14   502.582692  256.790324
2023-09-15   491.147940  254.085755
...                 ...         ...
2024-07-24  1028.954015  193.580063
2024-07-25  1028.731152  204.746027
2024-07-26  1015.842137  208.290876
2024-07-29   994.002567  196.503970
2024-07-30   952.061196  184.490689

[222 rows x 2 columns]
2023-11-13 19:09:58,796 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:09:58,796 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-09-12   498.640322  235.954562
2023-09-13   511.517459  253.175879
2023-09-14   502.582692  256.790324
2023-09-15   491.147940  254.085755
2023-09-18   474.621061  232.995588
...                 ...         ...
2024-07-24  1028.954015  193.580063
2024-07-25  1028.731152  204.746027
2024-07-26  1015.842137  208.290876
2024-07-29   994.002567  196.503970
2024-07-30   952.061196  184.490689

[221 rows x 2 columns], sim=2): 0.0h 0.0m 0s 122ms
2023-11-13 19:09:58,796 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f5a990>, n_sim=3): 0.0h 1.0m 5s 587ms
2023-11-13 19:09:58,796 - yq - INFO - Pricing the product on 2023-09-12 00:00:00
2023-11-13 19:09:58,796 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:09:58,805 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:09:59,016 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-11-13 19:09:59,016 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230912.csv
2023-11-13 19:09:59,020 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/lonn_call.csv
2023-11-13 19:09:59,021 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     450  51.750000  30.906645  0.0175
1  0.106667     460  42.599991  28.382610  0.0175
2  0.106667     470  33.899994  26.205038  0.0175
3  0.106667     480  25.949997  24.541363  0.0175
4  0.106667     490  20.000000  24.976856  0.0175
2023-11-13 19:09:59,022 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/sika_call.csv
2023-11-13 19:09:59,023 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     200  45.050003  35.881733  0.0175
1  0.106667     210  35.325005  31.835203  0.0175
2  0.106667     220  25.974998  28.917973  0.0175
3  0.106667     230  17.424995  26.826229  0.0175
4  0.106667     240  10.424999  25.718927  0.0175
2023-11-13 19:09:59,026 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     450  51.750000  0.0175
1  0.106667     460  42.599991  0.0175
2  0.106667     470  33.899994  0.0175
3  0.106667     480  25.949997  0.0175
4  0.106667     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.106667     200  45.050003  0.0175
1  0.106667     210  35.325005  0.0175
2  0.106667     220  25.974998  0.0175
3  0.106667     230  17.424995  0.0175
4  0.106667     240  10.424999  0.0175
2023-11-13 19:09:59,026 - yq - INFO - Calibrating LONZA on 2023-09-12 00:00:00.
2023-11-13 19:10:31,370 - yq - INFO - Calibrating SIKA on 2023-09-12 00:00:00.
2023-11-13 19:11:01,984 - yq - INFO - The S_0 for LONZA and SIKA are 484.7 and 237.6
2023-11-13 19:11:01,985 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 2 seconds
2023-11-13 19:11:01,988 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230912.csv
2023-11-13 19:11:01,988 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.05052176  1.49177526 -0.06624726  0.49343888  0.38956729]
 [ 9.13726824  0.01027406 -0.10215691  0.46990677  0.38832435]]
2023-11-13 19:11:01,988 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e604e50>, Timestamp('2023-09-12 00:00:00')): 0.0h 1.0m 2s 972ms
2023-11-13 19:11:01,990 - yq - INFO - The log returns list for all assets is: [Date
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
                ...   
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
                ...   
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:11:01,990 - yq - INFO - rho_S1S2 is 0.39533637052647386

2023-11-13 19:11:01,990 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39533637]
 [0.39533637 1.        ]]

2023-11-13 19:11:01,991 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49343888 0.39533637 0.        ]
 [0.49343888 1.         0.         0.        ]
 [0.39533637 0.         1.         0.46990677]
 [0.         0.         0.46990677 1.        ]]

2023-11-13 19:11:01,991 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49343888  0.86978047  0.          0.        ]
 [ 0.39533637 -0.22427997  0.89073433  0.        ]
 [ 0.          0.          0.52754986  0.84952407]]

2023-11-13 19:11:01,991 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e604e50>): 0.0h 0.0m 0s 2ms
2023-11-13 19:11:01,997 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 19:11:02,015 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:11:02,016 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.634740  251.204715
1  505.095673  250.796448
2  513.676227  239.989476
3  473.304567  244.973723
4  467.341680  242.159160
2023-11-13 19:11:02,097 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  484.634740  251.204715
2023-09-14  505.095673  250.796448
2023-09-15  513.676227  239.989476
2023-09-18  473.304567  244.973723
2023-09-19  467.341680  242.159160
2023-11-13 19:11:02,125 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
...             ...      ...
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6

[63 rows x 2 columns]
2023-11-13 19:11:02,129 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-12  484.700000  237.600000
2023-09-13  484.634740  251.204715
2023-09-14  505.095673  250.796448
2023-09-15  513.676227  239.989476
2023-09-18  473.304567  244.973723
...                ...         ...
2024-07-24  271.356817  169.157154
2024-07-25  275.599839  170.645205
2024-07-26  272.147960  170.933485
2024-07-29  263.755832  169.971633
2024-07-30  271.819551  170.136688

[221 rows x 2 columns]
2023-11-13 19:11:02,239 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:11:02,239 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e604e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  484.634740  251.204715
2023-09-14  505.095673  250.796448
2023-09-15  513.676227  239.989476
2023-09-18  473.304567  244.973723
2023-09-19  467.341680  242.159160
...                ...         ...
2024-07-24  271.356817  169.157154
2024-07-25  275.599839  170.645205
2024-07-26  272.147960  170.933485
2024-07-29  263.755832  169.971633
2024-07-30  271.819551  170.136688

[220 rows x 2 columns], sim=0): 0.0h 0.0m 0s 140ms
2023-11-13 19:11:02,240 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 19:11:02,258 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:11:02,259 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  496.480391  238.669311
1  468.873928  234.546315
2  490.300819  228.907581
3  481.609167  234.046032
4  520.328617  244.671975
2023-11-13 19:11:02,345 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  496.480391  238.669311
2023-09-14  468.873928  234.546315
2023-09-15  490.300819  228.907581
2023-09-18  481.609167  234.046032
2023-09-19  520.328617  244.671975
2023-11-13 19:11:02,360 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
...             ...      ...
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6

[63 rows x 2 columns]
2023-11-13 19:11:02,362 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-12  484.700000  237.600000
2023-09-13  496.480391  238.669311
2023-09-14  468.873928  234.546315
2023-09-15  490.300819  228.907581
2023-09-18  481.609167  234.046032
...                ...         ...
2024-07-24  544.219485  280.146536
2024-07-25  537.011150  280.133237
2024-07-26  523.743836  279.531430
2024-07-29  519.391756  279.750807
2024-07-30  491.054282  277.707904

[221 rows x 2 columns]
2023-11-13 19:11:02,556 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:11:02,556 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e604e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  496.480391  238.669311
2023-09-14  468.873928  234.546315
2023-09-15  490.300819  228.907581
2023-09-18  481.609167  234.046032
2023-09-19  520.328617  244.671975
...                ...         ...
2024-07-24  544.219485  280.146536
2024-07-25  537.011150  280.133237
2024-07-26  523.743836  279.531430
2024-07-29  519.391756  279.750807
2024-07-30  491.054282  277.707904

[220 rows x 2 columns], sim=1): 0.0h 0.0m 0s 208ms
2023-11-13 19:11:02,556 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 19:11:02,575 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:11:02,576 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  458.274469  250.233937
1  464.628438  266.094657
2  461.522286  267.752385
3  471.832667  270.884766
4  465.604993  270.346001
2023-11-13 19:11:02,662 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  458.274469  250.233937
2023-09-14  464.628438  266.094657
2023-09-15  461.522286  267.752385
2023-09-18  471.832667  270.884766
2023-09-19  465.604993  270.346001
2023-11-13 19:11:02,676 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
...             ...      ...
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6

[63 rows x 2 columns]
2023-11-13 19:11:02,678 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-12  484.700000  237.600000
2023-09-13  458.274469  250.233937
2023-09-14  464.628438  266.094657
2023-09-15  461.522286  267.752385
2023-09-18  471.832667  270.884766
...                ...         ...
2024-07-24  209.788200  224.659345
2024-07-25  216.817512  224.270985
2024-07-26  219.339445  227.524987
2024-07-29  209.117578  229.356843
2024-07-30  206.169356  228.996863

[221 rows x 2 columns]
2023-11-13 19:11:02,782 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:11:02,782 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e604e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  458.274469  250.233937
2023-09-14  464.628438  266.094657
2023-09-15  461.522286  267.752385
2023-09-18  471.832667  270.884766
2023-09-19  465.604993  270.346001
...                ...         ...
2024-07-24  209.788200  224.659345
2024-07-25  216.817512  224.270985
2024-07-26  219.339445  227.524987
2024-07-29  209.117578  229.356843
2024-07-30  206.169356  228.996863

[220 rows x 2 columns], sim=2): 0.0h 0.0m 0s 118ms
2023-11-13 19:11:02,782 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e604e50>, n_sim=3): 0.0h 1.0m 3s 768ms
2023-11-13 19:11:02,782 - yq - INFO - Pricing the product on 2023-09-13 00:00:00
2023-11-13 19:11:02,783 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:11:02,789 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:11:03,003 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-11-13 19:11:03,003 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230913.csv
2023-11-13 19:11:03,006 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/lonn_call.csv
2023-11-13 19:11:03,007 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     450  51.750000  30.906645  0.0175
1   0.10386     460  42.599991  28.382610  0.0175
2   0.10386     470  33.899994  26.205038  0.0175
3   0.10386     480  25.949997  24.541363  0.0175
4   0.10386     490  20.000000  24.976856  0.0175
2023-11-13 19:11:03,008 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/sika_call.csv
2023-11-13 19:11:03,009 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     200  45.050003  35.881733  0.0175
1   0.10386     210  35.325005  31.835203  0.0175
2   0.10386     220  25.974998  28.917973  0.0175
3   0.10386     230  17.424995  26.826229  0.0175
4   0.10386     240  10.424999  25.718927  0.0175
2023-11-13 19:11:03,013 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     450  51.750000  0.0175
1   0.10386     460  42.599991  0.0175
2   0.10386     470  33.899994  0.0175
3   0.10386     480  25.949997  0.0175
4   0.10386     490  20.000000  0.0175
   maturity  strike      price    rate
0   0.10386     200  45.050003  0.0175
1   0.10386     210  35.325005  0.0175
2   0.10386     220  25.974998  0.0175
3   0.10386     230  17.424995  0.0175
4   0.10386     240  10.424999  0.0175
2023-11-13 19:11:03,013 - yq - INFO - Calibrating LONZA on 2023-09-13 00:00:00.
2023-11-13 19:11:35,628 - yq - INFO - Calibrating SIKA on 2023-09-13 00:00:00.
2023-11-13 19:12:08,575 - yq - INFO - The S_0 for LONZA and SIKA are 485.7 and 237.0
2023-11-13 19:12:08,576 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 5 seconds
2023-11-13 19:12:08,588 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230913.csv
2023-11-13 19:12:08,588 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.64629263  0.14746055 -0.07879954  0.47463553  0.38681782]
 [ 5.58876965  0.01398172 -0.10080857  0.48156602  0.43458395]]
2023-11-13 19:12:08,589 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b833d0>, Timestamp('2023-09-13 00:00:00')): 0.0h 1.0m 5s 586ms
2023-11-13 19:12:08,596 - yq - INFO - The log returns list for all assets is: [Date
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
                ...   
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
                ...   
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:12:08,601 - yq - INFO - rho_S1S2 is 0.39438142603735443

2023-11-13 19:12:08,601 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39438143]
 [0.39438143 1.        ]]

2023-11-13 19:12:08,601 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47463553 0.39438143 0.        ]
 [0.47463553 1.         0.         0.        ]
 [0.39438143 0.         1.         0.48156602]
 [0.         0.         0.48156602 1.        ]]

2023-11-13 19:12:08,602 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47463553  0.88018243  0.          0.        ]
 [ 0.39438143 -0.21266891  0.89399957  0.        ]
 [ 0.          0.          0.53866471  0.84252022]]

2023-11-13 19:12:08,602 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b833d0>): 0.0h 0.0m 0s 13ms
2023-11-13 19:12:08,609 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 19:12:08,628 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:12:08,630 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.602566  236.567391
1  518.241941  238.202999
2  517.547976  226.110776
3  528.432037  220.039203
4  525.762215  211.794197
2023-11-13 19:12:08,728 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  487.602566  236.567391
2023-09-15  518.241941  238.202999
2023-09-18  517.547976  226.110776
2023-09-19  528.432037  220.039203
2023-09-20  525.762215  211.794197
2023-11-13 19:12:08,790 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
...             ...      ...
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0

[63 rows x 2 columns]
2023-11-13 19:12:08,793 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-13  485.700000  237.000000
2023-09-14  487.602566  236.567391
2023-09-15  518.241941  238.202999
2023-09-18  517.547976  226.110776
2023-09-19  528.432037  220.039203
...                ...         ...
2024-07-24  604.915977  187.505870
2024-07-25  571.866456  186.122683
2024-07-26  590.482273  186.025634
2024-07-29  583.167321  186.195770
2024-07-30  602.780387  185.633589

[220 rows x 2 columns]
2023-11-13 19:12:08,912 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:12:08,913 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b833d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  487.602566  236.567391
2023-09-15  518.241941  238.202999
2023-09-18  517.547976  226.110776
2023-09-19  528.432037  220.039203
2023-09-20  525.762215  211.794197
...                ...         ...
2024-07-24  604.915977  187.505870
2024-07-25  571.866456  186.122683
2024-07-26  590.482273  186.025634
2024-07-29  583.167321  186.195770
2024-07-30  602.780387  185.633589

[219 rows x 2 columns], sim=0): 0.0h 0.0m 0s 182ms
2023-11-13 19:12:08,913 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 19:12:08,933 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:12:08,935 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.049624  240.741149
1  444.347994  238.384390
2  436.894633  244.832743
3  447.464351  245.834184
4  463.024870  247.073741
2023-11-13 19:12:09,032 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  480.049624  240.741149
2023-09-15  444.347994  238.384390
2023-09-18  436.894633  244.832743
2023-09-19  447.464351  245.834184
2023-09-20  463.024870  247.073741
2023-11-13 19:12:09,048 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
...             ...      ...
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0

[63 rows x 2 columns]
2023-11-13 19:12:09,050 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-13  485.700000  237.000000
2023-09-14  480.049624  240.741149
2023-09-15  444.347994  238.384390
2023-09-18  436.894633  244.832743
2023-09-19  447.464351  245.834184
...                ...         ...
2024-07-24  193.240201  201.804148
2024-07-25  202.297398  203.225134
2024-07-26  209.822224  205.956687
2024-07-29  212.824085  205.558501
2024-07-30  214.184656  209.088936

[220 rows x 2 columns]
2023-11-13 19:12:09,160 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:12:09,161 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b833d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  480.049624  240.741149
2023-09-15  444.347994  238.384390
2023-09-18  436.894633  244.832743
2023-09-19  447.464351  245.834184
2023-09-20  463.024870  247.073741
...                ...         ...
2024-07-24  193.240201  201.804148
2024-07-25  202.297398  203.225134
2024-07-26  209.822224  205.956687
2024-07-29  212.824085  205.558501
2024-07-30  214.184656  209.088936

[219 rows x 2 columns], sim=1): 0.0h 0.0m 0s 126ms
2023-11-13 19:12:09,161 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 19:12:09,182 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:12:09,184 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  493.796403  240.574378
1  507.398578  237.704265
2  514.247050  254.346764
3  565.995678  266.421892
4  536.550829  270.048073
2023-11-13 19:12:09,288 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  493.796403  240.574378
2023-09-15  507.398578  237.704265
2023-09-18  514.247050  254.346764
2023-09-19  565.995678  266.421892
2023-09-20  536.550829  270.048073
2023-11-13 19:12:09,305 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
...             ...      ...
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0

[63 rows x 2 columns]
2023-11-13 19:12:09,308 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-13  485.700000  237.000000
2023-09-14  493.796403  240.574378
2023-09-15  507.398578  237.704265
2023-09-18  514.247050  254.346764
2023-09-19  565.995678  266.421892
...                ...         ...
2024-07-24  410.810032  269.409166
2024-07-25  392.028817  268.868587
2024-07-26  394.929502  264.716580
2024-07-29  397.142407  264.629616
2024-07-30  402.005691  265.496665

[220 rows x 2 columns]
2023-11-13 19:12:09,421 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:12:09,421 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b833d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  493.796403  240.574378
2023-09-15  507.398578  237.704265
2023-09-18  514.247050  254.346764
2023-09-19  565.995678  266.421892
2023-09-20  536.550829  270.048073
...                ...         ...
2024-07-24  410.810032  269.409166
2024-07-25  392.028817  268.868587
2024-07-26  394.929502  264.716580
2024-07-29  397.142407  264.629616
2024-07-30  402.005691  265.496665

[219 rows x 2 columns], sim=2): 0.0h 0.0m 0s 130ms
2023-11-13 19:12:09,421 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b833d0>, n_sim=3): 0.0h 1.0m 6s 420ms
2023-11-13 19:12:09,421 - yq - INFO - Pricing the product on 2023-09-14 00:00:00
2023-11-13 19:12:09,421 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:12:09,432 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:12:09,666 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-11-13 19:12:09,666 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230914.csv
2023-11-13 19:12:09,670 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/lonn_call.csv
2023-11-13 19:12:09,673 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.750000  30.906645  0.0175
1  0.101053     460  42.599991  28.382610  0.0175
2  0.101053     470  33.899994  26.205038  0.0175
3  0.101053     480  25.949997  24.541363  0.0175
4  0.101053     490  20.000000  24.976856  0.0175
2023-11-13 19:12:09,674 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/sika_call.csv
2023-11-13 19:12:09,678 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     200  45.050003  35.881733  0.0175
1  0.101053     210  35.325005  31.835203  0.0175
2  0.101053     220  25.974998  28.917973  0.0175
3  0.101053     230  17.424995  26.826229  0.0175
4  0.101053     240  10.424999  25.718927  0.0175
2023-11-13 19:12:09,682 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.750000  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  33.899994  0.0175
3  0.101053     480  25.949997  0.0175
4  0.101053     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.101053     200  45.050003  0.0175
1  0.101053     210  35.325005  0.0175
2  0.101053     220  25.974998  0.0175
3  0.101053     230  17.424995  0.0175
4  0.101053     240  10.424999  0.0175
2023-11-13 19:12:09,682 - yq - INFO - Calibrating LONZA on 2023-09-14 00:00:00.
2023-11-13 19:12:42,573 - yq - INFO - Calibrating SIKA on 2023-09-14 00:00:00.
2023-11-13 19:13:13,384 - yq - INFO - The S_0 for LONZA and SIKA are 489.3 and 239.6
2023-11-13 19:13:13,385 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 3 seconds
2023-11-13 19:13:13,399 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230914.csv
2023-11-13 19:13:13,399 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.3632175   0.01358487 -0.09709762  0.46735714  0.38198897]
 [ 5.13379628  0.02299389 -0.07415087  0.48513438  0.33832277]]
2023-11-13 19:13:13,401 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, Timestamp('2023-09-14 00:00:00')): 0.0h 1.0m 3s 735ms
2023-11-13 19:13:13,408 - yq - INFO - The log returns list for all assets is: [Date
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
                ...   
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
                ...   
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:13:13,409 - yq - INFO - rho_S1S2 is 0.3716418635153974

2023-11-13 19:13:13,410 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.37164186]
 [0.37164186 1.        ]]

2023-11-13 19:13:13,410 - yq - INFO - Simplified correlation matrix is:
[[1.         0.46735714 0.37164186 0.        ]
 [0.46735714 1.         0.         0.        ]
 [0.37164186 0.         1.         0.48513438]
 [0.         0.         0.48513438 1.        ]]

2023-11-13 19:13:13,410 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.46735714  0.88406861  0.          0.        ]
 [ 0.37164186 -0.19646606  0.90734966  0.        ]
 [ 0.          0.          0.53467191  0.84505973]]

2023-11-13 19:13:13,410 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>): 0.0h 0.0m 0s 9ms
2023-11-13 19:13:13,417 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 19:13:13,436 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:13:13,439 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  495.786239  232.432608
1  502.733797  241.997349
2  521.391264  242.788452
3  521.317831  235.846523
4  531.691290  231.454848
2023-11-13 19:13:13,536 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  495.786239  232.432608
2023-09-18  502.733797  241.997349
2023-09-19  521.391264  242.788452
2023-09-20  521.317831  235.846523
2023-09-21  531.691290  231.454848
2023-11-13 19:13:13,597 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
...             ...      ...
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6

[63 rows x 2 columns]
2023-11-13 19:13:13,600 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-14  489.300000  239.600000
2023-09-15  495.786239  232.432608
2023-09-18  502.733797  241.997349
2023-09-19  521.391264  242.788452
2023-09-20  521.317831  235.846523
...                ...         ...
2024-07-24  592.833113  235.854108
2024-07-25  599.281505  236.778764
2024-07-26  595.427084  240.715705
2024-07-29  601.424190  247.493017
2024-07-30  603.521714  252.899679

[219 rows x 2 columns]
2023-11-13 19:13:13,708 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:13:13,708 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  495.786239  232.432608
2023-09-18  502.733797  241.997349
2023-09-19  521.391264  242.788452
2023-09-20  521.317831  235.846523
2023-09-21  531.691290  231.454848
...                ...         ...
2024-07-24  592.833113  235.854108
2024-07-25  599.281505  236.778764
2024-07-26  595.427084  240.715705
2024-07-29  601.424190  247.493017
2024-07-30  603.521714  252.899679

[218 rows x 2 columns], sim=0): 0.0h 0.0m 0s 169ms
2023-11-13 19:13:13,708 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 19:13:13,726 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:13:13,728 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  488.041388  225.392125
1  499.273663  234.619780
2  497.579346  221.911073
3  437.359820  216.654335
4  447.345370  215.287684
2023-11-13 19:13:13,815 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  488.041388  225.392125
2023-09-18  499.273663  234.619780
2023-09-19  497.579346  221.911073
2023-09-20  437.359820  216.654335
2023-09-21  447.345370  215.287684
2023-11-13 19:13:13,830 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
...             ...      ...
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6

[63 rows x 2 columns]
2023-11-13 19:13:13,833 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-14  489.300000  239.600000
2023-09-15  488.041388  225.392125
2023-09-18  499.273663  234.619780
2023-09-19  497.579346  221.911073
2023-09-20  437.359820  216.654335
...                ...         ...
2024-07-24  431.606176  178.654376
2024-07-25  435.844116  181.126289
2024-07-26  436.009768  184.505688
2024-07-29  434.377177  183.020328
2024-07-30  430.497870  182.864688

[219 rows x 2 columns]
2023-11-13 19:13:13,927 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:13:13,927 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  488.041388  225.392125
2023-09-18  499.273663  234.619780
2023-09-19  497.579346  221.911073
2023-09-20  437.359820  216.654335
2023-09-21  447.345370  215.287684
...                ...         ...
2024-07-24  431.606176  178.654376
2024-07-25  435.844116  181.126289
2024-07-26  436.009768  184.505688
2024-07-29  434.377177  183.020328
2024-07-30  430.497870  182.864688

[218 rows x 2 columns], sim=1): 0.0h 0.0m 0s 109ms
2023-11-13 19:13:13,927 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 19:13:13,946 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:13:13,947 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  478.086001  240.526335
1  487.886652  233.184455
2  489.445408  239.801309
3  499.138763  250.426530
4  500.541394  259.781033
2023-11-13 19:13:14,036 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  478.086001  240.526335
2023-09-18  487.886652  233.184455
2023-09-19  489.445408  239.801309
2023-09-20  499.138763  250.426530
2023-09-21  500.541394  259.781033
2023-11-13 19:13:14,050 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
...             ...      ...
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6

[63 rows x 2 columns]
2023-11-13 19:13:14,052 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-14  489.300000  239.600000
2023-09-15  478.086001  240.526335
2023-09-18  487.886652  233.184455
2023-09-19  489.445408  239.801309
2023-09-20  499.138763  250.426530
...                ...         ...
2024-07-24  322.623217  235.484302
2024-07-25  320.375405  237.799918
2024-07-26  320.316408  239.075250
2024-07-29  320.147391  240.824413
2024-07-30  321.361056  239.619658

[219 rows x 2 columns]
2023-11-13 19:13:14,147 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:13:14,147 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  478.086001  240.526335
2023-09-18  487.886652  233.184455
2023-09-19  489.445408  239.801309
2023-09-20  499.138763  250.426530
2023-09-21  500.541394  259.781033
...                ...         ...
2024-07-24  322.623217  235.484302
2024-07-25  320.375405  237.799918
2024-07-26  320.316408  239.075250
2024-07-29  320.147391  240.824413
2024-07-30  321.361056  239.619658

[218 rows x 2 columns], sim=2): 0.0h 0.0m 0s 109ms
2023-11-13 19:13:14,148 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, n_sim=3): 0.0h 1.0m 4s 483ms
2023-11-13 19:13:14,148 - yq - INFO - Pricing the product on 2023-09-15 00:00:00
2023-11-13 19:13:14,148 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:13:14,156 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:13:14,356 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-11-13 19:13:14,357 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230915.csv
2023-11-13 19:13:14,359 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/lonn_call.csv
2023-11-13 19:13:14,361 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     450  54.349991  27.144653  0.0175
1  0.176842     460  45.750000  25.683651  0.0175
2  0.176842     470  37.699997  24.490421  0.0175
3  0.176842     480  30.299988  23.477232  0.0175
4  0.176842     490  24.724998  23.905760  0.0175
2023-11-13 19:13:14,361 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/sika_call.csv
2023-11-13 19:13:14,363 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  45.949997  32.808395  0.0175
1  0.176842     210  36.525002  29.797209  0.0175
2  0.176842     220  27.599998  27.484951  0.0175
3  0.176842     230  19.599998  25.957216  0.0175
4  0.176842     240  12.900000  24.873652  0.0175
2023-11-13 19:13:14,366 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     450  54.349991  0.0175
1  0.176842     460  45.750000  0.0175
2  0.176842     470  37.699997  0.0175
3  0.176842     480  30.299988  0.0175
4  0.176842     490  24.724998  0.0175
   maturity  strike      price    rate
0  0.176842     200  45.949997  0.0175
1  0.176842     210  36.525002  0.0175
2  0.176842     220  27.599998  0.0175
3  0.176842     230  19.599998  0.0175
4  0.176842     240  12.900000  0.0175
2023-11-13 19:13:14,366 - yq - INFO - Calibrating LONZA on 2023-09-15 00:00:00.
2023-11-13 19:13:43,757 - yq - INFO - Calibrating SIKA on 2023-09-15 00:00:00.
2023-11-13 19:14:14,558 - yq - INFO - The S_0 for LONZA and SIKA are 497.4 and 244.5
2023-11-13 19:14:14,561 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 19:14:14,574 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230915.csv
2023-11-13 19:14:14,574 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.9343257   0.01072984 -0.13798847  0.49929522  0.18303099]
 [ 7.83472688  0.01934683 -0.12481256  0.48731954  0.19633947]]
2023-11-13 19:14:14,577 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, Timestamp('2023-09-15 00:00:00')): 0.0h 1.0m 0s 220ms
2023-11-13 19:14:14,585 - yq - INFO - The log returns list for all assets is: [Date
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
                ...   
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
                ...   
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:14:14,587 - yq - INFO - rho_S1S2 is 0.34635011712471314

2023-11-13 19:14:14,587 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34635012]
 [0.34635012 1.        ]]

2023-11-13 19:14:14,587 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49929522 0.34635012 0.        ]
 [0.49929522 1.         0.         0.        ]
 [0.34635012 0.         1.         0.48731954]
 [0.         0.         0.48731954 1.        ]]

2023-11-13 19:14:14,588 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49929522  0.86643193  0.          0.        ]
 [ 0.34635012 -0.19958978  0.91662725  0.        ]
 [ 0.          0.          0.53164417  0.84696781]]

2023-11-13 19:14:14,588 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>): 0.0h 0.0m 0s 11ms
2023-11-13 19:14:14,596 - yq - INFO - The adjusted S_0 is [497.4 244.5]
2023-11-13 19:14:14,615 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:14:14,618 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  523.207889  250.000696
1  530.451965  251.441624
2  517.424407  256.041161
3  524.419568  248.059962
4  553.405195  253.755718
2023-11-13 19:14:14,728 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  523.207889  250.000696
2023-09-19  530.451965  251.441624
2023-09-20  517.424407  256.041161
2023-09-21  524.419568  248.059962
2023-09-22  553.405195  253.755718
2023-11-13 19:14:14,811 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
...             ...      ...
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5

[63 rows x 2 columns]
2023-11-13 19:14:14,814 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-15  497.400000  244.500000
2023-09-18  523.207889  250.000696
2023-09-19  530.451965  251.441624
2023-09-20  517.424407  256.041161
2023-09-21  524.419568  248.059962
...                ...         ...
2024-07-24  579.569688  193.117161
2024-07-25  580.133176  192.042617
2024-07-26  578.033093  190.338332
2024-07-29  578.585771  189.495862
2024-07-30  584.318098  189.230281

[218 rows x 2 columns]
2023-11-13 19:14:14,930 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:14:14,930 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  523.207889  250.000696
2023-09-19  530.451965  251.441624
2023-09-20  517.424407  256.041161
2023-09-21  524.419568  248.059962
2023-09-22  553.405195  253.755718
...                ...         ...
2024-07-24  579.569688  193.117161
2024-07-25  580.133176  192.042617
2024-07-26  578.033093  190.338332
2024-07-29  578.585771  189.495862
2024-07-30  584.318098  189.230281

[217 rows x 2 columns], sim=0): 0.0h 0.0m 0s 199ms
2023-11-13 19:14:14,931 - yq - INFO - The adjusted S_0 is [497.4 244.5]
2023-11-13 19:14:14,951 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:14:14,953 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  500.033855  243.294678
1  501.640687  239.044409
2  488.349564  240.264804
3  483.564904  244.594657
4  485.041201  246.367620
2023-11-13 19:14:15,051 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  500.033855  243.294678
2023-09-19  501.640687  239.044409
2023-09-20  488.349564  240.264804
2023-09-21  483.564904  244.594657
2023-09-22  485.041201  246.367620
2023-11-13 19:14:15,071 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
...             ...      ...
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5

[63 rows x 2 columns]
2023-11-13 19:14:15,073 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-15  497.400000  244.500000
2023-09-18  500.033855  243.294678
2023-09-19  501.640687  239.044409
2023-09-20  488.349564  240.264804
2023-09-21  483.564904  244.594657
...                ...         ...
2024-07-24  496.108767  325.865812
2024-07-25  494.757759  326.192321
2024-07-26  501.517322  330.033161
2024-07-29  498.004805  335.367705
2024-07-30  491.870612  330.118096

[218 rows x 2 columns]
2023-11-13 19:14:15,192 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:14:15,192 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  500.033855  243.294678
2023-09-19  501.640687  239.044409
2023-09-20  488.349564  240.264804
2023-09-21  483.564904  244.594657
2023-09-22  485.041201  246.367620
...                ...         ...
2024-07-24  496.108767  325.865812
2024-07-25  494.757759  326.192321
2024-07-26  501.517322  330.033161
2024-07-29  498.004805  335.367705
2024-07-30  491.870612  330.118096

[217 rows x 2 columns], sim=1): 0.0h 0.0m 0s 137ms
2023-11-13 19:14:15,193 - yq - INFO - The adjusted S_0 is [497.4 244.5]
2023-11-13 19:14:15,215 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:14:15,216 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  492.361901  244.357304
1  500.073347  245.838292
2  511.478658  249.377064
3  506.586582  237.976530
4  516.697179  240.476038
2023-11-13 19:14:15,321 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  492.361901  244.357304
2023-09-19  500.073347  245.838292
2023-09-20  511.478658  249.377064
2023-09-21  506.586582  237.976530
2023-09-22  516.697179  240.476038
2023-11-13 19:14:15,338 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
...             ...      ...
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5

[63 rows x 2 columns]
2023-11-13 19:14:15,340 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-15  497.400000  244.500000
2023-09-18  492.361901  244.357304
2023-09-19  500.073347  245.838292
2023-09-20  511.478658  249.377064
2023-09-21  506.586582  237.976530
...                ...         ...
2024-07-24  602.969837  234.107995
2024-07-25  603.802120  233.793881
2024-07-26  608.805351  236.321839
2024-07-29  607.352238  237.138025
2024-07-30  610.121250  233.890425

[218 rows x 2 columns]
2023-11-13 19:14:15,474 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:14:15,474 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  492.361901  244.357304
2023-09-19  500.073347  245.838292
2023-09-20  511.478658  249.377064
2023-09-21  506.586582  237.976530
2023-09-22  516.697179  240.476038
...                ...         ...
2024-07-24  602.969837  234.107995
2024-07-25  603.802120  233.793881
2024-07-26  608.805351  236.321839
2024-07-29  607.352238  237.138025
2024-07-30  610.121250  233.890425

[217 rows x 2 columns], sim=2): 0.0h 0.0m 0s 150ms
2023-11-13 19:14:15,474 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284fa6b90>, n_sim=3): 0.0h 1.0m 1s 119ms
2023-11-13 19:14:15,474 - yq - INFO - Pricing the product on 2023-09-18 00:00:00
2023-11-13 19:14:15,474 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:14:15,483 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:14:15,715 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-11-13 19:14:15,715 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230918.csv
2023-11-13 19:14:15,720 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/lonn_call.csv
2023-11-13 19:14:15,722 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     355  74.775002  39.310154  0.0175
1  0.168421     360  70.174995  38.171562  0.0175
2  0.168421     365  65.649994  37.127800  0.0175
3  0.168421     370  61.250000  36.262806  0.0175
4  0.168421     375  56.899994  35.364086  0.0175
2023-11-13 19:14:15,723 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/sika_call.csv
2023-11-13 19:14:15,726 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.924995  34.303944  0.0175
1  0.168421     200  43.125000  32.494976  0.0175
2  0.168421     210  33.849998  29.837637  0.0175
3  0.168421     220  25.175003  27.778664  0.0175
4  0.168421     230  17.549995  26.419285  0.0175
2023-11-13 19:14:15,730 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     355  74.775002  0.0175
1  0.168421     360  70.174995  0.0175
2  0.168421     365  65.649994  0.0175
3  0.168421     370  61.250000  0.0175
4  0.168421     375  56.899994  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.924995  0.0175
1  0.168421     200  43.125000  0.0175
2  0.168421     210  33.849998  0.0175
3  0.168421     220  25.175003  0.0175
4  0.168421     230  17.549995  0.0175
2023-11-13 19:14:15,730 - yq - INFO - Calibrating LONZA on 2023-09-18 00:00:00.
2023-11-13 19:14:46,203 - yq - INFO - Calibrating SIKA on 2023-09-18 00:00:00.
2023-11-13 19:15:17,009 - yq - INFO - The S_0 for LONZA and SIKA are 424.3 and 240.7
2023-11-13 19:15:17,009 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 1 seconds
2023-11-13 19:15:17,021 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230918.csv
2023-11-13 19:15:17,021 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.86538715e-01  8.53152555e+00 -1.54301016e-11  4.92103418e-01
   7.58492166e+00]
 [ 8.08056658e+00  1.72140309e-02 -1.34124100e-01  4.99802042e-01
   1.94142472e-01]]
2023-11-13 19:15:17,022 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e513e50>, Timestamp('2023-09-18 00:00:00')): 0.0h 1.0m 1s 307ms
2023-11-13 19:15:17,028 - yq - INFO - The log returns list for all assets is: [Date
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
                ...   
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
                ...   
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:15:17,029 - yq - INFO - rho_S1S2 is 0.3253071051769591

2023-11-13 19:15:17,029 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32530711]
 [0.32530711 1.        ]]

2023-11-13 19:15:17,029 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49210342 0.32530711 0.        ]
 [0.49210342 1.         0.         0.        ]
 [0.32530711 0.         1.         0.49980204]
 [0.         0.         0.49980204 1.        ]]

2023-11-13 19:15:17,030 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49210342  0.87053675  0.          0.        ]
 [ 0.32530711 -0.18389199  0.9275554   0.        ]
 [ 0.          0.          0.53883794  0.84240945]]

2023-11-13 19:15:17,030 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e513e50>): 0.0h 0.0m 0s 8ms
2023-11-13 19:15:17,037 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 19:15:17,056 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:15:17,058 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  328.247770  241.610432
1  257.982699  233.129710
2  254.337862  233.314125
3  219.457647  222.939612
4  261.973463  230.150332
2023-11-13 19:15:17,157 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  328.247770  241.610432
2023-09-20  257.982699  233.129710
2023-09-21  254.337862  233.314125
2023-09-22  219.457647  222.939612
2023-09-25  261.973463  230.150332
2023-11-13 19:15:17,222 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
...             ...      ...
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7

[63 rows x 2 columns]
2023-11-13 19:15:17,226 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-18  424.300000  240.700000
2023-09-19  328.247770  241.610432
2023-09-20  257.982699  233.129710
2023-09-21  254.337862  233.314125
2023-09-22  219.457647  222.939612
...                ...         ...
2024-07-24  161.821796  213.433953
2024-07-25  225.848033  213.297291
2024-07-26  255.950612  213.666232
2024-07-29  244.273372  213.351943
2024-07-30  205.060153  213.683309

[217 rows x 2 columns]
2023-11-13 19:15:17,340 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:15:17,340 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e513e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  328.247770  241.610432
2023-09-20  257.982699  233.129710
2023-09-21  254.337862  233.314125
2023-09-22  219.457647  222.939612
2023-09-25  261.973463  230.150332
...                ...         ...
2024-07-24  161.821796  213.433953
2024-07-25  225.848033  213.297291
2024-07-26  255.950612  213.666232
2024-07-29  244.273372  213.351943
2024-07-30  205.060153  213.683309

[216 rows x 2 columns], sim=0): 0.0h 0.0m 0s 181ms
2023-11-13 19:15:17,341 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 19:15:17,359 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:15:17,360 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  243.996791  232.905950
1  237.668774  237.344145
2  258.311948  230.929634
3  244.361049  233.161349
4  212.464703  226.357829
2023-11-13 19:15:17,449 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  243.996791  232.905950
2023-09-20  237.668774  237.344145
2023-09-21  258.311948  230.929634
2023-09-22  244.361049  233.161349
2023-09-25  212.464703  226.357829
2023-11-13 19:15:17,469 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
...             ...      ...
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7

[63 rows x 2 columns]
2023-11-13 19:15:17,471 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-18  424.300000  240.700000
2023-09-19  243.996791  232.905950
2023-09-20  237.668774  237.344145
2023-09-21  258.311948  230.929634
2023-09-22  244.361049  233.161349
...                ...         ...
2024-07-24  792.951001  223.744258
2024-07-25  697.804614  220.206806
2024-07-26  620.267891  221.050499
2024-07-29  648.480988  220.138841
2024-07-30  621.764932  217.750559

[217 rows x 2 columns]
2023-11-13 19:15:17,570 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:15:17,570 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e513e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  243.996791  232.905950
2023-09-20  237.668774  237.344145
2023-09-21  258.311948  230.929634
2023-09-22  244.361049  233.161349
2023-09-25  212.464703  226.357829
...                ...         ...
2024-07-24  792.951001  223.744258
2024-07-25  697.804614  220.206806
2024-07-26  620.267891  221.050499
2024-07-29  648.480988  220.138841
2024-07-30  621.764932  217.750559

[216 rows x 2 columns], sim=1): 0.0h 0.0m 0s 118ms
2023-11-13 19:15:17,571 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 19:15:17,590 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:15:17,591 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  534.458735  251.317634
1  416.063087  242.323385
2  442.326529  245.147836
3  344.894769  241.195041
4  300.108722  238.043886
2023-11-13 19:15:17,688 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  534.458735  251.317634
2023-09-20  416.063087  242.323385
2023-09-21  442.326529  245.147836
2023-09-22  344.894769  241.195041
2023-09-25  300.108722  238.043886
2023-11-13 19:15:17,703 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
...             ...      ...
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7

[63 rows x 2 columns]
2023-11-13 19:15:17,706 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-18  424.300000  240.700000
2023-09-19  534.458735  251.317634
2023-09-20  416.063087  242.323385
2023-09-21  442.326529  245.147836
2023-09-22  344.894769  241.195041
...                ...         ...
2024-07-24    3.845077  384.342688
2024-07-25    3.816271  386.473601
2024-07-26    3.133543  388.223560
2024-07-29    3.272132  387.003558
2024-07-30    3.345630  384.813250

[217 rows x 2 columns]
2023-11-13 19:15:17,911 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:15:17,911 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e513e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  534.458735  251.317634
2023-09-20  416.063087  242.323385
2023-09-21  442.326529  245.147836
2023-09-22  344.894769  241.195041
2023-09-25  300.108722  238.043886
...                ...         ...
2024-07-24    3.845077  384.342688
2024-07-25    3.816271  386.473601
2024-07-26    3.133543  388.223560
2024-07-29    3.272132  387.003558
2024-07-30    3.345630  384.813250

[216 rows x 2 columns], sim=2): 0.0h 0.0m 0s 220ms
2023-11-13 19:15:17,911 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e513e50>, n_sim=3): 0.0h 1.0m 2s 198ms
2023-11-13 19:15:17,911 - yq - INFO - Pricing the product on 2023-09-19 00:00:00
2023-11-13 19:15:17,911 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:15:17,918 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:15:18,113 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-11-13 19:15:18,113 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230919.csv
2023-11-13 19:15:18,117 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/lonn_call.csv
2023-11-13 19:15:18,119 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.165614     330  103.949997  37.879402  0.0175
1  0.165614     335   99.050003  36.874622  0.0175
2  0.165614     340   94.199997  36.165127  0.0175
3  0.165614     345   89.349998  35.303986  0.0175
4  0.165614     350   84.474998  34.169895  0.0175
2023-11-13 19:15:18,119 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/sika_call.csv
2023-11-13 19:15:18,121 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     190  40.974998  34.669617  0.0175
1  0.165614     195  36.275002  33.086273  0.0175
2  0.165614     200  31.699997  31.738745  0.0175
3  0.165614     210  23.075005  29.495777  0.0175
4  0.165614     220  15.625002  28.121016  0.0175
2023-11-13 19:15:18,123 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.165614     330  103.949997  0.0175
1  0.165614     335   99.050003  0.0175
2  0.165614     340   94.199997  0.0175
3  0.165614     345   89.349998  0.0175
4  0.165614     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.165614     190  40.974998  0.0175
1  0.165614     195  36.275002  0.0175
2  0.165614     200  31.699997  0.0175
3  0.165614     210  23.075005  0.0175
4  0.165614     220  15.625002  0.0175
2023-11-13 19:15:18,124 - yq - INFO - Calibrating LONZA on 2023-09-19 00:00:00.
2023-11-13 19:15:46,074 - yq - INFO - Calibrating SIKA on 2023-09-19 00:00:00.
2023-11-13 19:16:18,557 - yq - INFO - The S_0 for LONZA and SIKA are 430.1 and 239.1
2023-11-13 19:16:18,558 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 19:16:18,565 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230919.csv
2023-11-13 19:16:18,565 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.64517767e-01  9.80476042e+00 -1.54204427e-11  4.99640156e-01
   9.56426336e+00]
 [ 9.91611852e+00  1.79854070e-02 -1.45993108e-01  4.68732870e-01
   1.98539775e-01]]
2023-11-13 19:16:18,569 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284d091d0>, Timestamp('2023-09-19 00:00:00')): 0.0h 1.0m 0s 454ms
2023-11-13 19:16:18,579 - yq - INFO - The log returns list for all assets is: [Date
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
                ...   
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
                ...   
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:16:18,580 - yq - INFO - rho_S1S2 is 0.31956964971684426

2023-11-13 19:16:18,581 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31956965]
 [0.31956965 1.        ]]

2023-11-13 19:16:18,581 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49964016 0.31956965 0.        ]
 [0.49964016 1.         0.         0.        ]
 [0.31956965 0.         1.         0.46873287]
 [0.         0.         0.46873287 1.        ]]

2023-11-13 19:16:18,581 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49964016  0.86623306  0.          0.        ]
 [ 0.31956965 -0.18432664  0.92946163  0.        ]
 [ 0.          0.          0.50430578  0.86352515]]

2023-11-13 19:16:18,581 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284d091d0>): 0.0h 0.0m 0s 12ms
2023-11-13 19:16:18,588 - yq - INFO - The adjusted S_0 is [430.1 239.1]
2023-11-13 19:16:18,607 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:16:18,609 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  424.568439  230.813847
1  542.766740  239.478412
2  547.812849  239.484001
3  569.702151  241.617081
4  580.362154  251.129818
2023-11-13 19:16:18,708 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  424.568439  230.813847
2023-09-21  542.766740  239.478412
2023-09-22  547.812849  239.484001
2023-09-25  569.702151  241.617081
2023-09-26  580.362154  251.129818
2023-11-13 19:16:18,777 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
...             ...      ...
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1

[63 rows x 2 columns]
2023-11-13 19:16:18,780 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-19  430.100000  239.100000
2023-09-20  424.568439  230.813847
2023-09-21  542.766740  239.478412
2023-09-22  547.812849  239.484001
2023-09-25  569.702151  241.617081
...                ...         ...
2024-07-24    9.884612  240.390911
2024-07-25    9.541111  244.171483
2024-07-26   11.264950  245.654225
2024-07-29   10.529526  246.562754
2024-07-30    7.753759  245.961366

[216 rows x 2 columns]
2023-11-13 19:16:18,893 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:16:18,893 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284d091d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  424.568439  230.813847
2023-09-21  542.766740  239.478412
2023-09-22  547.812849  239.484001
2023-09-25  569.702151  241.617081
2023-09-26  580.362154  251.129818
...                ...         ...
2024-07-24    9.884612  240.390911
2024-07-25    9.541111  244.171483
2024-07-26   11.264950  245.654225
2024-07-29   10.529526  246.562754
2024-07-30    7.753759  245.961366

[215 rows x 2 columns], sim=0): 0.0h 0.0m 0s 183ms
2023-11-13 19:16:18,894 - yq - INFO - The adjusted S_0 is [430.1 239.1]
2023-11-13 19:16:18,912 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:16:18,913 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  382.376250  234.729205
1  370.903236  241.721865
2  376.734493  234.287920
3  441.007400  229.481204
4  361.166260  224.025296
2023-11-13 19:16:19,003 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  382.376250  234.729205
2023-09-21  370.903236  241.721865
2023-09-22  376.734493  234.287920
2023-09-25  441.007400  229.481204
2023-09-26  361.166260  224.025296
2023-11-13 19:16:19,018 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
...             ...      ...
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1

[63 rows x 2 columns]
2023-11-13 19:16:19,020 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-19  430.100000  239.100000
2023-09-20  382.376250  234.729205
2023-09-21  370.903236  241.721865
2023-09-22  376.734493  234.287920
2023-09-25  441.007400  229.481204
...                ...         ...
2024-07-24    0.365753  215.200627
2024-07-25    0.306113  213.753889
2024-07-26    0.272724  216.072921
2024-07-29    0.210986  213.980990
2024-07-30    0.174030  213.480282

[216 rows x 2 columns]
2023-11-13 19:16:19,128 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:16:19,128 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284d091d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  382.376250  234.729205
2023-09-21  370.903236  241.721865
2023-09-22  376.734493  234.287920
2023-09-25  441.007400  229.481204
2023-09-26  361.166260  224.025296
...                ...         ...
2024-07-24    0.365753  215.200627
2024-07-25    0.306113  213.753889
2024-07-26    0.272724  216.072921
2024-07-29    0.210986  213.980990
2024-07-30    0.174030  213.480282

[215 rows x 2 columns], sim=1): 0.0h 0.0m 0s 123ms
2023-11-13 19:16:19,129 - yq - INFO - The adjusted S_0 is [430.1 239.1]
2023-11-13 19:16:19,149 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:16:19,150 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  291.921109  236.734697
1  306.989913  239.568596
2  415.863182  240.296697
3  288.712340  239.086842
4  401.459371  235.442029
2023-11-13 19:16:19,247 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  291.921109  236.734697
2023-09-21  306.989913  239.568596
2023-09-22  415.863182  240.296697
2023-09-25  288.712340  239.086842
2023-09-26  401.459371  235.442029
2023-11-13 19:16:19,262 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
...             ...      ...
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1

[63 rows x 2 columns]
2023-11-13 19:16:19,264 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-19  430.100000  239.100000
2023-09-20  291.921109  236.734697
2023-09-21  306.989913  239.568596
2023-09-22  415.863182  240.296697
2023-09-25  288.712340  239.086842
...                ...         ...
2024-07-24    0.291848  277.434130
2024-07-25    0.239937  278.283202
2024-07-26    0.220903  279.659566
2024-07-29    0.186803  278.037883
2024-07-30    0.230403  280.401348

[216 rows x 2 columns]
2023-11-13 19:16:19,373 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:16:19,373 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284d091d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  291.921109  236.734697
2023-09-21  306.989913  239.568596
2023-09-22  415.863182  240.296697
2023-09-25  288.712340  239.086842
2023-09-26  401.459371  235.442029
...                ...         ...
2024-07-24    0.291848  277.434130
2024-07-25    0.239937  278.283202
2024-07-26    0.220903  279.659566
2024-07-29    0.186803  278.037883
2024-07-30    0.230403  280.401348

[215 rows x 2 columns], sim=2): 0.0h 0.0m 0s 123ms
2023-11-13 19:16:19,373 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284d091d0>, n_sim=3): 0.0h 1.0m 1s 262ms
2023-11-13 19:16:19,373 - yq - INFO - Pricing the product on 2023-09-20 00:00:00
2023-11-13 19:16:19,374 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:16:19,381 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:16:19,594 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-11-13 19:16:19,594 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230920.csv
2023-11-13 19:16:19,598 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/lonn_call.csv
2023-11-13 19:16:19,600 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.162807     330  103.949997  37.879402  0.0175
1  0.162807     335   99.050003  36.874622  0.0175
2  0.162807     340   94.199997  36.165127  0.0175
3  0.162807     345   89.349998  35.303986  0.0175
4  0.162807     350   84.474998  34.169895  0.0175
2023-11-13 19:16:19,601 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/sika_call.csv
2023-11-13 19:16:19,602 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     190  40.974998  34.669617  0.0175
1  0.162807     195  36.275002  33.086273  0.0175
2  0.162807     200  31.699997  31.738745  0.0175
3  0.162807     210  23.075005  29.495777  0.0175
4  0.162807     220  15.625002  28.121016  0.0175
2023-11-13 19:16:19,606 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.162807     330  103.949997  0.0175
1  0.162807     335   99.050003  0.0175
2  0.162807     340   94.199997  0.0175
3  0.162807     345   89.349998  0.0175
4  0.162807     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.162807     190  40.974998  0.0175
1  0.162807     195  36.275002  0.0175
2  0.162807     200  31.699997  0.0175
3  0.162807     210  23.075005  0.0175
4  0.162807     220  15.625002  0.0175
2023-11-13 19:16:19,606 - yq - INFO - Calibrating LONZA on 2023-09-20 00:00:00.
2023-11-13 19:16:47,721 - yq - INFO - Calibrating SIKA on 2023-09-20 00:00:00.
2023-11-13 19:17:20,509 - yq - INFO - The S_0 for LONZA and SIKA are 440.7 and 242.8
2023-11-13 19:17:20,510 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 19:17:20,519 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230920.csv
2023-11-13 19:17:20,519 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.52959243e-01  8.74122561e+00 -1.53246305e-11  4.99242906e-01
   8.51635658e+00]
 [ 8.16150212e+00  1.85870385e-02 -1.17072713e-01  4.56910458e-01
   2.44149091e-01]]
2023-11-13 19:17:20,523 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c76e250>, Timestamp('2023-09-20 00:00:00')): 0.0h 1.0m 0s 929ms
2023-11-13 19:17:20,530 - yq - INFO - The log returns list for all assets is: [Date
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
                ...   
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
                ...   
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:17:20,532 - yq - INFO - rho_S1S2 is 0.3278432600606565

2023-11-13 19:17:20,532 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32784326]
 [0.32784326 1.        ]]

2023-11-13 19:17:20,533 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49924291 0.32784326 0.        ]
 [0.49924291 1.         0.         0.        ]
 [0.32784326 0.         1.         0.45691046]
 [0.         0.         0.45691046 1.        ]]

2023-11-13 19:17:20,533 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49924291  0.86646207  0.          0.        ]
 [ 0.32784326 -0.18889854  0.92565444  0.        ]
 [ 0.          0.          0.49360802  0.86968449]]

2023-11-13 19:17:20,533 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c76e250>): 0.0h 0.0m 0s 11ms
2023-11-13 19:17:20,545 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 19:17:20,565 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:17:20,568 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  498.574681  252.648882
1  478.305742  262.992015
2  638.278135  270.548506
3  666.915700  261.795571
4  895.642407  267.306568
2023-11-13 19:17:20,666 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  498.574681  252.648882
2023-09-22  478.305742  262.992015
2023-09-25  638.278135  270.548506
2023-09-26  666.915700  261.795571
2023-09-27  895.642407  267.306568
2023-11-13 19:17:20,749 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
...             ...      ...
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8

[63 rows x 2 columns]
2023-11-13 19:17:20,752 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-20  440.700000  242.800000
2023-09-21  498.574681  252.648882
2023-09-22  478.305742  262.992015
2023-09-25  638.278135  270.548506
2023-09-26  666.915700  261.795571
...                ...         ...
2024-07-24   15.543258  289.867929
2024-07-25   20.452244  290.230223
2024-07-26   20.856459  289.087606
2024-07-29   23.151090  287.814132
2024-07-30   28.694004  288.522718

[215 rows x 2 columns]
2023-11-13 19:17:20,863 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:17:20,863 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c76e250>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  498.574681  252.648882
2023-09-22  478.305742  262.992015
2023-09-25  638.278135  270.548506
2023-09-26  666.915700  261.795571
2023-09-27  895.642407  267.306568
...                ...         ...
2024-07-24   15.543258  289.867929
2024-07-25   20.452244  290.230223
2024-07-26   20.856459  289.087606
2024-07-29   23.151090  287.814132
2024-07-30   28.694004  288.522718

[214 rows x 2 columns], sim=0): 0.0h 0.0m 0s 194ms
2023-11-13 19:17:20,863 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 19:17:20,883 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:17:20,884 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  433.436227  246.677035
1  514.138137  245.042513
2  463.752381  247.279023
3  437.091863  237.742167
4  451.819387  235.767609
2023-11-13 19:17:20,984 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  433.436227  246.677035
2023-09-22  514.138137  245.042513
2023-09-25  463.752381  247.279023
2023-09-26  437.091863  237.742167
2023-09-27  451.819387  235.767609
2023-11-13 19:17:21,003 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
...             ...      ...
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8

[63 rows x 2 columns]
2023-11-13 19:17:21,005 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-20  440.700000  242.800000
2023-09-21  433.436227  246.677035
2023-09-22  514.138137  245.042513
2023-09-25  463.752381  247.279023
2023-09-26  437.091863  237.742167
...                ...         ...
2024-07-24    1.289734  216.299879
2024-07-25    1.220877  218.874581
2024-07-26    1.179770  215.494743
2024-07-29    0.961443  215.146115
2024-07-30    1.012335  214.903853

[215 rows x 2 columns]
2023-11-13 19:17:21,118 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:17:21,118 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c76e250>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  433.436227  246.677035
2023-09-22  514.138137  245.042513
2023-09-25  463.752381  247.279023
2023-09-26  437.091863  237.742167
2023-09-27  451.819387  235.767609
...                ...         ...
2024-07-24    1.289734  216.299879
2024-07-25    1.220877  218.874581
2024-07-26    1.179770  215.494743
2024-07-29    0.961443  215.146115
2024-07-30    1.012335  214.903853

[214 rows x 2 columns], sim=1): 0.0h 0.0m 0s 129ms
2023-11-13 19:17:21,119 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 19:17:21,140 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:17:21,142 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  387.151274  238.220594
1  449.764574  251.649811
2  690.167038  279.446121
3  538.906899  270.038166
4  515.477459  278.157636
2023-11-13 19:17:21,245 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  387.151274  238.220594
2023-09-22  449.764574  251.649811
2023-09-25  690.167038  279.446121
2023-09-26  538.906899  270.038166
2023-09-27  515.477459  278.157636
2023-11-13 19:17:21,264 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
...             ...      ...
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8

[63 rows x 2 columns]
2023-11-13 19:17:21,266 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-20  440.700000  242.800000
2023-09-21  387.151274  238.220594
2023-09-22  449.764574  251.649811
2023-09-25  690.167038  279.446121
2023-09-26  538.906899  270.038166
...                ...         ...
2024-07-24    1.189604  281.707888
2024-07-25    1.138867  282.812517
2024-07-26    1.043945  281.315124
2024-07-29    1.033562  283.580020
2024-07-30    0.917242  285.348875

[215 rows x 2 columns]
2023-11-13 19:17:21,382 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:17:21,382 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c76e250>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  387.151274  238.220594
2023-09-22  449.764574  251.649811
2023-09-25  690.167038  279.446121
2023-09-26  538.906899  270.038166
2023-09-27  515.477459  278.157636
...                ...         ...
2024-07-24    1.189604  281.707888
2024-07-25    1.138867  282.812517
2024-07-26    1.043945  281.315124
2024-07-29    1.033562  283.580020
2024-07-30    0.917242  285.348875

[214 rows x 2 columns], sim=2): 0.0h 0.0m 0s 133ms
2023-11-13 19:17:21,382 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c76e250>, n_sim=3): 0.0h 1.0m 1s 790ms
2023-11-13 19:17:21,382 - yq - INFO - Pricing the product on 2023-09-21 00:00:00
2023-11-13 19:17:21,382 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:17:21,390 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:17:21,612 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-11-13 19:17:21,612 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230921.csv
2023-11-13 19:17:21,616 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/lonn_call.csv
2023-11-13 19:17:21,618 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0      0.16     330  103.949997  37.879402  0.0175
1      0.16     335   99.050003  36.874622  0.0175
2      0.16     340   94.199997  36.165127  0.0175
3      0.16     345   89.349998  35.303986  0.0175
4      0.16     350   84.474998  34.169895  0.0175
2023-11-13 19:17:21,619 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/sika_call.csv
2023-11-13 19:17:21,621 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     190  40.974998  34.669617  0.0175
1      0.16     195  36.275002  33.086273  0.0175
2      0.16     200  31.699997  31.738745  0.0175
3      0.16     210  23.075005  29.495777  0.0175
4      0.16     220  15.625002  28.121016  0.0175
2023-11-13 19:17:21,626 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0      0.16     330  103.949997  0.0175
1      0.16     335   99.050003  0.0175
2      0.16     340   94.199997  0.0175
3      0.16     345   89.349998  0.0175
4      0.16     350   84.474998  0.0175
   maturity  strike      price    rate
0      0.16     190  40.974998  0.0175
1      0.16     195  36.275002  0.0175
2      0.16     200  31.699997  0.0175
3      0.16     210  23.075005  0.0175
4      0.16     220  15.625002  0.0175
2023-11-13 19:17:21,626 - yq - INFO - Calibrating LONZA on 2023-09-21 00:00:00.
2023-11-13 19:17:51,598 - yq - INFO - Calibrating SIKA on 2023-09-21 00:00:00.
2023-11-13 19:18:24,755 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 239.9
2023-11-13 19:18:24,756 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 3 seconds
2023-11-13 19:18:24,762 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230921.csv
2023-11-13 19:18:24,762 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.83256283e-01  9.99027553e+00 -1.54090074e-11  4.99985397e-01
   9.92578934e+00]
 [ 9.51070515e+00  1.00406495e-02 -1.51517002e-01  4.88045534e-01
   2.27684409e-01]]
2023-11-13 19:18:24,764 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e605210>, Timestamp('2023-09-21 00:00:00')): 0.0h 1.0m 3s 152ms
2023-11-13 19:18:24,771 - yq - INFO - The log returns list for all assets is: [Date
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
                ...   
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
                ...   
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:18:24,773 - yq - INFO - rho_S1S2 is 0.3430350360744496

2023-11-13 19:18:24,773 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34303504]
 [0.34303504 1.        ]]

2023-11-13 19:18:24,773 - yq - INFO - Simplified correlation matrix is:
[[1.         0.4999854  0.34303504 0.        ]
 [0.4999854  1.         0.         0.        ]
 [0.34303504 0.         1.         0.48804553]
 [0.         0.         0.48804553 1.        ]]

2023-11-13 19:18:24,774 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.4999854   0.86603383  0.          0.        ]
 [ 0.34303504 -0.19804366  0.91820786  0.        ]
 [ 0.          0.          0.53151967  0.84704595]]

2023-11-13 19:18:24,774 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e605210>): 0.0h 0.0m 0s 10ms
2023-11-13 19:18:24,783 - yq - INFO - The adjusted S_0 is [426.3 239.9]
2023-11-13 19:18:24,802 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:18:24,805 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  364.121400  240.439187
1  445.312514  241.495626
2  431.507858  239.239900
3  448.392675  250.622205
4  285.461686  242.857681
2023-11-13 19:18:24,919 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  364.121400  240.439187
2023-09-25  445.312514  241.495626
2023-09-26  431.507858  239.239900
2023-09-27  448.392675  250.622205
2023-09-28  285.461686  242.857681
2023-11-13 19:18:24,974 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
...             ...      ...
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9

[63 rows x 2 columns]
2023-11-13 19:18:24,976 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-21  426.300000  239.900000
2023-09-22  364.121400  240.439187
2023-09-25  445.312514  241.495626
2023-09-26  431.507858  239.239900
2023-09-27  448.392675  250.622205
...                ...         ...
2024-07-24   21.262350  255.590894
2024-07-25   19.724930  254.496231
2024-07-26   20.842928  254.219573
2024-07-29   18.487088  249.502249
2024-07-30   15.732331  247.375133

[214 rows x 2 columns]
2023-11-13 19:18:25,094 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:18:25,095 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e605210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  364.121400  240.439187
2023-09-25  445.312514  241.495626
2023-09-26  431.507858  239.239900
2023-09-27  448.392675  250.622205
2023-09-28  285.461686  242.857681
...                ...         ...
2024-07-24   21.262350  255.590894
2024-07-25   19.724930  254.496231
2024-07-26   20.842928  254.219573
2024-07-29   18.487088  249.502249
2024-07-30   15.732331  247.375133

[213 rows x 2 columns], sim=0): 0.0h 0.0m 0s 172ms
2023-11-13 19:18:25,095 - yq - INFO - The adjusted S_0 is [426.3 239.9]
2023-11-13 19:18:25,114 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:18:25,115 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  385.870182  251.732033
1  305.110429  241.708770
2  409.852259  246.996391
3  415.488168  244.679756
4  416.620303  249.032184
2023-11-13 19:18:25,211 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  385.870182  251.732033
2023-09-25  305.110429  241.708770
2023-09-26  409.852259  246.996391
2023-09-27  415.488168  244.679756
2023-09-28  416.620303  249.032184
2023-11-13 19:18:25,228 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
...             ...      ...
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9

[63 rows x 2 columns]
2023-11-13 19:18:25,231 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-21  426.300000  239.900000
2023-09-22  385.870182  251.732033
2023-09-25  305.110429  241.708770
2023-09-26  409.852259  246.996391
2023-09-27  415.488168  244.679756
...                ...         ...
2024-07-24    1.706372  186.648341
2024-07-25    2.247358  187.063669
2024-07-26    2.076260  185.348516
2024-07-29    1.910304  185.377123
2024-07-30    1.673098  185.128958

[214 rows x 2 columns]
2023-11-13 19:18:25,344 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:18:25,344 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e605210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  385.870182  251.732033
2023-09-25  305.110429  241.708770
2023-09-26  409.852259  246.996391
2023-09-27  415.488168  244.679756
2023-09-28  416.620303  249.032184
...                ...         ...
2024-07-24    1.706372  186.648341
2024-07-25    2.247358  187.063669
2024-07-26    2.076260  185.348516
2024-07-29    1.910304  185.377123
2024-07-30    1.673098  185.128958

[213 rows x 2 columns], sim=1): 0.0h 0.0m 0s 130ms
2023-11-13 19:18:25,345 - yq - INFO - The adjusted S_0 is [426.3 239.9]
2023-11-13 19:18:25,365 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:18:25,366 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  500.470775  240.627646
1  383.897832  242.636184
2  429.000022  250.502410
3  437.648103  245.730816
4  454.811219  257.080865
2023-11-13 19:18:25,469 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  500.470775  240.627646
2023-09-25  383.897832  242.636184
2023-09-26  429.000022  250.502410
2023-09-27  437.648103  245.730816
2023-09-28  454.811219  257.080865
2023-11-13 19:18:25,485 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
...             ...      ...
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9

[63 rows x 2 columns]
2023-11-13 19:18:25,488 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-21  426.300000  239.900000
2023-09-22  500.470775  240.627646
2023-09-25  383.897832  242.636184
2023-09-26  429.000022  250.502410
2023-09-27  437.648103  245.730816
...                ...         ...
2024-07-24    0.099134  237.082395
2024-07-25    0.109629  237.197839
2024-07-26    0.123863  235.170174
2024-07-29    0.150703  237.575440
2024-07-30    0.149438  237.978215

[214 rows x 2 columns]
2023-11-13 19:18:25,604 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:18:25,604 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e605210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  500.470775  240.627646
2023-09-25  383.897832  242.636184
2023-09-26  429.000022  250.502410
2023-09-27  437.648103  245.730816
2023-09-28  454.811219  257.080865
...                ...         ...
2024-07-24    0.099134  237.082395
2024-07-25    0.109629  237.197839
2024-07-26    0.123863  235.170174
2024-07-29    0.150703  237.575440
2024-07-30    0.149438  237.978215

[213 rows x 2 columns], sim=2): 0.0h 0.0m 0s 133ms
2023-11-13 19:18:25,604 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e605210>, n_sim=3): 0.0h 1.0m 3s 994ms
2023-11-13 19:18:25,605 - yq - INFO - Pricing the product on 2023-09-22 00:00:00
2023-11-13 19:18:25,605 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:18:25,614 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:18:25,847 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-11-13 19:18:25,847 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230922.csv
2023-11-13 19:18:25,849 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/lonn_call.csv
2023-11-13 19:18:25,851 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.157193     330  103.949997  37.879402  0.0175
1  0.157193     335   99.050003  36.874622  0.0175
2  0.157193     340   94.199997  36.165127  0.0175
3  0.157193     345   89.349998  35.303986  0.0175
4  0.157193     350   84.474998  34.169895  0.0175
2023-11-13 19:18:25,852 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/sika_call.csv
2023-11-13 19:18:25,854 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     190  40.974998  34.669617  0.0175
1  0.157193     195  36.275002  33.086273  0.0175
2  0.157193     200  31.699997  31.738745  0.0175
3  0.157193     210  23.075005  29.495777  0.0175
4  0.157193     220  15.625002  28.121016  0.0175
2023-11-13 19:18:25,857 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.157193     330  103.949997  0.0175
1  0.157193     335   99.050003  0.0175
2  0.157193     340   94.199997  0.0175
3  0.157193     345   89.349998  0.0175
4  0.157193     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.157193     190  40.974998  0.0175
1  0.157193     195  36.275002  0.0175
2  0.157193     200  31.699997  0.0175
3  0.157193     210  23.075005  0.0175
4  0.157193     220  15.625002  0.0175
2023-11-13 19:18:25,857 - yq - INFO - Calibrating LONZA on 2023-09-22 00:00:00.
2023-11-13 19:18:56,481 - yq - INFO - Calibrating SIKA on 2023-09-22 00:00:00.
2023-11-13 19:19:28,084 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 236.7
2023-11-13 19:19:28,085 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 2 seconds
2023-11-13 19:19:28,094 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230922.csv
2023-11-13 19:19:28,094 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.91342522e-01  8.98877769e+00 -1.54219970e-11  4.99395145e-01
   7.65756225e+00]
 [ 9.98396655e+00  1.00470033e-02 -1.15892605e-01  4.99889082e-01
   2.34804563e-01]]
2023-11-13 19:19:28,095 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2852c77d0>, Timestamp('2023-09-22 00:00:00')): 0.0h 1.0m 2s 248ms
2023-11-13 19:19:28,102 - yq - INFO - The log returns list for all assets is: [Date
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
                ...   
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
                ...   
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:19:28,105 - yq - INFO - rho_S1S2 is 0.3447849301023391

2023-11-13 19:19:28,105 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34478493]
 [0.34478493 1.        ]]

2023-11-13 19:19:28,105 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49939515 0.34478493 0.        ]
 [0.49939515 1.         0.         0.        ]
 [0.34478493 0.         1.         0.49988908]
 [0.         0.         0.49988908 1.        ]]

2023-11-13 19:19:28,106 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49939515  0.86637434  0.          0.        ]
 [ 0.34478493 -0.19874079  0.91740147  0.        ]
 [ 0.          0.          0.54489675  0.83850315]]

2023-11-13 19:19:28,106 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2852c77d0>): 0.0h 0.0m 0s 11ms
2023-11-13 19:19:28,115 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 19:19:28,136 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:19:28,139 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  458.734347  246.050086
1  425.727302  236.520519
2  365.312158  238.994004
3  504.450844  239.235609
4  507.318529  243.949696
2023-11-13 19:19:28,255 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  458.734347  246.050086
2023-09-26  425.727302  236.520519
2023-09-27  365.312158  238.994004
2023-09-28  504.450844  239.235609
2023-09-29  507.318529  243.949696
2023-11-13 19:19:28,317 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
...             ...      ...
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7

[63 rows x 2 columns]
2023-11-13 19:19:28,321 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-22  426.300000  236.700000
2023-09-25  458.734347  246.050086
2023-09-26  425.727302  236.520519
2023-09-27  365.312158  238.994004
2023-09-28  504.450844  239.235609
...                ...         ...
2024-07-24    5.744755  234.326201
2024-07-25    4.392635  235.425901
2024-07-26    4.817707  236.981717
2024-07-29    5.857628  238.365078
2024-07-30    3.869126  235.530426

[213 rows x 2 columns]
2023-11-13 19:19:28,453 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:19:28,453 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852c77d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  458.734347  246.050086
2023-09-26  425.727302  236.520519
2023-09-27  365.312158  238.994004
2023-09-28  504.450844  239.235609
2023-09-29  507.318529  243.949696
...                ...         ...
2024-07-24    5.744755  234.326201
2024-07-25    4.392635  235.425901
2024-07-26    4.817707  236.981717
2024-07-29    5.857628  238.365078
2024-07-30    3.869126  235.530426

[212 rows x 2 columns], sim=0): 0.0h 0.0m 0s 193ms
2023-11-13 19:19:28,453 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 19:19:28,474 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:19:28,475 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  536.999041  245.215024
1  805.339008  246.725210
2  858.951561  240.069293
3  659.144941  235.460867
4  715.609957  245.164573
2023-11-13 19:19:28,579 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  536.999041  245.215024
2023-09-26  805.339008  246.725210
2023-09-27  858.951561  240.069293
2023-09-28  659.144941  235.460867
2023-09-29  715.609957  245.164573
2023-11-13 19:19:28,597 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
...             ...      ...
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7

[63 rows x 2 columns]
2023-11-13 19:19:28,600 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-22  426.300000  236.700000
2023-09-25  536.999041  245.215024
2023-09-26  805.339008  246.725210
2023-09-27  858.951561  240.069293
2023-09-28  659.144941  235.460867
...                ...         ...
2024-07-24   30.613805  276.672392
2024-07-25   33.143029  272.349669
2024-07-26   31.616243  272.460806
2024-07-29   23.289663  269.024718
2024-07-30   26.552167  268.958602

[213 rows x 2 columns]
2023-11-13 19:19:28,720 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:19:28,720 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852c77d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  536.999041  245.215024
2023-09-26  805.339008  246.725210
2023-09-27  858.951561  240.069293
2023-09-28  659.144941  235.460867
2023-09-29  715.609957  245.164573
...                ...         ...
2024-07-24   30.613805  276.672392
2024-07-25   33.143029  272.349669
2024-07-26   31.616243  272.460806
2024-07-29   23.289663  269.024718
2024-07-30   26.552167  268.958602

[212 rows x 2 columns], sim=1): 0.0h 0.0m 0s 138ms
2023-11-13 19:19:28,720 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 19:19:28,742 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:19:28,743 - yq - INFO - The simulated data for 2th iteration is:
      LONN.SE_0   SIKA.SE_0
0   426.241825  240.408275
1   844.482633  258.358024
2   928.450579  259.463978
3  1175.101700  260.059831
4   913.444013  260.568320
2023-11-13 19:19:28,849 - yq - INFO - 1 sim, diff h, sim_data_comb:
              LONN.SE_0   SIKA.SE_0
Date                               
2023-09-25   426.241825  240.408275
2023-09-26   844.482633  258.358024
2023-09-27   928.450579  259.463978
2023-09-28  1175.101700  260.059831
2023-09-29   913.444013  260.568320
2023-11-13 19:19:28,867 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
...             ...      ...
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7

[63 rows x 2 columns]
2023-11-13 19:19:28,869 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-09-22   426.300000  236.700000
2023-09-25   426.241825  240.408275
2023-09-26   844.482633  258.358024
2023-09-27   928.450579  259.463978
2023-09-28  1175.101700  260.059831
...                 ...         ...
2024-07-24   534.738135  235.941597
2024-07-25   555.263079  237.467625
2024-07-26   591.295667  237.151070
2024-07-29   456.474503  236.669747
2024-07-30   558.426834  236.798604

[213 rows x 2 columns]
2023-11-13 19:19:28,979 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:19:28,979 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852c77d0>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-09-25   426.241825  240.408275
2023-09-26   844.482633  258.358024
2023-09-27   928.450579  259.463978
2023-09-28  1175.101700  260.059831
2023-09-29   913.444013  260.568320
...                 ...         ...
2024-07-24   534.738135  235.941597
2024-07-25   555.263079  237.467625
2024-07-26   591.295667  237.151070
2024-07-29   456.474503  236.669747
2024-07-30   558.426834  236.798604

[212 rows x 2 columns], sim=2): 0.0h 0.0m 0s 127ms
2023-11-13 19:19:28,979 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2852c77d0>, n_sim=3): 0.0h 1.0m 3s 134ms
2023-11-13 19:19:28,979 - yq - INFO - Pricing the product on 2023-09-25 00:00:00
2023-11-13 19:19:28,979 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:19:28,988 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:19:29,326 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-11-13 19:19:29,326 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230925.csv
2023-11-13 19:19:29,331 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/lonn_call.csv
2023-11-13 19:19:29,332 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.148772     330  103.949997  37.879402  0.0175
1  0.148772     335   99.050003  36.874622  0.0175
2  0.148772     340   94.199997  36.165127  0.0175
3  0.148772     345   89.349998  35.303986  0.0175
4  0.148772     350   84.474998  34.169895  0.0175
2023-11-13 19:19:29,333 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/sika_call.csv
2023-11-13 19:19:29,335 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     190  40.974998  34.669617  0.0175
1  0.148772     195  36.275002  33.086273  0.0175
2  0.148772     200  31.699997  31.738745  0.0175
3  0.148772     210  23.075005  29.495777  0.0175
4  0.148772     220  15.625002  28.121016  0.0175
2023-11-13 19:19:29,338 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.148772     330  103.949997  0.0175
1  0.148772     335   99.050003  0.0175
2  0.148772     340   94.199997  0.0175
3  0.148772     345   89.349998  0.0175
4  0.148772     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.148772     190  40.974998  0.0175
1  0.148772     195  36.275002  0.0175
2  0.148772     200  31.699997  0.0175
3  0.148772     210  23.075005  0.0175
4  0.148772     220  15.625002  0.0175
2023-11-13 19:19:29,338 - yq - INFO - Calibrating LONZA on 2023-09-25 00:00:00.
2023-11-13 19:19:59,763 - yq - INFO - Calibrating SIKA on 2023-09-25 00:00:00.
2023-11-13 19:20:30,558 - yq - INFO - The S_0 for LONZA and SIKA are 432.1 and 232.6
2023-11-13 19:20:30,559 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 1 seconds
2023-11-13 19:20:30,566 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230925.csv
2023-11-13 19:20:30,566 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.86502943e-01  9.42694644e+00 -1.54214419e-11  4.99295872e-01
   8.14769648e+00]
 [ 9.10181613e+00  2.98864864e-02 -1.31045473e-01  4.99905132e-01
   2.07585006e-01]]
2023-11-13 19:20:30,567 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285141110>, Timestamp('2023-09-25 00:00:00')): 0.0h 1.0m 1s 242ms
2023-11-13 19:20:30,573 - yq - INFO - The log returns list for all assets is: [Date
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
                ...   
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
                ...   
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:20:30,575 - yq - INFO - rho_S1S2 is 0.3222638184192226

2023-11-13 19:20:30,575 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32226382]
 [0.32226382 1.        ]]

2023-11-13 19:20:30,575 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49929587 0.32226382 0.        ]
 [0.49929587 1.         0.         0.        ]
 [0.32226382 0.         1.         0.49990513]
 [0.         0.         0.49990513 1.        ]]

2023-11-13 19:20:30,576 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49929587  0.86643155  0.          0.        ]
 [ 0.32226382 -0.18570999  0.92825526  0.        ]
 [ 0.          0.          0.53854274  0.84259819]]

2023-11-13 19:20:30,576 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285141110>): 0.0h 0.0m 0s 9ms
2023-11-13 19:20:30,584 - yq - INFO - The adjusted S_0 is [432.1 232.6]
2023-11-13 19:20:30,603 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:20:30,606 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  393.198245  229.225839
1  569.275396  236.946413
2  637.229629  234.954705
3  698.177017  236.652305
4  797.568267  241.212677
2023-11-13 19:20:30,710 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-26  393.198245  229.225839
2023-09-27  569.275396  236.946413
2023-09-28  637.229629  234.954705
2023-09-29  698.177017  236.652305
2023-10-02  797.568267  241.212677
2023-11-13 19:20:30,777 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
...             ...      ...
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6

[63 rows x 2 columns]
2023-11-13 19:20:30,780 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-25  432.100000  232.600000
2023-09-26  393.198245  229.225839
2023-09-27  569.275396  236.946413
2023-09-28  637.229629  234.954705
2023-09-29  698.177017  236.652305
...                ...         ...
2024-07-24    0.560482  200.242844
2024-07-25    0.397279  199.677573
2024-07-26    0.426809  198.927593
2024-07-29    0.452954  200.302912
2024-07-30    0.537338  201.768307

[212 rows x 2 columns]
2023-11-13 19:20:30,890 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:20:30,890 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285141110>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-26  393.198245  229.225839
2023-09-27  569.275396  236.946413
2023-09-28  637.229629  234.954705
2023-09-29  698.177017  236.652305
2023-10-02  797.568267  241.212677
...                ...         ...
2024-07-24    0.560482  200.242844
2024-07-25    0.397279  199.677573
2024-07-26    0.426809  198.927593
2024-07-29    0.452954  200.302912
2024-07-30    0.537338  201.768307

[211 rows x 2 columns], sim=0): 0.0h 0.0m 0s 177ms
2023-11-13 19:20:30,891 - yq - INFO - The adjusted S_0 is [432.1 232.6]
2023-11-13 19:20:30,910 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:20:30,912 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.643234  235.437579
1  362.282793  222.001190
2  505.726719  225.210848
3  491.736790  229.479910
4  531.367241  226.236864
2023-11-13 19:20:31,007 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-26  487.643234  235.437579
2023-09-27  362.282793  222.001190
2023-09-28  505.726719  225.210848
2023-09-29  491.736790  229.479910
2023-10-02  531.367241  226.236864
2023-11-13 19:20:31,023 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
...             ...      ...
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6

[63 rows x 2 columns]
2023-11-13 19:20:31,025 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-25  432.100000  232.600000
2023-09-26  487.643234  235.437579
2023-09-27  362.282793  222.001190
2023-09-28  505.726719  225.210848
2023-09-29  491.736790  229.479910
...                ...         ...
2024-07-24    3.235362  230.794613
2024-07-25    3.098700  232.596425
2024-07-26    2.838468  228.599975
2024-07-29    2.815427  229.326834
2024-07-30    2.237717  228.750865

[212 rows x 2 columns]
2023-11-13 19:20:31,133 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:20:31,133 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285141110>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-26  487.643234  235.437579
2023-09-27  362.282793  222.001190
2023-09-28  505.726719  225.210848
2023-09-29  491.736790  229.479910
2023-10-02  531.367241  226.236864
...                ...         ...
2024-07-24    3.235362  230.794613
2024-07-25    3.098700  232.596425
2024-07-26    2.838468  228.599975
2024-07-29    2.815427  229.326834
2024-07-30    2.237717  228.750865

[211 rows x 2 columns], sim=1): 0.0h 0.0m 0s 124ms
2023-11-13 19:20:31,134 - yq - INFO - The adjusted S_0 is [432.1 232.6]
2023-11-13 19:20:31,153 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:20:31,154 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  397.989979  227.160086
1  375.373965  236.151482
2  435.838711  242.073559
3  261.056961  227.972982
4  237.498648  227.935484
2023-11-13 19:20:31,252 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-26  397.989979  227.160086
2023-09-27  375.373965  236.151482
2023-09-28  435.838711  242.073559
2023-09-29  261.056961  227.972982
2023-10-02  237.498648  227.935484
2023-11-13 19:20:31,267 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
...             ...      ...
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6

[63 rows x 2 columns]
2023-11-13 19:20:31,270 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-25  432.100000  232.600000
2023-09-26  397.989979  227.160086
2023-09-27  375.373965  236.151482
2023-09-28  435.838711  242.073559
2023-09-29  261.056961  227.972982
...                ...         ...
2024-07-24    6.339451  197.460043
2024-07-25    5.538925  199.804302
2024-07-26    6.434844  197.910757
2024-07-29    7.831855  199.151800
2024-07-30    8.017616  205.697982

[212 rows x 2 columns]
2023-11-13 19:20:31,380 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:20:31,380 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285141110>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-26  397.989979  227.160086
2023-09-27  375.373965  236.151482
2023-09-28  435.838711  242.073559
2023-09-29  261.056961  227.972982
2023-10-02  237.498648  227.935484
...                ...         ...
2024-07-24    6.339451  197.460043
2024-07-25    5.538925  199.804302
2024-07-26    6.434844  197.910757
2024-07-29    7.831855  199.151800
2024-07-30    8.017616  205.697982

[211 rows x 2 columns], sim=2): 0.0h 0.0m 0s 126ms
2023-11-13 19:20:31,380 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285141110>, n_sim=3): 0.0h 1.0m 2s 56ms
2023-11-13 19:20:31,380 - yq - INFO - Pricing the product on 2023-09-26 00:00:00
2023-11-13 19:20:31,381 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:20:31,388 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:20:31,606 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-11-13 19:20:31,606 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230926.csv
2023-11-13 19:20:31,609 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/lonn_call.csv
2023-11-13 19:20:31,611 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.145965     330  103.949997  37.879402  0.0175
1  0.145965     335   99.050003  36.874622  0.0175
2  0.145965     340   94.199997  36.165127  0.0175
3  0.145965     345   89.349998  35.303986  0.0175
4  0.145965     350   84.474998  34.169895  0.0175
2023-11-13 19:20:31,612 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/sika_call.csv
2023-11-13 19:20:31,614 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     190  40.974998  34.669617  0.0175
1  0.145965     195  36.275002  33.086273  0.0175
2  0.145965     200  31.699997  31.738745  0.0175
3  0.145965     210  23.075005  29.495777  0.0175
4  0.145965     220  15.625002  28.121016  0.0175
2023-11-13 19:20:31,618 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.145965     330  103.949997  0.0175
1  0.145965     335   99.050003  0.0175
2  0.145965     340   94.199997  0.0175
3  0.145965     345   89.349998  0.0175
4  0.145965     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.145965     190  40.974998  0.0175
1  0.145965     195  36.275002  0.0175
2  0.145965     200  31.699997  0.0175
3  0.145965     210  23.075005  0.0175
4  0.145965     220  15.625002  0.0175
2023-11-13 19:20:31,618 - yq - INFO - Calibrating LONZA on 2023-09-26 00:00:00.
2023-11-13 19:21:03,331 - yq - INFO - Calibrating SIKA on 2023-09-26 00:00:00.
2023-11-13 19:21:36,221 - yq - INFO - The S_0 for LONZA and SIKA are 432.4 and 229.3
2023-11-13 19:21:36,222 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 4 seconds
2023-11-13 19:21:36,243 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230926.csv
2023-11-13 19:21:36,243 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.91239414e-01  9.82969974e+00 -1.54212199e-11  4.98919091e-01
   9.11843685e+00]
 [ 9.95996846e+00  1.00000740e-02 -1.27104680e-01  4.82620939e-01
   2.73013314e-01]]
2023-11-13 19:21:36,244 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, Timestamp('2023-09-26 00:00:00')): 0.0h 1.0m 4s 638ms
2023-11-13 19:21:36,262 - yq - INFO - The log returns list for all assets is: [Date
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
                ...   
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
                ...   
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:21:36,265 - yq - INFO - rho_S1S2 is 0.31739440250500167

2023-11-13 19:21:36,265 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3173944]
 [0.3173944 1.       ]]

2023-11-13 19:21:36,265 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49891909 0.3173944  0.        ]
 [0.49891909 1.         0.         0.        ]
 [0.3173944  0.         1.         0.48262094]
 [0.         0.         0.48262094 1.        ]]

2023-11-13 19:21:36,266 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49891909  0.86664857  0.          0.        ]
 [ 0.3173944  -0.18272012  0.93052359  0.        ]
 [ 0.          0.          0.51865524  0.85498347]]

2023-11-13 19:21:36,267 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b1b710>): 0.0h 0.0m 0s 22ms
2023-11-13 19:21:36,275 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 19:21:36,294 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:21:36,296 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  447.093819  225.445060
1  393.528607  226.879590
2  391.512407  228.355380
3  390.502946  226.049071
4  398.962018  234.699780
2023-11-13 19:21:36,406 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  447.093819  225.445060
2023-09-28  393.528607  226.879590
2023-09-29  391.512407  228.355380
2023-10-02  390.502946  226.049071
2023-10-03  398.962018  234.699780
2023-11-13 19:21:36,471 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
...             ...      ...
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3

[63 rows x 2 columns]
2023-11-13 19:21:36,473 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-26  432.400000  229.300000
2023-09-27  447.093819  225.445060
2023-09-28  393.528607  226.879590
2023-09-29  391.512407  228.355380
2023-10-02  390.502946  226.049071
...                ...         ...
2024-07-24  111.013373  282.836863
2024-07-25   77.154023  282.025056
2024-07-26   91.672330  280.445260
2024-07-29   88.883847  283.275672
2024-07-30   66.541838  282.993808

[211 rows x 2 columns]
2023-11-13 19:21:36,594 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:21:36,595 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  447.093819  225.445060
2023-09-28  393.528607  226.879590
2023-09-29  391.512407  228.355380
2023-10-02  390.502946  226.049071
2023-10-03  398.962018  234.699780
...                ...         ...
2024-07-24  111.013373  282.836863
2024-07-25   77.154023  282.025056
2024-07-26   91.672330  280.445260
2024-07-29   88.883847  283.275672
2024-07-30   66.541838  282.993808

[210 rows x 2 columns], sim=0): 0.0h 0.0m 0s 186ms
2023-11-13 19:21:36,595 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 19:21:36,614 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:21:36,615 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  460.322474  231.969166
1  559.347803  228.971851
2  455.517373  222.803257
3  538.871695  227.783701
4  421.612900  219.590729
2023-11-13 19:21:36,709 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  460.322474  231.969166
2023-09-28  559.347803  228.971851
2023-09-29  455.517373  222.803257
2023-10-02  538.871695  227.783701
2023-10-03  421.612900  219.590729
2023-11-13 19:21:36,725 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
...             ...      ...
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3

[63 rows x 2 columns]
2023-11-13 19:21:36,728 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-26  432.400000  229.300000
2023-09-27  460.322474  231.969166
2023-09-28  559.347803  228.971851
2023-09-29  455.517373  222.803257
2023-10-02  538.871695  227.783701
...                ...         ...
2024-07-24   29.284043  206.478991
2024-07-25   27.400388  207.516409
2024-07-26   24.058735  208.676279
2024-07-29   27.695868  207.348370
2024-07-30   24.218070  207.009180

[211 rows x 2 columns]
2023-11-13 19:21:36,837 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:21:36,837 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  460.322474  231.969166
2023-09-28  559.347803  228.971851
2023-09-29  455.517373  222.803257
2023-10-02  538.871695  227.783701
2023-10-03  421.612900  219.590729
...                ...         ...
2024-07-24   29.284043  206.478991
2024-07-25   27.400388  207.516409
2024-07-26   24.058735  208.676279
2024-07-29   27.695868  207.348370
2024-07-30   24.218070  207.009180

[210 rows x 2 columns], sim=1): 0.0h 0.0m 0s 125ms
2023-11-13 19:21:36,838 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 19:21:36,858 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:21:36,859 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  417.436357  230.464387
1  413.765961  226.873625
2  307.602359  225.967968
3  281.876982  224.449927
4  223.005637  217.933133
2023-11-13 19:21:36,957 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  417.436357  230.464387
2023-09-28  413.765961  226.873625
2023-09-29  307.602359  225.967968
2023-10-02  281.876982  224.449927
2023-10-03  223.005637  217.933133
2023-11-13 19:21:36,971 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
...             ...      ...
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3

[63 rows x 2 columns]
2023-11-13 19:21:36,973 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-26  432.400000  229.300000
2023-09-27  417.436357  230.464387
2023-09-28  413.765961  226.873625
2023-09-29  307.602359  225.967968
2023-10-02  281.876982  224.449927
...                ...         ...
2024-07-24   93.978376  206.022997
2024-07-25   79.092892  204.297231
2024-07-26   88.723192  205.400148
2024-07-29   55.951388  205.435759
2024-07-30   47.010013  203.386168

[211 rows x 2 columns]
2023-11-13 19:21:37,074 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:21:37,074 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  417.436357  230.464387
2023-09-28  413.765961  226.873625
2023-09-29  307.602359  225.967968
2023-10-02  281.876982  224.449927
2023-10-03  223.005637  217.933133
...                ...         ...
2024-07-24   93.978376  206.022997
2024-07-25   79.092892  204.297231
2024-07-26   88.723192  205.400148
2024-07-29   55.951388  205.435759
2024-07-30   47.010013  203.386168

[210 rows x 2 columns], sim=2): 0.0h 0.0m 0s 114ms
2023-11-13 19:21:37,074 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, n_sim=3): 0.0h 1.0m 5s 470ms
2023-11-13 19:21:37,074 - yq - INFO - Pricing the product on 2023-09-27 00:00:00
2023-11-13 19:21:37,074 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:21:37,082 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:21:37,287 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-11-13 19:21:37,287 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230927.csv
2023-11-13 19:21:37,291 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/lonn_call.csv
2023-11-13 19:21:37,293 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     330  94.199997  40.003845  0.0175
1  0.143158     335  89.349998  38.856865  0.0175
2  0.143158     340  84.474998  37.484390  0.0175
3  0.143158     345  79.674995  36.437531  0.0175
4  0.143158     350  74.899994  35.390190  0.0175
2023-11-13 19:21:37,293 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/sika_call.csv
2023-11-13 19:21:37,295 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     190  40.725006  34.669014  0.0175
1  0.143158     195  35.975006  32.756226  0.0175
2  0.143158     200  31.375000  31.349203  0.0175
3  0.143158     210  22.750000  29.253847  0.0175
4  0.143158     220  15.299999  27.923262  0.0175
2023-11-13 19:21:37,298 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     330  94.199997  0.0175
1  0.143158     335  89.349998  0.0175
2  0.143158     340  84.474998  0.0175
3  0.143158     345  79.674995  0.0175
4  0.143158     350  74.899994  0.0175
   maturity  strike      price    rate
0  0.143158     190  40.725006  0.0175
1  0.143158     195  35.975006  0.0175
2  0.143158     200  31.375000  0.0175
3  0.143158     210  22.750000  0.0175
4  0.143158     220  15.299999  0.0175
2023-11-13 19:21:37,298 - yq - INFO - Calibrating LONZA on 2023-09-27 00:00:00.
2023-11-13 19:22:05,027 - yq - INFO - Calibrating SIKA on 2023-09-27 00:00:00.
2023-11-13 19:22:36,084 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 229.4
2023-11-13 19:22:36,084 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 58 seconds
2023-11-13 19:22:36,095 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230927.csv
2023-11-13 19:22:36,095 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.09506786e-01  9.28152897e+00 -1.54213309e-11  4.92018014e-01
   7.70406591e+00]
 [ 9.58817555e+00  1.02655819e-02 -1.32638416e-01  4.85437744e-01
   2.75302333e-01]]
2023-11-13 19:22:36,096 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, Timestamp('2023-09-27 00:00:00')): 0.0h 0.0m 58s 809ms
2023-11-13 19:22:36,106 - yq - INFO - The log returns list for all assets is: [Date
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
                ...   
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
                ...   
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:22:36,108 - yq - INFO - rho_S1S2 is 0.29836281054554314

2023-11-13 19:22:36,108 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29836281]
 [0.29836281 1.        ]]

2023-11-13 19:22:36,108 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49201801 0.29836281 0.        ]
 [0.49201801 1.         0.         0.        ]
 [0.29836281 0.         1.         0.48543774]
 [0.         0.         0.48543774 1.        ]]

2023-11-13 19:22:36,109 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49201801  0.87058502  0.          0.        ]
 [ 0.29836281 -0.1686221   0.93943931  0.        ]
 [ 0.          0.          0.51673135  0.8561476 ]]

2023-11-13 19:22:36,109 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b1b710>): 0.0h 0.0m 0s 13ms
2023-11-13 19:22:36,118 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 19:22:36,136 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:22:36,138 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  462.543168  244.551157
1  386.618890  241.444609
2  325.337746  235.271280
3  359.747167  238.500484
4  386.040678  237.591435
2023-11-13 19:22:36,242 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  462.543168  244.551157
2023-09-29  386.618890  241.444609
2023-10-02  325.337746  235.271280
2023-10-03  359.747167  238.500484
2023-10-04  386.040678  237.591435
2023-11-13 19:22:36,306 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
...             ...      ...
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4

[63 rows x 2 columns]
2023-11-13 19:22:36,309 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-27  422.100000  229.400000
2023-09-28  462.543168  244.551157
2023-09-29  386.618890  241.444609
2023-10-02  325.337746  235.271280
2023-10-03  359.747167  238.500484
...                ...         ...
2024-07-24  315.577872  267.615092
2024-07-25  287.282867  267.465889
2024-07-26  281.444045  265.270272
2024-07-29  335.863610  265.759278
2024-07-30  289.156795  266.835067

[210 rows x 2 columns]
2023-11-13 19:22:36,419 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:22:36,419 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  462.543168  244.551157
2023-09-29  386.618890  241.444609
2023-10-02  325.337746  235.271280
2023-10-03  359.747167  238.500484
2023-10-04  386.040678  237.591435
...                ...         ...
2024-07-24  315.577872  267.615092
2024-07-25  287.282867  267.465889
2024-07-26  281.444045  265.270272
2024-07-29  335.863610  265.759278
2024-07-30  289.156795  266.835067

[209 rows x 2 columns], sim=0): 0.0h 0.0m 0s 175ms
2023-11-13 19:22:36,419 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 19:22:36,437 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:22:36,438 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  390.524311  224.954779
1  407.564717  221.482141
2  414.230672  216.950008
3  401.454960  215.258149
4  402.065816  215.837725
2023-11-13 19:22:36,522 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  390.524311  224.954779
2023-09-29  407.564717  221.482141
2023-10-02  414.230672  216.950008
2023-10-03  401.454960  215.258149
2023-10-04  402.065816  215.837725
2023-11-13 19:22:36,538 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
...             ...      ...
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4

[63 rows x 2 columns]
2023-11-13 19:22:36,540 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-27  422.100000  229.400000
2023-09-28  390.524311  224.954779
2023-09-29  407.564717  221.482141
2023-10-02  414.230672  216.950008
2023-10-03  401.454960  215.258149
...                ...         ...
2024-07-24   83.858105  243.807273
2024-07-25   98.684068  243.640405
2024-07-26   94.099393  244.641180
2024-07-29  109.252193  242.479221
2024-07-30  120.071600  240.138824

[210 rows x 2 columns]
2023-11-13 19:22:36,637 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:22:36,637 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  390.524311  224.954779
2023-09-29  407.564717  221.482141
2023-10-02  414.230672  216.950008
2023-10-03  401.454960  215.258149
2023-10-04  402.065816  215.837725
...                ...         ...
2024-07-24   83.858105  243.807273
2024-07-25   98.684068  243.640405
2024-07-26   94.099393  244.641180
2024-07-29  109.252193  242.479221
2024-07-30  120.071600  240.138824

[209 rows x 2 columns], sim=1): 0.0h 0.0m 0s 113ms
2023-11-13 19:22:36,638 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 19:22:36,655 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:22:36,657 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  514.265764  228.397399
1  732.435443  235.002945
2  552.135683  234.492444
3  445.146508  221.250433
4  575.003146  225.543268
2023-11-13 19:22:36,743 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  514.265764  228.397399
2023-09-29  732.435443  235.002945
2023-10-02  552.135683  234.492444
2023-10-03  445.146508  221.250433
2023-10-04  575.003146  225.543268
2023-11-13 19:22:36,757 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
...             ...      ...
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4

[63 rows x 2 columns]
2023-11-13 19:22:36,759 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-27  422.100000  229.400000
2023-09-28  514.265764  228.397399
2023-09-29  732.435443  235.002945
2023-10-02  552.135683  234.492444
2023-10-03  445.146508  221.250433
...                ...         ...
2024-07-24   21.363255  243.126302
2024-07-25   24.520901  244.997157
2024-07-26   27.000425  245.900449
2024-07-29   28.126136  245.907524
2024-07-30   31.458200  246.676264

[210 rows x 2 columns]
2023-11-13 19:22:36,863 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:22:36,863 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  514.265764  228.397399
2023-09-29  732.435443  235.002945
2023-10-02  552.135683  234.492444
2023-10-03  445.146508  221.250433
2023-10-04  575.003146  225.543268
...                ...         ...
2024-07-24   21.363255  243.126302
2024-07-25   24.520901  244.997157
2024-07-26   27.000425  245.900449
2024-07-29   28.126136  245.907524
2024-07-30   31.458200  246.676264

[209 rows x 2 columns], sim=2): 0.0h 0.0m 0s 117ms
2023-11-13 19:22:36,863 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b1b710>, n_sim=3): 0.0h 0.0m 59s 578ms
2023-11-13 19:22:36,863 - yq - INFO - Pricing the product on 2023-09-28 00:00:00
2023-11-13 19:22:36,864 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:22:36,871 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:22:37,080 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-11-13 19:22:37,081 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230928.csv
2023-11-13 19:22:37,085 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/lonn_call.csv
2023-11-13 19:22:37,086 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     330  93.750000  37.346252  0.0175
1  0.140351     335  88.875000  36.323925  0.0175
2  0.140351     340  84.074997  35.695438  0.0175
3  0.140351     345  79.250000  34.727436  0.0175
4  0.140351     350  74.449997  33.762619  0.0175
2023-11-13 19:22:37,087 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/sika_call.csv
2023-11-13 19:22:37,089 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     190  42.025002  35.140724  0.0175
1  0.140351     195  37.199997  32.796349  0.0175
2  0.140351     200  32.549995  31.354389  0.0175
3  0.140351     210  23.824997  29.419374  0.0175
4  0.140351     220  16.150002  27.958426  0.0175
2023-11-13 19:22:37,094 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     330  93.750000  0.0175
1  0.140351     335  88.875000  0.0175
2  0.140351     340  84.074997  0.0175
3  0.140351     345  79.250000  0.0175
4  0.140351     350  74.449997  0.0175
   maturity  strike      price    rate
0  0.140351     190  42.025002  0.0175
1  0.140351     195  37.199997  0.0175
2  0.140351     200  32.549995  0.0175
3  0.140351     210  23.824997  0.0175
4  0.140351     220  16.150002  0.0175
2023-11-13 19:22:37,094 - yq - INFO - Calibrating LONZA on 2023-09-28 00:00:00.
2023-11-13 19:23:06,890 - yq - INFO - Calibrating SIKA on 2023-09-28 00:00:00.
2023-11-13 19:23:36,892 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 230.9
2023-11-13 19:23:36,892 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 59 seconds
2023-11-13 19:23:36,901 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230928.csv
2023-11-13 19:23:36,901 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.19669560e-01  9.99408294e+00 -1.54271040e-11  4.99946736e-01
   9.95253367e+00]
 [ 9.98187429e+00  1.28553156e-02 -1.15260892e-01  4.83284937e-01
   2.84920973e-01]]
2023-11-13 19:23:36,902 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864c82d0>, Timestamp('2023-09-28 00:00:00')): 0.0h 0.0m 59s 822ms
2023-11-13 19:23:36,909 - yq - INFO - The log returns list for all assets is: [Date
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
                ...   
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
                ...   
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:23:36,912 - yq - INFO - rho_S1S2 is 0.2985230229316591

2023-11-13 19:23:36,912 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29852302]
 [0.29852302 1.        ]]

2023-11-13 19:23:36,912 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49994674 0.29852302 0.        ]
 [0.49994674 1.         0.         0.        ]
 [0.29852302 0.         1.         0.48328494]
 [0.         0.         0.48328494 1.        ]]

2023-11-13 19:23:36,914 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49994674  0.86605615  0.          0.        ]
 [ 0.29852302 -0.17232787  0.93871567  0.        ]
 [ 0.          0.          0.51483634  0.85728849]]

2023-11-13 19:23:36,914 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864c82d0>): 0.0h 0.0m 0s 12ms
2023-11-13 19:23:36,924 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 19:23:36,942 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:23:36,945 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  364.196289  243.530987
1  347.895523  243.415967
2  300.569497  241.743046
3  264.247114  244.791358
4  337.443980  246.079033
2023-11-13 19:23:37,047 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  364.196289  243.530987
2023-10-02  347.895523  243.415967
2023-10-03  300.569497  241.743046
2023-10-04  264.247114  244.791358
2023-10-05  337.443980  246.079033
2023-11-13 19:23:37,114 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
...             ...      ...
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9

[63 rows x 2 columns]
2023-11-13 19:23:37,117 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-28  422.100000  230.900000
2023-09-29  364.196289  243.530987
2023-10-02  347.895523  243.415967
2023-10-03  300.569497  241.743046
2023-10-04  264.247114  244.791358
...                ...         ...
2024-07-24  121.621526  306.470753
2024-07-25  145.968464  307.787757
2024-07-26  184.879088  310.273088
2024-07-29  222.222233  309.975464
2024-07-30  191.453795  312.910639

[209 rows x 2 columns]
2023-11-13 19:23:37,231 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:23:37,231 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864c82d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  364.196289  243.530987
2023-10-02  347.895523  243.415967
2023-10-03  300.569497  241.743046
2023-10-04  264.247114  244.791358
2023-10-05  337.443980  246.079033
...                ...         ...
2024-07-24  121.621526  306.470753
2024-07-25  145.968464  307.787757
2024-07-26  184.879088  310.273088
2024-07-29  222.222233  309.975464
2024-07-30  191.453795  312.910639

[208 rows x 2 columns], sim=0): 0.0h 0.0m 0s 182ms
2023-11-13 19:23:37,232 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 19:23:37,249 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:23:37,250 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  256.823340  216.687219
1  238.224358  219.964322
2  253.820171  223.017725
3  282.613079  226.611422
4  287.816935  206.202426
2023-11-13 19:23:37,335 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  256.823340  216.687219
2023-10-02  238.224358  219.964322
2023-10-03  253.820171  223.017725
2023-10-04  282.613079  226.611422
2023-10-05  287.816935  206.202426
2023-11-13 19:23:37,350 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
...             ...      ...
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9

[63 rows x 2 columns]
2023-11-13 19:23:37,352 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-28  422.100000  230.900000
2023-09-29  256.823340  216.687219
2023-10-02  238.224358  219.964322
2023-10-03  253.820171  223.017725
2023-10-04  282.613079  226.611422
...                ...         ...
2024-07-24   24.178418  157.525890
2024-07-25   17.577702  156.519146
2024-07-26   14.755405  156.486594
2024-07-29   15.589301  157.393360
2024-07-30   13.555348  159.798592

[209 rows x 2 columns]
2023-11-13 19:23:37,456 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:23:37,456 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864c82d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  256.823340  216.687219
2023-10-02  238.224358  219.964322
2023-10-03  253.820171  223.017725
2023-10-04  282.613079  226.611422
2023-10-05  287.816935  206.202426
...                ...         ...
2024-07-24   24.178418  157.525890
2024-07-25   17.577702  156.519146
2024-07-26   14.755405  156.486594
2024-07-29   15.589301  157.393360
2024-07-30   13.555348  159.798592

[208 rows x 2 columns], sim=1): 0.0h 0.0m 0s 118ms
2023-11-13 19:23:37,456 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 19:23:37,474 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:23:37,475 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  453.323173  230.907814
1  371.746253  230.738169
2  361.729076  229.180684
3  426.843495  231.465359
4  518.640909  226.612345
2023-11-13 19:23:37,567 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  453.323173  230.907814
2023-10-02  371.746253  230.738169
2023-10-03  361.729076  229.180684
2023-10-04  426.843495  231.465359
2023-10-05  518.640909  226.612345
2023-11-13 19:23:37,581 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
...             ...      ...
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9

[63 rows x 2 columns]
2023-11-13 19:23:37,584 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-28  422.100000  230.900000
2023-09-29  453.323173  230.907814
2023-10-02  371.746253  230.738169
2023-10-03  361.729076  229.180684
2023-10-04  426.843495  231.465359
...                ...         ...
2024-07-24    2.307959  176.858814
2024-07-25    2.254600  177.179766
2024-07-26    2.123581  177.654540
2024-07-29    2.183941  177.277409
2024-07-30    1.316394  176.678866

[209 rows x 2 columns]
2023-11-13 19:23:37,690 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:23:37,690 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864c82d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  453.323173  230.907814
2023-10-02  371.746253  230.738169
2023-10-03  361.729076  229.180684
2023-10-04  426.843495  231.465359
2023-10-05  518.640909  226.612345
...                ...         ...
2024-07-24    2.307959  176.858814
2024-07-25    2.254600  177.179766
2024-07-26    2.123581  177.654540
2024-07-29    2.183941  177.277409
2024-07-30    1.316394  176.678866

[208 rows x 2 columns], sim=2): 0.0h 0.0m 0s 121ms
2023-11-13 19:23:37,690 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864c82d0>, n_sim=3): 0.0h 1.0m 0s 611ms
2023-11-13 19:23:37,690 - yq - INFO - Pricing the product on 2023-09-29 00:00:00
2023-11-13 19:23:37,690 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:23:37,701 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:23:37,916 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-11-13 19:23:37,916 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230929.csv
2023-11-13 19:23:37,918 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/lonn_call.csv
2023-11-13 19:23:37,920 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     385  46.699997  31.922449  0.0175
1  0.137544     390  42.500000  31.159510  0.0175
2  0.137544     395  38.449997  30.474539  0.0175
3  0.137544     400  34.599991  29.921164  0.0175
4  0.137544     410  27.549995  29.105541  0.0175
2023-11-13 19:23:37,921 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/sika_call.csv
2023-11-13 19:23:37,922 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     190  44.299995  34.807804  0.0175
1  0.137544     195  39.499992  33.103973  0.0175
2  0.137544     200  34.825005  31.903854  0.0175
3  0.137544     210  25.750000  29.092791  0.0175
4  0.137544     220  17.599998  27.165337  0.0175
2023-11-13 19:23:37,925 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     385  46.699997  0.0175
1  0.137544     390  42.500000  0.0175
2  0.137544     395  38.449997  0.0175
3  0.137544     400  34.599991  0.0175
4  0.137544     410  27.549995  0.0175
   maturity  strike      price    rate
0  0.137544     190  44.299995  0.0175
1  0.137544     195  39.499992  0.0175
2  0.137544     200  34.825005  0.0175
3  0.137544     210  25.750000  0.0175
4  0.137544     220  17.599998  0.0175
2023-11-13 19:23:37,925 - yq - INFO - Calibrating LONZA on 2023-09-29 00:00:00.
2023-11-13 19:24:10,922 - yq - INFO - Calibrating SIKA on 2023-09-29 00:00:00.
2023-11-13 19:24:41,334 - yq - INFO - The S_0 for LONZA and SIKA are 425.6 and 233.1
2023-11-13 19:24:41,336 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 3 seconds
2023-11-13 19:24:41,345 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20230929.csv
2023-11-13 19:24:41,345 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.6655338   0.01005526 -0.12600693  0.46476378  0.30452924]
 [ 9.99352689  0.01420255 -0.16229134  0.47508613  0.28401211]]
2023-11-13 19:24:41,346 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e604410>, Timestamp('2023-09-29 00:00:00')): 0.0h 1.0m 3s 430ms
2023-11-13 19:24:41,355 - yq - INFO - The log returns list for all assets is: [Date
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
                ...   
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
                ...   
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:24:41,357 - yq - INFO - rho_S1S2 is 0.3008224014480678

2023-11-13 19:24:41,357 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3008224]
 [0.3008224 1.       ]]

2023-11-13 19:24:41,357 - yq - INFO - Simplified correlation matrix is:
[[1.         0.46476378 0.3008224  0.        ]
 [0.46476378 1.         0.         0.        ]
 [0.3008224  0.         1.         0.47508613]
 [0.         0.         0.47508613 1.        ]]

2023-11-13 19:24:41,358 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.46476378  0.88543471  0.          0.        ]
 [ 0.3008224  -0.15790137  0.94051743  0.        ]
 [ 0.          0.          0.50513272  0.86304167]]

2023-11-13 19:24:41,358 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e604410>): 0.0h 0.0m 0s 11ms
2023-11-13 19:24:41,366 - yq - INFO - The adjusted S_0 is [425.6 233.1]
2023-11-13 19:24:41,384 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:24:41,387 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  400.179409  227.998807
1  404.379645  235.221279
2  409.246035  238.674286
3  411.937558  239.281112
4  424.787070  239.720011
2023-11-13 19:24:41,491 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  400.179409  227.998807
2023-10-03  404.379645  235.221279
2023-10-04  409.246035  238.674286
2023-10-05  411.937558  239.281112
2023-10-06  424.787070  239.720011
2023-11-13 19:24:41,584 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
...             ...      ...
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1

[63 rows x 2 columns]
2023-11-13 19:24:41,587 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-29  425.600000  233.100000
2023-10-02  400.179409  227.998807
2023-10-03  404.379645  235.221279
2023-10-04  409.246035  238.674286
2023-10-05  411.937558  239.281112
...                ...         ...
2024-07-24  486.554939  369.291440
2024-07-25  480.126410  369.066359
2024-07-26  481.105122  367.582205
2024-07-29  479.625812  367.692144
2024-07-30  477.676115  365.211308

[208 rows x 2 columns]
2023-11-13 19:24:41,707 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:24:41,707 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e604410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  400.179409  227.998807
2023-10-03  404.379645  235.221279
2023-10-04  409.246035  238.674286
2023-10-05  411.937558  239.281112
2023-10-06  424.787070  239.720011
...                ...         ...
2024-07-24  486.554939  369.291440
2024-07-25  480.126410  369.066359
2024-07-26  481.105122  367.582205
2024-07-29  479.625812  367.692144
2024-07-30  477.676115  365.211308

[207 rows x 2 columns], sim=0): 0.0h 0.0m 0s 214ms
2023-11-13 19:24:41,707 - yq - INFO - The adjusted S_0 is [425.6 233.1]
2023-11-13 19:24:41,724 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:24:41,726 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  438.402402  237.631553
1  447.335949  241.533463
2  436.907633  241.500784
3  421.079687  243.679249
4  423.275385  254.005369
2023-11-13 19:24:41,812 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  438.402402  237.631553
2023-10-03  447.335949  241.533463
2023-10-04  436.907633  241.500784
2023-10-05  421.079687  243.679249
2023-10-06  423.275385  254.005369
2023-11-13 19:24:41,829 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
...             ...      ...
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1

[63 rows x 2 columns]
2023-11-13 19:24:41,831 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-29  425.600000  233.100000
2023-10-02  438.402402  237.631553
2023-10-03  447.335949  241.533463
2023-10-04  436.907633  241.500784
2023-10-05  421.079687  243.679249
...                ...         ...
2024-07-24  289.501748  269.439772
2024-07-25  290.697827  267.504380
2024-07-26  290.829772  266.107045
2024-07-29  290.652174  267.196818
2024-07-30  289.213507  266.319832

[208 rows x 2 columns]
2023-11-13 19:24:42,040 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:24:42,040 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e604410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  438.402402  237.631553
2023-10-03  447.335949  241.533463
2023-10-04  436.907633  241.500784
2023-10-05  421.079687  243.679249
2023-10-06  423.275385  254.005369
...                ...         ...
2024-07-24  289.501748  269.439772
2024-07-25  290.697827  267.504380
2024-07-26  290.829772  266.107045
2024-07-29  290.652174  267.196818
2024-07-30  289.213507  266.319832

[207 rows x 2 columns], sim=1): 0.0h 0.0m 0s 226ms
2023-11-13 19:24:42,041 - yq - INFO - The adjusted S_0 is [425.6 233.1]
2023-11-13 19:24:42,058 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:24:42,059 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  410.939793  227.888296
1  404.866751  242.206810
2  406.576165  259.480230
3  414.655024  256.955928
4  416.955007  265.895451
2023-11-13 19:24:42,146 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  410.939793  227.888296
2023-10-03  404.866751  242.206810
2023-10-04  406.576165  259.480230
2023-10-05  414.655024  256.955928
2023-10-06  416.955007  265.895451
2023-11-13 19:24:42,159 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
...             ...      ...
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1

[63 rows x 2 columns]
2023-11-13 19:24:42,161 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-29  425.600000  233.100000
2023-10-02  410.939793  227.888296
2023-10-03  404.866751  242.206810
2023-10-04  406.576165  259.480230
2023-10-05  414.655024  256.955928
...                ...         ...
2024-07-24  294.285983  245.142085
2024-07-25  291.162992  248.271331
2024-07-26  288.523070  248.624076
2024-07-29  287.850607  247.895116
2024-07-30  285.216526  246.251233

[208 rows x 2 columns]
2023-11-13 19:24:42,261 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:24:42,261 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e604410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  410.939793  227.888296
2023-10-03  404.866751  242.206810
2023-10-04  406.576165  259.480230
2023-10-05  414.655024  256.955928
2023-10-06  416.955007  265.895451
...                ...         ...
2024-07-24  294.285983  245.142085
2024-07-25  291.162992  248.271331
2024-07-26  288.523070  248.624076
2024-07-29  287.850607  247.895116
2024-07-30  285.216526  246.251233

[207 rows x 2 columns], sim=2): 0.0h 0.0m 0s 113ms
2023-11-13 19:24:42,261 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e604410>, n_sim=3): 0.0h 1.0m 4s 347ms
2023-11-13 19:24:42,262 - yq - INFO - Pricing the product on 2023-10-02 00:00:00
2023-11-13 19:24:42,262 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:24:42,268 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:24:42,487 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-11-13 19:24:42,487 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231002.csv
2023-11-13 19:24:42,491 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/lonn_call.csv
2023-11-13 19:24:42,493 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     330  92.125000  38.267204  0.0175
1  0.129123     335  87.274994  37.364208  0.0175
2  0.129123     340  82.424995  36.316391  0.0175
3  0.129123     345  77.599998  35.300434  0.0175
4  0.129123     350  72.799995  34.286041  0.0175
2023-11-13 19:24:42,494 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/sika_call.csv
2023-11-13 19:24:42,495 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     190  40.525002  34.670864  0.0175
1  0.129123     195  35.775002  32.940758  0.0175
2  0.129123     200  31.099998  31.210375  0.0175
3  0.129123     210  22.375000  29.052795  0.0175
4  0.129123     220  14.799999  27.583376  0.0175
2023-11-13 19:24:42,498 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     330  92.125000  0.0175
1  0.129123     335  87.274994  0.0175
2  0.129123     340  82.424995  0.0175
3  0.129123     345  77.599998  0.0175
4  0.129123     350  72.799995  0.0175
   maturity  strike      price    rate
0  0.129123     190  40.525002  0.0175
1  0.129123     195  35.775002  0.0175
2  0.129123     200  31.099998  0.0175
3  0.129123     210  22.375000  0.0175
4  0.129123     220  14.799999  0.0175
2023-11-13 19:24:42,498 - yq - INFO - Calibrating LONZA on 2023-10-02 00:00:00.
2023-11-13 19:25:12,329 - yq - INFO - Calibrating SIKA on 2023-10-02 00:00:00.
2023-11-13 19:25:46,779 - yq - INFO - The S_0 for LONZA and SIKA are 420.5 and 230.0
2023-11-13 19:25:46,780 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 4 seconds
2023-11-13 19:25:46,791 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231002.csv
2023-11-13 19:25:46,791 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.34382783e-01  9.87043557e+00 -1.54212199e-11  4.97571643e-01
   8.27404403e+00]
 [ 9.88650746e+00  1.14439124e-02 -1.27470492e-01  4.79137483e-01
   3.19607248e-01]]
2023-11-13 19:25:46,792 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, Timestamp('2023-10-02 00:00:00')): 0.0h 1.0m 4s 305ms
2023-11-13 19:25:46,800 - yq - INFO - The log returns list for all assets is: [Date
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
                ...   
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
                ...   
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:25:46,802 - yq - INFO - rho_S1S2 is 0.3032609493226555

2023-11-13 19:25:46,802 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30326095]
 [0.30326095 1.        ]]

2023-11-13 19:25:46,803 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49757164 0.30326095 0.        ]
 [0.49757164 1.         0.         0.        ]
 [0.30326095 0.         1.         0.47913748]
 [0.         0.         0.47913748 1.        ]]

2023-11-13 19:25:46,803 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49757164  0.86742288  0.          0.        ]
 [ 0.30326095 -0.17395673  0.93689479  0.        ]
 [ 0.          0.          0.51141012  0.85933677]]

2023-11-13 19:25:46,803 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>): 0.0h 0.0m 0s 11ms
2023-11-13 19:25:46,812 - yq - INFO - The adjusted S_0 is [420.5 230. ]
2023-11-13 19:25:46,836 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:25:46,838 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  452.612099  227.132843
1  519.923769  232.232103
2  380.871572  219.125698
3  296.082653  216.583912
4  314.671927  214.527511
2023-11-13 19:25:46,955 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  452.612099  227.132843
2023-10-04  519.923769  232.232103
2023-10-05  380.871572  219.125698
2023-10-06  296.082653  216.583912
2023-10-09  314.671927  214.527511
2023-11-13 19:25:47,024 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
...             ...      ...
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0

[63 rows x 2 columns]
2023-11-13 19:25:47,027 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-02  420.500000  230.000000
2023-10-03  452.612099  227.132843
2023-10-04  519.923769  232.232103
2023-10-05  380.871572  219.125698
2023-10-06  296.082653  216.583912
...                ...         ...
2024-07-24   23.305911  237.295137
2024-07-25   22.003362  236.714734
2024-07-26   19.390637  235.883997
2024-07-29   18.115484  233.859937
2024-07-30   14.259044  232.243339

[207 rows x 2 columns]
2023-11-13 19:25:47,152 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:25:47,152 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  452.612099  227.132843
2023-10-04  519.923769  232.232103
2023-10-05  380.871572  219.125698
2023-10-06  296.082653  216.583912
2023-10-09  314.671927  214.527511
...                ...         ...
2024-07-24   23.305911  237.295137
2024-07-25   22.003362  236.714734
2024-07-26   19.390637  235.883997
2024-07-29   18.115484  233.859937
2024-07-30   14.259044  232.243339

[206 rows x 2 columns], sim=0): 0.0h 0.0m 0s 195ms
2023-11-13 19:25:47,153 - yq - INFO - The adjusted S_0 is [420.5 230. ]
2023-11-13 19:25:47,173 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:25:47,174 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  582.428991  230.124978
1  475.893559  230.384502
2  420.964071  239.322848
3  489.454270  238.227403
4  506.341661  245.481956
2023-11-13 19:25:47,279 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  582.428991  230.124978
2023-10-04  475.893559  230.384502
2023-10-05  420.964071  239.322848
2023-10-06  489.454270  238.227403
2023-10-09  506.341661  245.481956
2023-11-13 19:25:47,298 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
...             ...      ...
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0

[63 rows x 2 columns]
2023-11-13 19:25:47,301 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-02  420.500000  230.000000
2023-10-03  582.428991  230.124978
2023-10-04  475.893559  230.384502
2023-10-05  420.964071  239.322848
2023-10-06  489.454270  238.227403
...                ...         ...
2024-07-24   15.080790  242.714144
2024-07-25   14.437351  244.188710
2024-07-26   15.208289  241.831368
2024-07-29   11.571069  242.498660
2024-07-30   13.220351  242.342143

[207 rows x 2 columns]
2023-11-13 19:25:47,414 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:25:47,415 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  582.428991  230.124978
2023-10-04  475.893559  230.384502
2023-10-05  420.964071  239.322848
2023-10-06  489.454270  238.227403
2023-10-09  506.341661  245.481956
...                ...         ...
2024-07-24   15.080790  242.714144
2024-07-25   14.437351  244.188710
2024-07-26   15.208289  241.831368
2024-07-29   11.571069  242.498660
2024-07-30   13.220351  242.342143

[206 rows x 2 columns], sim=1): 0.0h 0.0m 0s 133ms
2023-11-13 19:25:47,415 - yq - INFO - The adjusted S_0 is [420.5 230. ]
2023-11-13 19:25:47,435 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:25:47,437 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  464.325698  229.289992
1  483.431609  233.303224
2  390.244325  242.538845
3  374.633535  237.480054
4  386.891734  226.369483
2023-11-13 19:25:47,542 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  464.325698  229.289992
2023-10-04  483.431609  233.303224
2023-10-05  390.244325  242.538845
2023-10-06  374.633535  237.480054
2023-10-09  386.891734  226.369483
2023-11-13 19:25:47,558 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
...             ...      ...
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0

[63 rows x 2 columns]
2023-11-13 19:25:47,561 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-10-02   420.500000  230.000000
2023-10-03   464.325698  229.289992
2023-10-04   483.431609  233.303224
2023-10-05   390.244325  242.538845
2023-10-06   374.633535  237.480054
...                 ...         ...
2024-07-24  2350.410132  257.140696
2024-07-25  2533.262581  257.586080
2024-07-26  1724.397345  257.928384
2024-07-29  2231.928967  260.228336
2024-07-30  2246.082033  262.199058

[207 rows x 2 columns]
2023-11-13 19:25:47,676 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:25:47,676 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-10-03   464.325698  229.289992
2023-10-04   483.431609  233.303224
2023-10-05   390.244325  242.538845
2023-10-06   374.633535  237.480054
2023-10-09   386.891734  226.369483
...                 ...         ...
2024-07-24  2350.410132  257.140696
2024-07-25  2533.262581  257.586080
2024-07-26  1724.397345  257.928384
2024-07-29  2231.928967  260.228336
2024-07-30  2246.082033  262.199058

[206 rows x 2 columns], sim=2): 0.0h 0.0m 0s 132ms
2023-11-13 19:25:47,676 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, n_sim=3): 0.0h 1.0m 5s 191ms
2023-11-13 19:25:47,676 - yq - INFO - Pricing the product on 2023-10-03 00:00:00
2023-11-13 19:25:47,676 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:25:47,687 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:25:47,925 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-11-13 19:25:47,925 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231003.csv
2023-11-13 19:25:47,930 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/lonn_call.csv
2023-11-13 19:25:47,932 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     390  43.250000  28.592716  0.0175
1  0.126316     395  39.149994  28.422277  0.0175
2  0.126316     400  35.199997  28.211863  0.0175
3  0.126316     410  27.949997  27.952816  0.0175
4  0.126316     420  21.649994  27.830254  0.0175
2023-11-13 19:25:47,933 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/sika_call.csv
2023-11-13 19:25:47,934 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     165  68.550003  47.843029  0.0175
1  0.126316     170  63.600006  45.406399  0.0175
2  0.126316     175  58.699997  43.945614  0.0175
3  0.126316     180  53.800003  41.966976  0.0175
4  0.126316     185  48.925003  40.003117  0.0175
2023-11-13 19:25:47,938 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     390  43.250000  0.0175
1  0.126316     395  39.149994  0.0175
2  0.126316     400  35.199997  0.0175
3  0.126316     410  27.949997  0.0175
4  0.126316     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.126316     165  68.550003  0.0175
1  0.126316     170  63.600006  0.0175
2  0.126316     175  58.699997  0.0175
3  0.126316     180  53.800003  0.0175
4  0.126316     185  48.925003  0.0175
2023-11-13 19:25:47,938 - yq - INFO - Calibrating LONZA on 2023-10-03 00:00:00.
2023-11-13 19:26:22,828 - yq - INFO - Calibrating SIKA on 2023-10-03 00:00:00.
2023-11-13 19:26:56,204 - yq - INFO - The S_0 for LONZA and SIKA are 415.3 and 228.8
2023-11-13 19:26:56,204 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 19:26:56,211 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231003.csv
2023-11-13 19:26:56,212 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.63931561  0.01046792 -0.12787986  0.47977798  0.31897219]
 [ 9.91697174  0.01069744 -0.19562576  0.4114628   0.34612542]]
2023-11-13 19:26:56,213 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, Timestamp('2023-10-03 00:00:00')): 0.0h 1.0m 8s 288ms
2023-11-13 19:26:56,220 - yq - INFO - The log returns list for all assets is: [Date
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
                ...   
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
                ...   
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:26:56,222 - yq - INFO - rho_S1S2 is 0.31225413567123667

2023-11-13 19:26:56,222 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31225414]
 [0.31225414 1.        ]]

2023-11-13 19:26:56,222 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47977798 0.31225414 0.        ]
 [0.47977798 1.         0.         0.        ]
 [0.31225414 0.         1.         0.4114628 ]
 [0.         0.         0.4114628  1.        ]]

2023-11-13 19:26:56,223 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47977798  0.87738993  0.          0.        ]
 [ 0.31225414 -0.17074809  0.93452793  0.        ]
 [ 0.          0.          0.44028947  0.89785588]]

2023-11-13 19:26:56,223 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>): 0.0h 0.0m 0s 9ms
2023-11-13 19:26:56,230 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 19:26:56,249 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:26:56,252 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  440.346965  244.597094
1  430.551784  245.300071
2  456.540109  230.009326
3  472.868834  249.479553
4  480.923758  250.417187
2023-11-13 19:26:56,353 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  440.346965  244.597094
2023-10-05  430.551784  245.300071
2023-10-06  456.540109  230.009326
2023-10-09  472.868834  249.479553
2023-10-10  480.923758  250.417187
2023-11-13 19:26:56,417 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
...             ...      ...
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8

[63 rows x 2 columns]
2023-11-13 19:26:56,421 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-03  415.300000  228.800000
2023-10-04  440.346965  244.597094
2023-10-05  430.551784  245.300071
2023-10-06  456.540109  230.009326
2023-10-09  472.868834  249.479553
...                ...         ...
2024-07-24  641.482649  267.537616
2024-07-25  639.452143  269.696889
2024-07-26  635.314896  268.244588
2024-07-29  629.601728  267.190634
2024-07-30  628.511959  268.770920

[206 rows x 2 columns]
2023-11-13 19:26:56,531 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:26:56,532 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  440.346965  244.597094
2023-10-05  430.551784  245.300071
2023-10-06  456.540109  230.009326
2023-10-09  472.868834  249.479553
2023-10-10  480.923758  250.417187
...                ...         ...
2024-07-24  641.482649  267.537616
2024-07-25  639.452143  269.696889
2024-07-26  635.314896  268.244588
2024-07-29  629.601728  267.190634
2024-07-30  628.511959  268.770920

[205 rows x 2 columns], sim=0): 0.0h 0.0m 0s 176ms
2023-11-13 19:26:56,532 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 19:26:56,551 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:26:56,553 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  398.861628  225.976031
1  426.684542  221.687116
2  446.022598  215.237797
3  450.440277  219.320281
4  454.619992  222.504173
2023-11-13 19:26:56,649 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  398.861628  225.976031
2023-10-05  426.684542  221.687116
2023-10-06  446.022598  215.237797
2023-10-09  450.440277  219.320281
2023-10-10  454.619992  222.504173
2023-11-13 19:26:56,669 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
...             ...      ...
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8

[63 rows x 2 columns]
2023-11-13 19:26:56,671 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-03  415.300000  228.800000
2023-10-04  398.861628  225.976031
2023-10-05  426.684542  221.687116
2023-10-06  446.022598  215.237797
2023-10-09  450.440277  219.320281
...                ...         ...
2024-07-24  494.734563  205.330472
2024-07-25  498.742782  206.033370
2024-07-26  497.361974  204.772123
2024-07-29  497.868076  203.200902
2024-07-30  499.733159  207.166517

[206 rows x 2 columns]
2023-11-13 19:26:56,776 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:26:56,777 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  398.861628  225.976031
2023-10-05  426.684542  221.687116
2023-10-06  446.022598  215.237797
2023-10-09  450.440277  219.320281
2023-10-10  454.619992  222.504173
...                ...         ...
2024-07-24  494.734563  205.330472
2024-07-25  498.742782  206.033370
2024-07-26  497.361974  204.772123
2024-07-29  497.868076  203.200902
2024-07-30  499.733159  207.166517

[205 rows x 2 columns], sim=1): 0.0h 0.0m 0s 125ms
2023-11-13 19:26:56,777 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 19:26:56,796 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:26:56,797 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  421.535351  228.272896
1  423.125592  228.886106
2  422.030082  226.565551
3  437.971174  226.587989
4  411.157376  215.621644
2023-11-13 19:26:56,895 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  421.535351  228.272896
2023-10-05  423.125592  228.886106
2023-10-06  422.030082  226.565551
2023-10-09  437.971174  226.587989
2023-10-10  411.157376  215.621644
2023-11-13 19:26:56,911 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
...             ...      ...
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8

[63 rows x 2 columns]
2023-11-13 19:26:56,914 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-03  415.300000  228.800000
2023-10-04  421.535351  228.272896
2023-10-05  423.125592  228.886106
2023-10-06  422.030082  226.565551
2023-10-09  437.971174  226.587989
...                ...         ...
2024-07-24  489.165132  179.774685
2024-07-25  484.815314  179.587217
2024-07-26  480.472136  179.401938
2024-07-29  478.722275  178.470794
2024-07-30  481.321083  179.138835

[206 rows x 2 columns]
2023-11-13 19:26:57,024 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:26:57,025 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  421.535351  228.272896
2023-10-05  423.125592  228.886106
2023-10-06  422.030082  226.565551
2023-10-09  437.971174  226.587989
2023-10-10  411.157376  215.621644
...                ...         ...
2024-07-24  489.165132  179.774685
2024-07-25  484.815314  179.587217
2024-07-26  480.472136  179.401938
2024-07-29  478.722275  178.470794
2024-07-30  481.321083  179.138835

[205 rows x 2 columns], sim=2): 0.0h 0.0m 0s 127ms
2023-11-13 19:26:57,025 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, n_sim=3): 0.0h 1.0m 9s 102ms
2023-11-13 19:26:57,025 - yq - INFO - Pricing the product on 2023-10-04 00:00:00
2023-11-13 19:26:57,025 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:26:57,032 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:26:57,246 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-11-13 19:26:57,247 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231004.csv
2023-11-13 19:26:57,250 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/lonn_call.csv
2023-11-13 19:26:57,252 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     390  43.250000  28.592716  0.0175
1  0.123509     395  39.149994  28.422277  0.0175
2  0.123509     400  35.199997  28.211863  0.0175
3  0.123509     410  27.949997  27.952816  0.0175
4  0.123509     420  21.649994  27.830254  0.0175
2023-11-13 19:26:57,253 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/sika_call.csv
2023-11-13 19:26:57,255 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     165  68.550003  47.843029  0.0175
1  0.123509     170  63.600006  45.406399  0.0175
2  0.123509     175  58.699997  43.945614  0.0175
3  0.123509     180  53.800003  41.966976  0.0175
4  0.123509     185  48.925003  40.003117  0.0175
2023-11-13 19:26:57,258 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     390  43.250000  0.0175
1  0.123509     395  39.149994  0.0175
2  0.123509     400  35.199997  0.0175
3  0.123509     410  27.949997  0.0175
4  0.123509     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.123509     165  68.550003  0.0175
1  0.123509     170  63.600006  0.0175
2  0.123509     175  58.699997  0.0175
3  0.123509     180  53.800003  0.0175
4  0.123509     185  48.925003  0.0175
2023-11-13 19:26:57,258 - yq - INFO - Calibrating LONZA on 2023-10-04 00:00:00.
2023-11-13 19:27:31,497 - yq - INFO - Calibrating SIKA on 2023-10-04 00:00:00.
2023-11-13 19:28:04,895 - yq - INFO - The S_0 for LONZA and SIKA are 415.9 and 230.2
2023-11-13 19:28:04,896 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 19:28:04,904 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231004.csv
2023-11-13 19:28:04,904 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.919024    0.01092462 -0.1200032   0.49096562  0.32985303]
 [ 9.912831    0.01021879 -0.2332415   0.39452155  0.37561916]]
2023-11-13 19:28:04,905 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, Timestamp('2023-10-04 00:00:00')): 0.0h 1.0m 7s 659ms
2023-11-13 19:28:04,916 - yq - INFO - The log returns list for all assets is: [Date
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
                ...   
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
                ...   
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:28:04,918 - yq - INFO - rho_S1S2 is 0.31305479158935823

2023-11-13 19:28:04,918 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31305479]
 [0.31305479 1.        ]]

2023-11-13 19:28:04,919 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49096562 0.31305479 0.        ]
 [0.49096562 1.         0.         0.        ]
 [0.31305479 0.         1.         0.39452155]
 [0.         0.         0.39452155 1.        ]]

2023-11-13 19:28:04,919 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49096562  0.87117895  0.          0.        ]
 [ 0.31305479 -0.1764266   0.93320435  0.        ]
 [ 0.          0.          0.42276008  0.90624164]]

2023-11-13 19:28:04,919 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>): 0.0h 0.0m 0s 14ms
2023-11-13 19:28:04,928 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 19:28:04,949 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:28:04,952 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  446.694102  249.027913
1  431.931915  237.444349
2  448.439125  243.843758
3  443.965765  238.784086
4  469.765426  257.428423
2023-11-13 19:28:05,056 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  446.694102  249.027913
2023-10-06  431.931915  237.444349
2023-10-09  448.439125  243.843758
2023-10-10  443.965765  238.784086
2023-10-11  469.765426  257.428423
2023-11-13 19:28:05,149 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
...             ...      ...
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2

[63 rows x 2 columns]
2023-11-13 19:28:05,152 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-04  415.900000  230.200000
2023-10-05  446.694102  249.027913
2023-10-06  431.931915  237.444349
2023-10-09  448.439125  243.843758
2023-10-10  443.965765  238.784086
...                ...         ...
2024-07-24  572.647870  251.819154
2024-07-25  567.151206  252.852217
2024-07-26  569.148782  250.881945
2024-07-29  561.773396  248.454975
2024-07-30  561.124699  247.062002

[205 rows x 2 columns]
2023-11-13 19:28:05,275 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:28:05,275 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  446.694102  249.027913
2023-10-06  431.931915  237.444349
2023-10-09  448.439125  243.843758
2023-10-10  443.965765  238.784086
2023-10-11  469.765426  257.428423
...                ...         ...
2024-07-24  572.647870  251.819154
2024-07-25  567.151206  252.852217
2024-07-26  569.148782  250.881945
2024-07-29  561.773396  248.454975
2024-07-30  561.124699  247.062002

[204 rows x 2 columns], sim=0): 0.0h 0.0m 0s 216ms
2023-11-13 19:28:05,276 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 19:28:05,293 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:28:05,294 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  421.158745  235.348565
1  437.017389  225.693313
2  428.116297  222.425760
3  433.257352  219.298138
4  453.202195  221.274438
2023-11-13 19:28:05,389 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  421.158745  235.348565
2023-10-06  437.017389  225.693313
2023-10-09  428.116297  222.425760
2023-10-10  433.257352  219.298138
2023-10-11  453.202195  221.274438
2023-11-13 19:28:05,409 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
...             ...      ...
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2

[63 rows x 2 columns]
2023-11-13 19:28:05,411 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-04  415.900000  230.200000
2023-10-05  421.158745  235.348565
2023-10-06  437.017389  225.693313
2023-10-09  428.116297  222.425760
2023-10-10  433.257352  219.298138
...                ...         ...
2024-07-24  710.339383  180.231626
2024-07-25  711.048228  180.837072
2024-07-26  714.116427  181.547858
2024-07-29  718.803825  184.265078
2024-07-30  713.754320  183.442017

[205 rows x 2 columns]
2023-11-13 19:28:05,519 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:28:05,519 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  421.158745  235.348565
2023-10-06  437.017389  225.693313
2023-10-09  428.116297  222.425760
2023-10-10  433.257352  219.298138
2023-10-11  453.202195  221.274438
...                ...         ...
2024-07-24  710.339383  180.231626
2024-07-25  711.048228  180.837072
2024-07-26  714.116427  181.547858
2024-07-29  718.803825  184.265078
2024-07-30  713.754320  183.442017

[204 rows x 2 columns], sim=1): 0.0h 0.0m 0s 128ms
2023-11-13 19:28:05,520 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 19:28:05,539 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:28:05,541 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  439.011385  238.314424
1  439.096307  224.345644
2  430.017674  221.133616
3  410.140988  218.204385
4  390.178842  209.014488
2023-11-13 19:28:05,644 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  439.011385  238.314424
2023-10-06  439.096307  224.345644
2023-10-09  430.017674  221.133616
2023-10-10  410.140988  218.204385
2023-10-11  390.178842  209.014488
2023-11-13 19:28:05,665 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
...             ...      ...
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2

[63 rows x 2 columns]
2023-11-13 19:28:05,668 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-04  415.900000  230.200000
2023-10-05  439.011385  238.314424
2023-10-06  439.096307  224.345644
2023-10-09  430.017674  221.133616
2023-10-10  410.140988  218.204385
...                ...         ...
2024-07-24  424.497408  207.230172
2024-07-25  422.956004  206.564148
2024-07-26  425.651360  207.608705
2024-07-29  424.392349  206.360997
2024-07-30  428.823071  205.788863

[205 rows x 2 columns]
2023-11-13 19:28:05,789 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:28:05,789 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  439.011385  238.314424
2023-10-06  439.096307  224.345644
2023-10-09  430.017674  221.133616
2023-10-10  410.140988  218.204385
2023-10-11  390.178842  209.014488
...                ...         ...
2024-07-24  424.497408  207.230172
2024-07-25  422.956004  206.564148
2024-07-26  425.651360  207.608705
2024-07-29  424.392349  206.360997
2024-07-30  428.823071  205.788863

[204 rows x 2 columns], sim=2): 0.0h 0.0m 0s 140ms
2023-11-13 19:28:05,789 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c7cad10>, n_sim=3): 0.0h 1.0m 8s 545ms
2023-11-13 19:28:05,789 - yq - INFO - Pricing the product on 2023-10-05 00:00:00
2023-11-13 19:28:05,789 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:28:05,797 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:28:06,010 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-11-13 19:28:06,011 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231005.csv
2023-11-13 19:28:06,013 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/lonn_call.csv
2023-11-13 19:28:06,015 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     390  43.250000  28.592716  0.0175
1  0.120702     395  39.149994  28.422277  0.0175
2  0.120702     400  35.199997  28.211863  0.0175
3  0.120702     410  27.949997  27.952816  0.0175
4  0.120702     420  21.649994  27.830254  0.0175
2023-11-13 19:28:06,015 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/sika_call.csv
2023-11-13 19:28:06,017 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     165  68.550003  47.843029  0.0175
1  0.120702     170  63.600006  45.406399  0.0175
2  0.120702     175  58.699997  43.945614  0.0175
3  0.120702     180  53.800003  41.966976  0.0175
4  0.120702     185  48.925003  40.003117  0.0175
2023-11-13 19:28:06,020 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     390  43.250000  0.0175
1  0.120702     395  39.149994  0.0175
2  0.120702     400  35.199997  0.0175
3  0.120702     410  27.949997  0.0175
4  0.120702     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.120702     165  68.550003  0.0175
1  0.120702     170  63.600006  0.0175
2  0.120702     175  58.699997  0.0175
3  0.120702     180  53.800003  0.0175
4  0.120702     185  48.925003  0.0175
2023-11-13 19:28:06,020 - yq - INFO - Calibrating LONZA on 2023-10-05 00:00:00.
2023-11-13 19:28:39,593 - yq - INFO - Calibrating SIKA on 2023-10-05 00:00:00.
2023-11-13 19:29:14,662 - yq - INFO - The S_0 for LONZA and SIKA are 419.9 and 230.5
2023-11-13 19:29:14,664 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 19:29:14,689 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231005.csv
2023-11-13 19:29:14,689 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.82608242  0.01193471 -0.1017178   0.45093532  0.34915821]
 [ 9.79568521  0.02610161 -0.19148834  0.42978436  0.30274317]]
2023-11-13 19:29:14,693 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e592b50>, Timestamp('2023-10-05 00:00:00')): 0.0h 1.0m 8s 683ms
2023-11-13 19:29:14,709 - yq - INFO - The log returns list for all assets is: [Date
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
                ...   
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
                ...   
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:29:14,711 - yq - INFO - rho_S1S2 is 0.3118443849215505

2023-11-13 19:29:14,711 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31184438]
 [0.31184438 1.        ]]

2023-11-13 19:29:14,711 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45093532 0.31184438 0.        ]
 [0.45093532 1.         0.         0.        ]
 [0.31184438 0.         1.         0.42978436]
 [0.         0.         0.42978436 1.        ]]

2023-11-13 19:29:14,712 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.45093532  0.89255663  0.          0.        ]
 [ 0.31184438 -0.15754927  0.93697989  0.        ]
 [ 0.          0.          0.45869112  0.88859578]]

2023-11-13 19:29:14,712 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e592b50>): 0.0h 0.0m 0s 18ms
2023-11-13 19:29:14,719 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 19:29:14,737 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:29:14,740 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  428.857978  219.663885
1  417.343600  210.711245
2  395.903125  216.484867
3  412.256173  230.313490
4  398.894453  240.365459
2023-11-13 19:29:14,850 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  428.857978  219.663885
2023-10-09  417.343600  210.711245
2023-10-10  395.903125  216.484867
2023-10-11  412.256173  230.313490
2023-10-12  398.894453  240.365459
2023-11-13 19:29:14,930 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
...             ...      ...
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5

[63 rows x 2 columns]
2023-11-13 19:29:14,933 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-05  419.900000  230.500000
2023-10-06  428.857978  219.663885
2023-10-09  417.343600  210.711245
2023-10-10  395.903125  216.484867
2023-10-11  412.256173  230.313490
...                ...         ...
2024-07-24  432.226922  205.477417
2024-07-25  435.444755  203.953090
2024-07-26  437.809611  206.501438
2024-07-29  436.269072  203.588561
2024-07-30  441.961111  200.938673

[204 rows x 2 columns]
2023-11-13 19:29:15,057 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:29:15,057 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e592b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  428.857978  219.663885
2023-10-09  417.343600  210.711245
2023-10-10  395.903125  216.484867
2023-10-11  412.256173  230.313490
2023-10-12  398.894453  240.365459
...                ...         ...
2024-07-24  432.226922  205.477417
2024-07-25  435.444755  203.953090
2024-07-26  437.809611  206.501438
2024-07-29  436.269072  203.588561
2024-07-30  441.961111  200.938673

[203 rows x 2 columns], sim=0): 0.0h 0.0m 0s 204ms
2023-11-13 19:29:15,058 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 19:29:15,077 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:29:15,078 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  435.136203  237.422224
1  442.920872  254.260927
2  446.950499  245.551185
3  437.538178  230.241183
4  466.170228  244.451304
2023-11-13 19:29:15,186 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  435.136203  237.422224
2023-10-09  442.920872  254.260927
2023-10-10  446.950499  245.551185
2023-10-11  437.538178  230.241183
2023-10-12  466.170228  244.451304
2023-11-13 19:29:15,207 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
...             ...      ...
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5

[63 rows x 2 columns]
2023-11-13 19:29:15,210 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-05  419.900000  230.500000
2023-10-06  435.136203  237.422224
2023-10-09  442.920872  254.260927
2023-10-10  446.950499  245.551185
2023-10-11  437.538178  230.241183
...                ...         ...
2024-07-24  432.340100  217.056623
2024-07-25  434.094901  218.160189
2024-07-26  432.055137  216.973003
2024-07-29  435.713201  221.025945
2024-07-30  434.441594  219.823859

[204 rows x 2 columns]
2023-11-13 19:29:15,327 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:29:15,327 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e592b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  435.136203  237.422224
2023-10-09  442.920872  254.260927
2023-10-10  446.950499  245.551185
2023-10-11  437.538178  230.241183
2023-10-12  466.170228  244.451304
...                ...         ...
2024-07-24  432.340100  217.056623
2024-07-25  434.094901  218.160189
2024-07-26  432.055137  216.973003
2024-07-29  435.713201  221.025945
2024-07-30  434.441594  219.823859

[203 rows x 2 columns], sim=1): 0.0h 0.0m 0s 137ms
2023-11-13 19:29:15,327 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 19:29:15,347 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:29:15,348 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  434.136282  239.116196
1  412.763342  229.535849
2  416.678995  238.378468
3  435.918635  253.255380
4  433.302404  256.092336
2023-11-13 19:29:15,456 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  434.136282  239.116196
2023-10-09  412.763342  229.535849
2023-10-10  416.678995  238.378468
2023-10-11  435.918635  253.255380
2023-10-12  433.302404  256.092336
2023-11-13 19:29:15,475 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
...             ...      ...
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5

[63 rows x 2 columns]
2023-11-13 19:29:15,479 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-05  419.900000  230.500000
2023-10-06  434.136282  239.116196
2023-10-09  412.763342  229.535849
2023-10-10  416.678995  238.378468
2023-10-11  435.918635  253.255380
...                ...         ...
2024-07-24  469.015294  278.919833
2024-07-25  472.074352  282.778518
2024-07-26  471.586683  280.046763
2024-07-29  471.149145  275.504348
2024-07-30  476.438927  274.381694

[204 rows x 2 columns]
2023-11-13 19:29:15,600 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:29:15,601 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e592b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  434.136282  239.116196
2023-10-09  412.763342  229.535849
2023-10-10  416.678995  238.378468
2023-10-11  435.918635  253.255380
2023-10-12  433.302404  256.092336
...                ...         ...
2024-07-24  469.015294  278.919833
2024-07-25  472.074352  282.778518
2024-07-26  471.586683  280.046763
2024-07-29  471.149145  275.504348
2024-07-30  476.438927  274.381694

[203 rows x 2 columns], sim=2): 0.0h 0.0m 0s 140ms
2023-11-13 19:29:15,601 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e592b50>, n_sim=3): 0.0h 1.0m 9s 592ms
2023-11-13 19:29:15,601 - yq - INFO - Pricing the product on 2023-10-06 00:00:00
2023-11-13 19:29:15,601 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:29:15,610 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:29:16,186 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-11-13 19:29:16,186 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231006.csv
2023-11-13 19:29:16,193 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/lonn_call.csv
2023-11-13 19:29:16,194 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     390  43.250000  28.592716  0.0175
1  0.117895     395  39.149994  28.422277  0.0175
2  0.117895     400  35.199997  28.211863  0.0175
3  0.117895     410  27.949997  27.952816  0.0175
4  0.117895     420  21.649994  27.830254  0.0175
2023-11-13 19:29:16,195 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/sika_call.csv
2023-11-13 19:29:16,197 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     165  68.550003  47.843029  0.0175
1  0.117895     170  63.600006  45.406399  0.0175
2  0.117895     175  58.699997  43.945614  0.0175
3  0.117895     180  53.800003  41.966976  0.0175
4  0.117895     185  48.925003  40.003117  0.0175
2023-11-13 19:29:16,200 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     390  43.250000  0.0175
1  0.117895     395  39.149994  0.0175
2  0.117895     400  35.199997  0.0175
3  0.117895     410  27.949997  0.0175
4  0.117895     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.117895     165  68.550003  0.0175
1  0.117895     170  63.600006  0.0175
2  0.117895     175  58.699997  0.0175
3  0.117895     180  53.800003  0.0175
4  0.117895     185  48.925003  0.0175
2023-11-13 19:29:16,200 - yq - INFO - Calibrating LONZA on 2023-10-06 00:00:00.
2023-11-13 19:29:48,176 - yq - INFO - Calibrating SIKA on 2023-10-06 00:00:00.
2023-11-13 19:30:24,912 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 233.3
2023-11-13 19:30:24,913 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 19:30:24,944 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231006.csv
2023-11-13 19:30:24,944 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.36461117  0.01279841 -0.12056691  0.49646664  0.34656275]
 [ 1.18814774  0.31530007 -0.07039964  0.4985363   0.2833035 ]]
2023-11-13 19:30:24,950 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f3df10>, Timestamp('2023-10-06 00:00:00')): 0.0h 1.0m 8s 764ms
2023-11-13 19:30:24,970 - yq - INFO - The log returns list for all assets is: [Date
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
                ...   
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
                ...   
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:30:24,976 - yq - INFO - rho_S1S2 is 0.3235675287624876

2023-11-13 19:30:24,976 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32356753]
 [0.32356753 1.        ]]

2023-11-13 19:30:24,976 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49646664 0.32356753 0.        ]
 [0.49646664 1.         0.         0.        ]
 [0.32356753 0.         1.         0.4985363 ]
 [0.         0.         0.4985363  1.        ]]

2023-11-13 19:30:24,977 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49646664  0.8680558   0.          0.        ]
 [ 0.32356753 -0.18505778  0.92793193  0.        ]
 [ 0.          0.          0.53725524  0.84341971]]

2023-11-13 19:30:24,977 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f3df10>): 0.0h 0.0m 0s 25ms
2023-11-13 19:30:24,988 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 19:30:25,012 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:30:25,016 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  451.775080  238.373985
1  459.822884  246.862103
2  489.839778  244.895970
3  471.344763  242.056598
4  460.776816  253.373588
2023-11-13 19:30:25,149 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  451.775080  238.373985
2023-10-10  459.822884  246.862103
2023-10-11  489.839778  244.895970
2023-10-12  471.344763  242.056598
2023-10-13  460.776816  253.373588
2023-11-13 19:30:25,291 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
...             ...      ...
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3

[63 rows x 2 columns]
2023-11-13 19:30:25,306 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-06  429.000000  233.300000
2023-10-09  451.775080  238.373985
2023-10-10  459.822884  246.862103
2023-10-11  489.839778  244.895970
2023-10-12  471.344763  242.056598
...                ...         ...
2024-07-24  518.827409  287.939999
2024-07-25  519.521098  283.401688
2024-07-26  517.627871  285.463506
2024-07-29  518.883314  286.794984
2024-07-30  522.131367  270.361750

[203 rows x 2 columns]
2023-11-13 19:30:25,461 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:30:25,461 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f3df10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  451.775080  238.373985
2023-10-10  459.822884  246.862103
2023-10-11  489.839778  244.895970
2023-10-12  471.344763  242.056598
2023-10-13  460.776816  253.373588
...                ...         ...
2024-07-24  518.827409  287.939999
2024-07-25  519.521098  283.401688
2024-07-26  517.627871  285.463506
2024-07-29  518.883314  286.794984
2024-07-30  522.131367  270.361750

[202 rows x 2 columns], sim=0): 0.0h 0.0m 0s 302ms
2023-11-13 19:30:25,462 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 19:30:25,483 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:30:25,485 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  413.481353  229.560305
1  411.204821  248.382320
2  412.201668  250.968195
3  411.034242  248.877160
4  429.561789  261.368379
2023-11-13 19:30:25,599 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  413.481353  229.560305
2023-10-10  411.204821  248.382320
2023-10-11  412.201668  250.968195
2023-10-12  411.034242  248.877160
2023-10-13  429.561789  261.368379
2023-11-13 19:30:25,630 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
...             ...      ...
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3

[63 rows x 2 columns]
2023-11-13 19:30:25,633 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-06  429.000000  233.300000
2023-10-09  413.481353  229.560305
2023-10-10  411.204821  248.382320
2023-10-11  412.201668  250.968195
2023-10-12  411.034242  248.877160
...                ...         ...
2024-07-24  352.353523  107.528739
2024-07-25  353.191991  106.053718
2024-07-26  357.763610  109.147617
2024-07-29  357.519965  105.783645
2024-07-30  358.542661  112.593734

[203 rows x 2 columns]
2023-11-13 19:30:25,758 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:30:25,758 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f3df10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  413.481353  229.560305
2023-10-10  411.204821  248.382320
2023-10-11  412.201668  250.968195
2023-10-12  411.034242  248.877160
2023-10-13  429.561789  261.368379
...                ...         ...
2024-07-24  352.353523  107.528739
2024-07-25  353.191991  106.053718
2024-07-26  357.763610  109.147617
2024-07-29  357.519965  105.783645
2024-07-30  358.542661  112.593734

[202 rows x 2 columns], sim=1): 0.0h 0.0m 0s 155ms
2023-11-13 19:30:25,758 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 19:30:25,779 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:30:25,781 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  434.493364  243.998116
1  417.037014  245.127617
2  406.579631  240.982114
3  419.125522  232.682633
4  429.954633  227.025958
2023-11-13 19:30:25,888 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  434.493364  243.998116
2023-10-10  417.037014  245.127617
2023-10-11  406.579631  240.982114
2023-10-12  419.125522  232.682633
2023-10-13  429.954633  227.025958
2023-11-13 19:30:25,918 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
...             ...      ...
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3

[63 rows x 2 columns]
2023-11-13 19:30:25,921 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-06  429.000000  233.300000
2023-10-09  434.493364  243.998116
2023-10-10  417.037014  245.127617
2023-10-11  406.579631  240.982114
2023-10-12  419.125522  232.682633
...                ...         ...
2024-07-24  619.219454  516.655961
2024-07-25  625.283096  526.696863
2024-07-26  632.130404  563.782921
2024-07-29  632.153216  585.880840
2024-07-30  628.171416  596.839891

[203 rows x 2 columns]
2023-11-13 19:30:26,036 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:30:26,037 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f3df10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  434.493364  243.998116
2023-10-10  417.037014  245.127617
2023-10-11  406.579631  240.982114
2023-10-12  419.125522  232.682633
2023-10-13  429.954633  227.025958
...                ...         ...
2024-07-24  619.219454  516.655961
2024-07-25  625.283096  526.696863
2024-07-26  632.130404  563.782921
2024-07-29  632.153216  585.880840
2024-07-30  628.171416  596.839891

[202 rows x 2 columns], sim=2): 0.0h 0.0m 0s 146ms
2023-11-13 19:30:26,037 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f3df10>, n_sim=3): 0.0h 1.0m 9s 853ms
2023-11-13 19:30:26,037 - yq - INFO - Pricing the product on 2023-10-09 00:00:00
2023-11-13 19:30:26,037 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:30:26,047 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:30:26,272 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-11-13 19:30:26,274 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231009.csv
2023-11-13 19:30:26,277 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/lonn_call.csv
2023-11-13 19:30:26,280 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     390  44.149994  31.775606  0.0175
1  0.109474     395  39.949997  31.077160  0.0175
2  0.109474     400  35.799995  30.202269  0.0175
3  0.109474     410  28.299995  29.217251  0.0175
4  0.109474     420  21.649994  28.378525  0.0175
2023-11-13 19:30:26,280 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/sika_call.csv
2023-11-13 19:30:26,282 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     165  68.550003  47.843029  0.0175
1  0.109474     170  63.600006  45.406399  0.0175
2  0.109474     175  58.699997  43.945614  0.0175
3  0.109474     180  53.800003  41.966976  0.0175
4  0.109474     185  48.925003  40.003117  0.0175
2023-11-13 19:30:26,285 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     390  44.149994  0.0175
1  0.109474     395  39.949997  0.0175
2  0.109474     400  35.799995  0.0175
3  0.109474     410  28.299995  0.0175
4  0.109474     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.109474     165  68.550003  0.0175
1  0.109474     170  63.600006  0.0175
2  0.109474     175  58.699997  0.0175
3  0.109474     180  53.800003  0.0175
4  0.109474     185  48.925003  0.0175
2023-11-13 19:30:26,286 - yq - INFO - Calibrating LONZA on 2023-10-09 00:00:00.
2023-11-13 19:31:01,683 - yq - INFO - Calibrating SIKA on 2023-10-09 00:00:00.
2023-11-13 19:31:39,608 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 228.5
2023-11-13 19:31:39,632 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 19:31:39,690 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231009.csv
2023-11-13 19:31:39,692 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.79006175  0.01074796 -0.12183601  0.48087508  0.36262552]
 [ 9.96462181  0.01032009 -0.22836097  0.41020628  0.3977076 ]]
2023-11-13 19:31:39,697 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14ca70290>, Timestamp('2023-10-09 00:00:00')): 0.0h 1.0m 13s 424ms
2023-11-13 19:31:39,723 - yq - INFO - The log returns list for all assets is: [Date
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
                ...   
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
                ...   
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:31:39,734 - yq - INFO - rho_S1S2 is 0.31656461932210594

2023-11-13 19:31:39,735 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31656462]
 [0.31656462 1.        ]]

2023-11-13 19:31:39,735 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48087508 0.31656462 0.        ]
 [0.48087508 1.         0.         0.        ]
 [0.31656462 0.         1.         0.41020628]
 [0.         0.         0.41020628 1.        ]]

2023-11-13 19:31:39,736 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48087508  0.87678912  0.          0.        ]
 [ 0.31656462 -0.1736199   0.9325465   0.        ]
 [ 0.          0.          0.43987756  0.89805776]]

2023-11-13 19:31:39,737 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14ca70290>): 0.0h 0.0m 0s 39ms
2023-11-13 19:31:39,750 - yq - INFO - The adjusted S_0 is [429.  228.5]
2023-11-13 19:31:39,775 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:31:39,798 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  423.610936  240.427181
1  441.485442  239.150647
2  456.777764  258.103763
3  459.398060  238.657095
4  461.634555  233.864955
2023-11-13 19:31:39,962 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  423.610936  240.427181
2023-10-11  441.485442  239.150647
2023-10-12  456.777764  258.103763
2023-10-13  459.398060  238.657095
2023-10-16  461.634555  233.864955
2023-11-13 19:31:40,173 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
...             ...      ...
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5

[63 rows x 2 columns]
2023-11-13 19:31:40,181 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-09  429.000000  228.500000
2023-10-10  423.610936  240.427181
2023-10-11  441.485442  239.150647
2023-10-12  456.777764  258.103763
2023-10-13  459.398060  238.657095
...                ...         ...
2024-07-24  581.755019  283.057559
2024-07-25  577.662810  280.818356
2024-07-26  577.232466  278.601110
2024-07-29  575.238622  278.095907
2024-07-30  577.521667  276.565711

[202 rows x 2 columns]
2023-11-13 19:31:40,354 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:31:40,354 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14ca70290>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  423.610936  240.427181
2023-10-11  441.485442  239.150647
2023-10-12  456.777764  258.103763
2023-10-13  459.398060  238.657095
2023-10-16  461.634555  233.864955
...                ...         ...
2024-07-24  581.755019  283.057559
2024-07-25  577.662810  280.818356
2024-07-26  577.232466  278.601110
2024-07-29  575.238622  278.095907
2024-07-30  577.521667  276.565711

[201 rows x 2 columns], sim=0): 0.0h 0.0m 0s 362ms
2023-11-13 19:31:40,354 - yq - INFO - The adjusted S_0 is [429.  228.5]
2023-11-13 19:31:40,373 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:31:40,375 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  449.399664  253.952197
1  470.507423  256.150043
2  459.434016  256.455210
3  467.432297  251.850680
4  475.895328  262.316055
2023-11-13 19:31:40,480 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  449.399664  253.952197
2023-10-11  470.507423  256.150043
2023-10-12  459.434016  256.455210
2023-10-13  467.432297  251.850680
2023-10-16  475.895328  262.316055
2023-11-13 19:31:40,534 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
...             ...      ...
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5

[63 rows x 2 columns]
2023-11-13 19:31:40,537 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-09  429.000000  228.500000
2023-10-10  449.399664  253.952197
2023-10-11  470.507423  256.150043
2023-10-12  459.434016  256.455210
2023-10-13  467.432297  251.850680
...                ...         ...
2024-07-24  530.964357  373.543125
2024-07-25  536.842076  377.218507
2024-07-26  537.453141  376.986591
2024-07-29  532.658510  369.939614
2024-07-30  534.945671  371.092679

[202 rows x 2 columns]
2023-11-13 19:31:40,668 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:31:40,668 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14ca70290>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  449.399664  253.952197
2023-10-11  470.507423  256.150043
2023-10-12  459.434016  256.455210
2023-10-13  467.432297  251.850680
2023-10-16  475.895328  262.316055
...                ...         ...
2024-07-24  530.964357  373.543125
2024-07-25  536.842076  377.218507
2024-07-26  537.453141  376.986591
2024-07-29  532.658510  369.939614
2024-07-30  534.945671  371.092679

[201 rows x 2 columns], sim=1): 0.0h 0.0m 0s 153ms
2023-11-13 19:31:40,669 - yq - INFO - The adjusted S_0 is [429.  228.5]
2023-11-13 19:31:40,688 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:31:40,702 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  429.261695  225.882259
1  445.081978  233.594992
2  434.438990  235.627664
3  423.864592  226.848715
4  419.704001  215.999008
2023-11-13 19:31:40,808 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  429.261695  225.882259
2023-10-11  445.081978  233.594992
2023-10-12  434.438990  235.627664
2023-10-13  423.864592  226.848715
2023-10-16  419.704001  215.999008
2023-11-13 19:31:40,851 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
...             ...      ...
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5

[63 rows x 2 columns]
2023-11-13 19:31:40,854 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-09  429.000000  228.500000
2023-10-10  429.261695  225.882259
2023-10-11  445.081978  233.594992
2023-10-12  434.438990  235.627664
2023-10-13  423.864592  226.848715
...                ...         ...
2024-07-24  516.783470  244.992167
2024-07-25  511.953014  242.450873
2024-07-26  511.894141  243.277603
2024-07-29  515.479154  245.244865
2024-07-30  509.729666  245.868341

[202 rows x 2 columns]
2023-11-13 19:31:41,061 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:31:41,062 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14ca70290>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  429.261695  225.882259
2023-10-11  445.081978  233.594992
2023-10-12  434.438990  235.627664
2023-10-13  423.864592  226.848715
2023-10-16  419.704001  215.999008
...                ...         ...
2024-07-24  516.783470  244.992167
2024-07-25  511.953014  242.450873
2024-07-26  511.894141  243.277603
2024-07-29  515.479154  245.244865
2024-07-30  509.729666  245.868341

[201 rows x 2 columns], sim=2): 0.0h 0.0m 0s 236ms
2023-11-13 19:31:41,068 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14ca70290>, n_sim=3): 0.0h 1.0m 14s 798ms
2023-11-13 19:31:41,069 - yq - INFO - Pricing the product on 2023-10-10 00:00:00
2023-11-13 19:31:41,070 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:31:41,102 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:31:41,372 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-11-13 19:31:41,376 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231010.csv
2023-11-13 19:31:41,395 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/lonn_call.csv
2023-11-13 19:31:41,402 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     390  48.649994  32.976944  0.0175
1  0.106667     395  44.250000  32.010677  0.0175
2  0.106667     400  40.000000  31.187216  0.0175
3  0.106667     410  32.049988  29.919235  0.0175
4  0.106667     420  24.349998  27.869890  0.0175
2023-11-13 19:31:41,406 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/sika_call.csv
2023-11-13 19:31:41,408 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     165  70.900009  50.166050  0.0175
1  0.106667     170  65.925003  46.992657  0.0175
2  0.106667     175  60.974998  44.536556  0.0175
3  0.106667     180  56.100006  43.552261  0.0175
4  0.106667     185  51.150002  40.538616  0.0175
2023-11-13 19:31:41,412 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     390  48.649994  0.0175
1  0.106667     395  44.250000  0.0175
2  0.106667     400  40.000000  0.0175
3  0.106667     410  32.049988  0.0175
4  0.106667     420  24.349998  0.0175
   maturity  strike      price    rate
0  0.106667     165  70.900009  0.0175
1  0.106667     170  65.925003  0.0175
2  0.106667     175  60.974998  0.0175
3  0.106667     180  56.100006  0.0175
4  0.106667     185  51.150002  0.0175
2023-11-13 19:31:41,412 - yq - INFO - Calibrating LONZA on 2023-10-10 00:00:00.
2023-11-13 19:32:15,110 - yq - INFO - Calibrating SIKA on 2023-10-10 00:00:00.
2023-11-13 19:32:50,626 - yq - INFO - The S_0 for LONZA and SIKA are 434.1 and 235.1
2023-11-13 19:32:50,629 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 19:32:50,656 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231010.csv
2023-11-13 19:32:50,656 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.93232683e+00  1.26496559e-02 -1.09838457e-01  4.84079923e-01
   3.89636459e-01]
 [ 1.17344542e-01  3.84190862e+00 -1.71783809e-04  4.99999990e-01
   3.71469881e+00]]
2023-11-13 19:32:50,661 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864c5f10>, Timestamp('2023-10-10 00:00:00')): 0.0h 1.0m 9s 289ms
2023-11-13 19:32:50,673 - yq - INFO - The log returns list for all assets is: [Date
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
                ...   
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
                ...   
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:32:50,675 - yq - INFO - rho_S1S2 is 0.329649797605491

2023-11-13 19:32:50,675 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3296498]
 [0.3296498 1.       ]]

2023-11-13 19:32:50,675 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48407992 0.3296498  0.        ]
 [0.48407992 1.         0.         0.        ]
 [0.3296498  0.         1.         0.49999999]
 [0.         0.         0.49999999 1.        ]]

2023-11-13 19:32:50,677 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48407992  0.87502379  0.          0.        ]
 [ 0.3296498  -0.18236858  0.92632214  0.        ]
 [ 0.          0.          0.53976901  0.84181317]]

2023-11-13 19:32:50,677 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864c5f10>): 0.0h 0.0m 0s 16ms
2023-11-13 19:32:50,688 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 19:32:50,708 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:32:50,713 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  401.318142  209.113094
1  420.171919  231.333144
2  430.973652  260.117812
3  427.544865  291.305321
4  413.012311  244.426792
2023-11-13 19:32:50,841 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  401.318142  209.113094
2023-10-12  420.171919  231.333144
2023-10-13  430.973652  260.117812
2023-10-16  427.544865  291.305321
2023-10-17  413.012311  244.426792
2023-11-13 19:32:50,943 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
...             ...      ...
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1

[63 rows x 2 columns]
2023-11-13 19:32:50,948 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-10  434.100000  235.100000
2023-10-11  401.318142  209.113094
2023-10-12  420.171919  231.333144
2023-10-13  430.973652  260.117812
2023-10-16  427.544865  291.305321
...                ...         ...
2024-07-24  341.322873   10.898716
2024-07-25  343.586436   10.742018
2024-07-26  342.166706    9.275523
2024-07-29  343.224925    9.758153
2024-07-30  342.780102    8.265911

[201 rows x 2 columns]
2023-11-13 19:32:51,085 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:32:51,085 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864c5f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  401.318142  209.113094
2023-10-12  420.171919  231.333144
2023-10-13  430.973652  260.117812
2023-10-16  427.544865  291.305321
2023-10-17  413.012311  244.426792
...                ...         ...
2024-07-24  341.322873   10.898716
2024-07-25  343.586436   10.742018
2024-07-26  342.166706    9.275523
2024-07-29  343.224925    9.758153
2024-07-30  342.780102    8.265911

[200 rows x 2 columns], sim=0): 0.0h 0.0m 0s 229ms
2023-11-13 19:32:51,085 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 19:32:51,105 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:32:51,106 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  439.064363  236.326446
1  438.849841  266.998689
2  419.468089  259.434161
3  429.288292  360.062733
4  455.208301  421.902023
2023-11-13 19:32:51,210 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  439.064363  236.326446
2023-10-12  438.849841  266.998689
2023-10-13  419.468089  259.434161
2023-10-16  429.288292  360.062733
2023-10-17  455.208301  421.902023
2023-11-13 19:32:51,232 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
...             ...      ...
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1

[63 rows x 2 columns]
2023-11-13 19:32:51,235 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-10  434.100000  235.100000
2023-10-11  439.064363  236.326446
2023-10-12  438.849841  266.998689
2023-10-13  419.468089  259.434161
2023-10-16  429.288292  360.062733
...                ...         ...
2024-07-24  673.718323  793.340730
2024-07-25  667.069029  786.696973
2024-07-26  669.324249  920.319002
2024-07-29  670.847315  914.536882
2024-07-30  672.646516  850.245153

[201 rows x 2 columns]
2023-11-13 19:32:51,362 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:32:51,362 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864c5f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  439.064363  236.326446
2023-10-12  438.849841  266.998689
2023-10-13  419.468089  259.434161
2023-10-16  429.288292  360.062733
2023-10-17  455.208301  421.902023
...                ...         ...
2024-07-24  673.718323  793.340730
2024-07-25  667.069029  786.696973
2024-07-26  669.324249  920.319002
2024-07-29  670.847315  914.536882
2024-07-30  672.646516  850.245153

[200 rows x 2 columns], sim=1): 0.0h 0.0m 0s 147ms
2023-11-13 19:32:51,362 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 19:32:51,382 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:32:51,385 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  428.176793  217.732267
1  457.040504  214.731895
2  462.497275  175.564539
3  473.910964  172.503509
4  485.531780  157.956239
2023-11-13 19:32:51,492 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  428.176793  217.732267
2023-10-12  457.040504  214.731895
2023-10-13  462.497275  175.564539
2023-10-16  473.910964  172.503509
2023-10-17  485.531780  157.956239
2023-11-13 19:32:51,523 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
...             ...      ...
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1

[63 rows x 2 columns]
2023-11-13 19:32:51,525 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-10  434.100000  235.100000
2023-10-11  428.176793  217.732267
2023-10-12  457.040504  214.731895
2023-10-13  462.497275  175.564539
2023-10-16  473.910964  172.503509
...                ...         ...
2024-07-24  626.391833   19.436298
2024-07-25  621.256103   17.030763
2024-07-26  616.223968   18.951283
2024-07-29  608.658241   18.574578
2024-07-30  605.559373   22.911264

[201 rows x 2 columns]
2023-11-13 19:32:51,670 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:32:51,670 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864c5f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  428.176793  217.732267
2023-10-12  457.040504  214.731895
2023-10-13  462.497275  175.564539
2023-10-16  473.910964  172.503509
2023-10-17  485.531780  157.956239
...                ...         ...
2024-07-24  626.391833   19.436298
2024-07-25  621.256103   17.030763
2024-07-26  616.223968   18.951283
2024-07-29  608.658241   18.574578
2024-07-30  605.559373   22.911264

[200 rows x 2 columns], sim=2): 0.0h 0.0m 0s 167ms
2023-11-13 19:32:51,670 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864c5f10>, n_sim=3): 0.0h 1.0m 10s 302ms
2023-11-13 19:32:51,671 - yq - INFO - Pricing the product on 2023-10-11 00:00:00
2023-11-13 19:32:51,672 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:32:51,682 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:32:51,920 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-11-13 19:32:51,923 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231011.csv
2023-11-13 19:32:51,927 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/lonn_call.csv
2023-11-13 19:32:51,929 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     390  45.899994  30.097866  0.0175
1   0.10386     395  41.549988  29.467657  0.0175
2   0.10386     400  37.349991  28.915565  0.0175
3   0.10386     410  29.499992  28.007881  0.0175
4   0.10386     420  22.549995  27.343821  0.0175
2023-11-13 19:32:51,930 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/sika_call.csv
2023-11-13 19:32:51,932 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     165  70.500008  51.139153  0.0175
1   0.10386     170  65.575005  49.437122  0.0175
2   0.10386     175  60.675003  47.853046  0.0175
3   0.10386     180  55.700005  44.278473  0.0175
4   0.10386     185  50.825005  42.488571  0.0175
2023-11-13 19:32:51,935 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     390  45.899994  0.0175
1   0.10386     395  41.549988  0.0175
2   0.10386     400  37.349991  0.0175
3   0.10386     410  29.499992  0.0175
4   0.10386     420  22.549995  0.0175
   maturity  strike      price    rate
0   0.10386     165  70.500008  0.0175
1   0.10386     170  65.575005  0.0175
2   0.10386     175  60.675003  0.0175
3   0.10386     180  55.700005  0.0175
4   0.10386     185  50.825005  0.0175
2023-11-13 19:32:51,935 - yq - INFO - Calibrating LONZA on 2023-10-11 00:00:00.
2023-11-13 19:33:24,496 - yq - INFO - Calibrating SIKA on 2023-10-11 00:00:00.
2023-11-13 19:34:01,039 - yq - INFO - The S_0 for LONZA and SIKA are 432.2 and 234.6
2023-11-13 19:34:01,041 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 19:34:01,056 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231011.csv
2023-11-13 19:34:01,057 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.73026598  0.0226543  -0.09355196  0.48448797  0.47753201]
 [ 1.10999607  0.21419837 -0.10211786  0.49992834  0.22573947]]
2023-11-13 19:34:01,062 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285166c90>, Timestamp('2023-10-11 00:00:00')): 0.0h 1.0m 9s 141ms
2023-11-13 19:34:01,071 - yq - INFO - The log returns list for all assets is: [Date
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
                ...   
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
                ...   
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:34:01,073 - yq - INFO - rho_S1S2 is 0.3169791225970056

2023-11-13 19:34:01,073 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31697912]
 [0.31697912 1.        ]]

2023-11-13 19:34:01,073 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48448797 0.31697912 0.        ]
 [0.48448797 1.         0.         0.        ]
 [0.31697912 0.         1.         0.49992834]
 [0.         0.         0.49992834 1.        ]]

2023-11-13 19:34:01,074 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48448797  0.87479792  0.          0.        ]
 [ 0.31697912 -0.17555205  0.93204384  0.        ]
 [ 0.          0.          0.53637857  0.8439775 ]]

2023-11-13 19:34:01,074 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285166c90>): 0.0h 0.0m 0s 12ms
2023-11-13 19:34:01,082 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 19:34:01,102 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:34:01,105 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  429.718487  234.241330
1  424.136280  229.360056
2  453.340117  222.928403
3  489.274207  219.369088
4  480.370997  213.969391
2023-11-13 19:34:01,225 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  429.718487  234.241330
2023-10-13  424.136280  229.360056
2023-10-16  453.340117  222.928403
2023-10-17  489.274207  219.369088
2023-10-18  480.370997  213.969391
2023-11-13 19:34:01,292 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
...             ...      ...
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6

[63 rows x 2 columns]
2023-11-13 19:34:01,296 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-11  432.200000  234.600000
2023-10-12  429.718487  234.241330
2023-10-13  424.136280  229.360056
2023-10-16  453.340117  222.928403
2023-10-17  489.274207  219.369088
...                ...         ...
2024-07-24  421.634263  152.730199
2024-07-25  420.431014  153.327343
2024-07-26  421.362697  155.412856
2024-07-29  412.088569  156.081776
2024-07-30  415.971167  154.606952

[200 rows x 2 columns]
2023-11-13 19:34:01,427 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:34:01,439 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285166c90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  429.718487  234.241330
2023-10-13  424.136280  229.360056
2023-10-16  453.340117  222.928403
2023-10-17  489.274207  219.369088
2023-10-18  480.370997  213.969391
...                ...         ...
2024-07-24  421.634263  152.730199
2024-07-25  420.431014  153.327343
2024-07-26  421.362697  155.412856
2024-07-29  412.088569  156.081776
2024-07-30  415.971167  154.606952

[199 rows x 2 columns], sim=0): 0.0h 0.0m 0s 210ms
2023-11-13 19:34:01,440 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 19:34:01,463 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:34:01,464 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  474.889539  229.855556
1  459.722569  227.109372
2  460.495191  229.534031
3  489.591853  227.886092
4  475.637700  228.780575
2023-11-13 19:34:01,572 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  474.889539  229.855556
2023-10-13  459.722569  227.109372
2023-10-16  460.495191  229.534031
2023-10-17  489.591853  227.886092
2023-10-18  475.637700  228.780575
2023-11-13 19:34:01,597 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
...             ...      ...
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6

[63 rows x 2 columns]
2023-11-13 19:34:01,600 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-11  432.200000  234.600000
2023-10-12  474.889539  229.855556
2023-10-13  459.722569  227.109372
2023-10-16  460.495191  229.534031
2023-10-17  489.591853  227.886092
...                ...         ...
2024-07-24  570.318031  276.032102
2024-07-25  568.745498  271.842910
2024-07-26  576.315607  277.260586
2024-07-29  576.058881  270.188337
2024-07-30  579.786688  278.486431

[200 rows x 2 columns]
2023-11-13 19:34:01,755 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:34:01,755 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285166c90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  474.889539  229.855556
2023-10-13  459.722569  227.109372
2023-10-16  460.495191  229.534031
2023-10-17  489.591853  227.886092
2023-10-18  475.637700  228.780575
...                ...         ...
2024-07-24  570.318031  276.032102
2024-07-25  568.745498  271.842910
2024-07-26  576.315607  277.260586
2024-07-29  576.058881  270.188337
2024-07-30  579.786688  278.486431

[199 rows x 2 columns], sim=1): 0.0h 0.0m 0s 178ms
2023-11-13 19:34:01,756 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 19:34:01,778 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:34:01,780 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  454.097518  230.395618
1  457.574544  237.447230
2  436.517978  234.523699
3  472.646054  232.324849
4  474.272337  235.448858
2023-11-13 19:34:02,412 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  454.097518  230.395618
2023-10-13  457.574544  237.447230
2023-10-16  436.517978  234.523699
2023-10-17  472.646054  232.324849
2023-10-18  474.272337  235.448858
2023-11-13 19:34:02,438 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
...             ...      ...
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6

[63 rows x 2 columns]
2023-11-13 19:34:02,441 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-11  432.200000  234.600000
2023-10-12  454.097518  230.395618
2023-10-13  457.574544  237.447230
2023-10-16  436.517978  234.523699
2023-10-17  472.646054  232.324849
...                ...         ...
2024-07-24  532.858864  265.706721
2024-07-25  532.180640  263.332353
2024-07-26  536.115878  265.883390
2024-07-29  532.310553  264.722499
2024-07-30  526.126820  263.380363

[200 rows x 2 columns]
2023-11-13 19:34:02,583 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:34:02,584 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285166c90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  454.097518  230.395618
2023-10-13  457.574544  237.447230
2023-10-16  436.517978  234.523699
2023-10-17  472.646054  232.324849
2023-10-18  474.272337  235.448858
...                ...         ...
2024-07-24  532.858864  265.706721
2024-07-25  532.180640  263.332353
2024-07-26  536.115878  265.883390
2024-07-29  532.310553  264.722499
2024-07-30  526.126820  263.380363

[199 rows x 2 columns], sim=2): 0.0h 0.0m 0s 167ms
2023-11-13 19:34:02,584 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285166c90>, n_sim=3): 0.0h 1.0m 10s 665ms
2023-11-13 19:34:02,584 - yq - INFO - Pricing the product on 2023-10-12 00:00:00
2023-11-13 19:34:02,584 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:34:02,591 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:34:02,833 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-11-13 19:34:02,834 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231012.csv
2023-11-13 19:34:02,840 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/lonn_call.csv
2023-11-13 19:34:02,842 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     390  45.700001  31.750900  0.0175
1  0.101053     395  41.299999  30.809237  0.0175
2  0.101053     400  37.099998  30.118776  0.0175
3  0.101053     410  29.200001  28.882235  0.0175
4  0.101053     420  22.299999  28.154430  0.0175
2023-11-13 19:34:02,843 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/sika_call.csv
2023-11-13 19:34:02,845 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     165  70.150002  50.219540  0.0175
1  0.101053     170  65.199997  48.034592  0.0175
2  0.101053     175  60.250000  45.546146  0.0175
3  0.101053     180  55.324989  43.450645  0.0175
4  0.101053     185  50.399994  40.996925  0.0175
2023-11-13 19:34:02,849 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     390  45.700001  0.0175
1  0.101053     395  41.299999  0.0175
2  0.101053     400  37.099998  0.0175
3  0.101053     410  29.200001  0.0175
4  0.101053     420  22.299999  0.0175
   maturity  strike      price    rate
0  0.101053     165  70.150002  0.0175
1  0.101053     170  65.199997  0.0175
2  0.101053     175  60.250000  0.0175
3  0.101053     180  55.324989  0.0175
4  0.101053     185  50.399994  0.0175
2023-11-13 19:34:02,849 - yq - INFO - Calibrating LONZA on 2023-10-12 00:00:00.
2023-11-13 19:34:36,997 - yq - INFO - Calibrating SIKA on 2023-10-12 00:00:00.
2023-11-13 19:35:09,700 - yq - INFO - The S_0 for LONZA and SIKA are 431.6 and 234.9
2023-11-13 19:35:09,703 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 6 seconds
2023-11-13 19:35:09,724 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231012.csv
2023-11-13 19:35:09,724 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.79431306  0.01017922 -0.09662971  0.49817846  0.44738228]
 [ 9.8112722   0.05905291 -0.24476843  0.39494075  0.45792615]]
2023-11-13 19:35:09,727 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c4c7450>, Timestamp('2023-10-12 00:00:00')): 0.0h 1.0m 6s 894ms
2023-11-13 19:35:09,737 - yq - INFO - The log returns list for all assets is: [Date
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
                ...   
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
                ...   
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:35:09,739 - yq - INFO - rho_S1S2 is 0.31851779552852644

2023-11-13 19:35:09,739 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3185178]
 [0.3185178 1.       ]]

2023-11-13 19:35:09,739 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49817846 0.3185178  0.        ]
 [0.49817846 1.         0.         0.        ]
 [0.3185178  0.         1.         0.39494075]
 [0.         0.         0.39494075 1.        ]]

2023-11-13 19:35:09,740 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49817846  0.86707452  0.          0.        ]
 [ 0.3185178  -0.18300469  0.9300837   0.        ]
 [ 0.          0.          0.42462925  0.90536733]]

2023-11-13 19:35:09,740 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c4c7450>): 0.0h 0.0m 0s 12ms
2023-11-13 19:35:09,748 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 19:35:09,766 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:35:09,770 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  429.738682  223.402241
1  448.422741  221.604824
2  431.856084  221.887765
3  433.470071  219.784960
4  439.504347  222.576202
2023-11-13 19:35:09,887 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  429.738682  223.402241
2023-10-16  448.422741  221.604824
2023-10-17  431.856084  221.887765
2023-10-18  433.470071  219.784960
2023-10-19  439.504347  222.576202
2023-11-13 19:35:09,956 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
...             ...      ...
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9

[63 rows x 2 columns]
2023-11-13 19:35:09,962 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-12  431.600000  234.900000
2023-10-13  429.738682  223.402241
2023-10-16  448.422741  221.604824
2023-10-17  431.856084  221.887765
2023-10-18  433.470071  219.784960
...                ...         ...
2024-07-24  348.616298  183.830015
2024-07-25  350.125294  184.619458
2024-07-26  353.632931  189.303044
2024-07-29  352.346181  189.455166
2024-07-30  350.247426  189.789592

[199 rows x 2 columns]
2023-11-13 19:35:10,081 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:35:10,081 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c4c7450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  429.738682  223.402241
2023-10-16  448.422741  221.604824
2023-10-17  431.856084  221.887765
2023-10-18  433.470071  219.784960
2023-10-19  439.504347  222.576202
...                ...         ...
2024-07-24  348.616298  183.830015
2024-07-25  350.125294  184.619458
2024-07-26  353.632931  189.303044
2024-07-29  352.346181  189.455166
2024-07-30  350.247426  189.789592

[198 rows x 2 columns], sim=0): 0.0h 0.0m 0s 190ms
2023-11-13 19:35:10,082 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 19:35:10,101 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:35:10,102 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  464.755627  229.870562
1  450.683618  224.210456
2  447.691215  235.622905
3  450.805954  239.030874
4  458.391455  230.067320
2023-11-13 19:35:10,198 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  464.755627  229.870562
2023-10-16  450.683618  224.210456
2023-10-17  447.691215  235.622905
2023-10-18  450.805954  239.030874
2023-10-19  458.391455  230.067320
2023-11-13 19:35:10,224 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
...             ...      ...
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9

[63 rows x 2 columns]
2023-11-13 19:35:10,226 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-12  431.600000  234.900000
2023-10-13  464.755627  229.870562
2023-10-16  450.683618  224.210456
2023-10-17  447.691215  235.622905
2023-10-18  450.805954  239.030874
...                ...         ...
2024-07-24  444.915343  158.625271
2024-07-25  445.265490  156.852155
2024-07-26  445.962672  152.324839
2024-07-29  449.153033  154.439262
2024-07-30  450.755713  153.255585

[199 rows x 2 columns]
2023-11-13 19:35:10,333 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:35:10,333 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c4c7450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  464.755627  229.870562
2023-10-16  450.683618  224.210456
2023-10-17  447.691215  235.622905
2023-10-18  450.805954  239.030874
2023-10-19  458.391455  230.067320
...                ...         ...
2024-07-24  444.915343  158.625271
2024-07-25  445.265490  156.852155
2024-07-26  445.962672  152.324839
2024-07-29  449.153033  154.439262
2024-07-30  450.755713  153.255585

[198 rows x 2 columns], sim=1): 0.0h 0.0m 0s 131ms
2023-11-13 19:35:10,334 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 19:35:10,353 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:35:10,354 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  413.408692  241.444808
1  434.698523  239.891034
2  429.131503  238.748634
3  431.884304  231.060945
4  425.422982  247.177916
2023-11-13 19:35:10,454 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  413.408692  241.444808
2023-10-16  434.698523  239.891034
2023-10-17  429.131503  238.748634
2023-10-18  431.884304  231.060945
2023-10-19  425.422982  247.177916
2023-11-13 19:35:10,483 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
...             ...      ...
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9

[63 rows x 2 columns]
2023-11-13 19:35:10,486 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-12  431.600000  234.900000
2023-10-13  413.408692  241.444808
2023-10-16  434.698523  239.891034
2023-10-17  429.131503  238.748634
2023-10-18  431.884304  231.060945
...                ...         ...
2024-07-24  415.324831  188.856282
2024-07-25  411.784161  192.758203
2024-07-26  404.877507  197.234954
2024-07-29  403.308610  193.528145
2024-07-30  402.379758  190.439141

[199 rows x 2 columns]
2023-11-13 19:35:10,605 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:35:10,605 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c4c7450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  413.408692  241.444808
2023-10-16  434.698523  239.891034
2023-10-17  429.131503  238.748634
2023-10-18  431.884304  231.060945
2023-10-19  425.422982  247.177916
...                ...         ...
2024-07-24  415.324831  188.856282
2024-07-25  411.784161  192.758203
2024-07-26  404.877507  197.234954
2024-07-29  403.308610  193.528145
2024-07-30  402.379758  190.439141

[198 rows x 2 columns], sim=2): 0.0h 0.0m 0s 147ms
2023-11-13 19:35:10,605 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c4c7450>, n_sim=3): 0.0h 1.0m 7s 774ms
2023-11-13 19:35:10,605 - yq - INFO - Pricing the product on 2023-10-13 00:00:00
2023-11-13 19:35:10,605 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:35:10,620 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:35:10,875 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-11-13 19:35:10,875 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231013.csv
2023-11-13 19:35:10,880 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/lonn_call.csv
2023-11-13 19:35:10,882 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     380  45.500000  29.856724  0.0175
1  0.176842     385  41.500000  29.342726  0.0175
2  0.176842     390  37.599991  28.775595  0.0175
3  0.176842     395  33.949997  28.392563  0.0175
4  0.176842     400  30.474998  28.026896  0.0175
2023-11-13 19:35:10,884 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/sika_call.csv
2023-11-13 19:35:10,886 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     195  43.025002  35.105164  0.0175
1  0.176842     200  38.374992  33.525452  0.0175
2  0.176842     210  29.399994  30.622183  0.0175
3  0.176842     220  21.324997  28.788097  0.0175
4  0.176842     230  14.375000  27.261559  0.0175
2023-11-13 19:35:10,891 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     380  45.500000  0.0175
1  0.176842     385  41.500000  0.0175
2  0.176842     390  37.599991  0.0175
3  0.176842     395  33.949997  0.0175
4  0.176842     400  30.474998  0.0175
   maturity  strike      price    rate
0  0.176842     195  43.025002  0.0175
1  0.176842     200  38.374992  0.0175
2  0.176842     210  29.399994  0.0175
3  0.176842     220  21.324997  0.0175
4  0.176842     230  14.375000  0.0175
2023-11-13 19:35:10,891 - yq - INFO - Calibrating LONZA on 2023-10-13 00:00:00.
2023-11-13 19:35:41,635 - yq - INFO - Calibrating SIKA on 2023-10-13 00:00:00.
2023-11-13 19:36:13,473 - yq - INFO - The S_0 for LONZA and SIKA are 418.1 and 235.6
2023-11-13 19:36:13,475 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 2 seconds
2023-11-13 19:36:13,508 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231013.csv
2023-11-13 19:36:13,508 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  1.04233017e-01 -1.41985712e-09  4.79940943e-02
   1.19992193e-01]
 [ 1.00000000e+01  8.21374895e-02 -6.34885507e-06  4.61892921e-01
   1.07500006e+00]]
2023-11-13 19:36:13,512 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285119b10>, Timestamp('2023-10-13 00:00:00')): 0.0h 1.0m 2s 637ms
2023-11-13 19:36:13,536 - yq - INFO - The log returns list for all assets is: [Date
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
                ...   
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
                ...   
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:36:13,541 - yq - INFO - rho_S1S2 is 0.30846875512601135

2023-11-13 19:36:13,541 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30846876]
 [0.30846876 1.        ]]

2023-11-13 19:36:13,541 - yq - INFO - Simplified correlation matrix is:
[[1.         0.04799409 0.30846876 0.        ]
 [0.04799409 1.         0.         0.        ]
 [0.30846876 0.         1.         0.46189292]
 [0.         0.         0.46189292 1.        ]]

2023-11-13 19:36:13,542 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.04799409  0.99884762  0.          0.        ]
 [ 0.30846876 -0.01482176  0.95111899  0.        ]
 [ 0.          0.          0.48563106  0.87416387]]

2023-11-13 19:36:13,542 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285119b10>): 0.0h 0.0m 0s 30ms
2023-11-13 19:36:13,552 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 19:36:13,573 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:36:13,584 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  409.816204  261.799475
1  403.392538  281.482756
2  414.672523  270.238545
3  417.011892  303.002499
4  418.122880  295.855087
2023-11-13 19:36:13,695 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  409.816204  261.799475
2023-10-17  403.392538  281.482756
2023-10-18  414.672523  270.238545
2023-10-19  417.011892  303.002499
2023-10-20  418.122880  295.855087
2023-11-13 19:36:13,739 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
...             ...      ...
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6

[63 rows x 2 columns]
2023-11-13 19:36:13,742 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-13  418.100000  235.600000
2023-10-16  409.816204  261.799475
2023-10-17  403.392538  281.482756
2023-10-18  414.672523  270.238545
2023-10-19  417.011892  303.002499
...                ...         ...
2024-07-24  542.158886  476.318008
2024-07-25  536.711509  479.318108
2024-07-26  551.801026  478.994321
2024-07-29  549.421337  476.093349
2024-07-30  553.547644  483.446621

[198 rows x 2 columns]
2023-11-13 19:36:13,866 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:36:13,866 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285119b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  409.816204  261.799475
2023-10-17  403.392538  281.482756
2023-10-18  414.672523  270.238545
2023-10-19  417.011892  303.002499
2023-10-20  418.122880  295.855087
...                ...         ...
2024-07-24  542.158886  476.318008
2024-07-25  536.711509  479.318108
2024-07-26  551.801026  478.994321
2024-07-29  549.421337  476.093349
2024-07-30  553.547644  483.446621

[197 rows x 2 columns], sim=0): 0.0h 0.0m 0s 167ms
2023-11-13 19:36:13,867 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 19:36:13,884 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:36:13,885 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  426.331005  245.456400
1  429.455975  266.656592
2  447.281996  270.860577
3  445.430641  269.845118
4  451.261566  274.952776
2023-11-13 19:36:13,980 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  426.331005  245.456400
2023-10-17  429.455975  266.656592
2023-10-18  447.281996  270.860577
2023-10-19  445.430641  269.845118
2023-10-20  451.261566  274.952776
2023-11-13 19:36:14,001 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
...             ...      ...
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6

[63 rows x 2 columns]
2023-11-13 19:36:14,004 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-13  418.100000  235.600000
2023-10-16  426.331005  245.456400
2023-10-17  429.455975  266.656592
2023-10-18  447.281996  270.860577
2023-10-19  445.430641  269.845118
...                ...         ...
2024-07-24  483.879101  482.829583
2024-07-25  470.709713  473.634624
2024-07-26  465.313313  459.278343
2024-07-29  469.017798  455.665651
2024-07-30  476.340373  460.521556

[198 rows x 2 columns]
2023-11-13 19:36:14,113 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:36:14,113 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285119b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  426.331005  245.456400
2023-10-17  429.455975  266.656592
2023-10-18  447.281996  270.860577
2023-10-19  445.430641  269.845118
2023-10-20  451.261566  274.952776
...                ...         ...
2024-07-24  483.879101  482.829583
2024-07-25  470.709713  473.634624
2024-07-26  465.313313  459.278343
2024-07-29  469.017798  455.665651
2024-07-30  476.340373  460.521556

[197 rows x 2 columns], sim=1): 0.0h 0.0m 0s 128ms
2023-11-13 19:36:14,113 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 19:36:14,132 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:36:14,134 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  395.711583  227.404887
1  400.067510  221.171232
2  403.245099  229.854300
3  415.106611  220.274695
4  408.721654  247.546693
2023-11-13 19:36:14,239 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  395.711583  227.404887
2023-10-17  400.067510  221.171232
2023-10-18  403.245099  229.854300
2023-10-19  415.106611  220.274695
2023-10-20  408.721654  247.546693
2023-11-13 19:36:14,263 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
...             ...      ...
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6

[63 rows x 2 columns]
2023-11-13 19:36:14,266 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-13  418.100000  235.600000
2023-10-16  395.711583  227.404887
2023-10-17  400.067510  221.171232
2023-10-18  403.245099  229.854300
2023-10-19  415.106611  220.274695
...                ...         ...
2024-07-24  409.791395  464.579576
2024-07-25  399.003937  470.244281
2024-07-26  399.521126  486.111012
2024-07-29  396.368082  484.228551
2024-07-30  394.112399  479.235177

[198 rows x 2 columns]
2023-11-13 19:36:14,398 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:36:14,399 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285119b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  395.711583  227.404887
2023-10-17  400.067510  221.171232
2023-10-18  403.245099  229.854300
2023-10-19  415.106611  220.274695
2023-10-20  408.721654  247.546693
...                ...         ...
2024-07-24  409.791395  464.579576
2024-07-25  399.003937  470.244281
2024-07-26  399.521126  486.111012
2024-07-29  396.368082  484.228551
2024-07-30  394.112399  479.235177

[197 rows x 2 columns], sim=2): 0.0h 0.0m 0s 157ms
2023-11-13 19:36:14,399 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285119b10>, n_sim=3): 0.0h 1.0m 3s 526ms
2023-11-13 19:36:14,399 - yq - INFO - Pricing the product on 2023-10-16 00:00:00
2023-11-13 19:36:14,399 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:36:14,416 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:36:14,641 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-11-13 19:36:14,642 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231016.csv
2023-11-13 19:36:14,648 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/lonn_call.csv
2023-11-13 19:36:14,650 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     385  47.699997  29.411749  0.0175
1  0.168421     390  43.949997  29.572170  0.0175
2  0.168421     395  40.049995  29.142870  0.0175
3  0.168421     400  36.349991  28.814251  0.0175
4  0.168421     410  29.399994  28.098360  0.0175
2023-11-13 19:36:14,651 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/sika_call.csv
2023-11-13 19:36:14,652 - yq - INFO - Options data read is
    maturity  strike       price          IV    rate
0  0.168421      76  159.475006   99.122787  0.0175
1  0.168421      84  151.574997  100.150345  0.0175
2  0.168421      92  143.600006   91.919762  0.0175
3  0.168421     100  135.649994   86.183449  0.0175
4  0.168421     110  125.700005   78.469963  0.0175
2023-11-13 19:36:14,655 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     385  47.699997  0.0175
1  0.168421     390  43.949997  0.0175
2  0.168421     395  40.049995  0.0175
3  0.168421     400  36.349991  0.0175
4  0.168421     410  29.399994  0.0175
   maturity  strike       price    rate
0  0.168421      76  159.475006  0.0175
1  0.168421      84  151.574997  0.0175
2  0.168421      92  143.600006  0.0175
3  0.168421     100  135.649994  0.0175
4  0.168421     110  125.700005  0.0175
2023-11-13 19:36:14,655 - yq - INFO - Calibrating LONZA on 2023-10-16 00:00:00.
2023-11-13 19:36:47,958 - yq - INFO - Calibrating SIKA on 2023-10-16 00:00:00.
2023-11-13 19:37:05,590 - yq - INFO - The S_0 for LONZA and SIKA are 426.1 and 235.0
2023-11-13 19:37:05,590 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 50 seconds
2023-11-13 19:37:05,600 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231016.csv
2023-11-13 19:37:05,600 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99611691e+00  1.02941140e-02 -7.55148405e-02  1.00926936e-02
   4.53045935e-02]
 [ 1.00003805e-02  1.06897758e-02 -1.89173890e-08  4.38353417e-01
   2.63632524e+00]]
2023-11-13 19:37:05,601 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284cae750>, Timestamp('2023-10-16 00:00:00')): 0.0h 0.0m 50s 961ms
2023-11-13 19:37:05,609 - yq - INFO - The log returns list for all assets is: [Date
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
                ...   
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
                ...   
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:37:05,609 - yq - INFO - rho_S1S2 is 0.3035652013170766

2023-11-13 19:37:05,610 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3035652]
 [0.3035652 1.       ]]

2023-11-13 19:37:05,610 - yq - INFO - Simplified correlation matrix is:
[[1.         0.01009269 0.3035652  0.        ]
 [0.01009269 1.         0.         0.        ]
 [0.3035652  0.         1.         0.43835342]
 [0.         0.         0.43835342 1.        ]]

2023-11-13 19:37:05,610 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.01009269  0.99994907  0.          0.        ]
 [ 0.3035652  -0.00306395  0.95280574  0.        ]
 [ 0.          0.          0.46006589  0.88788478]]

2023-11-13 19:37:05,610 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284cae750>): 0.0h 0.0m 0s 9ms
2023-11-13 19:37:05,623 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 19:37:05,642 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:37:05,644 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.391222  221.371854
1  418.141869  236.749104
2  425.847428  249.793456
3  428.628307  269.044163
4  425.217197  249.168304
2023-11-13 19:37:05,749 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  420.391222  221.371854
2023-10-18  418.141869  236.749104
2023-10-19  425.847428  249.793456
2023-10-20  428.628307  269.044163
2023-10-23  425.217197  249.168304
2023-11-13 19:37:05,809 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
...             ...      ...
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0

[63 rows x 2 columns]
2023-11-13 19:37:05,812 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-16  426.100000  235.000000
2023-10-17  420.391222  221.371854
2023-10-18  418.141869  236.749104
2023-10-19  425.847428  249.793456
2023-10-20  428.628307  269.044163
...                ...         ...
2024-07-24  536.395760  301.308827
2024-07-25  532.208715  287.221549
2024-07-26  526.757005  275.093587
2024-07-29  519.084122  223.696633
2024-07-30  517.093688  198.430160

[197 rows x 2 columns]
2023-11-13 19:37:05,927 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:37:05,927 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284cae750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  420.391222  221.371854
2023-10-18  418.141869  236.749104
2023-10-19  425.847428  249.793456
2023-10-20  428.628307  269.044163
2023-10-23  425.217197  249.168304
...                ...         ...
2024-07-24  536.395760  301.308827
2024-07-25  532.208715  287.221549
2024-07-26  526.757005  275.093587
2024-07-29  519.084122  223.696633
2024-07-30  517.093688  198.430160

[196 rows x 2 columns], sim=0): 0.0h 0.0m 0s 176ms
2023-11-13 19:37:05,928 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 19:37:05,948 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:37:05,949 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.894801  308.567584
1  419.901075  284.893048
2  430.201144  296.450724
3  438.791746  310.338345
4  440.498830  299.142926
2023-11-13 19:37:06,060 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  420.894801  308.567584
2023-10-18  419.901075  284.893048
2023-10-19  430.201144  296.450724
2023-10-20  438.791746  310.338345
2023-10-23  440.498830  299.142926
2023-11-13 19:37:06,079 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
...             ...      ...
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0

[63 rows x 2 columns]
2023-11-13 19:37:06,082 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-16  426.100000  235.000000
2023-10-17  420.894801  308.567584
2023-10-18  419.901075  284.893048
2023-10-19  430.201144  296.450724
2023-10-20  438.791746  310.338345
...                ...         ...
2024-07-24  487.882558  160.546990
2024-07-25  485.476183  186.037164
2024-07-26  480.643288  194.552731
2024-07-29  481.819200  204.320933
2024-07-30  481.148442  197.780491

[197 rows x 2 columns]
2023-11-13 19:37:06,227 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:37:06,227 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284cae750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  420.894801  308.567584
2023-10-18  419.901075  284.893048
2023-10-19  430.201144  296.450724
2023-10-20  438.791746  310.338345
2023-10-23  440.498830  299.142926
...                ...         ...
2024-07-24  487.882558  160.546990
2024-07-25  485.476183  186.037164
2024-07-26  480.643288  194.552731
2024-07-29  481.819200  204.320933
2024-07-30  481.148442  197.780491

[196 rows x 2 columns], sim=1): 0.0h 0.0m 0s 164ms
2023-11-13 19:37:06,228 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 19:37:06,253 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:37:06,255 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  425.029977  219.671232
1  429.677316  217.759423
2  438.379440  196.494325
3  443.829670  216.378132
4  451.367941  222.196181
2023-11-13 19:37:06,405 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  425.029977  219.671232
2023-10-18  429.677316  217.759423
2023-10-19  438.379440  196.494325
2023-10-20  443.829670  216.378132
2023-10-23  451.367941  222.196181
2023-11-13 19:37:06,443 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
...             ...      ...
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0

[63 rows x 2 columns]
2023-11-13 19:37:06,448 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-16  426.100000  235.000000
2023-10-17  425.029977  219.671232
2023-10-18  429.677316  217.759423
2023-10-19  438.379440  196.494325
2023-10-20  443.829670  216.378132
...                ...         ...
2024-07-24  523.696901   43.675468
2024-07-25  513.265658   39.657220
2024-07-26  514.310142   47.940930
2024-07-29  514.565197   48.217269
2024-07-30  519.888940   48.650812

[197 rows x 2 columns]
2023-11-13 19:37:06,617 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:37:06,617 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284cae750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  425.029977  219.671232
2023-10-18  429.677316  217.759423
2023-10-19  438.379440  196.494325
2023-10-20  443.829670  216.378132
2023-10-23  451.367941  222.196181
...                ...         ...
2024-07-24  523.696901   43.675468
2024-07-25  513.265658   39.657220
2024-07-26  514.310142   47.940930
2024-07-29  514.565197   48.217269
2024-07-30  519.888940   48.650812

[196 rows x 2 columns], sim=2): 0.0h 0.0m 0s 208ms
2023-11-13 19:37:06,617 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284cae750>, n_sim=3): 0.0h 0.0m 51s 978ms
2023-11-13 19:37:06,617 - yq - INFO - Pricing the product on 2023-10-17 00:00:00
2023-11-13 19:37:06,617 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:37:06,628 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:37:06,924 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-11-13 19:37:06,925 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231017.csv
2023-11-13 19:37:06,928 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/lonn_call.csv
2023-11-13 19:37:06,930 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     335  30.549988  28.717325  0.0175
1  0.165614     340  27.049988  28.429321  0.0175
2  0.165614     345  23.749992  28.119053  0.0175
3  0.165614     350  20.750000  27.944704  0.0175
4  0.165614     355  21.599998  33.963181  0.0175
2023-11-13 19:37:06,931 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/sika_call.csv
2023-11-13 19:37:06,934 - yq - INFO - Options data read is
    maturity  strike       price           IV    rate
0  0.165614     0.1  223.100006  2292.225586  0.0175
1  0.165614    76.0  147.449997   106.440056  0.0175
2  0.165614    84.0  139.500000    99.310966  0.0175
3  0.165614    92.0  131.524994    90.756920  0.0175
4  0.165614   100.0  123.575005    84.469040  0.0175
2023-11-13 19:37:06,938 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     335  30.549988  0.0175
1  0.165614     340  27.049988  0.0175
2  0.165614     345  23.749992  0.0175
3  0.165614     350  20.750000  0.0175
4  0.165614     355  21.599998  0.0175
   maturity  strike       price    rate
0  0.165614     0.1  223.100006  0.0175
1  0.165614    76.0  147.449997  0.0175
2  0.165614    84.0  139.500000  0.0175
3  0.165614    92.0  131.524994  0.0175
4  0.165614   100.0  123.575005  0.0175
2023-11-13 19:37:06,938 - yq - INFO - Calibrating LONZA on 2023-10-17 00:00:00.
2023-11-13 19:37:39,733 - yq - INFO - Calibrating SIKA on 2023-10-17 00:00:00.
2023-11-13 19:38:15,079 - yq - INFO - The S_0 for LONZA and SIKA are 357.3 and 222.2
2023-11-13 19:38:15,079 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 19:38:15,094 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231017.csv
2023-11-13 19:38:15,094 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99983223e+00  9.64061107e-02 -2.24847010e-07  2.22127066e-01
   1.01300129e-02]
 [ 1.13422802e-01  9.31538584e+00 -1.70047885e-04  5.00000000e-01
   9.55371811e+00]]
2023-11-13 19:38:15,096 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286456dd0>, Timestamp('2023-10-17 00:00:00')): 0.0h 1.0m 8s 172ms
2023-11-13 19:38:15,106 - yq - INFO - The log returns list for all assets is: [Date
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
                ...   
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
                ...   
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:38:15,110 - yq - INFO - rho_S1S2 is 0.4745605548224541

2023-11-13 19:38:15,110 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.47456055]
 [0.47456055 1.        ]]

2023-11-13 19:38:15,110 - yq - INFO - Simplified correlation matrix is:
[[1.         0.22212707 0.47456055 0.        ]
 [0.22212707 1.         0.         0.        ]
 [0.47456055 0.         1.         0.5       ]
 [0.         0.         0.5        1.        ]]

2023-11-13 19:38:15,111 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.22212707  0.97501773  0.          0.        ]
 [ 0.47456055 -0.10811367  0.87355808  0.        ]
 [ 0.          0.          0.57237179  0.81999423]]

2023-11-13 19:38:15,111 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x286456dd0>): 0.0h 0.0m 0s 16ms
2023-11-13 19:38:15,120 - yq - INFO - The adjusted S_0 is [357.3 222.2]
2023-11-13 19:38:15,151 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:38:15,160 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  354.415128  142.763582
1  358.786099  142.718842
2  365.387231  173.624028
3  366.013261  158.276986
4  364.685712  121.619909
2023-11-13 19:38:15,310 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  354.415128  142.763582
2023-10-19  358.786099  142.718842
2023-10-20  365.387231  173.624028
2023-10-23  366.013261  158.276986
2023-10-24  364.685712  121.619909
2023-11-13 19:38:15,361 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
...             ...      ...
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2

[63 rows x 2 columns]
2023-11-13 19:38:15,366 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-17  357.300000  222.200000
2023-10-18  354.415128  142.763582
2023-10-19  358.786099  142.718842
2023-10-20  365.387231  173.624028
2023-10-23  366.013261  158.276986
...                ...         ...
2024-07-24  506.567097    5.014231
2024-07-25  501.342741    4.161272
2024-07-26  506.053202    5.464843
2024-07-29  491.974903    4.193940
2024-07-30  503.719626    3.606390

[196 rows x 2 columns]
2023-11-13 19:38:15,537 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:38:15,537 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286456dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  354.415128  142.763582
2023-10-19  358.786099  142.718842
2023-10-20  365.387231  173.624028
2023-10-23  366.013261  158.276986
2023-10-24  364.685712  121.619909
...                ...         ...
2024-07-24  506.567097    5.014231
2024-07-25  501.342741    4.161272
2024-07-26  506.053202    5.464843
2024-07-29  491.974903    4.193940
2024-07-30  503.719626    3.606390

[195 rows x 2 columns], sim=0): 0.0h 0.0m 0s 222ms
2023-11-13 19:38:15,538 - yq - INFO - The adjusted S_0 is [357.3 222.2]
2023-11-13 19:38:15,566 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:38:15,568 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  356.218385  205.408736
1  355.949244  194.619263
2  357.575038  181.397646
3  355.123545  206.330679
4  354.315193  178.812509
2023-11-13 19:38:15,716 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  356.218385  205.408736
2023-10-19  355.949244  194.619263
2023-10-20  357.575038  181.397646
2023-10-23  355.123545  206.330679
2023-10-24  354.315193  178.812509
2023-11-13 19:38:15,741 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
...             ...      ...
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2

[63 rows x 2 columns]
2023-11-13 19:38:15,745 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-17  357.300000  222.200000
2023-10-18  356.218385  205.408736
2023-10-19  355.949244  194.619263
2023-10-20  357.575038  181.397646
2023-10-23  355.123545  206.330679
...                ...         ...
2024-07-24  249.833751   18.444832
2024-07-25  242.784895   13.687234
2024-07-26  244.765119   10.665673
2024-07-29  254.596747   13.954980
2024-07-30  256.148986   14.226307

[196 rows x 2 columns]
2023-11-13 19:38:15,939 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:38:15,939 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286456dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  356.218385  205.408736
2023-10-19  355.949244  194.619263
2023-10-20  357.575038  181.397646
2023-10-23  355.123545  206.330679
2023-10-24  354.315193  178.812509
...                ...         ...
2024-07-24  249.833751   18.444832
2024-07-25  242.784895   13.687234
2024-07-26  244.765119   10.665673
2024-07-29  254.596747   13.954980
2024-07-30  256.148986   14.226307

[195 rows x 2 columns], sim=1): 0.0h 0.0m 0s 219ms
2023-11-13 19:38:15,940 - yq - INFO - The adjusted S_0 is [357.3 222.2]
2023-11-13 19:38:15,969 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:38:15,970 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  358.763722  193.923485
1  356.968666  149.324242
2  360.113888  174.811236
3  359.257971  156.606031
4  357.393334  149.143381
2023-11-13 19:38:16,119 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  358.763722  193.923485
2023-10-19  356.968666  149.324242
2023-10-20  360.113888  174.811236
2023-10-23  359.257971  156.606031
2023-10-24  357.393334  149.143381
2023-11-13 19:38:16,148 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
...             ...      ...
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2

[63 rows x 2 columns]
2023-11-13 19:38:16,151 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-17  357.300000  222.200000
2023-10-18  358.763722  193.923485
2023-10-19  356.968666  149.324242
2023-10-20  360.113888  174.811236
2023-10-23  359.257971  156.606031
...                ...         ...
2024-07-24  265.451010    1.181200
2024-07-25  253.949242    0.935045
2024-07-26  252.895769    0.881908
2024-07-29  252.681514    0.794176
2024-07-30  250.542951    0.792006

[196 rows x 2 columns]
2023-11-13 19:38:16,329 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:38:16,329 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286456dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  358.763722  193.923485
2023-10-19  356.968666  149.324242
2023-10-20  360.113888  174.811236
2023-10-23  359.257971  156.606031
2023-10-24  357.393334  149.143381
...                ...         ...
2024-07-24  265.451010    1.181200
2024-07-25  253.949242    0.935045
2024-07-26  252.895769    0.881908
2024-07-29  252.681514    0.794176
2024-07-30  250.542951    0.792006

[195 rows x 2 columns], sim=2): 0.0h 0.0m 0s 207ms
2023-11-13 19:38:16,329 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x286456dd0>, n_sim=3): 0.0h 1.0m 9s 407ms
2023-11-13 19:38:16,330 - yq - INFO - Pricing the product on 2023-10-18 00:00:00
2023-11-13 19:38:16,330 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:38:16,345 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:38:17,020 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-11-13 19:38:17,021 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231018.csv
2023-11-13 19:38:17,026 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/lonn_call.csv
2023-11-13 19:38:17,028 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     320  31.299999  28.101810  0.0175
1  0.162807     325  27.500000  27.525820  0.0175
2  0.162807     330  24.950001  29.035944  0.0175
3  0.162807     335  21.875000  28.934927  0.0175
4  0.162807     340  19.049999  28.851625  0.0175
2023-11-13 19:38:17,029 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/sika_call.csv
2023-11-13 19:38:17,031 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     175  38.500000  38.528267  0.0175
1  0.162807     180  33.849998  36.588718  0.0175
2  0.162807     185  29.324997  34.833080  0.0175
3  0.162807     190  25.024994  33.522907  0.0175
4  0.162807     195  20.899994  32.112335  0.0175
2023-11-13 19:38:17,035 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     320  31.299999  0.0175
1  0.162807     325  27.500000  0.0175
2  0.162807     330  24.950001  0.0175
3  0.162807     335  21.875000  0.0175
4  0.162807     340  19.049999  0.0175
   maturity  strike      price    rate
0  0.162807     175  38.500000  0.0175
1  0.162807     180  33.849998  0.0175
2  0.162807     185  29.324997  0.0175
3  0.162807     190  25.024994  0.0175
4  0.162807     195  20.899994  0.0175
2023-11-13 19:38:17,035 - yq - INFO - Calibrating LONZA on 2023-10-18 00:00:00.
2023-11-13 19:38:51,162 - yq - INFO - Calibrating SIKA on 2023-10-18 00:00:00.
2023-11-13 19:39:38,154 - yq - INFO - The S_0 for LONZA and SIKA are 344.7 and 216.3
2023-11-13 19:39:38,159 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 21 seconds
2023-11-13 19:39:38,178 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231018.csv
2023-11-13 19:39:38,178 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  9.13662448e-02 -4.87913184e-07  1.14221279e-02
   1.13817805e-01]
 [ 5.21921261e+00  1.65659400e-02 -7.66823368e-02  4.92210078e-01
   2.28361537e-01]]
2023-11-13 19:39:38,181 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2852a6410>, Timestamp('2023-10-18 00:00:00')): 0.0h 1.0m 21s 159ms
2023-11-13 19:39:38,192 - yq - INFO - The log returns list for all assets is: [Date
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
                ...   
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
                ...   
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:39:38,194 - yq - INFO - rho_S1S2 is 0.5389646229379524

2023-11-13 19:39:38,195 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53896462]
 [0.53896462 1.        ]]

2023-11-13 19:39:38,195 - yq - INFO - Simplified correlation matrix is:
[[1.         0.01142213 0.53896462 0.        ]
 [0.01142213 1.         0.         0.        ]
 [0.53896462 0.         1.         0.49221008]
 [0.         0.         0.49221008 1.        ]]

2023-11-13 19:39:38,196 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.01142213  0.99993477  0.          0.        ]
 [ 0.53896462 -0.00615652  0.8423059   0.        ]
 [ 0.          0.          0.58436024  0.81149437]]

2023-11-13 19:39:38,196 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2852a6410>): 0.0h 0.0m 0s 15ms
2023-11-13 19:39:38,206 - yq - INFO - The adjusted S_0 is [344.7 216.3]
2023-11-13 19:39:38,233 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:39:38,237 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  332.452147  208.000825
1  345.616775  203.297629
2  349.161868  203.835940
3  348.968865  202.175013
4  356.012448  200.637025
2023-11-13 19:39:38,388 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  332.452147  208.000825
2023-10-20  345.616775  203.297629
2023-10-23  349.161868  203.835940
2023-10-24  348.968865  202.175013
2023-10-25  356.012448  200.637025
2023-11-13 19:39:38,443 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
...             ...      ...
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3

[63 rows x 2 columns]
2023-11-13 19:39:38,447 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-18  344.700000  216.300000
2023-10-19  332.452147  208.000825
2023-10-20  345.616775  203.297629
2023-10-23  349.161868  203.835940
2023-10-24  348.968865  202.175013
...                ...         ...
2024-07-24  299.580071  195.035781
2024-07-25  294.832309  193.307120
2024-07-26  290.284075  193.120286
2024-07-29  288.763878  192.245462
2024-07-30  295.969779  193.932571

[195 rows x 2 columns]
2023-11-13 19:39:38,630 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:39:38,630 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852a6410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  332.452147  208.000825
2023-10-20  345.616775  203.297629
2023-10-23  349.161868  203.835940
2023-10-24  348.968865  202.175013
2023-10-25  356.012448  200.637025
...                ...         ...
2024-07-24  299.580071  195.035781
2024-07-25  294.832309  193.307120
2024-07-26  290.284075  193.120286
2024-07-29  288.763878  192.245462
2024-07-30  295.969779  193.932571

[194 rows x 2 columns], sim=0): 0.0h 0.0m 0s 238ms
2023-11-13 19:39:38,631 - yq - INFO - The adjusted S_0 is [344.7 216.3]
2023-11-13 19:39:38,659 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:39:38,661 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  336.549932  221.698434
1  342.554688  221.165636
2  339.020531  224.630829
3  339.054060  216.895418
4  343.720452  229.380872
2023-11-13 19:39:38,807 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  336.549932  221.698434
2023-10-20  342.554688  221.165636
2023-10-23  339.020531  224.630829
2023-10-24  339.054060  216.895418
2023-10-25  343.720452  229.380872
2023-11-13 19:39:38,836 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
...             ...      ...
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3

[63 rows x 2 columns]
2023-11-13 19:39:38,840 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-18  344.700000  216.300000
2023-10-19  336.549932  221.698434
2023-10-20  342.554688  221.165636
2023-10-23  339.020531  224.630829
2023-10-24  339.054060  216.895418
...                ...         ...
2024-07-24  253.002593  177.871980
2024-07-25  258.404932  180.165177
2024-07-26  262.501775  180.424087
2024-07-29  260.363257  180.174875
2024-07-30  265.396701  181.787737

[195 rows x 2 columns]
2023-11-13 19:39:39,011 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:39:39,011 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852a6410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  336.549932  221.698434
2023-10-20  342.554688  221.165636
2023-10-23  339.020531  224.630829
2023-10-24  339.054060  216.895418
2023-10-25  343.720452  229.380872
...                ...         ...
2024-07-24  253.002593  177.871980
2024-07-25  258.404932  180.165177
2024-07-26  262.501775  180.424087
2024-07-29  260.363257  180.174875
2024-07-30  265.396701  181.787737

[194 rows x 2 columns], sim=1): 0.0h 0.0m 0s 199ms
2023-11-13 19:39:39,012 - yq - INFO - The adjusted S_0 is [344.7 216.3]
2023-11-13 19:39:39,041 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:39:39,043 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  353.816153  219.424259
1  358.860995  213.661864
2  337.991769  207.276611
3  338.189054  206.363557
4  340.350097  205.604916
2023-11-13 19:39:39,191 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  353.816153  219.424259
2023-10-20  358.860995  213.661864
2023-10-23  337.991769  207.276611
2023-10-24  338.189054  206.363557
2023-10-25  340.350097  205.604916
2023-11-13 19:39:39,237 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
...             ...      ...
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3

[63 rows x 2 columns]
2023-11-13 19:39:39,241 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-18  344.700000  216.300000
2023-10-19  353.816153  219.424259
2023-10-20  358.860995  213.661864
2023-10-23  337.991769  207.276611
2023-10-24  338.189054  206.363557
...                ...         ...
2024-07-24  225.667979  141.355963
2024-07-25  223.506136  140.901134
2024-07-26  221.546123  139.941855
2024-07-29  226.990217  140.015523
2024-07-30  227.601180  139.309999

[195 rows x 2 columns]
2023-11-13 19:39:39,401 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:39:39,401 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852a6410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  353.816153  219.424259
2023-10-20  358.860995  213.661864
2023-10-23  337.991769  207.276611
2023-10-24  338.189054  206.363557
2023-10-25  340.350097  205.604916
...                ...         ...
2024-07-24  225.667979  141.355963
2024-07-25  223.506136  140.901134
2024-07-26  221.546123  139.941855
2024-07-29  226.990217  140.015523
2024-07-30  227.601180  139.309999

[194 rows x 2 columns], sim=2): 0.0h 0.0m 0s 206ms
2023-11-13 19:39:39,401 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2852a6410>, n_sim=3): 0.0h 1.0m 22s 383ms
2023-11-13 19:39:39,401 - yq - INFO - Pricing the product on 2023-10-19 00:00:00
2023-11-13 19:39:39,401 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:39:39,411 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:39:39,740 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-11-13 19:39:39,740 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231019.csv
2023-11-13 19:39:39,745 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/lonn_call.csv
2023-11-13 19:39:39,748 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     290  33.549995  38.621948  0.0175
1      0.16     295  29.849991  37.778728  0.0175
2      0.16     300  26.349991  36.993767  0.0175
3      0.16     305  23.099991  36.343693  0.0175
4      0.16     310  20.049995  35.675377  0.0175
2023-11-13 19:39:39,749 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/sika_call.csv
2023-11-13 19:39:39,752 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     175  38.500000  38.528267  0.0175
1      0.16     180  33.849998  36.588718  0.0175
2      0.16     185  29.324997  34.833080  0.0175
3      0.16     190  25.024994  33.522907  0.0175
4      0.16     195  20.899994  32.112335  0.0175
2023-11-13 19:39:39,758 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     290  33.549995  0.0175
1      0.16     295  29.849991  0.0175
2      0.16     300  26.349991  0.0175
3      0.16     305  23.099991  0.0175
4      0.16     310  20.049995  0.0175
   maturity  strike      price    rate
0      0.16     175  38.500000  0.0175
1      0.16     180  33.849998  0.0175
2      0.16     185  29.324997  0.0175
3      0.16     190  25.024994  0.0175
4      0.16     195  20.899994  0.0175
2023-11-13 19:39:39,758 - yq - INFO - Calibrating LONZA on 2023-10-19 00:00:00.
2023-11-13 19:40:20,225 - yq - INFO - Calibrating SIKA on 2023-10-19 00:00:00.
2023-11-13 19:41:02,705 - yq - INFO - The S_0 for LONZA and SIKA are 342.0 and 218.2
2023-11-13 19:41:02,708 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 22 seconds
2023-11-13 19:41:02,738 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231019.csv
2023-11-13 19:41:02,738 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.67807988  0.01298092 -0.08589788  0.49658868  0.22484417]
 [ 9.97381681  0.01039847 -0.11135859  0.49891983  0.21756658]]
2023-11-13 19:41:02,742 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, Timestamp('2023-10-19 00:00:00')): 0.0h 1.0m 23s 2ms
2023-11-13 19:41:02,762 - yq - INFO - The log returns list for all assets is: [Date
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
                ...   
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
                ...   
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:41:02,766 - yq - INFO - rho_S1S2 is 0.5362086169973319

2023-11-13 19:41:02,766 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53620862]
 [0.53620862 1.        ]]

2023-11-13 19:41:02,766 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49658868 0.53620862 0.        ]
 [0.49658868 1.         0.         0.        ]
 [0.53620862 0.         1.         0.49891983]
 [0.         0.         0.49891983 1.        ]]

2023-11-13 19:41:02,767 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49658868  0.86798599  0.          0.        ]
 [ 0.53620862 -0.30677354  0.78636526  0.        ]
 [ 0.          0.          0.63446321  0.77295306]]

2023-11-13 19:41:02,767 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e543b50>): 0.0h 0.0m 0s 25ms
2023-11-13 19:41:02,780 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 19:41:02,799 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:41:02,803 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  347.149713  219.469177
1  351.921486  221.912381
2  350.740183  222.382021
3  365.754016  224.164003
4  371.609169  232.142068
2023-11-13 19:41:02,919 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  347.149713  219.469177
2023-10-23  351.921486  221.912381
2023-10-24  350.740183  222.382021
2023-10-25  365.754016  224.164003
2023-10-26  371.609169  232.142068
2023-11-13 19:41:02,973 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
...             ...      ...
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2

[63 rows x 2 columns]
2023-11-13 19:41:02,977 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-19  342.000000  218.200000
2023-10-20  347.149713  219.469177
2023-10-23  351.921486  221.912381
2023-10-24  350.740183  222.382021
2023-10-25  365.754016  224.164003
...                ...         ...
2024-07-24  441.267143  240.568765
2024-07-25  444.064254  240.344815
2024-07-26  439.822644  239.305776
2024-07-29  436.754180  239.117030
2024-07-30  434.487609  237.671955

[194 rows x 2 columns]
2023-11-13 19:41:03,128 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:41:03,128 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  347.149713  219.469177
2023-10-23  351.921486  221.912381
2023-10-24  350.740183  222.382021
2023-10-25  365.754016  224.164003
2023-10-26  371.609169  232.142068
...                ...         ...
2024-07-24  441.267143  240.568765
2024-07-25  444.064254  240.344815
2024-07-26  439.822644  239.305776
2024-07-29  436.754180  239.117030
2024-07-30  434.487609  237.671955

[193 rows x 2 columns], sim=0): 0.0h 0.0m 0s 206ms
2023-11-13 19:41:03,129 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 19:41:03,150 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:41:03,152 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  343.929156  213.523602
1  351.946142  218.706977
2  340.837989  218.243127
3  326.563998  222.245909
4  320.151837  215.878723
2023-11-13 19:41:03,278 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  343.929156  213.523602
2023-10-23  351.946142  218.706977
2023-10-24  340.837989  218.243127
2023-10-25  326.563998  222.245909
2023-10-26  320.151837  215.878723
2023-11-13 19:41:03,302 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
...             ...      ...
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2

[63 rows x 2 columns]
2023-11-13 19:41:03,305 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-19  342.000000  218.200000
2023-10-20  343.929156  213.523602
2023-10-23  351.946142  218.706977
2023-10-24  340.837989  218.243127
2023-10-25  326.563998  222.245909
...                ...         ...
2024-07-24  257.550909  187.304972
2024-07-25  259.072050  187.922290
2024-07-26  257.717234  186.740242
2024-07-29  256.534710  186.735996
2024-07-30  254.940405  185.540967

[194 rows x 2 columns]
2023-11-13 19:41:03,448 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:41:03,448 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  343.929156  213.523602
2023-10-23  351.946142  218.706977
2023-10-24  340.837989  218.243127
2023-10-25  326.563998  222.245909
2023-10-26  320.151837  215.878723
...                ...         ...
2024-07-24  257.550909  187.304972
2024-07-25  259.072050  187.922290
2024-07-26  257.717234  186.740242
2024-07-29  256.534710  186.735996
2024-07-30  254.940405  185.540967

[193 rows x 2 columns], sim=1): 0.0h 0.0m 0s 167ms
2023-11-13 19:41:03,449 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 19:41:03,474 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:41:03,476 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  356.842255  220.233056
1  361.186028  229.303889
2  366.169939  229.322823
3  363.567775  219.984639
4  358.381212  218.144505
2023-11-13 19:41:03,623 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  356.842255  220.233056
2023-10-23  361.186028  229.303889
2023-10-24  366.169939  229.322823
2023-10-25  363.567775  219.984639
2023-10-26  358.381212  218.144505
2023-11-13 19:41:03,652 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
...             ...      ...
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2

[63 rows x 2 columns]
2023-11-13 19:41:03,656 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-19  342.000000  218.200000
2023-10-20  356.842255  220.233056
2023-10-23  361.186028  229.303889
2023-10-24  366.169939  229.322823
2023-10-25  363.567775  219.984639
...                ...         ...
2024-07-24  267.386128  233.422828
2024-07-25  268.804498  232.332447
2024-07-26  270.567188  233.197335
2024-07-29  270.536557  233.075119
2024-07-30  267.607753  231.557868

[194 rows x 2 columns]
2023-11-13 19:41:03,839 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:41:03,840 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  356.842255  220.233056
2023-10-23  361.186028  229.303889
2023-10-24  366.169939  229.322823
2023-10-25  363.567775  219.984639
2023-10-26  358.381212  218.144505
...                ...         ...
2024-07-24  267.386128  233.422828
2024-07-25  268.804498  232.332447
2024-07-26  270.567188  233.197335
2024-07-29  270.536557  233.075119
2024-07-30  267.607753  231.557868

[193 rows x 2 columns], sim=2): 0.0h 0.0m 0s 213ms
2023-11-13 19:41:03,840 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, n_sim=3): 0.0h 1.0m 24s 102ms
2023-11-13 19:41:03,840 - yq - INFO - Pricing the product on 2023-10-20 00:00:00
2023-11-13 19:41:03,840 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:41:03,856 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:41:04,217 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-11-13 19:41:04,217 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231020.csv
2023-11-13 19:41:04,224 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/lonn_call.csv
2023-11-13 19:41:04,227 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     290  33.549995  38.621948  0.0175
1  0.157193     295  29.849991  37.778728  0.0175
2  0.157193     300  26.349991  36.993767  0.0175
3  0.157193     305  23.099991  36.343693  0.0175
4  0.157193     310  20.049995  35.675377  0.0175
2023-11-13 19:41:04,228 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/sika_call.csv
2023-11-13 19:41:04,231 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     175  38.500000  38.528267  0.0175
1  0.157193     180  33.849998  36.588718  0.0175
2  0.157193     185  29.324997  34.833080  0.0175
3  0.157193     190  25.024994  33.522907  0.0175
4  0.157193     195  20.899994  32.112335  0.0175
2023-11-13 19:41:04,236 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     290  33.549995  0.0175
1  0.157193     295  29.849991  0.0175
2  0.157193     300  26.349991  0.0175
3  0.157193     305  23.099991  0.0175
4  0.157193     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.157193     175  38.500000  0.0175
1  0.157193     180  33.849998  0.0175
2  0.157193     185  29.324997  0.0175
3  0.157193     190  25.024994  0.0175
4  0.157193     195  20.899994  0.0175
2023-11-13 19:41:04,237 - yq - INFO - Calibrating LONZA on 2023-10-20 00:00:00.
2023-11-13 19:41:44,021 - yq - INFO - Calibrating SIKA on 2023-10-20 00:00:00.
2023-11-13 19:42:17,338 - yq - INFO - The S_0 for LONZA and SIKA are 332.9 and 217.0
2023-11-13 19:42:17,342 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 19:42:17,366 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231020.csv
2023-11-13 19:42:17,367 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.62986143  0.01798537 -0.07795051  0.49673251  0.23348234]
 [ 4.02007282  0.02163752 -0.0730935   0.49980065  0.22701153]]
2023-11-13 19:42:17,370 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, Timestamp('2023-10-20 00:00:00')): 0.0h 1.0m 13s 153ms
2023-11-13 19:42:17,390 - yq - INFO - The log returns list for all assets is: [Date
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
                ...   
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
                ...   
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:42:17,396 - yq - INFO - rho_S1S2 is 0.5283653584747795

2023-11-13 19:42:17,396 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52836536]
 [0.52836536 1.        ]]

2023-11-13 19:42:17,397 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49673251 0.52836536 0.        ]
 [0.49673251 1.         0.         0.        ]
 [0.52836536 0.         1.         0.49980065]
 [0.         0.         0.49980065 1.        ]]

2023-11-13 19:42:17,398 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49673251  0.86790369  0.          0.        ]
 [ 0.52836536 -0.30240251  0.79333648  0.        ]
 [ 0.          0.          0.62999832  0.77659649]]

2023-11-13 19:42:17,398 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e543b50>): 0.0h 0.0m 0s 27ms
2023-11-13 19:42:17,409 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 19:42:17,435 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:42:17,440 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  330.025035  214.904656
1  335.943731  217.076321
2  343.981840  221.952197
3  337.781180  226.383726
4  343.527973  227.346991
2023-11-13 19:42:17,576 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  330.025035  214.904656
2023-10-24  335.943731  217.076321
2023-10-25  343.981840  221.952197
2023-10-26  337.781180  226.383726
2023-10-27  343.527973  227.346991
2023-11-13 19:42:17,640 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
...             ...      ...
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0

[63 rows x 2 columns]
2023-11-13 19:42:17,644 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-20  332.900000  217.000000
2023-10-23  330.025035  214.904656
2023-10-24  335.943731  217.076321
2023-10-25  343.981840  221.952197
2023-10-26  337.781180  226.383726
...                ...         ...
2024-07-24  298.571349  200.821034
2024-07-25  302.834902  202.650662
2024-07-26  303.824554  203.524157
2024-07-29  302.150881  204.348607
2024-07-30  302.648751  206.254727

[193 rows x 2 columns]
2023-11-13 19:42:17,794 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:42:17,794 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  330.025035  214.904656
2023-10-24  335.943731  217.076321
2023-10-25  343.981840  221.952197
2023-10-26  337.781180  226.383726
2023-10-27  343.527973  227.346991
...                ...         ...
2024-07-24  298.571349  200.821034
2024-07-25  302.834902  202.650662
2024-07-26  303.824554  203.524157
2024-07-29  302.150881  204.348607
2024-07-30  302.648751  206.254727

[192 rows x 2 columns], sim=0): 0.0h 0.0m 0s 211ms
2023-11-13 19:42:17,795 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 19:42:17,819 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:42:17,821 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  336.109345  220.502668
1  318.964339  211.837035
2  297.643453  200.245071
3  294.339884  200.844560
4  307.924664  197.390626
2023-11-13 19:42:17,964 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  336.109345  220.502668
2023-10-24  318.964339  211.837035
2023-10-25  297.643453  200.245071
2023-10-26  294.339884  200.844560
2023-10-27  307.924664  197.390626
2023-11-13 19:42:17,987 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
...             ...      ...
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0

[63 rows x 2 columns]
2023-11-13 19:42:17,991 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-20  332.900000  217.000000
2023-10-23  336.109345  220.502668
2023-10-24  318.964339  211.837035
2023-10-25  297.643453  200.245071
2023-10-26  294.339884  200.844560
...                ...         ...
2024-07-24  463.135515  243.493815
2024-07-25  474.233200  242.965631
2024-07-26  477.439424  243.788260
2024-07-29  468.030269  240.493996
2024-07-30  468.181000  239.081609

[193 rows x 2 columns]
2023-11-13 19:42:18,151 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:42:18,151 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  336.109345  220.502668
2023-10-24  318.964339  211.837035
2023-10-25  297.643453  200.245071
2023-10-26  294.339884  200.844560
2023-10-27  307.924664  197.390626
...                ...         ...
2024-07-24  463.135515  243.493815
2024-07-25  474.233200  242.965631
2024-07-26  477.439424  243.788260
2024-07-29  468.030269  240.493996
2024-07-30  468.181000  239.081609

[192 rows x 2 columns], sim=1): 0.0h 0.0m 0s 182ms
2023-11-13 19:42:18,152 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 19:42:18,179 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:42:18,181 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  339.279722  218.748525
1  353.779677  228.532966
2  352.782399  224.790970
3  369.082173  236.780510
4  366.989184  242.981983
2023-11-13 19:42:18,335 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  339.279722  218.748525
2023-10-24  353.779677  228.532966
2023-10-25  352.782399  224.790970
2023-10-26  369.082173  236.780510
2023-10-27  366.989184  242.981983
2023-11-13 19:42:18,370 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
...             ...      ...
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0

[63 rows x 2 columns]
2023-11-13 19:42:18,373 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-20  332.900000  217.000000
2023-10-23  339.279722  218.748525
2023-10-24  353.779677  228.532966
2023-10-25  352.782399  224.790970
2023-10-26  369.082173  236.780510
...                ...         ...
2024-07-24  290.685126  211.542503
2024-07-25  282.724035  207.311304
2024-07-26  281.634503  209.657764
2024-07-29  286.799753  210.226252
2024-07-30  282.550767  206.538806

[193 rows x 2 columns]
2023-11-13 19:42:18,556 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:42:18,556 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  339.279722  218.748525
2023-10-24  353.779677  228.532966
2023-10-25  352.782399  224.790970
2023-10-26  369.082173  236.780510
2023-10-27  366.989184  242.981983
...                ...         ...
2024-07-24  290.685126  211.542503
2024-07-25  282.724035  207.311304
2024-07-26  281.634503  209.657764
2024-07-29  286.799753  210.226252
2024-07-30  282.550767  206.538806

[192 rows x 2 columns], sim=2): 0.0h 0.0m 0s 215ms
2023-11-13 19:42:18,557 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e543b50>, n_sim=3): 0.0h 1.0m 14s 342ms
2023-11-13 19:42:18,557 - yq - INFO - Pricing the product on 2023-10-23 00:00:00
2023-11-13 19:42:18,557 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:42:18,576 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:42:18,925 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-11-13 19:42:18,926 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231023.csv
2023-11-13 19:42:18,932 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/lonn_call.csv
2023-11-13 19:42:18,935 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     290  33.549995  38.621948  0.0175
1  0.148772     295  29.849991  37.778728  0.0175
2  0.148772     300  26.349991  36.993767  0.0175
3  0.148772     305  23.099991  36.343693  0.0175
4  0.148772     310  20.049995  35.675377  0.0175
2023-11-13 19:42:18,936 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/sika_call.csv
2023-11-13 19:42:18,939 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     175  38.500000  38.528267  0.0175
1  0.148772     180  33.849998  36.588718  0.0175
2  0.148772     185  29.324997  34.833080  0.0175
3  0.148772     190  25.024994  33.522907  0.0175
4  0.148772     195  20.899994  32.112335  0.0175
2023-11-13 19:42:18,944 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     290  33.549995  0.0175
1  0.148772     295  29.849991  0.0175
2  0.148772     300  26.349991  0.0175
3  0.148772     305  23.099991  0.0175
4  0.148772     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.148772     175  38.500000  0.0175
1  0.148772     180  33.849998  0.0175
2  0.148772     185  29.324997  0.0175
3  0.148772     190  25.024994  0.0175
4  0.148772     195  20.899994  0.0175
2023-11-13 19:42:18,944 - yq - INFO - Calibrating LONZA on 2023-10-23 00:00:00.
2023-11-13 19:43:00,531 - yq - INFO - Calibrating SIKA on 2023-10-23 00:00:00.
2023-11-13 19:43:32,969 - yq - INFO - The S_0 for LONZA and SIKA are 327.6 and 215.9
2023-11-13 19:43:32,972 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 14 seconds
2023-11-13 19:43:32,987 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231023.csv
2023-11-13 19:43:32,987 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.2509195   0.01318574 -0.11058186  0.49820235  0.2374016 ]
 [ 6.65669881  0.01312732 -0.08905117  0.49122658  0.25042275]]
2023-11-13 19:43:32,989 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28498f650>, Timestamp('2023-10-23 00:00:00')): 0.0h 1.0m 14s 63ms
2023-11-13 19:43:33,000 - yq - INFO - The log returns list for all assets is: [Date
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
                ...   
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
                ...   
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:43:33,002 - yq - INFO - rho_S1S2 is 0.5283126864034193

2023-11-13 19:43:33,002 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52831269]
 [0.52831269 1.        ]]

2023-11-13 19:43:33,002 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49820235 0.52831269 0.        ]
 [0.49820235 1.         0.         0.        ]
 [0.52831269 0.         1.         0.49122658]
 [0.         0.         0.49122658 1.        ]]

2023-11-13 19:43:33,003 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49820235  0.86706079  0.          0.        ]
 [ 0.52831269 -0.3035619   0.79292867  0.        ]
 [ 0.          0.          0.61950917  0.78498942]]

2023-11-13 19:43:33,003 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x28498f650>): 0.0h 0.0m 0s 14ms
2023-11-13 19:43:33,014 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 19:43:33,031 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:43:33,035 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  341.488062  228.540842
1  355.409455  240.716437
2  370.157771  238.681819
3  373.605475  243.039753
4  384.219410  248.261695
2023-11-13 19:43:33,144 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  341.488062  228.540842
2023-10-25  355.409455  240.716437
2023-10-26  370.157771  238.681819
2023-10-27  373.605475  243.039753
2023-10-30  384.219410  248.261695
2023-11-13 19:43:33,193 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
...             ...      ...
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9

[63 rows x 2 columns]
2023-11-13 19:43:33,196 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-23  327.600000  215.900000
2023-10-24  341.488062  228.540842
2023-10-25  355.409455  240.716437
2023-10-26  370.157771  238.681819
2023-10-27  373.605475  243.039753
...                ...         ...
2024-07-24  269.844592  192.457237
2024-07-25  271.024698  193.953156
2024-07-26  273.549537  192.232046
2024-07-29  276.318485  193.070454
2024-07-30  274.489821  192.839509

[192 rows x 2 columns]
2023-11-13 19:43:33,319 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:43:33,319 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28498f650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  341.488062  228.540842
2023-10-25  355.409455  240.716437
2023-10-26  370.157771  238.681819
2023-10-27  373.605475  243.039753
2023-10-30  384.219410  248.261695
...                ...         ...
2024-07-24  269.844592  192.457237
2024-07-25  271.024698  193.953156
2024-07-26  273.549537  192.232046
2024-07-29  276.318485  193.070454
2024-07-30  274.489821  192.839509

[191 rows x 2 columns], sim=0): 0.0h 0.0m 0s 171ms
2023-11-13 19:43:33,320 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 19:43:33,339 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:43:33,340 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  327.136681  214.340844
1  331.062843  212.280570
2  328.918732  207.256988
3  329.508123  203.676531
4  329.781403  199.050378
2023-11-13 19:43:33,457 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  327.136681  214.340844
2023-10-25  331.062843  212.280570
2023-10-26  328.918732  207.256988
2023-10-27  329.508123  203.676531
2023-10-30  329.781403  199.050378
2023-11-13 19:43:33,482 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
...             ...      ...
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9

[63 rows x 2 columns]
2023-11-13 19:43:33,485 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-23  327.600000  215.900000
2023-10-24  327.136681  214.340844
2023-10-25  331.062843  212.280570
2023-10-26  328.918732  207.256988
2023-10-27  329.508123  203.676531
...                ...         ...
2024-07-24  409.871202  188.568634
2024-07-25  410.585280  189.118874
2024-07-26  412.611654  190.472143
2024-07-29  413.102998  191.131874
2024-07-30  411.758790  190.452695

[192 rows x 2 columns]
2023-11-13 19:43:33,636 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:43:33,636 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28498f650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  327.136681  214.340844
2023-10-25  331.062843  212.280570
2023-10-26  328.918732  207.256988
2023-10-27  329.508123  203.676531
2023-10-30  329.781403  199.050378
...                ...         ...
2024-07-24  409.871202  188.568634
2024-07-25  410.585280  189.118874
2024-07-26  412.611654  190.472143
2024-07-29  413.102998  191.131874
2024-07-30  411.758790  190.452695

[191 rows x 2 columns], sim=1): 0.0h 0.0m 0s 176ms
2023-11-13 19:43:33,637 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 19:43:33,665 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:43:33,667 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  320.788794  207.722645
1  314.905109  199.113647
2  317.882201  203.940794
3  311.859908  194.133416
4  312.810146  185.586327
2023-11-13 19:43:33,822 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  320.788794  207.722645
2023-10-25  314.905109  199.113647
2023-10-26  317.882201  203.940794
2023-10-27  311.859908  194.133416
2023-10-30  312.810146  185.586327
2023-11-13 19:43:33,849 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
...             ...      ...
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9

[63 rows x 2 columns]
2023-11-13 19:43:33,853 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-23  327.600000  215.900000
2023-10-24  320.788794  207.722645
2023-10-25  314.905109  199.113647
2023-10-26  317.882201  203.940794
2023-10-27  311.859908  194.133416
...                ...         ...
2024-07-24  268.864542  149.560317
2024-07-25  267.949742  147.942410
2024-07-26  265.880074  147.436964
2024-07-29  267.416930  147.630194
2024-07-30  266.340119  147.878883

[192 rows x 2 columns]
2023-11-13 19:43:34,018 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:43:34,018 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28498f650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  320.788794  207.722645
2023-10-25  314.905109  199.113647
2023-10-26  317.882201  203.940794
2023-10-27  311.859908  194.133416
2023-10-30  312.810146  185.586327
...                ...         ...
2024-07-24  268.864542  149.560317
2024-07-25  267.949742  147.942410
2024-07-26  265.880074  147.436964
2024-07-29  267.416930  147.630194
2024-07-30  266.340119  147.878883

[191 rows x 2 columns], sim=2): 0.0h 0.0m 0s 191ms
2023-11-13 19:43:34,018 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x28498f650>, n_sim=3): 0.0h 1.0m 15s 95ms
2023-11-13 19:43:34,018 - yq - INFO - Pricing the product on 2023-10-24 00:00:00
2023-11-13 19:43:34,018 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:43:34,033 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:43:34,349 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-11-13 19:43:34,349 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231024.csv
2023-11-13 19:43:34,356 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/lonn_call.csv
2023-11-13 19:43:34,358 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     295  30.500000  38.355637  0.0175
1  0.145965     300  26.950001  37.520493  0.0175
2  0.145965     305  23.625000  36.776703  0.0175
3  0.145965     310  20.549999  36.132118  0.0175
4  0.145965     315  17.725000  35.556763  0.0175
2023-11-13 19:43:34,359 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/sika_call.csv
2023-11-13 19:43:34,361 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     175  38.500000  38.528267  0.0175
1  0.145965     180  33.849998  36.588718  0.0175
2  0.145965     185  29.324997  34.833080  0.0175
3  0.145965     190  25.024994  33.522907  0.0175
4  0.145965     195  20.899994  32.112335  0.0175
2023-11-13 19:43:34,365 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     295  30.500000  0.0175
1  0.145965     300  26.950001  0.0175
2  0.145965     305  23.625000  0.0175
3  0.145965     310  20.549999  0.0175
4  0.145965     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.145965     175  38.500000  0.0175
1  0.145965     180  33.849998  0.0175
2  0.145965     185  29.324997  0.0175
3  0.145965     190  25.024994  0.0175
4  0.145965     195  20.899994  0.0175
2023-11-13 19:43:34,365 - yq - INFO - Calibrating LONZA on 2023-10-24 00:00:00.
2023-11-13 19:44:06,643 - yq - INFO - Calibrating SIKA on 2023-10-24 00:00:00.
2023-11-13 19:44:44,811 - yq - INFO - The S_0 for LONZA and SIKA are 330.9 and 215.7
2023-11-13 19:44:44,811 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 10 seconds
2023-11-13 19:44:44,818 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231024.csv
2023-11-13 19:44:44,818 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.0611605   0.012184   -0.09422103  0.48677366  0.25913103]
 [ 7.06034746  0.01231087 -0.09145526  0.49214312  0.2570119 ]]
2023-11-13 19:44:44,820 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f7af50>, Timestamp('2023-10-24 00:00:00')): 0.0h 1.0m 10s 471ms
2023-11-13 19:44:44,823 - yq - INFO - The log returns list for all assets is: [Date
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
                ...   
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
                ...   
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:44:44,825 - yq - INFO - rho_S1S2 is 0.5251951060745962

2023-11-13 19:44:44,825 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52519511]
 [0.52519511 1.        ]]

2023-11-13 19:44:44,826 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48677366 0.52519511 0.        ]
 [0.48677366 1.         0.         0.        ]
 [0.52519511 0.         1.         0.49214312]
 [0.         0.         0.49214312 1.        ]]

2023-11-13 19:44:44,827 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48677366  0.87352813  0.          0.        ]
 [ 0.52519511 -0.29266504  0.79907276  0.        ]
 [ 0.          0.          0.61589275  0.78783   ]]

2023-11-13 19:44:44,827 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f7af50>): 0.0h 0.0m 0s 7ms
2023-11-13 19:44:44,832 - yq - INFO - The adjusted S_0 is [330.9 215.7]
2023-11-13 19:44:44,853 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:44:44,855 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  343.443229  219.817601
1  334.858819  209.354401
2  341.815371  207.486385
3  343.083195  214.881329
4  347.772150  210.633057
2023-11-13 19:44:45,132 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  343.443229  219.817601
2023-10-26  334.858819  209.354401
2023-10-27  341.815371  207.486385
2023-10-30  343.083195  214.881329
2023-10-31  347.772150  210.633057
2023-11-13 19:44:45,223 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
...             ...      ...
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7

[63 rows x 2 columns]
2023-11-13 19:44:45,225 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-24  330.900000  215.700000
2023-10-25  343.443229  219.817601
2023-10-26  334.858819  209.354401
2023-10-27  341.815371  207.486385
2023-10-30  343.083195  214.881329
...                ...         ...
2024-07-24  274.261997  159.507653
2024-07-25  274.563450  159.121314
2024-07-26  270.488691  157.034370
2024-07-29  269.227114  157.302521
2024-07-30  265.324627  157.361192

[191 rows x 2 columns]
2023-11-13 19:44:45,352 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:44:45,352 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  343.443229  219.817601
2023-10-26  334.858819  209.354401
2023-10-27  341.815371  207.486385
2023-10-30  343.083195  214.881329
2023-10-31  347.772150  210.633057
...                ...         ...
2024-07-24  274.261997  159.507653
2024-07-25  274.563450  159.121314
2024-07-26  270.488691  157.034370
2024-07-29  269.227114  157.302521
2024-07-30  265.324627  157.361192

[190 rows x 2 columns], sim=0): 0.0h 0.0m 0s 217ms
2023-11-13 19:44:45,353 - yq - INFO - The adjusted S_0 is [330.9 215.7]
2023-11-13 19:44:45,374 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:44:45,375 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  332.175655  219.852916
1  333.534698  213.311877
2  313.850490  197.478626
3  325.447871  185.010447
4  310.826335  173.063869
2023-11-13 19:44:45,491 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  332.175655  219.852916
2023-10-26  333.534698  213.311877
2023-10-27  313.850490  197.478626
2023-10-30  325.447871  185.010447
2023-10-31  310.826335  173.063869
2023-11-13 19:44:45,514 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
...             ...      ...
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7

[63 rows x 2 columns]
2023-11-13 19:44:45,517 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-24  330.900000  215.700000
2023-10-25  332.175655  219.852916
2023-10-26  333.534698  213.311877
2023-10-27  313.850490  197.478626
2023-10-30  325.447871  185.010447
...                ...         ...
2024-07-24  252.187965  239.362010
2024-07-25  254.221445  240.508912
2024-07-26  254.214319  236.395782
2024-07-29  252.849631  235.763791
2024-07-30  252.754464  232.091960

[191 rows x 2 columns]
2023-11-13 19:44:45,674 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:44:45,674 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  332.175655  219.852916
2023-10-26  333.534698  213.311877
2023-10-27  313.850490  197.478626
2023-10-30  325.447871  185.010447
2023-10-31  310.826335  173.063869
...                ...         ...
2024-07-24  252.187965  239.362010
2024-07-25  254.221445  240.508912
2024-07-26  254.214319  236.395782
2024-07-29  252.849631  235.763791
2024-07-30  252.754464  232.091960

[190 rows x 2 columns], sim=1): 0.0h 0.0m 0s 179ms
2023-11-13 19:44:45,675 - yq - INFO - The adjusted S_0 is [330.9 215.7]
2023-11-13 19:44:45,702 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:44:45,704 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  320.061420  228.615584
1  314.649934  223.883526
2  318.290681  224.374225
3  333.285131  225.923485
4  347.713808  229.223234
2023-11-13 19:44:45,854 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  320.061420  228.615584
2023-10-26  314.649934  223.883526
2023-10-27  318.290681  224.374225
2023-10-30  333.285131  225.923485
2023-10-31  347.713808  229.223234
2023-11-13 19:44:45,879 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
...             ...      ...
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7

[63 rows x 2 columns]
2023-11-13 19:44:45,902 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-24  330.900000  215.700000
2023-10-25  320.061420  228.615584
2023-10-26  314.649934  223.883526
2023-10-27  318.290681  224.374225
2023-10-30  333.285131  225.923485
...                ...         ...
2024-07-24  307.586295  208.775853
2024-07-25  306.540747  208.313496
2024-07-26  306.554402  208.073660
2024-07-29  303.670019  206.507160
2024-07-30  304.390819  209.635021

[191 rows x 2 columns]
2023-11-13 19:44:46,086 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:44:46,087 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  320.061420  228.615584
2023-10-26  314.649934  223.883526
2023-10-27  318.290681  224.374225
2023-10-30  333.285131  225.923485
2023-10-31  347.713808  229.223234
...                ...         ...
2024-07-24  307.586295  208.775853
2024-07-25  306.540747  208.313496
2024-07-26  306.554402  208.073660
2024-07-29  303.670019  206.507160
2024-07-30  304.390819  209.635021

[190 rows x 2 columns], sim=2): 0.0h 0.0m 0s 229ms
2023-11-13 19:44:46,087 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f7af50>, n_sim=3): 0.0h 1.0m 11s 740ms
2023-11-13 19:44:46,087 - yq - INFO - Pricing the product on 2023-10-25 00:00:00
2023-11-13 19:44:46,087 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:44:46,098 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:44:46,400 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-11-13 19:44:46,401 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231025.csv
2023-11-13 19:44:46,406 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/lonn_call.csv
2023-11-13 19:44:46,408 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     295  30.500000  38.355637  0.0175
1  0.143158     300  26.950001  37.520493  0.0175
2  0.143158     305  23.625000  36.776703  0.0175
3  0.143158     310  20.549999  36.132118  0.0175
4  0.143158     315  17.725000  35.556763  0.0175
2023-11-13 19:44:46,409 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/sika_call.csv
2023-11-13 19:44:46,411 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     175  38.699997  38.509201  0.0175
1  0.143158     180  34.050003  36.681973  0.0175
2  0.143158     185  29.500000  34.874573  0.0175
3  0.143158     190  25.125000  33.306301  0.0175
4  0.143158     195  21.000000  32.032856  0.0175
2023-11-13 19:44:46,415 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     295  30.500000  0.0175
1  0.143158     300  26.950001  0.0175
2  0.143158     305  23.625000  0.0175
3  0.143158     310  20.549999  0.0175
4  0.143158     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.143158     175  38.699997  0.0175
1  0.143158     180  34.050003  0.0175
2  0.143158     185  29.500000  0.0175
3  0.143158     190  25.125000  0.0175
4  0.143158     195  21.000000  0.0175
2023-11-13 19:44:46,415 - yq - INFO - Calibrating LONZA on 2023-10-25 00:00:00.
2023-11-13 19:45:19,147 - yq - INFO - Calibrating SIKA on 2023-10-25 00:00:00.
2023-11-13 19:45:59,102 - yq - INFO - The S_0 for LONZA and SIKA are 315.0 and 212.0
2023-11-13 19:45:59,105 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 19:45:59,121 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231025.csv
2023-11-13 19:45:59,121 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.80038342  0.01002122 -0.12663818  0.46588734  0.27091947]
 [ 9.98195323  0.01665986 -0.12688172  0.49825278  0.21929058]]
2023-11-13 19:45:59,124 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, Timestamp('2023-10-25 00:00:00')): 0.0h 1.0m 12s 723ms
2023-11-13 19:45:59,136 - yq - INFO - The log returns list for all assets is: [Date
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
                ...   
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
                ...   
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:45:59,142 - yq - INFO - rho_S1S2 is 0.533001039367497

2023-11-13 19:45:59,142 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53300104]
 [0.53300104 1.        ]]

2023-11-13 19:45:59,142 - yq - INFO - Simplified correlation matrix is:
[[1.         0.46588734 0.53300104 0.        ]
 [0.46588734 1.         0.         0.        ]
 [0.53300104 0.         1.         0.49825278]
 [0.         0.         0.49825278 1.        ]]

2023-11-13 19:45:59,143 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.46588734  0.88484405  0.          0.        ]
 [ 0.53300104 -0.28063526  0.79821911  0.        ]
 [ 0.          0.          0.62420553  0.78126017]]

2023-11-13 19:45:59,143 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e43af50>): 0.0h 0.0m 0s 19ms
2023-11-13 19:45:59,149 - yq - INFO - The adjusted S_0 is [315. 212.]
2023-11-13 19:45:59,171 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:45:59,173 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  335.067962  212.031815
1  338.117729  216.851145
2  348.397207  221.295364
3  371.419475  229.850768
4  376.012854  240.027075
2023-11-13 19:45:59,309 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-26  335.067962  212.031815
2023-10-27  338.117729  216.851145
2023-10-30  348.397207  221.295364
2023-10-31  371.419475  229.850768
2023-11-01  376.012854  240.027075
2023-11-13 19:45:59,366 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
...             ...      ...
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0

[63 rows x 2 columns]
2023-11-13 19:45:59,371 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-25  315.000000  212.000000
2023-10-26  335.067962  212.031815
2023-10-27  338.117729  216.851145
2023-10-30  348.397207  221.295364
2023-10-31  371.419475  229.850768
...                ...         ...
2024-07-24  354.781139  227.121047
2024-07-25  353.449056  226.490881
2024-07-26  347.652465  222.440563
2024-07-29  346.853936  223.212272
2024-07-30  346.935716  220.408029

[190 rows x 2 columns]
2023-11-13 19:45:59,541 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:45:59,541 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-26  335.067962  212.031815
2023-10-27  338.117729  216.851145
2023-10-30  348.397207  221.295364
2023-10-31  371.419475  229.850768
2023-11-01  376.012854  240.027075
...                ...         ...
2024-07-24  354.781139  227.121047
2024-07-25  353.449056  226.490881
2024-07-26  347.652465  222.440563
2024-07-29  346.853936  223.212272
2024-07-30  346.935716  220.408029

[189 rows x 2 columns], sim=0): 0.0h 0.0m 0s 225ms
2023-11-13 19:45:59,541 - yq - INFO - The adjusted S_0 is [315. 212.]
2023-11-13 19:45:59,568 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:45:59,570 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  303.394770  205.855753
1  296.188564  196.530903
2  290.649381  195.876998
3  284.815685  198.299770
4  285.096514  206.167750
2023-11-13 19:45:59,717 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-26  303.394770  205.855753
2023-10-27  296.188564  196.530903
2023-10-30  290.649381  195.876998
2023-10-31  284.815685  198.299770
2023-11-01  285.096514  206.167750
2023-11-13 19:45:59,740 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
...             ...      ...
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0

[63 rows x 2 columns]
2023-11-13 19:45:59,744 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-25  315.000000  212.000000
2023-10-26  303.394770  205.855753
2023-10-27  296.188564  196.530903
2023-10-30  290.649381  195.876998
2023-10-31  284.815685  198.299770
...                ...         ...
2024-07-24  292.457958  237.141713
2024-07-25  295.272913  241.354701
2024-07-26  295.688763  240.328831
2024-07-29  294.343353  237.057631
2024-07-30  290.707755  234.651786

[190 rows x 2 columns]
2023-11-13 19:45:59,923 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:45:59,923 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-26  303.394770  205.855753
2023-10-27  296.188564  196.530903
2023-10-30  290.649381  195.876998
2023-10-31  284.815685  198.299770
2023-11-01  285.096514  206.167750
...                ...         ...
2024-07-24  292.457958  237.141713
2024-07-25  295.272913  241.354701
2024-07-26  295.688763  240.328831
2024-07-29  294.343353  237.057631
2024-07-30  290.707755  234.651786

[189 rows x 2 columns], sim=1): 0.0h 0.0m 0s 202ms
2023-11-13 19:45:59,923 - yq - INFO - The adjusted S_0 is [315. 212.]
2023-11-13 19:45:59,951 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:45:59,953 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  307.677405  213.875226
1  298.270956  207.114186
2  307.702137  217.065849
3  311.105271  223.064529
4  305.503428  218.674620
2023-11-13 19:46:00,107 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-26  307.677405  213.875226
2023-10-27  298.270956  207.114186
2023-10-30  307.702137  217.065849
2023-10-31  311.105271  223.064529
2023-11-01  305.503428  218.674620
2023-11-13 19:46:00,138 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
...             ...      ...
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0

[63 rows x 2 columns]
2023-11-13 19:46:00,142 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-25  315.000000  212.000000
2023-10-26  307.677405  213.875226
2023-10-27  298.270956  207.114186
2023-10-30  307.702137  217.065849
2023-10-31  311.105271  223.064529
...                ...         ...
2024-07-24  251.882940  207.434347
2024-07-25  254.543902  209.379876
2024-07-26  253.459277  207.950970
2024-07-29  250.086241  203.575392
2024-07-30  250.831177  205.106733

[190 rows x 2 columns]
2023-11-13 19:46:00,319 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:46:00,319 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-26  307.677405  213.875226
2023-10-27  298.270956  207.114186
2023-10-30  307.702137  217.065849
2023-10-31  311.105271  223.064529
2023-11-01  305.503428  218.674620
...                ...         ...
2024-07-24  251.882940  207.434347
2024-07-25  254.543902  209.379876
2024-07-26  253.459277  207.950970
2024-07-29  250.086241  203.575392
2024-07-30  250.831177  205.106733

[189 rows x 2 columns], sim=2): 0.0h 0.0m 0s 207ms
2023-11-13 19:46:00,319 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, n_sim=3): 0.0h 1.0m 13s 921ms
2023-11-13 19:46:00,319 - yq - INFO - Pricing the product on 2023-10-26 00:00:00
2023-11-13 19:46:00,320 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:46:00,333 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:46:00,716 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-11-13 19:46:00,717 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231026.csv
2023-11-13 19:46:00,724 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/lonn_call.csv
2023-11-13 19:46:00,727 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     295  30.500000  38.355637  0.0175
1  0.140351     300  26.950001  37.520493  0.0175
2  0.140351     305  23.625000  36.776703  0.0175
3  0.140351     310  20.549999  36.132118  0.0175
4  0.140351     315  17.725000  35.556763  0.0175
2023-11-13 19:46:00,729 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/sika_call.csv
2023-11-13 19:46:00,731 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     175  38.699997  38.509201  0.0175
1  0.140351     180  34.050003  36.681973  0.0175
2  0.140351     185  29.500000  34.874573  0.0175
3  0.140351     190  25.125000  33.306301  0.0175
4  0.140351     195  21.000000  32.032856  0.0175
2023-11-13 19:46:00,743 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     295  30.500000  0.0175
1  0.140351     300  26.950001  0.0175
2  0.140351     305  23.625000  0.0175
3  0.140351     310  20.549999  0.0175
4  0.140351     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.140351     175  38.699997  0.0175
1  0.140351     180  34.050003  0.0175
2  0.140351     185  29.500000  0.0175
3  0.140351     190  25.125000  0.0175
4  0.140351     195  21.000000  0.0175
2023-11-13 19:46:00,745 - yq - INFO - Calibrating LONZA on 2023-10-26 00:00:00.
2023-11-13 19:46:38,942 - yq - INFO - Calibrating SIKA on 2023-10-26 00:00:00.
2023-11-13 19:47:16,154 - yq - INFO - The S_0 for LONZA and SIKA are 315.9 and 211.2
2023-11-13 19:47:16,156 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 19:47:16,184 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231026.csv
2023-11-13 19:47:16,184 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.90191993  0.01249996 -0.15090535  0.48270369  0.24388381]
 [ 4.22919905  0.02166969 -0.07695388  0.4996792   0.25948644]]
2023-11-13 19:47:16,189 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, Timestamp('2023-10-26 00:00:00')): 0.0h 1.0m 15s 472ms
2023-11-13 19:47:16,204 - yq - INFO - The log returns list for all assets is: [Date
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
                ...   
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
                ...   
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:47:16,209 - yq - INFO - rho_S1S2 is 0.5325842602953332

2023-11-13 19:47:16,209 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53258426]
 [0.53258426 1.        ]]

2023-11-13 19:47:16,209 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48270369 0.53258426 0.        ]
 [0.48270369 1.         0.         0.        ]
 [0.53258426 0.         1.         0.4996792 ]
 [0.         0.         0.4996792  1.        ]]

2023-11-13 19:47:16,211 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48270369  0.87578373  0.          0.        ]
 [ 0.53258426 -0.29354323  0.79384279  0.        ]
 [ 0.          0.          0.62944352  0.77704623]]

2023-11-13 19:47:16,211 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e43af50>): 0.0h 0.0m 0s 22ms
2023-11-13 19:47:16,242 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 19:47:16,272 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:47:16,277 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  336.612403  224.674000
1  329.619358  225.171503
2  330.235323  219.209780
3  328.507254  212.747811
4  318.614825  204.887200
2023-11-13 19:47:16,441 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  336.612403  224.674000
2023-10-30  329.619358  225.171503
2023-10-31  330.235323  219.209780
2023-11-01  328.507254  212.747811
2023-11-02  318.614825  204.887200
2023-11-13 19:47:16,535 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
...             ...      ...
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2

[63 rows x 2 columns]
2023-11-13 19:47:16,539 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-26  315.900000  211.200000
2023-10-27  336.612403  224.674000
2023-10-30  329.619358  225.171503
2023-10-31  330.235323  219.209780
2023-11-01  328.507254  212.747811
...                ...         ...
2024-07-24  325.664392  207.614358
2024-07-25  322.628333  203.804132
2024-07-26  324.336394  203.222364
2024-07-29  323.185933  201.108775
2024-07-30  327.584026  203.840293

[189 rows x 2 columns]
2023-11-13 19:47:16,752 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:47:16,752 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  336.612403  224.674000
2023-10-30  329.619358  225.171503
2023-10-31  330.235323  219.209780
2023-11-01  328.507254  212.747811
2023-11-02  318.614825  204.887200
...                ...         ...
2024-07-24  325.664392  207.614358
2024-07-25  322.628333  203.804132
2024-07-26  324.336394  203.222364
2024-07-29  323.185933  201.108775
2024-07-30  327.584026  203.840293

[188 rows x 2 columns], sim=0): 0.0h 0.0m 0s 305ms
2023-11-13 19:47:16,753 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 19:47:16,782 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:47:16,784 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  316.945902  204.807204
1  314.441430  195.304946
2  307.317771  199.845656
3  301.179466  195.030077
4  306.723756  197.898420
2023-11-13 19:47:16,943 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  316.945902  204.807204
2023-10-30  314.441430  195.304946
2023-10-31  307.317771  199.845656
2023-11-01  301.179466  195.030077
2023-11-02  306.723756  197.898420
2023-11-13 19:47:16,984 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
...             ...      ...
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2

[63 rows x 2 columns]
2023-11-13 19:47:16,990 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-26  315.900000  211.200000
2023-10-27  316.945902  204.807204
2023-10-30  314.441430  195.304946
2023-10-31  307.317771  199.845656
2023-11-01  301.179466  195.030077
...                ...         ...
2024-07-24  328.916229  215.584179
2024-07-25  325.857339  216.048344
2024-07-26  326.700762  218.827768
2024-07-29  327.593195  220.297223
2024-07-30  323.490337  213.552039

[189 rows x 2 columns]
2023-11-13 19:47:17,204 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:47:17,204 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  316.945902  204.807204
2023-10-30  314.441430  195.304946
2023-10-31  307.317771  199.845656
2023-11-01  301.179466  195.030077
2023-11-02  306.723756  197.898420
...                ...         ...
2024-07-24  328.916229  215.584179
2024-07-25  325.857339  216.048344
2024-07-26  326.700762  218.827768
2024-07-29  327.593195  220.297223
2024-07-30  323.490337  213.552039

[188 rows x 2 columns], sim=1): 0.0h 0.0m 0s 254ms
2023-11-13 19:47:17,207 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 19:47:17,245 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:47:17,247 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  321.165393  219.093075
1  313.295600  214.660359
2  303.174066  209.409930
3  306.535541  214.219737
4  303.898344  207.752223
2023-11-13 19:47:17,451 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  321.165393  219.093075
2023-10-30  313.295600  214.660359
2023-10-31  303.174066  209.409930
2023-11-01  306.535541  214.219737
2023-11-02  303.898344  207.752223
2023-11-13 19:47:17,557 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
...             ...      ...
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2

[63 rows x 2 columns]
2023-11-13 19:47:17,567 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-26  315.900000  211.200000
2023-10-27  321.165393  219.093075
2023-10-30  313.295600  214.660359
2023-10-31  303.174066  209.409930
2023-11-01  306.535541  214.219737
...                ...         ...
2024-07-24  398.464663  243.247624
2024-07-25  397.976808  243.121027
2024-07-26  395.517270  241.421760
2024-07-29  395.379033  242.106436
2024-07-30  396.156084  240.465779

[189 rows x 2 columns]
2023-11-13 19:47:17,906 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:47:17,906 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  321.165393  219.093075
2023-10-30  313.295600  214.660359
2023-10-31  303.174066  209.409930
2023-11-01  306.535541  214.219737
2023-11-02  303.898344  207.752223
...                ...         ...
2024-07-24  398.464663  243.247624
2024-07-25  397.976808  243.121027
2024-07-26  395.517270  241.421760
2024-07-29  395.379033  242.106436
2024-07-30  396.156084  240.465779

[188 rows x 2 columns], sim=2): 0.0h 0.0m 0s 436ms
2023-11-13 19:47:17,910 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e43af50>, n_sim=3): 0.0h 1.0m 17s 196ms
2023-11-13 19:47:17,913 - yq - INFO - Pricing the product on 2023-10-27 00:00:00
2023-11-13 19:47:17,914 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:47:17,929 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:47:18,377 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-11-13 19:47:18,378 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231027.csv
2023-11-13 19:47:18,389 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/lonn_call.csv
2023-11-13 19:47:18,392 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     290  33.500000  40.410904  0.0175
1  0.137544     295  29.999992  39.955196  0.0175
2  0.137544     300  26.499992  39.053944  0.0175
3  0.137544     305  23.249992  38.304703  0.0175
4  0.137544     310  20.199997  37.549683  0.0175
2023-11-13 19:47:18,394 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/sika_call.csv
2023-11-13 19:47:18,398 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     180  36.075005  37.532513  0.0175
1  0.137544     185  31.500000  35.868580  0.0175
2  0.137544     190  26.974998  33.822449  0.0175
3  0.137544     195  22.725006  32.429932  0.0175
4  0.137544     200  18.700005  31.064346  0.0175
2023-11-13 19:47:18,406 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     290  33.500000  0.0175
1  0.137544     295  29.999992  0.0175
2  0.137544     300  26.499992  0.0175
3  0.137544     305  23.249992  0.0175
4  0.137544     310  20.199997  0.0175
   maturity  strike      price    rate
0  0.137544     180  36.075005  0.0175
1  0.137544     185  31.500000  0.0175
2  0.137544     190  26.974998  0.0175
3  0.137544     195  22.725006  0.0175
4  0.137544     200  18.700005  0.0175
2023-11-13 19:47:18,406 - yq - INFO - Calibrating LONZA on 2023-10-27 00:00:00.
2023-11-13 19:47:57,237 - yq - INFO - Calibrating SIKA on 2023-10-27 00:00:00.
2023-11-13 19:48:32,386 - yq - INFO - The S_0 for LONZA and SIKA are 314.6 and 214.1
2023-11-13 19:48:32,386 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 19:48:32,400 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231027.csv
2023-11-13 19:48:32,400 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.98984358  0.02864007 -0.06248105  0.41791076  0.07823619]
 [ 9.94059089  0.15878912 -0.06961532  0.47299761  0.27683218]]
2023-11-13 19:48:32,401 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f78b50>, Timestamp('2023-10-27 00:00:00')): 0.0h 1.0m 14s 24ms
2023-11-13 19:48:32,411 - yq - INFO - The log returns list for all assets is: [Date
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
                ...   
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
                ...   
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:48:32,417 - yq - INFO - rho_S1S2 is 0.5300127356410798

2023-11-13 19:48:32,417 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53001274]
 [0.53001274 1.        ]]

2023-11-13 19:48:32,418 - yq - INFO - Simplified correlation matrix is:
[[1.         0.41791076 0.53001274 0.        ]
 [0.41791076 1.         0.         0.        ]
 [0.53001274 0.         1.         0.47299761]
 [0.         0.         0.47299761 1.        ]]

2023-11-13 19:48:32,418 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.41791076  0.90848808  0.          0.        ]
 [ 0.53001274 -0.2438095   0.81218436  0.        ]
 [ 0.          0.          0.58237714  0.81291873]]

2023-11-13 19:48:32,418 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f78b50>): 0.0h 0.0m 0s 17ms
2023-11-13 19:48:32,425 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 19:48:32,445 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:48:32,447 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  312.547580  211.711666
1  309.750932  206.283909
2  315.345711  207.048649
3  312.346546  205.803096
4  312.978795  207.008418
2023-11-13 19:48:32,554 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  312.547580  211.711666
2023-10-31  309.750932  206.283909
2023-11-01  315.345711  207.048649
2023-11-02  312.346546  205.803096
2023-11-03  312.978795  207.008418
2023-11-13 19:48:32,606 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
...             ...      ...
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1

[63 rows x 2 columns]
2023-11-13 19:48:32,610 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-27  314.600000  214.100000
2023-10-30  312.547580  211.711666
2023-10-31  309.750932  206.283909
2023-11-01  315.345711  207.048649
2023-11-02  312.346546  205.803096
...                ...         ...
2024-07-24  341.441107  199.674670
2024-07-25  347.375951  203.967862
2024-07-26  348.945057  200.862031
2024-07-29  351.966128  202.115498
2024-07-30  349.366489  200.283344

[188 rows x 2 columns]
2023-11-13 19:48:32,744 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:48:32,744 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f78b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  312.547580  211.711666
2023-10-31  309.750932  206.283909
2023-11-01  315.345711  207.048649
2023-11-02  312.346546  205.803096
2023-11-03  312.978795  207.008418
...                ...         ...
2024-07-24  341.441107  199.674670
2024-07-25  347.375951  203.967862
2024-07-26  348.945057  200.862031
2024-07-29  351.966128  202.115498
2024-07-30  349.366489  200.283344

[187 rows x 2 columns], sim=0): 0.0h 0.0m 0s 187ms
2023-11-13 19:48:32,745 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 19:48:32,766 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:48:32,767 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  307.827687  207.442054
1  307.095420  204.296722
2  303.568095  213.685361
3  309.159532  223.041905
4  314.510809  224.283091
2023-11-13 19:48:32,894 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  307.827687  207.442054
2023-10-31  307.095420  204.296722
2023-11-01  303.568095  213.685361
2023-11-02  309.159532  223.041905
2023-11-03  314.510809  224.283091
2023-11-13 19:48:32,916 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
...             ...      ...
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1

[63 rows x 2 columns]
2023-11-13 19:48:32,919 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-27  314.600000  214.100000
2023-10-30  307.827687  207.442054
2023-10-31  307.095420  204.296722
2023-11-01  303.568095  213.685361
2023-11-02  309.159532  223.041905
...                ...         ...
2024-07-24  305.543574  285.797420
2024-07-25  307.669985  299.066481
2024-07-26  311.066465  308.818668
2024-07-29  303.531938  300.989391
2024-07-30  308.484488  312.858754

[188 rows x 2 columns]
2023-11-13 19:48:33,083 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:48:33,083 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f78b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  307.827687  207.442054
2023-10-31  307.095420  204.296722
2023-11-01  303.568095  213.685361
2023-11-02  309.159532  223.041905
2023-11-03  314.510809  224.283091
...                ...         ...
2024-07-24  305.543574  285.797420
2024-07-25  307.669985  299.066481
2024-07-26  311.066465  308.818668
2024-07-29  303.531938  300.989391
2024-07-30  308.484488  312.858754

[187 rows x 2 columns], sim=1): 0.0h 0.0m 0s 185ms
2023-11-13 19:48:33,084 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 19:48:33,114 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:48:33,116 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  317.966588  218.515330
1  310.385811  228.158757
2  311.323693  233.743689
3  309.581700  236.920759
4  320.745105  246.626171
2023-11-13 19:48:33,283 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  317.966588  218.515330
2023-10-31  310.385811  228.158757
2023-11-01  311.323693  233.743689
2023-11-02  309.581700  236.920759
2023-11-03  320.745105  246.626171
2023-11-13 19:48:33,337 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
...             ...      ...
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1

[63 rows x 2 columns]
2023-11-13 19:48:33,341 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-27  314.600000  214.100000
2023-10-30  317.966588  218.515330
2023-10-31  310.385811  228.158757
2023-11-01  311.323693  233.743689
2023-11-02  309.581700  236.920759
...                ...         ...
2024-07-24  352.511502  211.169348
2024-07-25  354.433846  216.310730
2024-07-26  343.806713  214.102950
2024-07-29  342.790314  216.784058
2024-07-30  337.427669  213.245255

[188 rows x 2 columns]
2023-11-13 19:48:33,503 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:48:33,503 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f78b50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  317.966588  218.515330
2023-10-31  310.385811  228.158757
2023-11-01  311.323693  233.743689
2023-11-02  309.581700  236.920759
2023-11-03  320.745105  246.626171
...                ...         ...
2024-07-24  352.511502  211.169348
2024-07-25  354.433846  216.310730
2024-07-26  343.806713  214.102950
2024-07-29  342.790314  216.784058
2024-07-30  337.427669  213.245255

[187 rows x 2 columns], sim=2): 0.0h 0.0m 0s 216ms
2023-11-13 19:48:33,503 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f78b50>, n_sim=3): 0.0h 1.0m 15s 130ms
2023-11-13 19:48:33,503 - yq - INFO - Pricing the product on 2023-10-30 00:00:00
2023-11-13 19:48:33,504 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:48:33,522 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:48:33,865 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-11-13 19:48:33,866 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231030.csv
2023-11-13 19:48:33,870 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/lonn_call.csv
2023-11-13 19:48:33,872 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     295  29.500000  35.865021  0.0175
1  0.129123     300  26.974991  37.865707  0.0175
2  0.129123     305  22.500000  34.535404  0.0175
3  0.129123     310  18.049999  30.977629  0.0175
4  0.129123     315  16.500000  33.432877  0.0175
2023-11-13 19:48:33,874 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/sika_call.csv
2023-11-13 19:48:33,876 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     180  37.825005  35.644909  0.0175
1  0.129123     185  33.150002  34.194305  0.0175
2  0.129123     190  28.525002  32.353138  0.0175
3  0.129123     195  24.099998  30.941946  0.0175
4  0.129123     200  19.925003  29.785938  0.0175
2023-11-13 19:48:33,882 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     295  29.500000  0.0175
1  0.129123     300  26.974991  0.0175
2  0.129123     305  22.500000  0.0175
3  0.129123     310  18.049999  0.0175
4  0.129123     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.129123     180  37.825005  0.0175
1  0.129123     185  33.150002  0.0175
2  0.129123     190  28.525002  0.0175
3  0.129123     195  24.099998  0.0175
4  0.129123     200  19.925003  0.0175
2023-11-13 19:48:33,882 - yq - INFO - Calibrating LONZA on 2023-10-30 00:00:00.
2023-11-13 19:49:14,517 - yq - INFO - Calibrating SIKA on 2023-10-30 00:00:00.
2023-11-13 19:49:58,966 - yq - INFO - The S_0 for LONZA and SIKA are 311.5 and 214.1
2023-11-13 19:49:58,969 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 25 seconds
2023-11-13 19:49:58,992 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231030.csv
2023-11-13 19:49:58,992 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.12026665  0.01285268 -0.09966217  0.48686408  0.29764662]
 [ 9.91979135  0.01011458 -0.11502026  0.49527136  0.29318617]]
2023-11-13 19:49:58,996 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284bf9710>, Timestamp('2023-10-30 00:00:00')): 0.0h 1.0m 25s 131ms
2023-11-13 19:49:59,006 - yq - INFO - The log returns list for all assets is: [Date
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
                ...   
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
                ...   
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:49:59,009 - yq - INFO - rho_S1S2 is 0.5288989583914336

2023-11-13 19:49:59,009 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52889896]
 [0.52889896 1.        ]]

2023-11-13 19:49:59,009 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48686408 0.52889896 0.        ]
 [0.48686408 1.         0.         0.        ]
 [0.52889896 0.         1.         0.49527136]
 [0.         0.         0.49527136 1.        ]]

2023-11-13 19:49:59,011 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48686408  0.87347774  0.          0.        ]
 [ 0.52889896 -0.29480076  0.79583818  0.        ]
 [ 0.          0.          0.62232672  0.78275759]]

2023-11-13 19:49:59,011 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284bf9710>): 0.0h 0.0m 0s 14ms
2023-11-13 19:49:59,040 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 19:49:59,064 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:49:59,067 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  321.296445  215.539978
1  329.542795  215.232500
2  311.592803  201.856162
3  318.805330  198.734249
4  333.899407  199.808259
2023-11-13 19:49:59,208 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  321.296445  215.539978
2023-11-01  329.542795  215.232500
2023-11-02  311.592803  201.856162
2023-11-03  318.805330  198.734249
2023-11-06  333.899407  199.808259
2023-11-13 19:49:59,300 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
...             ...      ...
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1

[63 rows x 2 columns]
2023-11-13 19:49:59,306 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-30  311.500000  214.100000
2023-10-31  321.296445  215.539978
2023-11-01  329.542795  215.232500
2023-11-02  311.592803  201.856162
2023-11-03  318.805330  198.734249
...                ...         ...
2024-07-24  372.139311  194.471085
2024-07-25  372.755474  194.814717
2024-07-26  373.651106  194.936432
2024-07-29  372.903947  195.009940
2024-07-30  376.925763  196.146863

[187 rows x 2 columns]
2023-11-13 19:49:59,478 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:49:59,478 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284bf9710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  321.296445  215.539978
2023-11-01  329.542795  215.232500
2023-11-02  311.592803  201.856162
2023-11-03  318.805330  198.734249
2023-11-06  333.899407  199.808259
...                ...         ...
2024-07-24  372.139311  194.471085
2024-07-25  372.755474  194.814717
2024-07-26  373.651106  194.936432
2024-07-29  372.903947  195.009940
2024-07-30  376.925763  196.146863

[186 rows x 2 columns], sim=0): 0.0h 0.0m 0s 261ms
2023-11-13 19:49:59,479 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 19:49:59,505 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:49:59,507 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  318.092897  221.929408
1  320.561235  231.748437
2  315.658477  237.358496
3  318.753795  229.572232
4  309.921944  223.055575
2023-11-13 19:49:59,653 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  318.092897  221.929408
2023-11-01  320.561235  231.748437
2023-11-02  315.658477  237.358496
2023-11-03  318.753795  229.572232
2023-11-06  309.921944  223.055575
2023-11-13 19:49:59,683 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
...             ...      ...
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1

[63 rows x 2 columns]
2023-11-13 19:49:59,686 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-30  311.500000  214.100000
2023-10-31  318.092897  221.929408
2023-11-01  320.561235  231.748437
2023-11-02  315.658477  237.358496
2023-11-03  318.753795  229.572232
...                ...         ...
2024-07-24  312.236402  202.660573
2024-07-25  310.331390  204.859097
2024-07-26  311.342119  205.017525
2024-07-29  310.344158  204.523222
2024-07-30  310.264671  205.093005

[187 rows x 2 columns]
2023-11-13 19:49:59,879 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:49:59,879 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284bf9710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  318.092897  221.929408
2023-11-01  320.561235  231.748437
2023-11-02  315.658477  237.358496
2023-11-03  318.753795  229.572232
2023-11-06  309.921944  223.055575
...                ...         ...
2024-07-24  312.236402  202.660573
2024-07-25  310.331390  204.859097
2024-07-26  311.342119  205.017525
2024-07-29  310.344158  204.523222
2024-07-30  310.264671  205.093005

[186 rows x 2 columns], sim=1): 0.0h 0.0m 0s 223ms
2023-11-13 19:49:59,880 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 19:49:59,910 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:49:59,912 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  296.411782  200.080131
1  286.688089  200.717827
2  256.875997  190.805297
3  267.083879  191.634170
4  269.166017  194.633507
2023-11-13 19:50:00,093 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  296.411782  200.080131
2023-11-01  286.688089  200.717827
2023-11-02  256.875997  190.805297
2023-11-03  267.083879  191.634170
2023-11-06  269.166017  194.633507
2023-11-13 19:50:00,129 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
...             ...      ...
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1

[63 rows x 2 columns]
2023-11-13 19:50:00,133 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-30  311.500000  214.100000
2023-10-31  296.411782  200.080131
2023-11-01  286.688089  200.717827
2023-11-02  256.875997  190.805297
2023-11-03  267.083879  191.634170
...                ...         ...
2024-07-24  250.929553  220.151611
2024-07-25  253.112163  223.951951
2024-07-26  251.459147  222.606138
2024-07-29  248.522114  219.950455
2024-07-30  245.534470  219.040720

[187 rows x 2 columns]
2023-11-13 19:50:00,821 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:50:00,821 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284bf9710>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  296.411782  200.080131
2023-11-01  286.688089  200.717827
2023-11-02  256.875997  190.805297
2023-11-03  267.083879  191.634170
2023-11-06  269.166017  194.633507
...                ...         ...
2024-07-24  250.929553  220.151611
2024-07-25  253.112163  223.951951
2024-07-26  251.459147  222.606138
2024-07-29  248.522114  219.950455
2024-07-30  245.534470  219.040720

[186 rows x 2 columns], sim=2): 0.0h 0.0m 0s 719ms
2023-11-13 19:50:00,821 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284bf9710>, n_sim=3): 0.0h 1.0m 26s 960ms
2023-11-13 19:50:00,821 - yq - INFO - Pricing the product on 2023-10-31 00:00:00
2023-11-13 19:50:00,821 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:50:00,832 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:50:01,185 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-11-13 19:50:01,187 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231031.csv
2023-11-13 19:50:01,191 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/lonn_call.csv
2023-11-13 19:50:01,196 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     295  29.500000  35.865021  0.0175
1  0.126316     300  26.974991  37.865707  0.0175
2  0.126316     305  22.500000  34.535404  0.0175
3  0.126316     310  18.049999  30.977629  0.0175
4  0.126316     315  16.500000  33.432877  0.0175
2023-11-13 19:50:01,199 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/sika_call.csv
2023-11-13 19:50:01,205 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     180  37.825005  35.644909  0.0175
1  0.126316     185  33.150002  34.194305  0.0175
2  0.126316     190  28.525002  32.353138  0.0175
3  0.126316     195  24.099998  30.941946  0.0175
4  0.126316     200  19.925003  29.785938  0.0175
2023-11-13 19:50:01,215 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     295  29.500000  0.0175
1  0.126316     300  26.974991  0.0175
2  0.126316     305  22.500000  0.0175
3  0.126316     310  18.049999  0.0175
4  0.126316     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.126316     180  37.825005  0.0175
1  0.126316     185  33.150002  0.0175
2  0.126316     190  28.525002  0.0175
3  0.126316     195  24.099998  0.0175
4  0.126316     200  19.925003  0.0175
2023-11-13 19:50:01,215 - yq - INFO - Calibrating LONZA on 2023-10-31 00:00:00.
2023-11-13 19:50:52,936 - yq - INFO - Calibrating SIKA on 2023-10-31 00:00:00.
2023-11-13 19:51:29,095 - yq - INFO - The S_0 for LONZA and SIKA are 316.8 and 216.9
2023-11-13 19:51:29,095 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 27 seconds
2023-11-13 19:51:29,107 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231031.csv
2023-11-13 19:51:29,107 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.09666172  0.012884   -0.1282146   0.48510672  0.29702172]
 [ 3.92036509  0.01992287 -0.08154581  0.48479514  0.300827  ]]
2023-11-13 19:51:29,108 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286494890>, Timestamp('2023-10-31 00:00:00')): 0.0h 1.0m 27s 923ms
2023-11-13 19:51:29,117 - yq - INFO - The log returns list for all assets is: [Date
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
                ...   
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
                ...   
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:51:29,120 - yq - INFO - rho_S1S2 is 0.5513577730599765

2023-11-13 19:51:29,120 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55135777]
 [0.55135777 1.        ]]

2023-11-13 19:51:29,120 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48510672 0.55135777 0.        ]
 [0.48510672 1.         0.         0.        ]
 [0.55135777 0.         1.         0.48479514]
 [0.         0.         0.48479514 1.        ]]

2023-11-13 19:51:29,121 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48510672  0.87445496  0.          0.        ]
 [ 0.55135777 -0.30586751  0.77617632  0.        ]
 [ 0.          0.          0.62459409  0.78094957]]

2023-11-13 19:51:29,121 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x286494890>): 0.0h 0.0m 0s 12ms
2023-11-13 19:51:29,134 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 19:51:29,154 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:51:29,157 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  325.030759  219.827156
1  345.335786  236.998985
2  337.172166  233.793989
3  349.494375  245.374144
4  352.991207  244.426532
2023-11-13 19:51:29,279 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  325.030759  219.827156
2023-11-02  345.335786  236.998985
2023-11-03  337.172166  233.793989
2023-11-06  349.494375  245.374144
2023-11-07  352.991207  244.426532
2023-11-13 19:51:29,328 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
...             ...      ...
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9

[63 rows x 2 columns]
2023-11-13 19:51:29,331 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-31  316.800000  216.900000
2023-11-01  325.030759  219.827156
2023-11-02  345.335786  236.998985
2023-11-03  337.172166  233.793989
2023-11-06  349.494375  245.374144
...                ...         ...
2024-07-24  362.632508  312.220422
2024-07-25  362.686508  309.666135
2024-07-26  361.631448  305.922269
2024-07-29  361.931975  308.285122
2024-07-30  362.064868  307.515804

[186 rows x 2 columns]
2023-11-13 19:51:29,471 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:51:29,471 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286494890>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  325.030759  219.827156
2023-11-02  345.335786  236.998985
2023-11-03  337.172166  233.793989
2023-11-06  349.494375  245.374144
2023-11-07  352.991207  244.426532
...                ...         ...
2024-07-24  362.632508  312.220422
2024-07-25  362.686508  309.666135
2024-07-26  361.631448  305.922269
2024-07-29  361.931975  308.285122
2024-07-30  362.064868  307.515804

[185 rows x 2 columns], sim=0): 0.0h 0.0m 0s 190ms
2023-11-13 19:51:29,472 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 19:51:29,494 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:51:29,495 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  304.703099  212.801539
1  320.340158  205.804257
2  322.339569  210.122286
3  306.528477  203.247095
4  293.252962  204.793825
2023-11-13 19:51:29,629 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  304.703099  212.801539
2023-11-02  320.340158  205.804257
2023-11-03  322.339569  210.122286
2023-11-06  306.528477  203.247095
2023-11-07  293.252962  204.793825
2023-11-13 19:51:29,658 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
...             ...      ...
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9

[63 rows x 2 columns]
2023-11-13 19:51:29,663 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-31  316.800000  216.900000
2023-11-01  304.703099  212.801539
2023-11-02  320.340158  205.804257
2023-11-03  322.339569  210.122286
2023-11-06  306.528477  203.247095
...                ...         ...
2024-07-24  217.266073  204.437686
2024-07-25  217.309611  204.376954
2024-07-26  213.767286  201.483503
2024-07-29  215.035728  203.180401
2024-07-30  214.386079  202.372913

[186 rows x 2 columns]
2023-11-13 19:51:29,836 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:51:29,836 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286494890>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  304.703099  212.801539
2023-11-02  320.340158  205.804257
2023-11-03  322.339569  210.122286
2023-11-06  306.528477  203.247095
2023-11-07  293.252962  204.793825
...                ...         ...
2024-07-24  217.266073  204.437686
2024-07-25  217.309611  204.376954
2024-07-26  213.767286  201.483503
2024-07-29  215.035728  203.180401
2024-07-30  214.386079  202.372913

[185 rows x 2 columns], sim=1): 0.0h 0.0m 0s 202ms
2023-11-13 19:51:29,837 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 19:51:29,864 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:51:29,866 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  320.887718  215.837325
1  317.530226  218.126370
2  324.130236  226.402735
3  331.000700  230.816152
4  347.540668  250.678484
2023-11-13 19:51:30,028 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  320.887718  215.837325
2023-11-02  317.530226  218.126370
2023-11-03  324.130236  226.402735
2023-11-06  331.000700  230.816152
2023-11-07  347.540668  250.678484
2023-11-13 19:51:30,096 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
...             ...      ...
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9

[63 rows x 2 columns]
2023-11-13 19:51:30,099 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-31  316.800000  216.900000
2023-11-01  320.887718  215.837325
2023-11-02  317.530226  218.126370
2023-11-03  324.130236  226.402735
2023-11-06  331.000700  230.816152
...                ...         ...
2024-07-24  482.641600  282.582157
2024-07-25  480.815266  279.854309
2024-07-26  482.716382  278.202623
2024-07-29  480.661686  274.052120
2024-07-30  479.163787  273.909233

[186 rows x 2 columns]
2023-11-13 19:51:30,289 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:51:30,290 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286494890>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  320.887718  215.837325
2023-11-02  317.530226  218.126370
2023-11-03  324.130236  226.402735
2023-11-06  331.000700  230.816152
2023-11-07  347.540668  250.678484
...                ...         ...
2024-07-24  482.641600  282.582157
2024-07-25  480.815266  279.854309
2024-07-26  482.716382  278.202623
2024-07-29  480.661686  274.052120
2024-07-30  479.163787  273.909233

[185 rows x 2 columns], sim=2): 0.0h 0.0m 0s 227ms
2023-11-13 19:51:30,290 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x286494890>, n_sim=3): 0.0h 1.0m 29s 107ms
2023-11-13 19:51:30,290 - yq - INFO - Pricing the product on 2023-11-01 00:00:00
2023-11-13 19:51:30,290 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:51:30,304 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:51:30,647 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-11-13 19:51:30,647 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231101.csv
2023-11-13 19:51:30,653 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/lonn_call.csv
2023-11-13 19:51:30,655 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     295  31.399994  37.997524  0.0175
1  0.123509     300  27.949997  37.785522  0.0175
2  0.123509     305  24.399994  36.817703  0.0175
3  0.123509     310  21.099991  35.968155  0.0175
4  0.123509     315  18.049999  35.185196  0.0175
2023-11-13 19:51:30,657 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/sika_call.csv
2023-11-13 19:51:30,661 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     180  37.175003  36.303440  0.0175
1  0.123509     185  32.424995  34.078827  0.0175
2  0.123509     190  27.874992  32.687176  0.0175
3  0.123509     195  23.425003  30.999638  0.0175
4  0.123509     200  19.175003  29.390894  0.0175
2023-11-13 19:51:30,670 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     295  31.399994  0.0175
1  0.123509     300  27.949997  0.0175
2  0.123509     305  24.399994  0.0175
3  0.123509     310  21.099991  0.0175
4  0.123509     315  18.049999  0.0175
   maturity  strike      price    rate
0  0.123509     180  37.175003  0.0175
1  0.123509     185  32.424995  0.0175
2  0.123509     190  27.874992  0.0175
3  0.123509     195  23.425003  0.0175
4  0.123509     200  19.175003  0.0175
2023-11-13 19:51:30,670 - yq - INFO - Calibrating LONZA on 2023-11-01 00:00:00.
2023-11-13 19:52:11,187 - yq - INFO - Calibrating SIKA on 2023-11-01 00:00:00.
2023-11-13 19:52:54,488 - yq - INFO - The S_0 for LONZA and SIKA are 318.6 and 215.2
2023-11-13 19:52:54,489 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 23 seconds
2023-11-13 19:52:54,519 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231101.csv
2023-11-13 19:52:54,519 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.95967823  0.01264682 -0.12298216  0.49909049  0.28700259]
 [ 8.74430749  0.01018409 -0.10685962  0.49211449  0.31620571]]
2023-11-13 19:52:54,523 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286574450>, Timestamp('2023-11-01 00:00:00')): 0.0h 1.0m 23s 876ms
2023-11-13 19:52:54,545 - yq - INFO - The log returns list for all assets is: [Date
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
                ...   
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
                ...   
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:52:54,548 - yq - INFO - rho_S1S2 is 0.5625703773759996

2023-11-13 19:52:54,548 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.56257038]
 [0.56257038 1.        ]]

2023-11-13 19:52:54,548 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49909049 0.56257038 0.        ]
 [0.49909049 1.         0.         0.        ]
 [0.56257038 0.         1.         0.49211449]
 [0.         0.         0.49211449 1.        ]]

2023-11-13 19:52:54,550 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49909049  0.86654987  0.          0.        ]
 [ 0.56257038 -0.32401312  0.76061164  0.        ]
 [ 0.          0.          0.64699837  0.76249138]]

2023-11-13 19:52:54,550 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x286574450>): 0.0h 0.0m 0s 26ms
2023-11-13 19:52:54,564 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 19:52:54,589 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:52:54,595 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  307.479066  216.937166
1  301.055099  217.179935
2  305.154272  217.490111
3  320.985931  219.911667
4  326.981495  219.127942
2023-11-13 19:52:54,765 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  307.479066  216.937166
2023-11-03  301.055099  217.179935
2023-11-06  305.154272  217.490111
2023-11-07  320.985931  219.911667
2023-11-08  326.981495  219.127942
2023-11-13 19:52:54,877 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
...             ...      ...
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2

[63 rows x 2 columns]
2023-11-13 19:52:54,898 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-01  318.600000  215.200000
2023-11-02  307.479066  216.937166
2023-11-03  301.055099  217.179935
2023-11-06  305.154272  217.490111
2023-11-07  320.985931  219.911667
...                ...         ...
2024-07-24  395.052564  271.788693
2024-07-25  399.404811  273.715901
2024-07-26  394.820731  272.965667
2024-07-29  393.824389  273.801668
2024-07-30  399.120507  274.669572

[185 rows x 2 columns]
2023-11-13 19:52:55,087 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:52:55,087 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286574450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  307.479066  216.937166
2023-11-03  301.055099  217.179935
2023-11-06  305.154272  217.490111
2023-11-07  320.985931  219.911667
2023-11-08  326.981495  219.127942
...                ...         ...
2024-07-24  395.052564  271.788693
2024-07-25  399.404811  273.715901
2024-07-26  394.820731  272.965667
2024-07-29  393.824389  273.801668
2024-07-30  399.120507  274.669572

[184 rows x 2 columns], sim=0): 0.0h 0.0m 0s 303ms
2023-11-13 19:52:55,087 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 19:52:55,108 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:52:55,110 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  323.876304  216.978424
1  302.465608  196.814238
2  304.005988  198.408857
3  306.599097  191.975003
4  302.950546  197.477585
2023-11-13 19:52:55,254 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  323.876304  216.978424
2023-11-03  302.465608  196.814238
2023-11-06  304.005988  198.408857
2023-11-07  306.599097  191.975003
2023-11-08  302.950546  197.477585
2023-11-13 19:52:55,292 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
...             ...      ...
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2

[63 rows x 2 columns]
2023-11-13 19:52:55,296 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-01  318.600000  215.200000
2023-11-02  323.876304  216.978424
2023-11-03  302.465608  196.814238
2023-11-06  304.005988  198.408857
2023-11-07  306.599097  191.975003
...                ...         ...
2024-07-24  312.768017  215.072386
2024-07-25  308.700142  214.152754
2024-07-26  310.408208  215.175551
2024-07-29  305.857936  212.153705
2024-07-30  304.350416  211.742985

[185 rows x 2 columns]
2023-11-13 19:52:55,510 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:52:55,511 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286574450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  323.876304  216.978424
2023-11-03  302.465608  196.814238
2023-11-06  304.005988  198.408857
2023-11-07  306.599097  191.975003
2023-11-08  302.950546  197.477585
...                ...         ...
2024-07-24  312.768017  215.072386
2024-07-25  308.700142  214.152754
2024-07-26  310.408208  215.175551
2024-07-29  305.857936  212.153705
2024-07-30  304.350416  211.742985

[184 rows x 2 columns], sim=1): 0.0h 0.0m 0s 253ms
2023-11-13 19:52:55,513 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 19:52:55,540 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:52:55,542 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  310.797270  217.105830
1  310.250702  218.794182
2  308.317982  224.572625
3  322.791627  236.726313
4  309.942840  228.694256
2023-11-13 19:52:55,706 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  310.797270  217.105830
2023-11-03  310.250702  218.794182
2023-11-06  308.317982  224.572625
2023-11-07  322.791627  236.726313
2023-11-08  309.942840  228.694256
2023-11-13 19:52:55,742 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
...             ...      ...
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2

[63 rows x 2 columns]
2023-11-13 19:52:55,746 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-01  318.600000  215.200000
2023-11-02  310.797270  217.105830
2023-11-03  310.250702  218.794182
2023-11-06  308.317982  224.572625
2023-11-07  322.791627  236.726313
...                ...         ...
2024-07-24  247.440731  212.827978
2024-07-25  246.661748  212.447416
2024-07-26  247.975424  214.279076
2024-07-29  248.360167  214.363195
2024-07-30  247.155596  214.086344

[185 rows x 2 columns]
2023-11-13 19:52:55,948 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:52:55,948 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286574450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  310.797270  217.105830
2023-11-03  310.250702  218.794182
2023-11-06  308.317982  224.572625
2023-11-07  322.791627  236.726313
2023-11-08  309.942840  228.694256
...                ...         ...
2024-07-24  247.440731  212.827978
2024-07-25  246.661748  212.447416
2024-07-26  247.975424  214.279076
2024-07-29  248.360167  214.363195
2024-07-30  247.155596  214.086344

[184 rows x 2 columns], sim=2): 0.0h 0.0m 0s 238ms
2023-11-13 19:52:55,948 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x286574450>, n_sim=3): 0.0h 1.0m 25s 304ms
2023-11-13 19:52:55,949 - yq - INFO - Pricing the product on 2023-11-02 00:00:00
2023-11-13 19:52:55,949 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:52:55,973 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:52:56,331 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-11-13 19:52:56,333 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231102.csv
2023-11-13 19:52:56,340 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/lonn_call.csv
2023-11-13 19:52:56,343 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     295  32.000000  37.357304  0.0175
1  0.120702     300  28.099991  36.198601  0.0175
2  0.120702     305  25.149994  36.973526  0.0175
3  0.120702     310  21.624992  35.745502  0.0175
4  0.120702     315  17.849997  33.472771  0.0175
2023-11-13 19:52:56,344 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/sika_call.csv
2023-11-13 19:52:56,346 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     185  39.800003  34.830147  0.0175
1  0.120702     190  35.099991  33.827091  0.0175
2  0.120702     195  30.449997  32.338520  0.0175
3  0.120702     200  25.949997  31.015888  0.0175
4  0.120702     210  17.550003  28.456898  0.0175
2023-11-13 19:52:56,355 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     295  32.000000  0.0175
1  0.120702     300  28.099991  0.0175
2  0.120702     305  25.149994  0.0175
3  0.120702     310  21.624992  0.0175
4  0.120702     315  17.849997  0.0175
   maturity  strike      price    rate
0  0.120702     185  39.800003  0.0175
1  0.120702     190  35.099991  0.0175
2  0.120702     195  30.449997  0.0175
3  0.120702     200  25.949997  0.0175
4  0.120702     210  17.550003  0.0175
2023-11-13 19:52:56,356 - yq - INFO - Calibrating LONZA on 2023-11-02 00:00:00.
2023-11-13 19:53:34,498 - yq - INFO - Calibrating SIKA on 2023-11-02 00:00:00.
2023-11-13 19:54:11,053 - yq - INFO - The S_0 for LONZA and SIKA are 320.0 and 223.8
2023-11-13 19:54:11,055 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 14 seconds
2023-11-13 19:54:11,065 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231102.csv
2023-11-13 19:54:11,065 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.4429262   0.01122452 -0.1011571   0.49960311  0.327925  ]
 [ 7.84015232  0.01189135 -0.0915087   0.4935815   0.30900645]]
2023-11-13 19:54:11,072 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284c4e6d0>, Timestamp('2023-11-02 00:00:00')): 0.0h 1.0m 14s 740ms
2023-11-13 19:54:11,080 - yq - INFO - The log returns list for all assets is: [Date
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
                ...   
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
                ...   
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:54:11,082 - yq - INFO - rho_S1S2 is 0.5472672528704893

2023-11-13 19:54:11,082 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.54726725]
 [0.54726725 1.        ]]

2023-11-13 19:54:11,082 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49960311 0.54726725 0.        ]
 [0.49960311 1.         0.         0.        ]
 [0.54726725 0.         1.         0.4935815 ]
 [0.         0.         0.4935815  1.        ]]

2023-11-13 19:54:11,083 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49960311  0.86625443  0.          0.        ]
 [ 0.54726725 -0.31563062  0.77516183  0.        ]
 [ 0.          0.          0.6367464   0.77107329]]

2023-11-13 19:54:11,084 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284c4e6d0>): 0.0h 0.0m 0s 12ms
2023-11-13 19:54:11,096 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 19:54:11,115 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:54:11,118 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  310.442220  227.087528
1  316.792289  218.308482
2  315.448119  213.397294
3  336.700255  217.865043
4  348.918786  223.803362
2023-11-13 19:54:11,238 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  310.442220  227.087528
2023-11-06  316.792289  218.308482
2023-11-07  315.448119  213.397294
2023-11-08  336.700255  217.865043
2023-11-09  348.918786  223.803362
2023-11-13 19:54:11,307 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
...             ...      ...
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8

[63 rows x 2 columns]
2023-11-13 19:54:11,310 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-02  320.000000  223.800000
2023-11-03  310.442220  227.087528
2023-11-06  316.792289  218.308482
2023-11-07  315.448119  213.397294
2023-11-08  336.700255  217.865043
...                ...         ...
2024-07-24  300.825618  268.277875
2024-07-25  298.661770  269.984142
2024-07-26  293.949890  266.754290
2024-07-29  289.455805  263.153961
2024-07-30  294.039584  265.571249

[184 rows x 2 columns]
2023-11-13 19:54:11,463 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:54:11,463 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c4e6d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  310.442220  227.087528
2023-11-06  316.792289  218.308482
2023-11-07  315.448119  213.397294
2023-11-08  336.700255  217.865043
2023-11-09  348.918786  223.803362
...                ...         ...
2024-07-24  300.825618  268.277875
2024-07-25  298.661770  269.984142
2024-07-26  293.949890  266.754290
2024-07-29  289.455805  263.153961
2024-07-30  294.039584  265.571249

[183 rows x 2 columns], sim=0): 0.0h 0.0m 0s 217ms
2023-11-13 19:54:11,464 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 19:54:11,487 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:54:11,489 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  317.620214  221.927983
1  308.663339  223.015312
2  288.894497  224.724496
3  293.375212  231.452812
4  282.718517  236.880450
2023-11-13 19:54:11,638 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  317.620214  221.927983
2023-11-06  308.663339  223.015312
2023-11-07  288.894497  224.724496
2023-11-08  293.375212  231.452812
2023-11-09  282.718517  236.880450
2023-11-13 19:54:11,673 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
...             ...      ...
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8

[63 rows x 2 columns]
2023-11-13 19:54:11,676 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-02  320.000000  223.800000
2023-11-03  317.620214  221.927983
2023-11-06  308.663339  223.015312
2023-11-07  288.894497  224.724496
2023-11-08  293.375212  231.452812
...                ...         ...
2024-07-24  314.687040  218.419471
2024-07-25  315.062832  218.329130
2024-07-26  315.500433  219.488830
2024-07-29  315.503366  220.438594
2024-07-30  315.555776  220.529220

[184 rows x 2 columns]
2023-11-13 19:54:11,854 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:54:11,854 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c4e6d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  317.620214  221.927983
2023-11-06  308.663339  223.015312
2023-11-07  288.894497  224.724496
2023-11-08  293.375212  231.452812
2023-11-09  282.718517  236.880450
...                ...         ...
2024-07-24  314.687040  218.419471
2024-07-25  315.062832  218.329130
2024-07-26  315.500433  219.488830
2024-07-29  315.503366  220.438594
2024-07-30  315.555776  220.529220

[183 rows x 2 columns], sim=1): 0.0h 0.0m 0s 212ms
2023-11-13 19:54:11,855 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 19:54:11,881 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:54:11,883 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  336.707188  227.668732
1  339.811906  227.656070
2  338.614769  228.589368
3  330.842945  228.272817
4  320.192443  217.536237
2023-11-13 19:54:12,036 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  336.707188  227.668732
2023-11-06  339.811906  227.656070
2023-11-07  338.614769  228.589368
2023-11-08  330.842945  228.272817
2023-11-09  320.192443  217.536237
2023-11-13 19:54:12,069 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
...             ...      ...
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8

[63 rows x 2 columns]
2023-11-13 19:54:12,073 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-02  320.000000  223.800000
2023-11-03  336.707188  227.668732
2023-11-06  339.811906  227.656070
2023-11-07  338.614769  228.589368
2023-11-08  330.842945  228.272817
...                ...         ...
2024-07-24  439.739741  309.650097
2024-07-25  436.987430  307.409069
2024-07-26  437.372367  309.082680
2024-07-29  433.191689  306.248432
2024-07-30  434.499027  305.978931

[184 rows x 2 columns]
2023-11-13 19:54:12,256 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:54:12,257 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c4e6d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  336.707188  227.668732
2023-11-06  339.811906  227.656070
2023-11-07  338.614769  228.589368
2023-11-08  330.842945  228.272817
2023-11-09  320.192443  217.536237
...                ...         ...
2024-07-24  439.739741  309.650097
2024-07-25  436.987430  307.409069
2024-07-26  437.372367  309.082680
2024-07-29  433.191689  306.248432
2024-07-30  434.499027  305.978931

[183 rows x 2 columns], sim=2): 0.0h 0.0m 0s 216ms
2023-11-13 19:54:12,257 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284c4e6d0>, n_sim=3): 0.0h 1.0m 15s 928ms
2023-11-13 19:54:12,257 - yq - INFO - Pricing the product on 2023-11-03 00:00:00
2023-11-13 19:54:12,257 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:54:12,274 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:54:12,604 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-11-13 19:54:12,605 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231103.csv
2023-11-13 19:54:12,608 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231103/lonn_call.csv
2023-11-13 19:54:12,610 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     310  27.750001  33.530460  0.0175
1  0.117895     315  24.050004  32.782989  0.0175
2  0.117895     320  20.600007  31.983255  0.0175
3  0.117895     325  17.349999  31.317520  0.0175
4  0.117895     330  14.475001  30.779957  0.0175
2023-11-13 19:54:12,611 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231103/sika_call.csv
2023-11-13 19:54:12,613 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     195  32.450001  30.662168  0.0175
1  0.117895     200  27.650000  28.702374  0.0175
2  0.117895     210  18.850000  27.020227  0.0175
3  0.117895     220  11.300000  24.894001  0.0175
4  0.117895     230   5.725000  23.684481  0.0175
2023-11-13 19:54:12,618 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     310  27.750001  0.0175
1  0.117895     315  24.050004  0.0175
2  0.117895     320  20.600007  0.0175
3  0.117895     325  17.349999  0.0175
4  0.117895     330  14.475001  0.0175
   maturity  strike      price    rate
0  0.117895     195  32.450001  0.0175
1  0.117895     200  27.650000  0.0175
2  0.117895     210  18.850000  0.0175
3  0.117895     220  11.300000  0.0175
4  0.117895     230   5.725000  0.0175
2023-11-13 19:54:12,618 - yq - INFO - Calibrating LONZA on 2023-11-03 00:00:00.
2023-11-13 19:54:58,786 - yq - INFO - Calibrating SIKA on 2023-11-03 00:00:00.
2023-11-13 19:55:40,049 - yq - INFO - The S_0 for LONZA and SIKA are 329.1 and 227.8
2023-11-13 19:55:40,053 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 27 seconds
2023-11-13 19:55:40,078 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231103.csv
2023-11-13 19:55:40,078 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.57111536  0.01161487 -0.09923551  0.49963733  0.32862653]
 [ 4.13699104  0.03574738 -0.10216833  0.49965174  0.42306419]]
2023-11-13 19:55:40,081 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b76b90>, Timestamp('2023-11-03 00:00:00')): 0.0h 1.0m 27s 476ms
2023-11-13 19:55:40,091 - yq - INFO - The log returns list for all assets is: [Date
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
                ...   
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
                ...   
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:55:40,096 - yq - INFO - rho_S1S2 is 0.5577107927282231

2023-11-13 19:55:40,096 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55771079]
 [0.55771079 1.        ]]

2023-11-13 19:55:40,096 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49963733 0.55771079 0.        ]
 [0.49963733 1.         0.         0.        ]
 [0.55771079 0.         1.         0.49965174]
 [0.         0.         0.49965174 1.        ]]

2023-11-13 19:55:40,098 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49963733  0.86623469  0.          0.        ]
 [ 0.55771079 -0.32168318  0.76516573  0.        ]
 [ 0.          0.          0.65299806  0.75735958]]

2023-11-13 19:55:40,098 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b76b90>): 0.0h 0.0m 0s 17ms
2023-11-13 19:55:40,113 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 19:55:40,135 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:55:40,138 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  328.902093  245.770121
1  337.644331  255.167121
2  339.762018  247.389222
3  338.430396  243.420746
4  344.780799  238.906761
2023-11-13 19:55:40,284 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  328.902093  245.770121
2023-11-07  337.644331  255.167121
2023-11-08  339.762018  247.389222
2023-11-09  338.430396  243.420746
2023-11-10  344.780799  238.906761
2023-11-13 19:55:40,406 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
...             ...      ...
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8

[63 rows x 2 columns]
2023-11-13 19:55:40,412 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-03  329.100000  227.800000
2023-11-06  328.902093  245.770121
2023-11-07  337.644331  255.167121
2023-11-08  339.762018  247.389222
2023-11-09  338.430396  243.420746
...                ...         ...
2024-07-24  357.538535  381.451585
2024-07-25  355.050404  376.632169
2024-07-26  352.726685  369.651506
2024-07-29  349.896264  361.681953
2024-07-30  343.266701  357.940888

[183 rows x 2 columns]
2023-11-13 19:55:40,579 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:55:40,579 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b76b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  328.902093  245.770121
2023-11-07  337.644331  255.167121
2023-11-08  339.762018  247.389222
2023-11-09  338.430396  243.420746
2023-11-10  344.780799  238.906761
...                ...         ...
2024-07-24  357.538535  381.451585
2024-07-25  355.050404  376.632169
2024-07-26  352.726685  369.651506
2024-07-29  349.896264  361.681953
2024-07-30  343.266701  357.940888

[182 rows x 2 columns], sim=0): 0.0h 0.0m 0s 291ms
2023-11-13 19:55:40,580 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 19:55:40,604 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:55:40,607 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  312.445804  225.034096
1  318.905639  233.726878
2  316.272816  232.933854
3  326.652466  226.680388
4  333.841137  239.493294
2023-11-13 19:55:40,763 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  312.445804  225.034096
2023-11-07  318.905639  233.726878
2023-11-08  316.272816  232.933854
2023-11-09  326.652466  226.680388
2023-11-10  333.841137  239.493294
2023-11-13 19:55:40,794 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
...             ...      ...
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8

[63 rows x 2 columns]
2023-11-13 19:55:40,799 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-03  329.100000  227.800000
2023-11-06  312.445804  225.034096
2023-11-07  318.905639  233.726878
2023-11-08  316.272816  232.933854
2023-11-09  326.652466  226.680388
...                ...         ...
2024-07-24  497.237428  293.339370
2024-07-25  496.304286  290.516307
2024-07-26  496.759649  287.547214
2024-07-29  498.367375  291.123133
2024-07-30  502.419395  293.246734

[183 rows x 2 columns]
2023-11-13 19:55:40,980 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:55:40,980 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b76b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  312.445804  225.034096
2023-11-07  318.905639  233.726878
2023-11-08  316.272816  232.933854
2023-11-09  326.652466  226.680388
2023-11-10  333.841137  239.493294
...                ...         ...
2024-07-24  497.237428  293.339370
2024-07-25  496.304286  290.516307
2024-07-26  496.759649  287.547214
2024-07-29  498.367375  291.123133
2024-07-30  502.419395  293.246734

[182 rows x 2 columns], sim=1): 0.0h 0.0m 0s 213ms
2023-11-13 19:55:40,981 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 19:55:41,007 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:55:41,009 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  344.483649  234.542166
1  328.727995  232.771193
2  333.712407  233.319857
3  319.528151  234.998325
4  318.416241  232.508888
2023-11-13 19:55:41,163 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  344.483649  234.542166
2023-11-07  328.727995  232.771193
2023-11-08  333.712407  233.319857
2023-11-09  319.528151  234.998325
2023-11-10  318.416241  232.508888
2023-11-13 19:55:41,192 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
...             ...      ...
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8

[63 rows x 2 columns]
2023-11-13 19:55:41,196 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-03  329.100000  227.800000
2023-11-06  344.483649  234.542166
2023-11-07  328.727995  232.771193
2023-11-08  333.712407  233.319857
2023-11-09  319.528151  234.998325
...                ...         ...
2024-07-24  241.148505  136.077347
2024-07-25  240.234895  133.421617
2024-07-26  238.184761  130.045799
2024-07-29  237.615313  132.850764
2024-07-30  239.740537  135.624952

[183 rows x 2 columns]
2023-11-13 19:55:41,362 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:55:41,362 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b76b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  344.483649  234.542166
2023-11-07  328.727995  232.771193
2023-11-08  333.712407  233.319857
2023-11-09  319.528151  234.998325
2023-11-10  318.416241  232.508888
...                ...         ...
2024-07-24  241.148505  136.077347
2024-07-25  240.234895  133.421617
2024-07-26  238.184761  130.045799
2024-07-29  237.615313  132.850764
2024-07-30  239.740537  135.624952

[182 rows x 2 columns], sim=2): 0.0h 0.0m 0s 195ms
2023-11-13 19:55:41,362 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b76b90>, n_sim=3): 0.0h 1.0m 28s 761ms
2023-11-13 19:55:41,363 - yq - INFO - Pricing the product on 2023-11-06 00:00:00
2023-11-13 19:55:41,363 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:55:41,379 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:55:42,088 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-11-13 19:55:42,089 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231106.csv
2023-11-13 19:55:42,094 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231106/lonn_call.csv
2023-11-13 19:55:42,096 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     310  27.750001  33.530460  0.0175
1  0.109474     315  24.050004  32.782989  0.0175
2  0.109474     320  20.600007  31.983255  0.0175
3  0.109474     325  17.349999  31.317520  0.0175
4  0.109474     330  14.475001  30.779957  0.0175
2023-11-13 19:55:42,097 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231106/sika_call.csv
2023-11-13 19:55:42,100 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     195  32.450001  30.662168  0.0175
1  0.109474     200  27.650000  28.702374  0.0175
2  0.109474     210  18.850000  27.020227  0.0175
3  0.109474     220  11.300000  24.894001  0.0175
4  0.109474     230   5.725000  23.684481  0.0175
2023-11-13 19:55:42,104 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     310  27.750001  0.0175
1  0.109474     315  24.050004  0.0175
2  0.109474     320  20.600007  0.0175
3  0.109474     325  17.349999  0.0175
4  0.109474     330  14.475001  0.0175
   maturity  strike      price    rate
0  0.109474     195  32.450001  0.0175
1  0.109474     200  27.650000  0.0175
2  0.109474     210  18.850000  0.0175
3  0.109474     220  11.300000  0.0175
4  0.109474     230   5.725000  0.0175
2023-11-13 19:55:42,104 - yq - INFO - Calibrating LONZA on 2023-11-06 00:00:00.
2023-11-13 19:56:24,052 - yq - INFO - Calibrating SIKA on 2023-11-06 00:00:00.
2023-11-13 19:57:04,987 - yq - INFO - The S_0 for LONZA and SIKA are 331.4 and 225.0
2023-11-13 19:57:04,988 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 22 seconds
2023-11-13 19:57:04,997 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231106.csv
2023-11-13 19:57:04,997 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.52630517  0.01309476 -0.0940162   0.44600614  0.39243112]
 [ 7.92101698  0.01191524 -0.0930958   0.47830106  0.33404081]]
2023-11-13 19:57:04,998 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2851c8fd0>, Timestamp('2023-11-06 00:00:00')): 0.0h 1.0m 22s 910ms
2023-11-13 19:57:05,008 - yq - INFO - The log returns list for all assets is: [Date
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
                ...   
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
                ...   
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:57:05,010 - yq - INFO - rho_S1S2 is 0.5466361685208238

2023-11-13 19:57:05,010 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.54663617]
 [0.54663617 1.        ]]

2023-11-13 19:57:05,010 - yq - INFO - Simplified correlation matrix is:
[[1.         0.44600614 0.54663617 0.        ]
 [0.44600614 1.         0.         0.        ]
 [0.54663617 0.         1.         0.47830106]
 [0.         0.         0.47830106 1.        ]]

2023-11-13 19:57:05,011 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.44600614  0.8950299   0.          0.        ]
 [ 0.54663617 -0.27239659  0.79182637  0.        ]
 [ 0.          0.          0.6040479   0.79694801]]

2023-11-13 19:57:05,011 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2851c8fd0>): 0.0h 0.0m 0s 14ms
2023-11-13 19:57:05,025 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 19:57:05,042 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:57:05,044 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  353.873749  228.899517
1  368.418039  232.666085
2  368.874586  231.396807
3  347.718850  229.040820
4  349.062429  232.483007
2023-11-13 19:57:05,147 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  353.873749  228.899517
2023-11-08  368.418039  232.666085
2023-11-09  368.874586  231.396807
2023-11-10  347.718850  229.040820
2023-11-13  349.062429  232.483007
2023-11-13 19:57:05,246 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
...             ...      ...
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0

[63 rows x 2 columns]
2023-11-13 19:57:05,249 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-06  331.400000  225.000000
2023-11-07  353.873749  228.899517
2023-11-08  368.418039  232.666085
2023-11-09  368.874586  231.396807
2023-11-10  347.718850  229.040820
...                ...         ...
2024-07-24  325.867606  222.980289
2024-07-25  326.926539  225.274192
2024-07-26  331.881554  226.944405
2024-07-29  331.132778  227.348596
2024-07-30  328.330976  227.441566

[182 rows x 2 columns]
2023-11-13 19:57:05,374 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:57:05,374 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851c8fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  353.873749  228.899517
2023-11-08  368.418039  232.666085
2023-11-09  368.874586  231.396807
2023-11-10  347.718850  229.040820
2023-11-13  349.062429  232.483007
...                ...         ...
2024-07-24  325.867606  222.980289
2024-07-25  326.926539  225.274192
2024-07-26  331.881554  226.944405
2024-07-29  331.132778  227.348596
2024-07-30  328.330976  227.441566

[181 rows x 2 columns], sim=0): 0.0h 0.0m 0s 224ms
2023-11-13 19:57:05,375 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 19:57:05,394 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:57:05,395 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  360.184404  235.608884
1  352.082068  237.182233
2  328.589112  237.060230
3  313.482402  238.638906
4  301.116638  230.865509
2023-11-13 19:57:05,505 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  360.184404  235.608884
2023-11-08  352.082068  237.182233
2023-11-09  328.589112  237.060230
2023-11-10  313.482402  238.638906
2023-11-13  301.116638  230.865509
2023-11-13 19:57:05,527 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
...             ...      ...
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0

[63 rows x 2 columns]
2023-11-13 19:57:05,530 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-06  331.400000  225.000000
2023-11-07  360.184404  235.608884
2023-11-08  352.082068  237.182233
2023-11-09  328.589112  237.060230
2023-11-10  313.482402  238.638906
...                ...         ...
2024-07-24  288.262945  226.716311
2024-07-25  283.843980  226.112413
2024-07-26  282.408910  225.145469
2024-07-29  283.116373  224.408090
2024-07-30  280.199384  223.599419

[182 rows x 2 columns]
2023-11-13 19:57:05,684 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:57:05,684 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851c8fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  360.184404  235.608884
2023-11-08  352.082068  237.182233
2023-11-09  328.589112  237.060230
2023-11-10  313.482402  238.638906
2023-11-13  301.116638  230.865509
...                ...         ...
2024-07-24  288.262945  226.716311
2024-07-25  283.843980  226.112413
2024-07-26  282.408910  225.145469
2024-07-29  283.116373  224.408090
2024-07-30  280.199384  223.599419

[181 rows x 2 columns], sim=1): 0.0h 0.0m 0s 176ms
2023-11-13 19:57:05,685 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 19:57:05,712 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:57:05,714 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  325.798014  230.915070
1  314.058725  225.472020
2  319.391703  231.503116
3  332.427286  231.391095
4  320.822276  228.620109
2023-11-13 19:57:05,868 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  325.798014  230.915070
2023-11-08  314.058725  225.472020
2023-11-09  319.391703  231.503116
2023-11-10  332.427286  231.391095
2023-11-13  320.822276  228.620109
2023-11-13 19:57:05,895 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
...             ...      ...
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0

[63 rows x 2 columns]
2023-11-13 19:57:05,899 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-06  331.400000  225.000000
2023-11-07  325.798014  230.915070
2023-11-08  314.058725  225.472020
2023-11-09  319.391703  231.503116
2023-11-10  332.427286  231.391095
...                ...         ...
2024-07-24  278.709512  161.014116
2024-07-25  282.123514  161.498858
2024-07-26  281.987484  162.428958
2024-07-29  280.559899  163.429977
2024-07-30  281.863637  163.193850

[182 rows x 2 columns]
2023-11-13 19:57:06,065 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:57:06,065 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851c8fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  325.798014  230.915070
2023-11-08  314.058725  225.472020
2023-11-09  319.391703  231.503116
2023-11-10  332.427286  231.391095
2023-11-13  320.822276  228.620109
...                ...         ...
2024-07-24  278.709512  161.014116
2024-07-25  282.123514  161.498858
2024-07-26  281.987484  162.428958
2024-07-29  280.559899  163.429977
2024-07-30  281.863637  163.193850

[181 rows x 2 columns], sim=2): 0.0h 0.0m 0s 194ms
2023-11-13 19:57:06,065 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2851c8fd0>, n_sim=3): 0.0h 1.0m 23s 979ms
2023-11-13 19:57:06,066 - yq - INFO - Pricing the product on 2023-11-07 00:00:00
2023-11-13 19:57:06,066 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:57:06,079 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:57:06,396 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-11-13 19:57:06,398 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231107.csv
2023-11-13 19:57:06,404 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231107/lonn_call.csv
2023-11-13 19:57:06,407 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     310  30.399994  34.911545  0.0175
1  0.106667     315  26.449997  33.783463  0.0175
2  0.106667     320  22.849991  33.080822  0.0175
3  0.106667     325  19.349995  32.058968  0.0175
4  0.106667     330  16.199997  31.287321  0.0175
2023-11-13 19:57:06,414 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231107/sika_call.csv
2023-11-13 19:57:06,417 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     185  42.399994  33.494320  0.0175
1  0.106667     190  37.500000  31.443699  0.0175
2  0.106667     195  32.674995  29.894207  0.0175
3  0.106667     200  27.925003  28.326893  0.0175
4  0.106667     210  18.974998  26.093891  0.0175
2023-11-13 19:57:06,422 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     310  30.399994  0.0175
1  0.106667     315  26.449997  0.0175
2  0.106667     320  22.849991  0.0175
3  0.106667     325  19.349995  0.0175
4  0.106667     330  16.199997  0.0175
   maturity  strike      price    rate
0  0.106667     185  42.399994  0.0175
1  0.106667     190  37.500000  0.0175
2  0.106667     195  32.674995  0.0175
3  0.106667     200  27.925003  0.0175
4  0.106667     210  18.974998  0.0175
2023-11-13 19:57:06,423 - yq - INFO - Calibrating LONZA on 2023-11-07 00:00:00.
2023-11-13 19:57:36,303 - yq - INFO - Calibrating SIKA on 2023-11-07 00:00:00.
2023-11-13 19:58:12,847 - yq - INFO - The S_0 for LONZA and SIKA are 331.4 and 226.4
2023-11-13 19:58:12,848 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 6 seconds
2023-11-13 19:58:12,856 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231107.csv
2023-11-13 19:58:12,856 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.69905158  0.02164499 -0.19046402  0.43682832  0.41059317]
 [ 9.81970209  0.01708057 -0.21224037  0.42254853  0.36423379]]
2023-11-13 19:58:12,857 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f7e650>, Timestamp('2023-11-07 00:00:00')): 0.0h 1.0m 6s 460ms
2023-11-13 19:58:12,868 - yq - INFO - The log returns list for all assets is: [Date
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
                ...   
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
                ...   
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:58:12,870 - yq - INFO - rho_S1S2 is 0.5528754507176123

2023-11-13 19:58:12,871 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55287545]
 [0.55287545 1.        ]]

2023-11-13 19:58:12,871 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43682832 0.55287545 0.        ]
 [0.43682832 1.         0.         0.        ]
 [0.55287545 0.         1.         0.42254853]
 [0.         0.         0.42254853 1.        ]]

2023-11-13 19:58:12,872 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43682832  0.8995449   0.          0.        ]
 [ 0.55287545 -0.26848205  0.78882579  0.        ]
 [ 0.          0.          0.53566774  0.84442885]]

2023-11-13 19:58:12,872 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f7e650>): 0.0h 0.0m 0s 15ms
2023-11-13 19:58:12,880 - yq - INFO - The adjusted S_0 is [331.4 226.4]
2023-11-13 19:58:12,898 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:58:12,901 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  314.898037  219.692293
1  324.522768  240.713068
2  358.645459  254.055617
3  357.188240  249.401055
4  355.892826  239.938722
2023-11-13 19:58:13,012 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  314.898037  219.692293
2023-11-09  324.522768  240.713068
2023-11-10  358.645459  254.055617
2023-11-13  357.188240  249.401055
2023-11-14  355.892826  239.938722
2023-11-13 19:58:13,096 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
...             ...      ...
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4

[63 rows x 2 columns]
2023-11-13 19:58:13,102 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-07  331.400000  226.400000
2023-11-08  314.898037  219.692293
2023-11-09  324.522768  240.713068
2023-11-10  358.645459  254.055617
2023-11-13  357.188240  249.401055
...                ...         ...
2024-07-24  365.775496  248.923153
2024-07-25  360.476835  247.757572
2024-07-26  363.242209  250.114768
2024-07-29  361.307200  246.789514
2024-07-30  360.515501  246.394960

[181 rows x 2 columns]
2023-11-13 19:58:13,242 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:58:13,242 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7e650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  314.898037  219.692293
2023-11-09  324.522768  240.713068
2023-11-10  358.645459  254.055617
2023-11-13  357.188240  249.401055
2023-11-14  355.892826  239.938722
...                ...         ...
2024-07-24  365.775496  248.923153
2024-07-25  360.476835  247.757572
2024-07-26  363.242209  250.114768
2024-07-29  361.307200  246.789514
2024-07-30  360.515501  246.394960

[180 rows x 2 columns], sim=0): 0.0h 0.0m 0s 224ms
2023-11-13 19:58:13,243 - yq - INFO - The adjusted S_0 is [331.4 226.4]
2023-11-13 19:58:13,263 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:58:13,265 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  322.349314  216.700703
1  296.044176  206.559298
2  304.439754  209.353642
3  298.072752  204.074568
4  307.238141  210.356918
2023-11-13 19:58:13,402 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  322.349314  216.700703
2023-11-09  296.044176  206.559298
2023-11-10  304.439754  209.353642
2023-11-13  298.072752  204.074568
2023-11-14  307.238141  210.356918
2023-11-13 19:58:13,427 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
...             ...      ...
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4

[63 rows x 2 columns]
2023-11-13 19:58:13,430 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-07  331.400000  226.400000
2023-11-08  322.349314  216.700703
2023-11-09  296.044176  206.559298
2023-11-10  304.439754  209.353642
2023-11-13  298.072752  204.074568
...                ...         ...
2024-07-24  292.011279  149.628040
2024-07-25  291.197086  149.123087
2024-07-26  288.747261  150.654598
2024-07-29  284.975770  148.806688
2024-07-30  285.294010  149.823655

[181 rows x 2 columns]
2023-11-13 19:58:13,591 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:58:13,592 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7e650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  322.349314  216.700703
2023-11-09  296.044176  206.559298
2023-11-10  304.439754  209.353642
2023-11-13  298.072752  204.074568
2023-11-14  307.238141  210.356918
...                ...         ...
2024-07-24  292.011279  149.628040
2024-07-25  291.197086  149.123087
2024-07-26  288.747261  150.654598
2024-07-29  284.975770  148.806688
2024-07-30  285.294010  149.823655

[180 rows x 2 columns], sim=1): 0.0h 0.0m 0s 186ms
2023-11-13 19:58:13,592 - yq - INFO - The adjusted S_0 is [331.4 226.4]
2023-11-13 19:58:13,618 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:58:13,620 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  311.454400  205.887087
1  295.790903  195.642141
2  306.622751  206.564034
3  327.440419  209.220823
4  340.582616  210.238910
2023-11-13 19:58:13,772 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  311.454400  205.887087
2023-11-09  295.790903  195.642141
2023-11-10  306.622751  206.564034
2023-11-13  327.440419  209.220823
2023-11-14  340.582616  210.238910
2023-11-13 19:58:13,801 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
...             ...      ...
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4

[63 rows x 2 columns]
2023-11-13 19:58:13,805 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-07  331.400000  226.400000
2023-11-08  311.454400  205.887087
2023-11-09  295.790903  195.642141
2023-11-10  306.622751  206.564034
2023-11-13  327.440419  209.220823
...                ...         ...
2024-07-24  272.616239  143.816560
2024-07-25  272.611024  144.512567
2024-07-26  275.200086  144.337803
2024-07-29  272.424049  144.009115
2024-07-30  273.739081  145.100492

[181 rows x 2 columns]
2023-11-13 19:58:13,974 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:58:13,974 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7e650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  311.454400  205.887087
2023-11-09  295.790903  195.642141
2023-11-10  306.622751  206.564034
2023-11-13  327.440419  209.220823
2023-11-14  340.582616  210.238910
...                ...         ...
2024-07-24  272.616239  143.816560
2024-07-25  272.611024  144.512567
2024-07-26  275.200086  144.337803
2024-07-29  272.424049  144.009115
2024-07-30  273.739081  145.100492

[180 rows x 2 columns], sim=2): 0.0h 0.0m 0s 198ms
2023-11-13 19:58:13,974 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f7e650>, n_sim=3): 0.0h 1.0m 7s 580ms
2023-11-13 19:58:13,975 - yq - INFO - Pricing the product on 2023-11-08 00:00:00
2023-11-13 19:58:13,975 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:58:13,987 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:58:14,322 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-11-13 19:58:14,323 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231108.csv
2023-11-13 19:58:14,327 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231108/lonn_call.csv
2023-11-13 19:58:14,329 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     310  30.399994  34.911545  0.0175
1   0.10386     315  26.449997  33.783463  0.0175
2   0.10386     320  22.849991  33.080822  0.0175
3   0.10386     325  19.349995  32.058968  0.0175
4   0.10386     330  16.199997  31.287321  0.0175
2023-11-13 19:58:14,331 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231108/sika_call.csv
2023-11-13 19:58:14,334 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     185  42.399994  33.494320  0.0175
1   0.10386     190  37.500000  31.443699  0.0175
2   0.10386     195  32.674995  29.894207  0.0175
3   0.10386     200  27.925003  28.326893  0.0175
4   0.10386     210  18.974998  26.093891  0.0175
2023-11-13 19:58:14,339 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     310  30.399994  0.0175
1   0.10386     315  26.449997  0.0175
2   0.10386     320  22.849991  0.0175
3   0.10386     325  19.349995  0.0175
4   0.10386     330  16.199997  0.0175
   maturity  strike      price    rate
0   0.10386     185  42.399994  0.0175
1   0.10386     190  37.500000  0.0175
2   0.10386     195  32.674995  0.0175
3   0.10386     200  27.925003  0.0175
4   0.10386     210  18.974998  0.0175
2023-11-13 19:58:14,340 - yq - INFO - Calibrating LONZA on 2023-11-08 00:00:00.
2023-11-13 19:58:46,910 - yq - INFO - Calibrating SIKA on 2023-11-08 00:00:00.
2023-11-13 19:59:25,980 - yq - INFO - The S_0 for LONZA and SIKA are 334.4 and 226.5
2023-11-13 19:59:25,981 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 11 seconds
2023-11-13 19:59:25,989 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231108.csv
2023-11-13 19:59:25,989 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.27083458e+00  1.31298460e-01 -9.35882591e-03  4.39165933e-01
   1.09733294e+00]
 [ 9.96084679e+00  4.14633718e-02 -1.30766774e-01  4.96240381e-01
   4.29472451e-01]]
2023-11-13 19:59:25,991 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14ca0ead0>, Timestamp('2023-11-08 00:00:00')): 0.0h 1.0m 11s 669ms
2023-11-13 19:59:25,998 - yq - INFO - The log returns list for all assets is: [Date
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
                ...   
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
2023-11-08    0.009012
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
                ...   
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
2023-11-08    0.000442
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 19:59:25,999 - yq - INFO - rho_S1S2 is 0.553065240885675

2023-11-13 19:59:26,000 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55306524]
 [0.55306524 1.        ]]

2023-11-13 19:59:26,000 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43916593 0.55306524 0.        ]
 [0.43916593 1.         0.         0.        ]
 [0.55306524 0.         1.         0.49624038]
 [0.         0.         0.49624038 1.        ]]

2023-11-13 19:59:26,001 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43916593  0.89840597  0.          0.        ]
 [ 0.55306524 -0.27035374  0.7880531   0.        ]
 [ 0.          0.          0.62970424  0.77683497]]

2023-11-13 19:59:26,001 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14ca0ead0>): 0.0h 0.0m 0s 10ms
2023-11-13 19:59:26,007 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 19:59:26,024 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:59:26,027 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  338.042438  229.895396
1  332.455304  233.838296
2  339.805179  235.118699
3  358.251928  237.142634
4  347.447226  252.726045
2023-11-13 19:59:26,128 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  338.042438  229.895396
2023-11-10  332.455304  233.838296
2023-11-13  339.805179  235.118699
2023-11-14  358.251928  237.142634
2023-11-15  347.447226  252.726045
2023-11-13 19:59:26,204 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
...             ...      ...
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5

[63 rows x 2 columns]
2023-11-13 19:59:26,206 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-08  334.400000  226.500000
2023-11-09  338.042438  229.895396
2023-11-10  332.455304  233.838296
2023-11-13  339.805179  235.118699
2023-11-14  358.251928  237.142634
...                ...         ...
2024-07-24  236.813031  275.621409
2024-07-25  243.790978  280.979323
2024-07-26  235.630765  279.842000
2024-07-29  241.268683  283.265138
2024-07-30  233.262959  282.266275

[180 rows x 2 columns]
2023-11-13 19:59:26,334 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:59:26,334 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14ca0ead0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  338.042438  229.895396
2023-11-10  332.455304  233.838296
2023-11-13  339.805179  235.118699
2023-11-14  358.251928  237.142634
2023-11-15  347.447226  252.726045
...                ...         ...
2024-07-24  236.813031  275.621409
2024-07-25  243.790978  280.979323
2024-07-26  235.630765  279.842000
2024-07-29  241.268683  283.265138
2024-07-30  233.262959  282.266275

[179 rows x 2 columns], sim=0): 0.0h 0.0m 0s 204ms
2023-11-13 19:59:26,335 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 19:59:26,354 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:59:26,355 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  332.496288  213.469319
1  325.259224  216.136430
2  335.013017  207.990332
3  339.450921  202.934407
4  298.231228  201.585508
2023-11-13 19:59:26,476 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  332.496288  213.469319
2023-11-10  325.259224  216.136430
2023-11-13  335.013017  207.990332
2023-11-14  339.450921  202.934407
2023-11-15  298.231228  201.585508
2023-11-13 19:59:26,499 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
...             ...      ...
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5

[63 rows x 2 columns]
2023-11-13 19:59:26,503 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-08  334.400000  226.500000
2023-11-09  332.496288  213.469319
2023-11-10  325.259224  216.136430
2023-11-13  335.013017  207.990332
2023-11-14  339.450921  202.934407
...                ...         ...
2024-07-24  553.430831  184.444187
2024-07-25  569.567543  187.433663
2024-07-26  565.804931  183.982123
2024-07-29  566.267805  184.821988
2024-07-30  522.488963  182.982878

[180 rows x 2 columns]
2023-11-13 19:59:26,651 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:59:26,651 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14ca0ead0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  332.496288  213.469319
2023-11-10  325.259224  216.136430
2023-11-13  335.013017  207.990332
2023-11-14  339.450921  202.934407
2023-11-15  298.231228  201.585508
...                ...         ...
2024-07-24  553.430831  184.444187
2024-07-25  569.567543  187.433663
2024-07-26  565.804931  183.982123
2024-07-29  566.267805  184.821988
2024-07-30  522.488963  182.982878

[179 rows x 2 columns], sim=1): 0.0h 0.0m 0s 171ms
2023-11-13 19:59:26,651 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 19:59:26,678 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 19:59:26,680 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  370.598137  251.719701
1  378.438792  246.486909
2  406.249948  238.799641
3  407.520924  240.039316
4  459.897421  251.420760
2023-11-13 19:59:26,832 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  370.598137  251.719701
2023-11-10  378.438792  246.486909
2023-11-13  406.249948  238.799641
2023-11-14  407.520924  240.039316
2023-11-15  459.897421  251.420760
2023-11-13 19:59:26,865 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
...             ...      ...
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5

[63 rows x 2 columns]
2023-11-13 19:59:26,871 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-08  334.400000  226.500000
2023-11-09  370.598137  251.719701
2023-11-10  378.438792  246.486909
2023-11-13  406.249948  238.799641
2023-11-14  407.520924  240.039316
...                ...         ...
2024-07-24  446.959013  223.664785
2024-07-25  445.596425  223.326604
2024-07-26  432.110198  222.291091
2024-07-29  421.749407  219.614926
2024-07-30  412.466808  221.169599

[180 rows x 2 columns]
2023-11-13 19:59:27,051 - yq - INFO - Path of 1 sim is plotted
2023-11-13 19:59:27,051 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14ca0ead0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  370.598137  251.719701
2023-11-10  378.438792  246.486909
2023-11-13  406.249948  238.799641
2023-11-14  407.520924  240.039316
2023-11-15  459.897421  251.420760
...                ...         ...
2024-07-24  446.959013  223.664785
2024-07-25  445.596425  223.326604
2024-07-26  432.110198  222.291091
2024-07-29  421.749407  219.614926
2024-07-30  412.466808  221.169599

[179 rows x 2 columns], sim=2): 0.0h 0.0m 0s 213ms
2023-11-13 19:59:27,051 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14ca0ead0>, n_sim=3): 0.0h 1.0m 12s 732ms
2023-11-13 19:59:27,051 - yq - INFO - Pricing the product on 2023-11-09 00:00:00
2023-11-13 19:59:27,052 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 19:59:27,062 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 19:59:27,413 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-11-13 19:59:27,414 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231109.csv
2023-11-13 19:59:27,419 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231109/lonn_call.csv
2023-11-13 19:59:27,422 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     315  29.199997  31.831684  0.0175
1  0.101053     320  25.299988  31.102568  0.0175
2  0.101053     325  21.599991  30.327896  0.0175
3  0.101053     330  18.149998  29.569244  0.0175
4  0.101053     335  15.025000  28.936207  0.0175
2023-11-13 19:59:27,424 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231109/sika_call.csv
2023-11-13 19:59:27,427 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     190  39.575005  33.059349  0.0175
1  0.101053     195  34.674995  30.623409  0.0175
2  0.101053     200  29.875000  28.943167  0.0175
3  0.101053     210  20.724998  26.483250  0.0175
4  0.101053     220  12.725000  24.856747  0.0175
2023-11-13 19:59:27,432 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     315  29.199997  0.0175
1  0.101053     320  25.299988  0.0175
2  0.101053     325  21.599991  0.0175
3  0.101053     330  18.149998  0.0175
4  0.101053     335  15.025000  0.0175
   maturity  strike      price    rate
0  0.101053     190  39.575005  0.0175
1  0.101053     195  34.674995  0.0175
2  0.101053     200  29.875000  0.0175
3  0.101053     210  20.724998  0.0175
4  0.101053     220  12.725000  0.0175
2023-11-13 19:59:27,433 - yq - INFO - Calibrating LONZA on 2023-11-09 00:00:00.
2023-11-13 19:59:59,775 - yq - INFO - Calibrating SIKA on 2023-11-09 00:00:00.
2023-11-13 20:00:37,194 - yq - INFO - The S_0 for LONZA and SIKA are 339.2 and 229.4
2023-11-13 20:00:37,196 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 20:00:37,207 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/0.5/20231109.csv
2023-11-13 20:00:37,207 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99446361  0.02977029 -0.24404206  0.39105217  0.38783763]
 [ 9.63769868  0.02208133 -0.23317483  0.39159364  0.41039903]]
2023-11-13 20:00:37,209 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864118d0>, Timestamp('2023-11-09 00:00:00')): 0.0h 1.0m 9s 795ms
2023-11-13 20:00:37,220 - yq - INFO - The log returns list for all assets is: [Date
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
                ...   
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
2023-11-08    0.009012
2023-11-09    0.014252
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
                ...   
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
2023-11-08    0.000442
2023-11-09    0.012722
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:00:37,222 - yq - INFO - rho_S1S2 is 0.5578749895424259

2023-11-13 20:00:37,222 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55787499]
 [0.55787499 1.        ]]

2023-11-13 20:00:37,222 - yq - INFO - Simplified correlation matrix is:
[[1.         0.39105217 0.55787499 0.        ]
 [0.39105217 1.         0.         0.        ]
 [0.55787499 0.         1.         0.39159364]
 [0.         0.         0.39159364 1.        ]]

2023-11-13 20:00:37,223 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.39105217  0.92036851  0.          0.        ]
 [ 0.55787499 -0.23703356  0.79535564  0.        ]
 [ 0.          0.          0.49235037  0.8703971 ]]

2023-11-13 20:00:37,223 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864118d0>): 0.0h 0.0m 0s 14ms
2023-11-13 20:00:37,232 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 20:00:37,251 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:00:37,258 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  334.412258  225.494735
1  329.016209  212.028732
2  327.297618  202.988634
3  333.736676  206.336442
4  324.715294  201.587776
2023-11-13 20:00:37,366 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  334.412258  225.494735
2023-11-13  329.016209  212.028732
2023-11-14  327.297618  202.988634
2023-11-15  333.736676  206.336442
2023-11-16  324.715294  201.587776
2023-11-13 20:00:37,412 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
...             ...      ...
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5
2023-11-09    339.2    229.4

[63 rows x 2 columns]
2023-11-13 20:00:37,419 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-09  339.200000  229.400000
2023-11-10  334.412258  225.494735
2023-11-13  329.016209  212.028732
2023-11-14  327.297618  202.988634
2023-11-15  333.736676  206.336442
...                ...         ...
2024-07-24  327.895519  141.238992
2024-07-25  330.532494  142.473389
2024-07-26  326.537821  141.524859
2024-07-29  323.845709  141.282391
2024-07-30  321.995647  139.668768

[179 rows x 2 columns]
2023-11-13 20:00:37,575 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:00:37,576 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864118d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  334.412258  225.494735
2023-11-13  329.016209  212.028732
2023-11-14  327.297618  202.988634
2023-11-15  333.736676  206.336442
2023-11-16  324.715294  201.587776
...                ...         ...
2024-07-24  327.895519  141.238992
2024-07-25  330.532494  142.473389
2024-07-26  326.537821  141.524859
2024-07-29  323.845709  141.282391
2024-07-30  321.995647  139.668768

[178 rows x 2 columns], sim=0): 0.0h 0.0m 0s 205ms
2023-11-13 20:00:37,576 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 20:00:37,599 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:00:37,601 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  340.861952  229.358786
1  323.446640  226.388464
2  320.126962  219.146577
3  305.519319  208.918169
4  285.780382  196.625744
2023-11-13 20:00:37,745 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  340.861952  229.358786
2023-11-13  323.446640  226.388464
2023-11-14  320.126962  219.146577
2023-11-15  305.519319  208.918169
2023-11-16  285.780382  196.625744
2023-11-13 20:00:37,772 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
...             ...      ...
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5
2023-11-09    339.2    229.4

[63 rows x 2 columns]
2023-11-13 20:00:37,776 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-09  339.200000  229.400000
2023-11-10  340.861952  229.358786
2023-11-13  323.446640  226.388464
2023-11-14  320.126962  219.146577
2023-11-15  305.519319  208.918169
...                ...         ...
2024-07-24  246.797022  178.278668
2024-07-25  245.383911  179.442958
2024-07-26  248.986923  183.096050
2024-07-29  249.026171  184.611476
2024-07-30  253.432719  185.115163

[179 rows x 2 columns]
2023-11-13 20:00:37,952 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:00:37,952 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864118d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  340.861952  229.358786
2023-11-13  323.446640  226.388464
2023-11-14  320.126962  219.146577
2023-11-15  305.519319  208.918169
2023-11-16  285.780382  196.625744
...                ...         ...
2024-07-24  246.797022  178.278668
2024-07-25  245.383911  179.442958
2024-07-26  248.986923  183.096050
2024-07-29  249.026171  184.611476
2024-07-30  253.432719  185.115163

[178 rows x 2 columns], sim=1): 0.0h 0.0m 0s 203ms
2023-11-13 20:00:37,953 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 20:00:37,979 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:00:37,981 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  359.101139  236.477149
1  336.315815  226.625681
2  335.133413  228.152193
3  331.804360  237.369717
4  312.694152  228.760862
2023-11-13 20:00:38,134 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  359.101139  236.477149
2023-11-13  336.315815  226.625681
2023-11-14  335.133413  228.152193
2023-11-15  331.804360  237.369717
2023-11-16  312.694152  228.760862
2023-11-13 20:00:38,169 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
...             ...      ...
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5
2023-11-09    339.2    229.4

[63 rows x 2 columns]
2023-11-13 20:00:38,173 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-09  339.200000  229.400000
2023-11-10  359.101139  236.477149
2023-11-13  336.315815  226.625681
2023-11-14  335.133413  228.152193
2023-11-15  331.804360  237.369717
...                ...         ...
2024-07-24  217.240316  199.534693
2024-07-25  214.793824  199.667085
2024-07-26  214.604943  197.908617
2024-07-29  214.073367  198.429737
2024-07-30  213.372121  197.134805

[179 rows x 2 columns]
2023-11-13 20:00:38,337 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:00:38,337 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864118d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  359.101139  236.477149
2023-11-13  336.315815  226.625681
2023-11-14  335.133413  228.152193
2023-11-15  331.804360  237.369717
2023-11-16  312.694152  228.760862
...                ...         ...
2024-07-24  217.240316  199.534693
2024-07-25  214.793824  199.667085
2024-07-26  214.604943  197.908617
2024-07-29  214.073367  198.429737
2024-07-30  213.372121  197.134805

[178 rows x 2 columns], sim=2): 0.0h 0.0m 0s 198ms
2023-11-13 20:00:38,337 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864118d0>, n_sim=3): 0.0h 1.0m 10s 926ms
2023-11-13 20:00:38,338 - yq - INFO - Simulated 3 paths for 67 days.
2023-11-13 20:00:38,340 - yq - INFO - Runtime of sim_price_period(start_date=Timestamp('2023-08-09 00:00:00'), end_date=Timestamp('2023-11-09 00:00:00'), hist_window=63, n_sim=3, plot=True, max_sigma=0.5, model='heston'): 1.0h 4.0m 35s 257ms
2023-11-13 20:00:38,340 - yq - INFO - Running grid search for hist_window: 63, n_sim: 3
2023-11-13 20:00:38,651 - yq - INFO - Pricing the product on 2023-08-09 00:00:00
2023-11-13 20:00:38,652 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:00:38,663 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:00:38,977 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-11-13 20:00:38,978 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230809.csv
2023-11-13 20:00:38,982 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/lonn_call.csv
2023-11-13 20:00:38,984 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     440  52.149994  27.330225  0.0175
1   0.10386     450  43.049988  25.649502  0.0175
2   0.10386     460  34.500000  24.389547  0.0175
3   0.10386     470  26.799995  23.625263  0.0175
4   0.10386     480  19.849991  22.715864  0.0175
2023-11-13 20:00:38,985 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/sika_call.csv
2023-11-13 20:00:38,988 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     220  48.050003  38.010380  0.0175
1   0.10386     230  38.400002  33.623005  0.0175
2   0.10386     240  29.074997  29.997280  0.0175
3   0.10386     250  20.525002  27.632607  0.0175
4   0.10386     260  13.275000  26.195461  0.0175
2023-11-13 20:00:38,992 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     440  52.149994  0.0175
1   0.10386     450  43.049988  0.0175
2   0.10386     460  34.500000  0.0175
3   0.10386     470  26.799995  0.0175
4   0.10386     480  19.849991  0.0175
   maturity  strike      price    rate
0   0.10386     220  48.050003  0.0175
1   0.10386     230  38.400002  0.0175
2   0.10386     240  29.074997  0.0175
3   0.10386     250  20.525002  0.0175
4   0.10386     260  13.275000  0.0175
2023-11-13 20:00:38,992 - yq - INFO - Calibrating LONZA on 2023-08-09 00:00:00.
2023-11-13 20:01:18,463 - yq - INFO - Calibrating SIKA on 2023-08-09 00:00:00.
2023-11-13 20:02:01,995 - yq - INFO - The S_0 for LONZA and SIKA are 489.0 and 265.5
2023-11-13 20:02:01,997 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 23 seconds
2023-11-13 20:02:02,009 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230809.csv
2023-11-13 20:02:02,010 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.70811665  0.0271437  -0.07038799  0.65188097  0.33013105]
 [ 8.29739589  0.01221619 -0.07703921  0.6975119   0.31432669]]
2023-11-13 20:02:02,012 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b6c790>, Timestamp('2023-08-09 00:00:00')): 0.0h 1.0m 23s 34ms
2023-11-13 20:02:02,020 - yq - INFO - The log returns list for all assets is: [Date
2023-05-11    0.019255
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
                ...   
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-11    0.011227
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
                ...   
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:02:02,022 - yq - INFO - rho_S1S2 is 0.4397426412287944

2023-11-13 20:02:02,022 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43974264]
 [0.43974264 1.        ]]

2023-11-13 20:02:02,022 - yq - INFO - Simplified correlation matrix is:
[[1.         0.65188097 0.43974264 0.        ]
 [0.65188097 1.         0.         0.        ]
 [0.43974264 0.         1.         0.6975119 ]
 [0.         0.         0.6975119  1.        ]]

2023-11-13 20:02:02,023 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.65188097  0.7583213   0.          0.        ]
 [ 0.43974264 -0.378019    0.81469506  0.        ]
 [ 0.          0.          0.85616316  0.51670557]]

2023-11-13 20:02:02,023 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b6c790>): 0.0h 0.0m 0s 11ms
2023-11-13 20:02:02,033 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 20:02:02,056 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:02:02,059 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  526.835011  275.545637
1  518.132416  285.689303
2  508.802624  276.254707
3  503.964309  278.147578
4  461.918527  250.446185
2023-11-13 20:02:02,523 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  526.835011  275.545637
2023-08-11  518.132416  285.689303
2023-08-14  508.802624  276.254707
2023-08-15  503.964309  278.147578
2023-08-16  461.918527  250.446185
2023-11-13 20:02:02,581 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 20:02:02,584 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  526.835011  275.545637
2023-08-11  518.132416  285.689303
2023-08-14  508.802624  276.254707
2023-08-15  503.964309  278.147578
...                ...         ...
2024-07-24  353.100003  228.726415
2024-07-25  352.463666  225.582570
2024-07-26  365.113598  227.108804
2024-07-29  363.685029  227.662271
2024-07-30  361.423420  229.330551

[245 rows x 2 columns]
2023-11-13 20:02:02,718 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:02:02,718 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b6c790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  526.835011  275.545637
2023-08-11  518.132416  285.689303
2023-08-14  508.802624  276.254707
2023-08-15  503.964309  278.147578
2023-08-16  461.918527  250.446185
...                ...         ...
2024-07-24  353.100003  228.726415
2024-07-25  352.463666  225.582570
2024-07-26  365.113598  227.108804
2024-07-29  363.685029  227.662271
2024-07-30  361.423420  229.330551

[244 rows x 2 columns], sim=0): 0.0h 0.0m 0s 192ms
2023-11-13 20:02:02,719 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 20:02:02,750 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:02:02,752 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  457.479271  269.220979
1  474.845750  282.093869
2  468.653460  279.269002
3  497.121071  285.424666
4  491.692533  285.009224
2023-11-13 20:02:02,892 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  457.479271  269.220979
2023-08-11  474.845750  282.093869
2023-08-14  468.653460  279.269002
2023-08-15  497.121071  285.424666
2023-08-16  491.692533  285.009224
2023-11-13 20:02:02,922 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 20:02:02,926 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  457.479271  269.220979
2023-08-11  474.845750  282.093869
2023-08-14  468.653460  279.269002
2023-08-15  497.121071  285.424666
...                ...         ...
2024-07-24  310.662404  168.528463
2024-07-25  307.233758  167.609831
2024-07-26  308.075905  168.808952
2024-07-29  305.135909  169.851641
2024-07-30  305.926578  170.201509

[245 rows x 2 columns]
2023-11-13 20:02:03,099 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:02:03,100 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b6c790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  457.479271  269.220979
2023-08-11  474.845750  282.093869
2023-08-14  468.653460  279.269002
2023-08-15  497.121071  285.424666
2023-08-16  491.692533  285.009224
...                ...         ...
2024-07-24  310.662404  168.528463
2024-07-25  307.233758  167.609831
2024-07-26  308.075905  168.808952
2024-07-29  305.135909  169.851641
2024-07-30  305.926578  170.201509

[244 rows x 2 columns], sim=1): 0.0h 0.0m 0s 203ms
2023-11-13 20:02:03,100 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 20:02:03,135 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:02:03,137 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.028174  268.832541
1  483.736619  257.036383
2  471.864954  254.679545
3  437.611295  236.942376
4  450.203111  244.909809
2023-11-13 20:02:03,283 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  491.028174  268.832541
2023-08-11  483.736619  257.036383
2023-08-14  471.864954  254.679545
2023-08-15  437.611295  236.942376
2023-08-16  450.203111  244.909809
2023-11-13 20:02:03,339 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 20:02:03,343 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  491.028174  268.832541
2023-08-11  483.736619  257.036383
2023-08-14  471.864954  254.679545
2023-08-15  437.611295  236.942376
...                ...         ...
2024-07-24  400.634177  171.349069
2024-07-25  411.434327  172.420611
2024-07-26  403.147484  170.876120
2024-07-29  410.669209  171.270336
2024-07-30  403.067310  171.827551

[245 rows x 2 columns]
2023-11-13 20:02:03,514 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:02:03,514 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b6c790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  491.028174  268.832541
2023-08-11  483.736619  257.036383
2023-08-14  471.864954  254.679545
2023-08-15  437.611295  236.942376
2023-08-16  450.203111  244.909809
...                ...         ...
2024-07-24  400.634177  171.349069
2024-07-25  411.434327  172.420611
2024-07-26  403.147484  170.876120
2024-07-29  410.669209  171.270336
2024-07-30  403.067310  171.827551

[244 rows x 2 columns], sim=2): 0.0h 0.0m 0s 227ms
2023-11-13 20:02:03,514 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b6c790>, n_sim=3): 0.0h 1.0m 24s 540ms
2023-11-13 20:02:03,515 - yq - INFO - Pricing the product on 2023-08-10 00:00:00
2023-11-13 20:02:03,515 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:02:03,525 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:02:03,857 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-11-13 20:02:03,858 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230810.csv
2023-11-13 20:02:03,863 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/lonn_call.csv
2023-11-13 20:02:03,866 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.699997  28.406391  0.0175
1  0.101053     460  42.599991  26.427944  0.0175
2  0.101053     470  34.000000  24.808001  0.0175
3  0.101053     480  28.599991  27.952068  0.0175
4  0.101053     490  19.499998  23.021019  0.0175
2023-11-13 20:02:03,867 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/sika_call.csv
2023-11-13 20:02:03,869 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     220  49.675003  37.533554  0.0175
1  0.101053     230  39.950005  33.262680  0.0175
2  0.101053     240  30.450005  29.446768  0.0175
3  0.101053     250  21.574997  26.823681  0.0175
4  0.101053     260  13.925000  25.314522  0.0175
2023-11-13 20:02:03,876 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.699997  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  34.000000  0.0175
3  0.101053     480  28.599991  0.0175
4  0.101053     490  19.499998  0.0175
   maturity  strike      price    rate
0  0.101053     220  49.675003  0.0175
1  0.101053     230  39.950005  0.0175
2  0.101053     240  30.450005  0.0175
3  0.101053     250  21.574997  0.0175
4  0.101053     260  13.925000  0.0175
2023-11-13 20:02:03,877 - yq - INFO - Calibrating LONZA on 2023-08-10 00:00:00.
2023-11-13 20:02:46,842 - yq - INFO - Calibrating SIKA on 2023-08-10 00:00:00.
2023-11-13 20:03:34,174 - yq - INFO - The S_0 for LONZA and SIKA are 498.1 and 268.3
2023-11-13 20:03:34,175 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 30 seconds
2023-11-13 20:03:34,196 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230810.csv
2023-11-13 20:03:34,196 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.87647089e+00  2.80087206e-02 -6.84650350e-02  6.72625504e-01
   3.32841714e-01]
 [ 9.99665555e+00  9.12374529e-02 -4.32863735e-06  4.13409440e-01
   5.26485066e-01]]
2023-11-13 20:03:34,200 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284ccc350>, Timestamp('2023-08-10 00:00:00')): 0.0h 1.0m 30s 342ms
2023-11-13 20:03:34,218 - yq - INFO - The log returns list for all assets is: [Date
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
                ...   
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
                ...   
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:03:34,222 - yq - INFO - rho_S1S2 is 0.43912096394854827

2023-11-13 20:03:34,222 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43912096]
 [0.43912096 1.        ]]

2023-11-13 20:03:34,222 - yq - INFO - Simplified correlation matrix is:
[[1.         0.6726255  0.43912096 0.        ]
 [0.6726255  1.         0.         0.        ]
 [0.43912096 0.         1.         0.41340944]
 [0.         0.         0.41340944 1.        ]]

2023-11-13 20:03:34,224 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.6726255   0.73998306  0.          0.        ]
 [ 0.43912096 -0.39914962  0.80489276  0.        ]
 [ 0.          0.          0.51362052  0.85801746]]

2023-11-13 20:03:34,224 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284ccc350>): 0.0h 0.0m 0s 24ms
2023-11-13 20:03:34,237 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 20:03:34,280 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:03:34,285 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  477.808176  276.443480
1  456.282680  278.281441
2  429.324922  290.365583
3  448.169163  310.476830
4  418.194130  310.901539
2023-11-13 20:03:34,477 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  477.808176  276.443480
2023-08-14  456.282680  278.281441
2023-08-15  429.324922  290.365583
2023-08-16  448.169163  310.476830
2023-08-17  418.194130  310.901539
2023-11-13 20:03:34,629 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 20:03:34,635 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  477.808176  276.443480
2023-08-14  456.282680  278.281441
2023-08-15  429.324922  290.365583
2023-08-16  448.169163  310.476830
...                ...         ...
2024-07-24  380.887736  409.667275
2024-07-25  382.119758  406.677794
2024-07-26  383.215711  407.062094
2024-07-29  382.708520  410.269321
2024-07-30  389.655932  415.190417

[244 rows x 2 columns]
2023-11-13 20:03:34,871 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:03:34,871 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284ccc350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  477.808176  276.443480
2023-08-14  456.282680  278.281441
2023-08-15  429.324922  290.365583
2023-08-16  448.169163  310.476830
2023-08-17  418.194130  310.901539
...                ...         ...
2024-07-24  380.887736  409.667275
2024-07-25  382.119758  406.677794
2024-07-26  383.215711  407.062094
2024-07-29  382.708520  410.269321
2024-07-30  389.655932  415.190417

[243 rows x 2 columns], sim=0): 0.0h 0.0m 0s 389ms
2023-11-13 20:03:34,872 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 20:03:34,937 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:03:34,939 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  525.775399  258.288945
1  542.890710  253.671253
2  532.898094  261.807770
3  528.597055  261.888322
4  508.875252  254.830048
2023-11-13 20:03:35,102 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  525.775399  258.288945
2023-08-14  542.890710  253.671253
2023-08-15  532.898094  261.807770
2023-08-16  528.597055  261.888322
2023-08-17  508.875252  254.830048
2023-11-13 20:03:35,143 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 20:03:35,147 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  525.775399  258.288945
2023-08-14  542.890710  253.671253
2023-08-15  532.898094  261.807770
2023-08-16  528.597055  261.888322
...                ...         ...
2024-07-24  380.237273  351.727125
2024-07-25  380.506587  353.606813
2024-07-26  375.242148  349.780025
2024-07-29  374.822413  335.096328
2024-07-30  368.859653  319.471150

[244 rows x 2 columns]
2023-11-13 20:03:35,397 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:03:35,397 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284ccc350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  525.775399  258.288945
2023-08-14  542.890710  253.671253
2023-08-15  532.898094  261.807770
2023-08-16  528.597055  261.888322
2023-08-17  508.875252  254.830048
...                ...         ...
2024-07-24  380.237273  351.727125
2024-07-25  380.506587  353.606813
2024-07-26  375.242148  349.780025
2024-07-29  374.822413  335.096328
2024-07-30  368.859653  319.471150

[243 rows x 2 columns], sim=1): 0.0h 0.0m 0s 290ms
2023-11-13 20:03:35,398 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 20:03:35,447 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:03:35,450 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  506.093442  280.705663
1  494.733152  273.497252
2  501.133462  267.298929
3  517.432620  265.037044
4  502.555019  272.602314
2023-11-13 20:03:35,627 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  506.093442  280.705663
2023-08-14  494.733152  273.497252
2023-08-15  501.133462  267.298929
2023-08-16  517.432620  265.037044
2023-08-17  502.555019  272.602314
2023-11-13 20:03:35,670 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 20:03:35,675 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  506.093442  280.705663
2023-08-14  494.733152  273.497252
2023-08-15  501.133462  267.298929
2023-08-16  517.432620  265.037044
...                ...         ...
2024-07-24  584.876354  191.094084
2024-07-25  585.962531  188.954507
2024-07-26  579.736255  183.379115
2024-07-29  575.216368  173.915974
2024-07-30  583.023247  177.261288

[244 rows x 2 columns]
2023-11-13 20:03:35,881 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:03:35,881 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284ccc350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  506.093442  280.705663
2023-08-14  494.733152  273.497252
2023-08-15  501.133462  267.298929
2023-08-16  517.432620  265.037044
2023-08-17  502.555019  272.602314
...                ...         ...
2024-07-24  584.876354  191.094084
2024-07-25  585.962531  188.954507
2024-07-26  579.736255  183.379115
2024-07-29  575.216368  173.915974
2024-07-30  583.023247  177.261288

[243 rows x 2 columns], sim=2): 0.0h 0.0m 0s 247ms
2023-11-13 20:03:35,881 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284ccc350>, n_sim=3): 0.0h 1.0m 32s 28ms
2023-11-13 20:03:35,882 - yq - INFO - Pricing the product on 2023-08-11 00:00:00
2023-11-13 20:03:35,883 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:03:35,897 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:03:36,244 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-11-13 20:03:36,245 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230811.csv
2023-11-13 20:03:36,252 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/lonn_call.csv
2023-11-13 20:03:36,255 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     450  51.399994  25.468338  0.0175
1  0.196491     460  43.399994  24.842302  0.0175
2  0.196491     470  35.899994  24.175629  0.0175
3  0.196491     480  29.149994  23.683537  0.0175
4  0.196491     490  23.199997  23.294483  0.0175
2023-11-13 20:03:36,257 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/sika_call.csv
2023-11-13 20:03:36,260 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     220  44.675003  31.911819  0.0175
1  0.196491     230  35.525002  29.347454  0.0175
2  0.196491     240  27.000000  27.414755  0.0175
3  0.196491     250  19.449997  26.059502  0.0175
4  0.196491     260  13.125000  24.996462  0.0175
2023-11-13 20:03:36,266 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.196491     450  51.399994  0.0175
1  0.196491     460  43.399994  0.0175
2  0.196491     470  35.899994  0.0175
3  0.196491     480  29.149994  0.0175
4  0.196491     490  23.199997  0.0175
   maturity  strike      price    rate
0  0.196491     220  44.675003  0.0175
1  0.196491     230  35.525002  0.0175
2  0.196491     240  27.000000  0.0175
3  0.196491     250  19.449997  0.0175
4  0.196491     260  13.125000  0.0175
2023-11-13 20:03:36,266 - yq - INFO - Calibrating LONZA on 2023-08-11 00:00:00.
2023-11-13 20:04:15,121 - yq - INFO - Calibrating SIKA on 2023-08-11 00:00:00.
2023-11-13 20:04:50,712 - yq - INFO - The S_0 for LONZA and SIKA are 494.9 and 262.8
2023-11-13 20:04:50,714 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 14 seconds
2023-11-13 20:04:50,726 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230811.csv
2023-11-13 20:04:50,726 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  7.52787826e-02 -6.28893176e-07  1.35023055e+00
   2.69262230e-01]
 [ 5.72112145e+00  2.61284210e-02 -4.53549133e-02  1.48942329e+00
   2.19140977e-02]]
2023-11-13 20:04:50,728 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284ccc350>, Timestamp('2023-08-11 00:00:00')): 0.0h 1.0m 14s 484ms
2023-11-13 20:04:50,736 - yq - INFO - The log returns list for all assets is: [Date
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
                ...   
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
                ...   
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:04:50,738 - yq - INFO - rho_S1S2 is 0.4372111961971176

2023-11-13 20:04:50,738 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4372112]
 [0.4372112 1.       ]]

2023-11-13 20:04:50,738 - yq - INFO - Simplified correlation matrix is:
[[1.         1.35023055 0.4372112  0.        ]
 [1.35023055 1.         0.         0.        ]
 [0.4372112  0.         1.         1.48942329]
 [0.         0.         1.48942329 1.        ]]

2023-11-13 20:04:50,739 - yq - ERROR - Error during simulation on 2023-08-11 00:00:00: Matrix is not positive definite
2023-11-13 20:04:50,739 - yq - INFO - Pricing the product on 2023-08-14 00:00:00
2023-11-13 20:04:50,739 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:04:50,767 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:04:50,999 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-11-13 20:04:51,000 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230814.csv
2023-11-13 20:04:51,005 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/lonn_call.csv
2023-11-13 20:04:51,007 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     450  51.399994  25.468338  0.0175
1   0.18807     460  43.399994  24.842302  0.0175
2   0.18807     470  35.899994  24.175629  0.0175
3   0.18807     480  29.149994  23.683537  0.0175
4   0.18807     490  23.199997  23.294483  0.0175
2023-11-13 20:04:51,007 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/sika_call.csv
2023-11-13 20:04:51,009 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     220  44.675003  31.911819  0.0175
1   0.18807     230  35.525002  29.347454  0.0175
2   0.18807     240  27.000000  27.414755  0.0175
3   0.18807     250  19.449997  26.059502  0.0175
4   0.18807     260  13.125000  24.996462  0.0175
2023-11-13 20:04:51,012 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.18807     450  51.399994  0.0175
1   0.18807     460  43.399994  0.0175
2   0.18807     470  35.899994  0.0175
3   0.18807     480  29.149994  0.0175
4   0.18807     490  23.199997  0.0175
   maturity  strike      price    rate
0   0.18807     220  44.675003  0.0175
1   0.18807     230  35.525002  0.0175
2   0.18807     240  27.000000  0.0175
3   0.18807     250  19.449997  0.0175
4   0.18807     260  13.125000  0.0175
2023-11-13 20:04:51,013 - yq - INFO - Calibrating LONZA on 2023-08-14 00:00:00.
2023-11-13 20:05:27,721 - yq - INFO - Calibrating SIKA on 2023-08-14 00:00:00.
2023-11-13 20:06:00,227 - yq - INFO - The S_0 for LONZA and SIKA are 494.2 and 262.5
2023-11-13 20:06:00,228 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 20:06:00,246 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230814.csv
2023-11-13 20:06:00,246 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  8.22917341e-02 -8.63950572e-07  1.02080613e+00
   3.03445656e-01]
 [ 1.00000000e+01  6.94860651e-02 -1.70662725e-07  1.42256260e+00
   4.02359402e-01]]
2023-11-13 20:06:00,249 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285171250>, Timestamp('2023-08-14 00:00:00')): 0.0h 1.0m 9s 249ms
2023-11-13 20:06:00,263 - yq - INFO - The log returns list for all assets is: [Date
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
                ...   
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
                ...   
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:06:00,265 - yq - INFO - rho_S1S2 is 0.4415351262144186

2023-11-13 20:06:00,265 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44153513]
 [0.44153513 1.        ]]

2023-11-13 20:06:00,266 - yq - INFO - Simplified correlation matrix is:
[[1.         1.02080613 0.44153513 0.        ]
 [1.02080613 1.         0.         0.        ]
 [0.44153513 0.         1.         1.4225626 ]
 [0.         0.         1.4225626  1.        ]]

2023-11-13 20:06:00,267 - yq - ERROR - Error during simulation on 2023-08-14 00:00:00: Matrix is not positive definite
2023-11-13 20:06:00,267 - yq - INFO - Pricing the product on 2023-08-15 00:00:00
2023-11-13 20:06:00,267 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:06:00,299 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:06:00,622 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-11-13 20:06:00,623 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230815.csv
2023-11-13 20:06:00,628 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/lonn_call.csv
2023-11-13 20:06:00,630 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     440  55.374992  28.061256  0.0175
1  0.185263     450  47.000000  26.852697  0.0175
2  0.185263     460  39.199997  25.892950  0.0175
3  0.185263     470  32.699989  25.923019  0.0175
4  0.185263     480  24.799995  23.396318  0.0175
2023-11-13 20:06:00,631 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/sika_call.csv
2023-11-13 20:06:00,634 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     210  50.325005  34.053059  0.0175
1  0.185263     220  40.974998  31.394001  0.0175
2  0.185263     230  32.075005  29.231590  0.0175
3  0.185263     240  23.925003  27.594440  0.0175
4  0.185263     250  16.900002  26.497833  0.0175
2023-11-13 20:06:00,638 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.185263     440  55.374992  0.0175
1  0.185263     450  47.000000  0.0175
2  0.185263     460  39.199997  0.0175
3  0.185263     470  32.699989  0.0175
4  0.185263     480  24.799995  0.0175
   maturity  strike      price    rate
0  0.185263     210  50.325005  0.0175
1  0.185263     220  40.974998  0.0175
2  0.185263     230  32.075005  0.0175
3  0.185263     240  23.925003  0.0175
4  0.185263     250  16.900002  0.0175
2023-11-13 20:06:00,639 - yq - INFO - Calibrating LONZA on 2023-08-15 00:00:00.
2023-11-13 20:06:36,403 - yq - INFO - Calibrating SIKA on 2023-08-15 00:00:00.
2023-11-13 20:07:16,540 - yq - INFO - The S_0 for LONZA and SIKA are 487.9 and 258.1
2023-11-13 20:07:16,549 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 20:07:16,609 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230815.csv
2023-11-13 20:07:16,609 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  8.60036510e-02 -5.04369183e-07  1.00036839e-02
   1.90679859e-01]
 [ 1.00000000e+01  8.57214687e-02 -1.71413382e-05  1.02504271e+00
   2.82587678e-01]]
2023-11-13 20:07:16,618 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2865a7cd0>, Timestamp('2023-08-15 00:00:00')): 0.0h 1.0m 15s 996ms
2023-11-13 20:07:16,666 - yq - INFO - The log returns list for all assets is: [Date
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
                ...   
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
                ...   
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:07:16,671 - yq - INFO - rho_S1S2 is 0.4452426918206425

2023-11-13 20:07:16,671 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44524269]
 [0.44524269 1.        ]]

2023-11-13 20:07:16,671 - yq - INFO - Simplified correlation matrix is:
[[1.         0.01000368 0.44524269 0.        ]
 [0.01000368 1.         0.         0.        ]
 [0.44524269 0.         1.         1.02504271]
 [0.         0.         1.02504271 1.        ]]

2023-11-13 20:07:16,673 - yq - ERROR - Error during simulation on 2023-08-15 00:00:00: Matrix is not positive definite
2023-11-13 20:07:16,673 - yq - INFO - Pricing the product on 2023-08-16 00:00:00
2023-11-13 20:07:16,673 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:07:16,742 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:07:17,081 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-11-13 20:07:17,100 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230816.csv
2023-11-13 20:07:17,131 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/lonn_call.csv
2023-11-13 20:07:17,134 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     430  55.974991  27.144444  0.0175
1  0.182456     440  47.599991  26.275923  0.0175
2  0.182456     450  39.799988  25.597614  0.0175
3  0.182456     460  32.649994  25.031048  0.0175
4  0.182456     470  26.224991  24.533737  0.0175
2023-11-13 20:07:17,141 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/sika_call.csv
2023-11-13 20:07:17,143 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     210  49.275002  34.904442  0.0175
1  0.182456     220  39.925003  31.884911  0.0175
2  0.182456     230  31.074997  29.593031  0.0175
3  0.182456     240  23.049995  27.989325  0.0175
4  0.182456     250  16.124998  26.773222  0.0175
2023-11-13 20:07:17,151 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.182456     430  55.974991  0.0175
1  0.182456     440  47.599991  0.0175
2  0.182456     450  39.799988  0.0175
3  0.182456     460  32.649994  0.0175
4  0.182456     470  26.224991  0.0175
   maturity  strike      price    rate
0  0.182456     210  49.275002  0.0175
1  0.182456     220  39.925003  0.0175
2  0.182456     230  31.074997  0.0175
3  0.182456     240  23.049995  0.0175
4  0.182456     250  16.124998  0.0175
2023-11-13 20:07:17,151 - yq - INFO - Calibrating LONZA on 2023-08-16 00:00:00.
2023-11-13 20:07:55,482 - yq - INFO - Calibrating SIKA on 2023-08-16 00:00:00.
2023-11-13 20:08:41,787 - yq - INFO - The S_0 for LONZA and SIKA are 479.8 and 257.4
2023-11-13 20:08:41,805 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 24 seconds
2023-11-13 20:08:41,849 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230816.csv
2023-11-13 20:08:41,863 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.87451446  0.02130307 -0.11116932  1.49941317  0.0334391 ]
 [ 8.99987684  0.01510379 -0.07942769  1.48954091  0.0274473 ]]
2023-11-13 20:08:41,868 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28529e950>, Timestamp('2023-08-16 00:00:00')): 0.0h 1.0m 24s 786ms
2023-11-13 20:08:41,883 - yq - INFO - The log returns list for all assets is: [Date
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
                ...   
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
                ...   
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:08:41,885 - yq - INFO - rho_S1S2 is 0.44125457706800547

2023-11-13 20:08:41,886 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44125458]
 [0.44125458 1.        ]]

2023-11-13 20:08:41,886 - yq - INFO - Simplified correlation matrix is:
[[1.         1.49941317 0.44125458 0.        ]
 [1.49941317 1.         0.         0.        ]
 [0.44125458 0.         1.         1.48954091]
 [0.         0.         1.48954091 1.        ]]

2023-11-13 20:08:41,887 - yq - ERROR - Error during simulation on 2023-08-16 00:00:00: Matrix is not positive definite
2023-11-13 20:08:41,887 - yq - INFO - Pricing the product on 2023-08-17 00:00:00
2023-11-13 20:08:41,888 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:08:41,935 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:08:42,267 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-11-13 20:08:42,268 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230817.csv
2023-11-13 20:08:42,274 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/lonn_call.csv
2023-11-13 20:08:42,276 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     430  50.399994  27.299341  0.0175
1  0.179649     440  42.250000  26.296572  0.0175
2  0.179649     450  34.750000  25.521204  0.0175
3  0.179649     460  27.949989  24.854713  0.0175
4  0.179649     470  21.949989  24.286530  0.0175
2023-11-13 20:08:42,280 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/sika_call.csv
2023-11-13 20:08:42,282 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     210  42.400002  33.117111  0.0175
1  0.179649     220  33.425003  30.933372  0.0175
2  0.179649     230  25.150002  29.240053  0.0175
3  0.179649     240  17.875000  27.899794  0.0175
4  0.179649     250  11.900000  26.879539  0.0175
2023-11-13 20:08:42,287 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.179649     430  50.399994  0.0175
1  0.179649     440  42.250000  0.0175
2  0.179649     450  34.750000  0.0175
3  0.179649     460  27.949989  0.0175
4  0.179649     470  21.949989  0.0175
   maturity  strike      price    rate
0  0.179649     210  42.400002  0.0175
1  0.179649     220  33.425003  0.0175
2  0.179649     230  25.150002  0.0175
3  0.179649     240  17.875000  0.0175
4  0.179649     250  11.900000  0.0175
2023-11-13 20:08:42,288 - yq - INFO - Calibrating LONZA on 2023-08-17 00:00:00.
2023-11-13 20:09:20,865 - yq - INFO - Calibrating SIKA on 2023-08-17 00:00:00.
2023-11-13 20:09:53,144 - yq - INFO - The S_0 for LONZA and SIKA are 473.2 and 250.6
2023-11-13 20:09:53,150 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 10 seconds
2023-11-13 20:09:53,224 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230817.csv
2023-11-13 20:09:53,224 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  8.47093935e-02 -2.08498120e-07  1.34630814e+00
   1.56360656e-01]
 [ 9.24171530e+00  1.00629580e-02 -1.01223852e-01  8.23027061e-01
   1.01452124e-01]]
2023-11-13 20:09:53,229 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f9ee10>, Timestamp('2023-08-17 00:00:00')): 0.0h 1.0m 10s 961ms
2023-11-13 20:09:53,264 - yq - INFO - The log returns list for all assets is: [Date
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
                ...   
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
                ...   
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:09:53,268 - yq - INFO - rho_S1S2 is 0.42663716309083205

2023-11-13 20:09:53,269 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42663716]
 [0.42663716 1.        ]]

2023-11-13 20:09:53,269 - yq - INFO - Simplified correlation matrix is:
[[1.         1.34630814 0.42663716 0.        ]
 [1.34630814 1.         0.         0.        ]
 [0.42663716 0.         1.         0.82302706]
 [0.         0.         0.82302706 1.        ]]

2023-11-13 20:09:53,270 - yq - ERROR - Error during simulation on 2023-08-17 00:00:00: Matrix is not positive definite
2023-11-13 20:09:53,270 - yq - INFO - Pricing the product on 2023-08-18 00:00:00
2023-11-13 20:09:53,273 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:09:53,348 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:09:53,634 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-11-13 20:09:53,637 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230818.csv
2023-11-13 20:09:53,650 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/lonn_call.csv
2023-11-13 20:09:53,652 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     430  53.599991  28.433285  0.0175
1  0.176842     440  45.049988  27.074509  0.0175
2  0.176842     450  37.099991  26.028452  0.0175
3  0.176842     460  29.824997  25.145454  0.0175
4  0.176842     470  23.349991  24.413734  0.0175
2023-11-13 20:09:53,658 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/sika_call.csv
2023-11-13 20:09:53,660 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  48.974998  36.800362  0.0175
1  0.176842     210  39.600006  33.488438  0.0175
2  0.176842     220  30.675003  30.802935  0.0175
3  0.176842     230  22.599998  29.016119  0.0175
4  0.176842     240  15.625000  27.617016  0.0175
2023-11-13 20:09:53,664 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     430  53.599991  0.0175
1  0.176842     440  45.049988  0.0175
2  0.176842     450  37.099991  0.0175
3  0.176842     460  29.824997  0.0175
4  0.176842     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.176842     200  48.974998  0.0175
1  0.176842     210  39.600006  0.0175
2  0.176842     220  30.675003  0.0175
3  0.176842     230  22.599998  0.0175
4  0.176842     240  15.625000  0.0175
2023-11-13 20:09:53,664 - yq - INFO - Calibrating LONZA on 2023-08-18 00:00:00.
2023-11-13 20:10:35,348 - yq - INFO - Calibrating SIKA on 2023-08-18 00:00:00.
2023-11-13 20:11:11,140 - yq - INFO - The S_0 for LONZA and SIKA are 471.9 and 247.5
2023-11-13 20:11:11,144 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 17 seconds
2023-11-13 20:11:11,169 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230818.csv
2023-11-13 20:11:11,169 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.11752372  0.01466909 -0.08736858  0.48847556  0.212759  ]
 [ 9.45479218  0.01414193 -0.12278956  0.72937734  0.12209434]]
2023-11-13 20:11:11,173 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864e7a90>, Timestamp('2023-08-18 00:00:00')): 0.0h 1.0m 17s 538ms
2023-11-13 20:11:11,202 - yq - INFO - The log returns list for all assets is: [Date
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
                ...   
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
                ...   
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:11:11,208 - yq - INFO - rho_S1S2 is 0.4247711739692134

2023-11-13 20:11:11,209 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42477117]
 [0.42477117 1.        ]]

2023-11-13 20:11:11,209 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48847556 0.42477117 0.        ]
 [0.48847556 1.         0.         0.        ]
 [0.42477117 0.         1.         0.72937734]
 [0.         0.         0.72937734 1.        ]]

2023-11-13 20:11:11,211 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48847556  0.87257758  0.          0.        ]
 [ 0.42477117 -0.23779013  0.8735132   0.        ]
 [ 0.          0.          0.83499293  0.55026068]]

2023-11-13 20:11:11,211 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864e7a90>): 0.0h 0.0m 0s 38ms
2023-11-13 20:11:11,279 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 20:11:11,306 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:11:11,312 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  477.100115  244.157440
1  430.635698  233.879830
2  441.654057  237.845209
3  447.160351  242.056004
4  448.843548  241.370296
2023-11-13 20:11:11,529 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  477.100115  244.157440
2023-08-22  430.635698  233.879830
2023-08-23  441.654057  237.845209
2023-08-24  447.160351  242.056004
2023-08-25  448.843548  241.370296
2023-11-13 20:11:11,886 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
...             ...      ...
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5

[63 rows x 2 columns]
2023-11-13 20:11:11,894 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-18  471.900000  247.500000
2023-08-21  477.100115  244.157440
2023-08-22  430.635698  233.879830
2023-08-23  441.654057  237.845209
2023-08-24  447.160351  242.056004
...                ...         ...
2024-07-24  385.824236  213.861097
2024-07-25  387.867886  215.689377
2024-07-26  387.823582  216.649374
2024-07-29  386.505449  216.872004
2024-07-30  388.182970  216.664106

[238 rows x 2 columns]
2023-11-13 20:11:12,093 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:11:12,093 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864e7a90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  477.100115  244.157440
2023-08-22  430.635698  233.879830
2023-08-23  441.654057  237.845209
2023-08-24  447.160351  242.056004
2023-08-25  448.843548  241.370296
...                ...         ...
2024-07-24  385.824236  213.861097
2024-07-25  387.867886  215.689377
2024-07-26  387.823582  216.649374
2024-07-29  386.505449  216.872004
2024-07-30  388.182970  216.664106

[237 rows x 2 columns], sim=0): 0.0h 0.0m 0s 553ms
2023-11-13 20:11:12,094 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 20:11:12,121 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:11:12,122 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  465.277564  251.064366
1  467.768861  253.746713
2  466.331044  254.431110
3  459.148602  250.942604
4  461.241241  255.571670
2023-11-13 20:11:12,263 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  465.277564  251.064366
2023-08-22  467.768861  253.746713
2023-08-23  466.331044  254.431110
2023-08-24  459.148602  250.942604
2023-08-25  461.241241  255.571670
2023-11-13 20:11:12,293 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
...             ...      ...
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5

[63 rows x 2 columns]
2023-11-13 20:11:12,297 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-18  471.900000  247.500000
2023-08-21  465.277564  251.064366
2023-08-22  467.768861  253.746713
2023-08-23  466.331044  254.431110
2023-08-24  459.148602  250.942604
...                ...         ...
2024-07-24  544.152954  291.662739
2024-07-25  546.661984  294.819941
2024-07-26  549.254833  295.501631
2024-07-29  553.357501  294.479091
2024-07-30  550.363586  292.342132

[238 rows x 2 columns]
2023-11-13 20:11:12,471 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:11:12,471 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864e7a90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  465.277564  251.064366
2023-08-22  467.768861  253.746713
2023-08-23  466.331044  254.431110
2023-08-24  459.148602  250.942604
2023-08-25  461.241241  255.571670
...                ...         ...
2024-07-24  544.152954  291.662739
2024-07-25  546.661984  294.819941
2024-07-26  549.254833  295.501631
2024-07-29  553.357501  294.479091
2024-07-30  550.363586  292.342132

[237 rows x 2 columns], sim=1): 0.0h 0.0m 0s 204ms
2023-11-13 20:11:12,472 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 20:11:12,505 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:11:12,507 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.268825  248.756091
1  466.646428  250.291628
2  462.170712  247.317531
3  490.824054  256.654509
4  500.712489  257.492917
2023-11-13 20:11:12,654 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  480.268825  248.756091
2023-08-22  466.646428  250.291628
2023-08-23  462.170712  247.317531
2023-08-24  490.824054  256.654509
2023-08-25  500.712489  257.492917
2023-11-13 20:11:12,700 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
...             ...      ...
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5

[63 rows x 2 columns]
2023-11-13 20:11:12,704 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-18  471.900000  247.500000
2023-08-21  480.268825  248.756091
2023-08-22  466.646428  250.291628
2023-08-23  462.170712  247.317531
2023-08-24  490.824054  256.654509
...                ...         ...
2024-07-24  692.795409  288.068408
2024-07-25  697.379528  290.217159
2024-07-26  700.352349  290.696319
2024-07-29  706.477801  292.173684
2024-07-30  701.044191  288.166123

[238 rows x 2 columns]
2023-11-13 20:11:12,864 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:11:12,864 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864e7a90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  480.268825  248.756091
2023-08-22  466.646428  250.291628
2023-08-23  462.170712  247.317531
2023-08-24  490.824054  256.654509
2023-08-25  500.712489  257.492917
...                ...         ...
2024-07-24  692.795409  288.068408
2024-07-25  697.379528  290.217159
2024-07-26  700.352349  290.696319
2024-07-29  706.477801  292.173684
2024-07-30  701.044191  288.166123

[237 rows x 2 columns], sim=2): 0.0h 0.0m 0s 205ms
2023-11-13 20:11:12,864 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864e7a90>, n_sim=3): 0.0h 1.0m 19s 233ms
2023-11-13 20:11:12,864 - yq - INFO - Pricing the product on 2023-08-21 00:00:00
2023-11-13 20:11:12,864 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:11:12,877 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:11:13,170 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-11-13 20:11:13,171 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230821.csv
2023-11-13 20:11:13,176 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/lonn_call.csv
2023-11-13 20:11:13,178 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     430  53.599991  28.433285  0.0175
1  0.168421     440  45.049988  27.074509  0.0175
2  0.168421     450  37.099991  26.028452  0.0175
3  0.168421     460  29.824997  25.145454  0.0175
4  0.168421     470  23.349991  24.413734  0.0175
2023-11-13 20:11:13,179 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/sika_call.csv
2023-11-13 20:11:13,181 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.125008  36.494854  0.0175
1  0.168421     200  42.300003  34.223370  0.0175
2  0.168421     210  32.924995  30.578308  0.0175
3  0.168421     220  24.175003  27.988766  0.0175
4  0.168421     230  16.475006  26.213083  0.0175
2023-11-13 20:11:13,185 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     430  53.599991  0.0175
1  0.168421     440  45.049988  0.0175
2  0.168421     450  37.099991  0.0175
3  0.168421     460  29.824997  0.0175
4  0.168421     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.125008  0.0175
1  0.168421     200  42.300003  0.0175
2  0.168421     210  32.924995  0.0175
3  0.168421     220  24.175003  0.0175
4  0.168421     230  16.475006  0.0175
2023-11-13 20:11:13,185 - yq - INFO - Calibrating LONZA on 2023-08-21 00:00:00.
2023-11-13 20:11:54,957 - yq - INFO - Calibrating SIKA on 2023-08-21 00:00:00.
2023-11-13 20:12:31,854 - yq - INFO - The S_0 for LONZA and SIKA are 469.9 and 244.9
2023-11-13 20:12:31,858 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 18 seconds
2023-11-13 20:12:31,870 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230821.csv
2023-11-13 20:12:31,870 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.63561433  0.01807327 -0.12050892  0.64308094  0.1429139 ]
 [ 9.99999992  0.15563089 -0.17107714  1.5         0.02290929]]
2023-11-13 20:12:31,872 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284cbe610>, Timestamp('2023-08-21 00:00:00')): 0.0h 1.0m 18s 702ms
2023-11-13 20:12:31,886 - yq - INFO - The log returns list for all assets is: [Date
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
                ...   
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
                ...   
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:12:31,887 - yq - INFO - rho_S1S2 is 0.4435422786799675

2023-11-13 20:12:31,887 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44354228]
 [0.44354228 1.        ]]

2023-11-13 20:12:31,887 - yq - INFO - Simplified correlation matrix is:
[[1.         0.64308094 0.44354228 0.        ]
 [0.64308094 1.         0.         0.        ]
 [0.44354228 0.         1.         1.5       ]
 [0.         0.         1.5        1.        ]]

2023-11-13 20:12:31,888 - yq - ERROR - Error during simulation on 2023-08-21 00:00:00: Matrix is not positive definite
2023-11-13 20:12:31,888 - yq - INFO - Pricing the product on 2023-08-22 00:00:00
2023-11-13 20:12:31,888 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:12:31,920 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:12:32,187 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-11-13 20:12:32,187 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230822.csv
2023-11-13 20:12:32,195 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/lonn_call.csv
2023-11-13 20:12:32,198 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     430  53.599991  28.433285  0.0175
1  0.165614     440  45.049988  27.074509  0.0175
2  0.165614     450  37.099991  26.028452  0.0175
3  0.165614     460  29.824997  25.145454  0.0175
4  0.165614     470  23.349991  24.413734  0.0175
2023-11-13 20:12:32,199 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/sika_call.csv
2023-11-13 20:12:32,202 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     195  47.125008  36.494854  0.0175
1  0.165614     200  42.300003  34.223370  0.0175
2  0.165614     210  32.924995  30.578308  0.0175
3  0.165614     220  24.175003  27.988766  0.0175
4  0.165614     230  16.475006  26.213083  0.0175
2023-11-13 20:12:32,207 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     430  53.599991  0.0175
1  0.165614     440  45.049988  0.0175
2  0.165614     450  37.099991  0.0175
3  0.165614     460  29.824997  0.0175
4  0.165614     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.165614     195  47.125008  0.0175
1  0.165614     200  42.300003  0.0175
2  0.165614     210  32.924995  0.0175
3  0.165614     220  24.175003  0.0175
4  0.165614     230  16.475006  0.0175
2023-11-13 20:12:32,207 - yq - INFO - Calibrating LONZA on 2023-08-22 00:00:00.
2023-11-13 20:13:12,172 - yq - INFO - Calibrating SIKA on 2023-08-22 00:00:00.
2023-11-13 20:13:54,794 - yq - INFO - The S_0 for LONZA and SIKA are 469.1 and 245.1
2023-11-13 20:13:54,796 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 22 seconds
2023-11-13 20:13:54,809 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230822.csv
2023-11-13 20:13:54,809 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.98162002  0.01563582 -0.11796755  0.4504461   0.23079972]
 [ 3.01718302  0.02767565 -0.09211566  0.42117187  0.25142329]]
2023-11-13 20:13:54,811 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e512fd0>, Timestamp('2023-08-22 00:00:00')): 0.0h 1.0m 22s 624ms
2023-11-13 20:13:54,819 - yq - INFO - The log returns list for all assets is: [Date
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
                ...   
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
                ...   
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:13:54,821 - yq - INFO - rho_S1S2 is 0.4369426266185002

2023-11-13 20:13:54,821 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43694263]
 [0.43694263 1.        ]]

2023-11-13 20:13:54,821 - yq - INFO - Simplified correlation matrix is:
[[1.         0.4504461  0.43694263 0.        ]
 [0.4504461  1.         0.         0.        ]
 [0.43694263 0.         1.         0.42117187]
 [0.         0.         0.42117187 1.        ]]

2023-11-13 20:13:54,822 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.4504461   0.89280362  0.          0.        ]
 [ 0.43694263 -0.22045061  0.87205658  0.        ]
 [ 0.          0.          0.48296393  0.87564025]]

2023-11-13 20:13:54,822 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e512fd0>): 0.0h 0.0m 0s 11ms
2023-11-13 20:13:54,830 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 20:13:54,853 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:13:54,858 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  451.592559  242.072892
1  439.745081  234.673774
2  424.746911  217.719933
3  437.496418  222.132891
4  442.741850  226.867096
2023-11-13 20:13:54,980 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  451.592559  242.072892
2023-08-24  439.745081  234.673774
2023-08-25  424.746911  217.719933
2023-08-28  437.496418  222.132891
2023-08-29  442.741850  226.867096
2023-11-13 20:13:55,087 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 20:13:55,092 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  451.592559  242.072892
2023-08-24  439.745081  234.673774
2023-08-25  424.746911  217.719933
2023-08-28  437.496418  222.132891
...                ...         ...
2024-07-24  423.534593  151.095850
2024-07-25  421.357114  149.717107
2024-07-26  422.065373  150.464915
2024-07-29  426.750635  151.413538
2024-07-30  429.984438  150.179658

[236 rows x 2 columns]
2023-11-13 20:13:55,255 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:13:55,255 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e512fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  451.592559  242.072892
2023-08-24  439.745081  234.673774
2023-08-25  424.746911  217.719933
2023-08-28  437.496418  222.132891
2023-08-29  442.741850  226.867096
...                ...         ...
2024-07-24  423.534593  151.095850
2024-07-25  421.357114  149.717107
2024-07-26  422.065373  150.464915
2024-07-29  426.750635  151.413538
2024-07-30  429.984438  150.179658

[235 rows x 2 columns], sim=0): 0.0h 0.0m 0s 269ms
2023-11-13 20:13:55,256 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 20:13:55,286 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:13:55,288 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  467.396317  246.697110
1  472.810277  249.163235
2  463.447882  247.726964
3  456.578860  240.737636
4  466.963190  243.387956
2023-11-13 20:13:55,435 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  467.396317  246.697110
2023-08-24  472.810277  249.163235
2023-08-25  463.447882  247.726964
2023-08-28  456.578860  240.737636
2023-08-29  466.963190  243.387956
2023-11-13 20:13:55,468 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 20:13:55,472 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  467.396317  246.697110
2023-08-24  472.810277  249.163235
2023-08-25  463.447882  247.726964
2023-08-28  456.578860  240.737636
...                ...         ...
2024-07-24  465.797384  180.225634
2024-07-25  470.782872  183.164549
2024-07-26  474.038826  181.359560
2024-07-29  471.452141  179.044724
2024-07-30  475.074763  178.786876

[236 rows x 2 columns]
2023-11-13 20:13:55,633 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:13:55,633 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e512fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  467.396317  246.697110
2023-08-24  472.810277  249.163235
2023-08-25  463.447882  247.726964
2023-08-28  456.578860  240.737636
2023-08-29  466.963190  243.387956
...                ...         ...
2024-07-24  465.797384  180.225634
2024-07-25  470.782872  183.164549
2024-07-26  474.038826  181.359560
2024-07-29  471.452141  179.044724
2024-07-30  475.074763  178.786876

[235 rows x 2 columns], sim=1): 0.0h 0.0m 0s 193ms
2023-11-13 20:13:55,633 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 20:13:55,667 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:13:55,669 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  440.879404  240.197819
1  448.121273  232.571432
2  465.457216  233.839990
3  460.791270  236.327607
4  465.012964  241.799254
2023-11-13 20:13:55,814 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  440.879404  240.197819
2023-08-24  448.121273  232.571432
2023-08-25  465.457216  233.839990
2023-08-28  460.791270  236.327607
2023-08-29  465.012964  241.799254
2023-11-13 20:13:55,891 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 20:13:55,895 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  440.879404  240.197819
2023-08-24  448.121273  232.571432
2023-08-25  465.457216  233.839990
2023-08-28  460.791270  236.327607
...                ...         ...
2024-07-24  388.565153  177.672587
2024-07-25  386.950832  174.499887
2024-07-26  387.268881  175.855729
2024-07-29  387.468903  173.092891
2024-07-30  385.125083  175.339385

[236 rows x 2 columns]
2023-11-13 20:13:56,718 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:13:56,720 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e512fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  440.879404  240.197819
2023-08-24  448.121273  232.571432
2023-08-25  465.457216  233.839990
2023-08-28  460.791270  236.327607
2023-08-29  465.012964  241.799254
...                ...         ...
2024-07-24  388.565153  177.672587
2024-07-25  386.950832  174.499887
2024-07-26  387.268881  175.855729
2024-07-29  387.468903  173.092891
2024-07-30  385.125083  175.339385

[235 rows x 2 columns], sim=2): 0.0h 0.0m 0s 903ms
2023-11-13 20:13:56,720 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e512fd0>, n_sim=3): 0.0h 1.0m 24s 537ms
2023-11-13 20:13:56,720 - yq - INFO - Pricing the product on 2023-08-23 00:00:00
2023-11-13 20:13:56,721 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:13:56,735 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:13:56,942 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-11-13 20:13:56,942 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230823.csv
2023-11-13 20:13:56,946 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/lonn_call.csv
2023-11-13 20:13:56,948 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     430  53.599991  28.433285  0.0175
1  0.162807     440  45.049988  27.074509  0.0175
2  0.162807     450  37.099991  26.028452  0.0175
3  0.162807     460  29.824997  25.145454  0.0175
4  0.162807     470  23.349991  24.413734  0.0175
2023-11-13 20:13:56,952 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/sika_call.csv
2023-11-13 20:13:56,954 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     195  47.125008  36.494854  0.0175
1  0.162807     200  42.300003  34.223370  0.0175
2  0.162807     210  32.924995  30.578308  0.0175
3  0.162807     220  24.175003  27.988766  0.0175
4  0.162807     230  16.475006  26.213083  0.0175
2023-11-13 20:13:56,958 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     430  53.599991  0.0175
1  0.162807     440  45.049988  0.0175
2  0.162807     450  37.099991  0.0175
3  0.162807     460  29.824997  0.0175
4  0.162807     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.162807     195  47.125008  0.0175
1  0.162807     200  42.300003  0.0175
2  0.162807     210  32.924995  0.0175
3  0.162807     220  24.175003  0.0175
4  0.162807     230  16.475006  0.0175
2023-11-13 20:13:56,958 - yq - INFO - Calibrating LONZA on 2023-08-23 00:00:00.
2023-11-13 20:14:31,672 - yq - INFO - Calibrating SIKA on 2023-08-23 00:00:00.
2023-11-13 20:15:15,209 - yq - INFO - The S_0 for LONZA and SIKA are 480.0 and 246.2
2023-11-13 20:15:15,210 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 18 seconds
2023-11-13 20:15:15,221 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230823.csv
2023-11-13 20:15:15,222 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.81553073e+00  1.28482829e-02 -1.26030128e-01  4.28150438e-01
   2.50141688e-01]
 [ 9.99957254e+00  5.31098524e-02 -1.56277213e-11  1.37780101e+00
   4.46198466e-01]]
2023-11-13 20:15:15,225 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b36d90>, Timestamp('2023-08-23 00:00:00')): 0.0h 1.0m 18s 283ms
2023-11-13 20:15:15,232 - yq - INFO - The log returns list for all assets is: [Date
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
                ...   
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
                ...   
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:15:15,234 - yq - INFO - rho_S1S2 is 0.4371733468311143

2023-11-13 20:15:15,234 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43717335]
 [0.43717335 1.        ]]

2023-11-13 20:15:15,234 - yq - INFO - Simplified correlation matrix is:
[[1.         0.42815044 0.43717335 0.        ]
 [0.42815044 1.         0.         0.        ]
 [0.43717335 0.         1.         1.37780101]
 [0.         0.         1.37780101 1.        ]]

2023-11-13 20:15:15,235 - yq - ERROR - Error during simulation on 2023-08-23 00:00:00: Matrix is not positive definite
2023-11-13 20:15:15,235 - yq - INFO - Pricing the product on 2023-08-24 00:00:00
2023-11-13 20:15:15,235 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:15:15,256 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:15:15,468 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-11-13 20:15:15,468 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230824.csv
2023-11-13 20:15:15,472 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/lonn_call.csv
2023-11-13 20:15:15,474 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     430  53.599991  28.433285  0.0175
1      0.16     440  45.049988  27.074509  0.0175
2      0.16     450  37.099991  26.028452  0.0175
3      0.16     460  29.824997  25.145454  0.0175
4      0.16     470  23.349991  24.413734  0.0175
2023-11-13 20:15:15,475 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/sika_call.csv
2023-11-13 20:15:15,476 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     195  47.125008  36.494854  0.0175
1      0.16     200  42.300003  34.223370  0.0175
2      0.16     210  32.924995  30.578308  0.0175
3      0.16     220  24.175003  27.988766  0.0175
4      0.16     230  16.475006  26.213083  0.0175
2023-11-13 20:15:15,479 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     430  53.599991  0.0175
1      0.16     440  45.049988  0.0175
2      0.16     450  37.099991  0.0175
3      0.16     460  29.824997  0.0175
4      0.16     470  23.349991  0.0175
   maturity  strike      price    rate
0      0.16     195  47.125008  0.0175
1      0.16     200  42.300003  0.0175
2      0.16     210  32.924995  0.0175
3      0.16     220  24.175003  0.0175
4      0.16     230  16.475006  0.0175
2023-11-13 20:15:15,479 - yq - INFO - Calibrating LONZA on 2023-08-24 00:00:00.
2023-11-13 20:15:54,529 - yq - INFO - Calibrating SIKA on 2023-08-24 00:00:00.
2023-11-13 20:16:28,194 - yq - INFO - The S_0 for LONZA and SIKA are 477.5 and 240.9
2023-11-13 20:16:28,194 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 20:16:28,202 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230824.csv
2023-11-13 20:16:28,202 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.36219503  0.01098505 -0.14061384  0.41024015  0.26845868]
 [ 0.49679077  0.17667594 -0.06434456  0.48290976  0.2187957 ]]
2023-11-13 20:16:28,203 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286528410>, Timestamp('2023-08-24 00:00:00')): 0.0h 1.0m 12s 735ms
2023-11-13 20:16:28,214 - yq - INFO - The log returns list for all assets is: [Date
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
                ...   
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
                ...   
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:16:28,216 - yq - INFO - rho_S1S2 is 0.42692214622823577

2023-11-13 20:16:28,217 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42692215]
 [0.42692215 1.        ]]

2023-11-13 20:16:28,217 - yq - INFO - Simplified correlation matrix is:
[[1.         0.41024015 0.42692215 0.        ]
 [0.41024015 1.         0.         0.        ]
 [0.42692215 0.         1.         0.48290976]
 [0.         0.         0.48290976 1.        ]]

2023-11-13 20:16:28,218 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.41024015  0.91197753  0.          0.        ]
 [ 0.42692215 -0.19204487  0.88366071  0.        ]
 [ 0.          0.          0.54648775  0.83746709]]

2023-11-13 20:16:28,218 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x286528410>): 0.0h 0.0m 0s 14ms
2023-11-13 20:16:28,228 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 20:16:28,259 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:16:28,264 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  482.539370  231.626008
1  474.512528  238.337303
2  487.440105  241.331911
3  481.354770  238.374746
4  498.831146  250.181198
2023-11-13 20:16:28,385 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  482.539370  231.626008
2023-08-28  474.512528  238.337303
2023-08-29  487.440105  241.331911
2023-08-30  481.354770  238.374746
2023-08-31  498.831146  250.181198
2023-11-13 20:16:28,491 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 20:16:28,496 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  482.539370  231.626008
2023-08-28  474.512528  238.337303
2023-08-29  487.440105  241.331911
2023-08-30  481.354770  238.374746
...                ...         ...
2024-07-24  580.183293  168.598829
2024-07-25  580.330820  162.649399
2024-07-26  580.840364  161.405854
2024-07-29  588.038092  157.502665
2024-07-30  582.085642  158.205183

[234 rows x 2 columns]
2023-11-13 20:16:28,639 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:16:28,640 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286528410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  482.539370  231.626008
2023-08-28  474.512528  238.337303
2023-08-29  487.440105  241.331911
2023-08-30  481.354770  238.374746
2023-08-31  498.831146  250.181198
...                ...         ...
2024-07-24  580.183293  168.598829
2024-07-25  580.330820  162.649399
2024-07-26  580.840364  161.405854
2024-07-29  588.038092  157.502665
2024-07-30  582.085642  158.205183

[233 rows x 2 columns], sim=0): 0.0h 0.0m 0s 251ms
2023-11-13 20:16:28,640 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 20:16:28,666 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:16:28,668 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.418162  244.985309
1  464.440596  235.617094
2  462.778672  243.809652
3  425.677385  235.570733
4  416.527831  243.625678
2023-11-13 20:16:28,787 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  484.418162  244.985309
2023-08-28  464.440596  235.617094
2023-08-29  462.778672  243.809652
2023-08-30  425.677385  235.570733
2023-08-31  416.527831  243.625678
2023-11-13 20:16:28,818 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 20:16:28,821 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  484.418162  244.985309
2023-08-28  464.440596  235.617094
2023-08-29  462.778672  243.809652
2023-08-30  425.677385  235.570733
...                ...         ...
2024-07-24  450.929374  194.056875
2024-07-25  451.734605  190.367402
2024-07-26  449.264809  190.084292
2024-07-29  444.855840  174.601247
2024-07-30  446.080016  178.942026

[234 rows x 2 columns]
2023-11-13 20:16:28,972 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:16:28,973 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286528410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  484.418162  244.985309
2023-08-28  464.440596  235.617094
2023-08-29  462.778672  243.809652
2023-08-30  425.677385  235.570733
2023-08-31  416.527831  243.625678
...                ...         ...
2024-07-24  450.929374  194.056875
2024-07-25  451.734605  190.367402
2024-07-26  449.264809  190.084292
2024-07-29  444.855840  174.601247
2024-07-30  446.080016  178.942026

[233 rows x 2 columns], sim=1): 0.0h 0.0m 0s 182ms
2023-11-13 20:16:28,974 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 20:16:29,008 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:16:29,010 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  463.179728  236.515342
1  485.513252  246.823514
2  504.546402  250.828466
3  500.404014  236.751061
4  508.473132  252.127335
2023-11-13 20:16:29,157 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  463.179728  236.515342
2023-08-28  485.513252  246.823514
2023-08-29  504.546402  250.828466
2023-08-30  500.404014  236.751061
2023-08-31  508.473132  252.127335
2023-11-13 20:16:29,181 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 20:16:29,184 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  463.179728  236.515342
2023-08-28  485.513252  246.823514
2023-08-29  504.546402  250.828466
2023-08-30  500.404014  236.751061
...                ...         ...
2024-07-24  645.678501  515.705898
2024-07-25  647.782860  532.725928
2024-07-26  641.452448  504.556338
2024-07-29  642.610676  495.608615
2024-07-30  645.646917  506.872661

[234 rows x 2 columns]
2023-11-13 20:16:29,332 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:16:29,332 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x286528410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  463.179728  236.515342
2023-08-28  485.513252  246.823514
2023-08-29  504.546402  250.828466
2023-08-30  500.404014  236.751061
2023-08-31  508.473132  252.127335
...                ...         ...
2024-07-24  645.678501  515.705898
2024-07-25  647.782860  532.725928
2024-07-26  641.452448  504.556338
2024-07-29  642.610676  495.608615
2024-07-30  645.646917  506.872661

[233 rows x 2 columns], sim=2): 0.0h 0.0m 0s 172ms
2023-11-13 20:16:29,332 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x286528410>, n_sim=3): 0.0h 1.0m 13s 866ms
2023-11-13 20:16:29,332 - yq - INFO - Pricing the product on 2023-08-25 00:00:00
2023-11-13 20:16:29,332 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:16:29,343 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:16:29,634 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-11-13 20:16:29,634 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230825.csv
2023-11-13 20:16:29,637 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/lonn_call.csv
2023-11-13 20:16:29,639 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     440  53.750000  27.479589  0.0175
1  0.157193     450  44.949997  26.013029  0.0175
2  0.157193     460  36.750000  24.936087  0.0175
3  0.157193     470  29.224991  24.031950  0.0175
4  0.157193     480  22.524994  23.274614  0.0175
2023-11-13 20:16:29,640 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/sika_call.csv
2023-11-13 20:16:29,642 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     195  46.399994  36.397018  0.0175
1  0.157193     200  41.574997  34.104519  0.0175
2  0.157193     210  32.174995  30.276834  0.0175
3  0.157193     220  23.375000  27.452997  0.0175
4  0.157193     230  15.724994  25.756443  0.0175
2023-11-13 20:16:29,646 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     440  53.750000  0.0175
1  0.157193     450  44.949997  0.0175
2  0.157193     460  36.750000  0.0175
3  0.157193     470  29.224991  0.0175
4  0.157193     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.157193     195  46.399994  0.0175
1  0.157193     200  41.574997  0.0175
2  0.157193     210  32.174995  0.0175
3  0.157193     220  23.375000  0.0175
4  0.157193     230  15.724994  0.0175
2023-11-13 20:16:29,646 - yq - INFO - Calibrating LONZA on 2023-08-25 00:00:00.
2023-11-13 20:17:07,017 - yq - INFO - Calibrating SIKA on 2023-08-25 00:00:00.
2023-11-13 20:17:50,866 - yq - INFO - The S_0 for LONZA and SIKA are 473.3 and 239.7
2023-11-13 20:17:50,869 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 21 seconds
2023-11-13 20:17:50,888 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230825.csv
2023-11-13 20:17:50,889 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.07136788  0.0194559  -0.0971899   0.43355131  0.26838925]
 [ 0.15553022  0.26211284 -0.0679711   0.46714409  0.25407034]]
2023-11-13 20:17:50,891 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2852b3950>, Timestamp('2023-08-25 00:00:00')): 0.0h 1.0m 21s 257ms
2023-11-13 20:17:50,902 - yq - INFO - The log returns list for all assets is: [Date
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
                ...   
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
                ...   
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:17:50,905 - yq - INFO - rho_S1S2 is 0.4263512706844439

2023-11-13 20:17:50,905 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42635127]
 [0.42635127 1.        ]]

2023-11-13 20:17:50,905 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43355131 0.42635127 0.        ]
 [0.43355131 1.         0.         0.        ]
 [0.42635127 0.         1.         0.46714409]
 [0.         0.         0.46714409 1.        ]]

2023-11-13 20:17:50,907 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43355131  0.90112888  0.          0.        ]
 [ 0.42635127 -0.20512621  0.88099253  0.        ]
 [ 0.          0.          0.53024751  0.8478429 ]]

2023-11-13 20:17:50,907 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2852b3950>): 0.0h 0.0m 0s 16ms
2023-11-13 20:17:50,924 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 20:17:50,956 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:17:50,962 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  474.053978  242.994284
1  453.428863  236.849791
2  449.154181  243.651645
3  455.169994  242.453553
4  494.568204  255.390290
2023-11-13 20:17:51,126 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  474.053978  242.994284
2023-08-29  453.428863  236.849791
2023-08-30  449.154181  243.651645
2023-08-31  455.169994  242.453553
2023-09-01  494.568204  255.390290
2023-11-13 20:17:51,260 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 20:17:51,265 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  474.053978  242.994284
2023-08-29  453.428863  236.849791
2023-08-30  449.154181  243.651645
2023-08-31  455.169994  242.453553
...                ...         ...
2024-07-24  542.079795  402.715840
2024-07-25  548.696200  421.617901
2024-07-26  548.589536  425.873497
2024-07-29  554.327883  422.664773
2024-07-30  561.064793  427.916114

[233 rows x 2 columns]
2023-11-13 20:17:51,454 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:17:51,454 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852b3950>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  474.053978  242.994284
2023-08-29  453.428863  236.849791
2023-08-30  449.154181  243.651645
2023-08-31  455.169994  242.453553
2023-09-01  494.568204  255.390290
...                ...         ...
2024-07-24  542.079795  402.715840
2024-07-25  548.696200  421.617901
2024-07-26  548.589536  425.873497
2024-07-29  554.327883  422.664773
2024-07-30  561.064793  427.916114

[232 rows x 2 columns], sim=0): 0.0h 0.0m 0s 319ms
2023-11-13 20:17:51,455 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 20:17:51,503 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:17:51,505 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.006195  240.173335
1  473.936343  237.924730
2  476.846435  252.384241
3  471.908772  256.672329
4  469.739744  264.899431
2023-11-13 20:17:51,659 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  484.006195  240.173335
2023-08-29  473.936343  237.924730
2023-08-30  476.846435  252.384241
2023-08-31  471.908772  256.672329
2023-09-01  469.739744  264.899431
2023-11-13 20:17:51,700 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 20:17:51,706 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  484.006195  240.173335
2023-08-29  473.936343  237.924730
2023-08-30  476.846435  252.384241
2023-08-31  471.908772  256.672329
...                ...         ...
2024-07-24  614.054018  196.268530
2024-07-25  610.550171  189.130313
2024-07-26  607.892808  188.463264
2024-07-29  608.679898  186.261020
2024-07-30  608.361405  184.390441

[233 rows x 2 columns]
2023-11-13 20:17:51,886 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:17:51,886 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852b3950>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  484.006195  240.173335
2023-08-29  473.936343  237.924730
2023-08-30  476.846435  252.384241
2023-08-31  471.908772  256.672329
2023-09-01  469.739744  264.899431
...                ...         ...
2024-07-24  614.054018  196.268530
2024-07-25  610.550171  189.130313
2024-07-26  607.892808  188.463264
2024-07-29  608.679898  186.261020
2024-07-30  608.361405  184.390441

[232 rows x 2 columns], sim=1): 0.0h 0.0m 0s 223ms
2023-11-13 20:17:51,888 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 20:17:51,922 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:17:51,924 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  449.866362  224.392562
1  430.837110  212.207202
2  427.345431  216.108572
3  406.672504  218.591411
4  406.918360  219.885175
2023-11-13 20:17:52,079 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  449.866362  224.392562
2023-08-29  430.837110  212.207202
2023-08-30  427.345431  216.108572
2023-08-31  406.672504  218.591411
2023-09-01  406.918360  219.885175
2023-11-13 20:17:52,117 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 20:17:52,121 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  449.866362  224.392562
2023-08-29  430.837110  212.207202
2023-08-30  427.345431  216.108572
2023-08-31  406.672504  218.591411
...                ...         ...
2024-07-24  315.517904  222.579621
2024-07-25  314.403543  221.757750
2024-07-26  314.474661  227.105995
2024-07-29  315.312570  228.668781
2024-07-30  312.031404  216.508232

[233 rows x 2 columns]
2023-11-13 20:17:52,301 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:17:52,301 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2852b3950>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  449.866362  224.392562
2023-08-29  430.837110  212.207202
2023-08-30  427.345431  216.108572
2023-08-31  406.672504  218.591411
2023-09-01  406.918360  219.885175
...                ...         ...
2024-07-24  315.517904  222.579621
2024-07-25  314.403543  221.757750
2024-07-26  314.474661  227.105995
2024-07-29  315.312570  228.668781
2024-07-30  312.031404  216.508232

[232 rows x 2 columns], sim=2): 0.0h 0.0m 0s 216ms
2023-11-13 20:17:52,301 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2852b3950>, n_sim=3): 0.0h 1.0m 22s 669ms
2023-11-13 20:17:52,301 - yq - INFO - Pricing the product on 2023-08-28 00:00:00
2023-11-13 20:17:52,302 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:17:52,318 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:17:52,657 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-11-13 20:17:52,658 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230828.csv
2023-11-13 20:17:52,663 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/lonn_call.csv
2023-11-13 20:17:52,666 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     440  53.750000  27.479589  0.0175
1  0.148772     450  44.949997  26.013029  0.0175
2  0.148772     460  36.750000  24.936087  0.0175
3  0.148772     470  29.224991  24.031950  0.0175
4  0.148772     480  22.524994  23.274614  0.0175
2023-11-13 20:17:52,667 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/sika_call.csv
2023-11-13 20:17:52,670 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     200  44.550003  33.966270  0.0175
1  0.148772     210  34.950005  29.767315  0.0175
2  0.148772     220  25.850006  26.848900  0.0175
3  0.148772     230  17.750000  25.146227  0.0175
4  0.148772     240  11.025000  23.833889  0.0175
2023-11-13 20:17:52,675 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     440  53.750000  0.0175
1  0.148772     450  44.949997  0.0175
2  0.148772     460  36.750000  0.0175
3  0.148772     470  29.224991  0.0175
4  0.148772     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.148772     200  44.550003  0.0175
1  0.148772     210  34.950005  0.0175
2  0.148772     220  25.850006  0.0175
3  0.148772     230  17.750000  0.0175
4  0.148772     240  11.025000  0.0175
2023-11-13 20:17:52,675 - yq - INFO - Calibrating LONZA on 2023-08-28 00:00:00.
2023-11-13 20:18:29,408 - yq - INFO - Calibrating SIKA on 2023-08-28 00:00:00.
2023-11-13 20:19:02,171 - yq - INFO - The S_0 for LONZA and SIKA are 475.5 and 242.6
2023-11-13 20:19:02,172 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 20:19:02,188 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230828.csv
2023-11-13 20:19:02,188 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.99581139  0.02018186 -0.09196369  0.45159926  0.27834575]
 [ 0.43717403  0.19874457 -0.05313217  0.57394223  0.23019014]]
2023-11-13 20:19:02,190 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e53df90>, Timestamp('2023-08-28 00:00:00')): 0.0h 1.0m 9s 533ms
2023-11-13 20:19:02,200 - yq - INFO - The log returns list for all assets is: [Date
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
                ...   
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
                ...   
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:19:02,202 - yq - INFO - rho_S1S2 is 0.4301092130230156

2023-11-13 20:19:02,203 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43010921]
 [0.43010921 1.        ]]

2023-11-13 20:19:02,203 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45159926 0.43010921 0.        ]
 [0.45159926 1.         0.         0.        ]
 [0.43010921 0.         1.         0.57394223]
 [0.         0.         0.57394223 1.        ]]

2023-11-13 20:19:02,204 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.45159926  0.89222089  0.          0.        ]
 [ 0.43010921 -0.21770058  0.87613499  0.        ]
 [ 0.          0.          0.65508424  0.75555584]]

2023-11-13 20:19:02,204 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e53df90>): 0.0h 0.0m 0s 13ms
2023-11-13 20:19:02,213 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 20:19:02,235 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:19:02,238 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.262541  246.462353
1  464.472517  239.974119
2  468.890120  231.282942
3  459.086220  235.044410
4  426.073470  221.029013
2023-11-13 20:19:02,347 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  472.262541  246.462353
2023-08-30  464.472517  239.974119
2023-08-31  468.890120  231.282942
2023-09-01  459.086220  235.044410
2023-09-04  426.073470  221.029013
2023-11-13 20:19:02,445 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 20:19:02,449 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  472.262541  246.462353
2023-08-30  464.472517  239.974119
2023-08-31  468.890120  231.282942
2023-09-01  459.086220  235.044410
...                ...         ...
2024-07-24  379.722490  154.957002
2024-07-25  380.621675  163.734475
2024-07-26  383.090155  154.821230
2024-07-29  382.176450  146.377413
2024-07-30  388.475498  147.145926

[232 rows x 2 columns]
2023-11-13 20:19:02,619 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:19:02,619 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e53df90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  472.262541  246.462353
2023-08-30  464.472517  239.974119
2023-08-31  468.890120  231.282942
2023-09-01  459.086220  235.044410
2023-09-04  426.073470  221.029013
...                ...         ...
2024-07-24  379.722490  154.957002
2024-07-25  380.621675  163.734475
2024-07-26  383.090155  154.821230
2024-07-29  382.176450  146.377413
2024-07-30  388.475498  147.145926

[231 rows x 2 columns], sim=0): 0.0h 0.0m 0s 269ms
2023-11-13 20:19:02,620 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 20:19:02,647 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:19:02,648 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  464.162781  239.783214
1  452.682697  240.306936
2  466.980087  238.704426
3  445.775827  226.352664
4  435.868677  214.228901
2023-11-13 20:19:02,779 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  464.162781  239.783214
2023-08-30  452.682697  240.306936
2023-08-31  466.980087  238.704426
2023-09-01  445.775827  226.352664
2023-09-04  435.868677  214.228901
2023-11-13 20:19:02,814 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 20:19:02,817 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  464.162781  239.783214
2023-08-30  452.682697  240.306936
2023-08-31  466.980087  238.704426
2023-09-01  445.775827  226.352664
...                ...         ...
2024-07-24  413.884169  174.964286
2024-07-25  402.762406  170.976213
2024-07-26  404.443369  166.513035
2024-07-29  408.164380  171.738504
2024-07-30  407.200024  171.558354

[232 rows x 2 columns]
2023-11-13 20:19:02,967 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:19:02,967 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e53df90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  464.162781  239.783214
2023-08-30  452.682697  240.306936
2023-08-31  466.980087  238.704426
2023-09-01  445.775827  226.352664
2023-09-04  435.868677  214.228901
...                ...         ...
2024-07-24  413.884169  174.964286
2024-07-25  402.762406  170.976213
2024-07-26  404.443369  166.513035
2024-07-29  408.164380  171.738504
2024-07-30  407.200024  171.558354

[231 rows x 2 columns], sim=1): 0.0h 0.0m 0s 184ms
2023-11-13 20:19:02,968 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 20:19:02,998 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:19:03,000 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  478.981446  241.545136
1  483.806158  240.333053
2  485.583008  239.693636
3  490.795414  253.597553
4  484.606013  244.801472
2023-11-13 20:19:03,145 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  478.981446  241.545136
2023-08-30  483.806158  240.333053
2023-08-31  485.583008  239.693636
2023-09-01  490.795414  253.597553
2023-09-04  484.606013  244.801472
2023-11-13 20:19:03,170 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 20:19:03,173 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  478.981446  241.545136
2023-08-30  483.806158  240.333053
2023-08-31  485.583008  239.693636
2023-09-01  490.795414  253.597553
...                ...         ...
2024-07-24  519.736948  166.305398
2024-07-25  517.906980  165.555723
2024-07-26  514.496382  170.610490
2024-07-29  513.471745  166.728843
2024-07-30  516.590316  165.122333

[232 rows x 2 columns]
2023-11-13 20:19:03,320 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:19:03,320 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e53df90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  478.981446  241.545136
2023-08-30  483.806158  240.333053
2023-08-31  485.583008  239.693636
2023-09-01  490.795414  253.597553
2023-09-04  484.606013  244.801472
...                ...         ...
2024-07-24  519.736948  166.305398
2024-07-25  517.906980  165.555723
2024-07-26  514.496382  170.610490
2024-07-29  513.471745  166.728843
2024-07-30  516.590316  165.122333

[231 rows x 2 columns], sim=2): 0.0h 0.0m 0s 172ms
2023-11-13 20:19:03,320 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e53df90>, n_sim=3): 0.0h 1.0m 10s 665ms
2023-11-13 20:19:03,320 - yq - INFO - Pricing the product on 2023-08-29 00:00:00
2023-11-13 20:19:03,320 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:19:03,336 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:19:03,616 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-11-13 20:19:03,617 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230829.csv
2023-11-13 20:19:03,622 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/lonn_call.csv
2023-11-13 20:19:03,624 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     440  53.750000  27.479589  0.0175
1  0.145965     450  44.949997  26.013029  0.0175
2  0.145965     460  36.750000  24.936087  0.0175
3  0.145965     470  29.224991  24.031950  0.0175
4  0.145965     480  22.524994  23.274614  0.0175
2023-11-13 20:19:03,625 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/sika_call.csv
2023-11-13 20:19:03,627 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     200  48.200005  35.602180  0.0175
1  0.145965     210  38.550003  31.489353  0.0175
2  0.145965     220  29.175003  27.868134  0.0175
3  0.145965     230  20.525002  25.417206  0.0175
4  0.145965     240  13.150000  23.884602  0.0175
2023-11-13 20:19:03,630 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     440  53.750000  0.0175
1  0.145965     450  44.949997  0.0175
2  0.145965     460  36.750000  0.0175
3  0.145965     470  29.224991  0.0175
4  0.145965     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.145965     200  48.200005  0.0175
1  0.145965     210  38.550003  0.0175
2  0.145965     220  29.175003  0.0175
3  0.145965     230  20.525002  0.0175
4  0.145965     240  13.150000  0.0175
2023-11-13 20:19:03,630 - yq - INFO - Calibrating LONZA on 2023-08-29 00:00:00.
2023-11-13 20:19:39,112 - yq - INFO - Calibrating SIKA on 2023-08-29 00:00:00.
2023-11-13 20:20:19,286 - yq - INFO - The S_0 for LONZA and SIKA are 479.9 and 246.0
2023-11-13 20:20:19,287 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 20:20:19,302 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230829.csv
2023-11-13 20:20:19,302 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.04251719  0.58142963 -0.06912967  0.47935577  0.26715796]
 [ 2.72299374  0.02800601 -0.08878607  0.45538686  0.29290893]]
2023-11-13 20:20:19,304 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b66650>, Timestamp('2023-08-29 00:00:00')): 0.0h 1.0m 15s 688ms
2023-11-13 20:20:19,314 - yq - INFO - The log returns list for all assets is: [Date
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
                ...   
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
                ...   
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:20:19,316 - yq - INFO - rho_S1S2 is 0.434975731220062

2023-11-13 20:20:19,316 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43497573]
 [0.43497573 1.        ]]

2023-11-13 20:20:19,316 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47935577 0.43497573 0.        ]
 [0.47935577 1.         0.         0.        ]
 [0.43497573 0.         1.         0.45538686]
 [0.         0.         0.45538686 1.        ]]

2023-11-13 20:20:19,317 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47935577  0.87762068  0.          0.        ]
 [ 0.43497573 -0.23758342  0.86853338  0.        ]
 [ 0.          0.          0.52431705  0.85152313]]

2023-11-13 20:20:19,317 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b66650>): 0.0h 0.0m 0s 13ms
2023-11-13 20:20:19,327 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 20:20:19,361 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:20:19,365 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.211287  255.381125
1  476.233931  267.359484
2  485.131714  259.063101
3  492.501630  263.996427
4  512.254815  268.880046
2023-11-13 20:20:19,520 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  484.211287  255.381125
2023-08-31  476.233931  267.359484
2023-09-01  485.131714  259.063101
2023-09-04  492.501630  263.996427
2023-09-05  512.254815  268.880046
2023-11-13 20:20:19,635 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 20:20:19,639 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  484.211287  255.381125
2023-08-31  476.233931  267.359484
2023-09-01  485.131714  259.063101
2023-09-04  492.501630  263.996427
...                ...         ...
2024-07-24  301.619817  436.329078
2024-07-25  297.758081  436.939083
2024-07-26  296.689303  433.140777
2024-07-29  309.212818  430.192343
2024-07-30  314.139776  436.267358

[231 rows x 2 columns]
2023-11-13 20:20:19,836 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:20:19,837 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  484.211287  255.381125
2023-08-31  476.233931  267.359484
2023-09-01  485.131714  259.063101
2023-09-04  492.501630  263.996427
2023-09-05  512.254815  268.880046
...                ...         ...
2024-07-24  301.619817  436.329078
2024-07-25  297.758081  436.939083
2024-07-26  296.689303  433.140777
2024-07-29  309.212818  430.192343
2024-07-30  314.139776  436.267358

[230 rows x 2 columns], sim=0): 0.0h 0.0m 0s 305ms
2023-11-13 20:20:19,837 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 20:20:19,873 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:20:19,875 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.175619  249.901552
1  493.456029  241.338017
2  479.498649  228.567454
3  496.631425  241.606289
4  530.704481  253.050301
2023-11-13 20:20:20,016 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  480.175619  249.901552
2023-08-31  493.456029  241.338017
2023-09-01  479.498649  228.567454
2023-09-04  496.631425  241.606289
2023-09-05  530.704481  253.050301
2023-11-13 20:20:20,055 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 20:20:20,058 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  480.175619  249.901552
2023-08-31  493.456029  241.338017
2023-09-01  479.498649  228.567454
2023-09-04  496.631425  241.606289
...                ...         ...
2024-07-24  611.968091  203.866371
2024-07-25  572.051608  202.144806
2024-07-26  574.675129  201.081639
2024-07-29  592.797000  202.730865
2024-07-30  585.500655  200.776464

[231 rows x 2 columns]
2023-11-13 20:20:20,214 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:20:20,214 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  480.175619  249.901552
2023-08-31  493.456029  241.338017
2023-09-01  479.498649  228.567454
2023-09-04  496.631425  241.606289
2023-09-05  530.704481  253.050301
...                ...         ...
2024-07-24  611.968091  203.866371
2024-07-25  572.051608  202.144806
2024-07-26  574.675129  201.081639
2024-07-29  592.797000  202.730865
2024-07-30  585.500655  200.776464

[230 rows x 2 columns], sim=1): 0.0h 0.0m 0s 195ms
2023-11-13 20:20:20,215 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 20:20:20,244 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:20:20,245 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.428294  243.351459
1  460.425683  237.535420
2  473.238524  250.948523
3  494.783331  267.945629
4  496.068745  267.383637
2023-11-13 20:20:20,386 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  479.428294  243.351459
2023-08-31  460.425683  237.535420
2023-09-01  473.238524  250.948523
2023-09-04  494.783331  267.945629
2023-09-05  496.068745  267.383637
2023-11-13 20:20:20,414 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 20:20:20,418 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-08-29   479.900000  246.000000
2023-08-30   479.428294  243.351459
2023-08-31   460.425683  237.535420
2023-09-01   473.238524  250.948523
2023-09-04   494.783331  267.945629
...                 ...         ...
2024-07-24  1291.303642  361.559231
2024-07-25  1281.562003  354.758683
2024-07-26  1292.103863  357.689340
2024-07-29  1364.322390  360.255921
2024-07-30  1376.594304  364.228418

[231 rows x 2 columns]
2023-11-13 20:20:20,578 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:20:20,579 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-08-30   479.428294  243.351459
2023-08-31   460.425683  237.535420
2023-09-01   473.238524  250.948523
2023-09-04   494.783331  267.945629
2023-09-05   496.068745  267.383637
...                 ...         ...
2024-07-24  1291.303642  361.559231
2024-07-25  1281.562003  354.758683
2024-07-26  1292.103863  357.689340
2024-07-29  1364.322390  360.255921
2024-07-30  1376.594304  364.228418

[230 rows x 2 columns], sim=2): 0.0h 0.0m 0s 189ms
2023-11-13 20:20:20,579 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, n_sim=3): 0.0h 1.0m 16s 964ms
2023-11-13 20:20:20,579 - yq - INFO - Pricing the product on 2023-08-30 00:00:00
2023-11-13 20:20:20,579 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:20:20,590 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:20:20,888 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-11-13 20:20:20,889 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230830.csv
2023-11-13 20:20:20,894 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/lonn_call.csv
2023-11-13 20:20:20,897 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     440  53.750000  27.479589  0.0175
1  0.143158     450  44.949997  26.013029  0.0175
2  0.143158     460  36.750000  24.936087  0.0175
3  0.143158     470  29.224991  24.031950  0.0175
4  0.143158     480  22.524994  23.274614  0.0175
2023-11-13 20:20:20,898 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/sika_call.csv
2023-11-13 20:20:20,900 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     200  48.200005  35.602180  0.0175
1  0.143158     210  38.550003  31.489353  0.0175
2  0.143158     220  29.175003  27.868134  0.0175
3  0.143158     230  20.525002  25.417206  0.0175
4  0.143158     240  13.150000  23.884602  0.0175
2023-11-13 20:20:20,904 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     440  53.750000  0.0175
1  0.143158     450  44.949997  0.0175
2  0.143158     460  36.750000  0.0175
3  0.143158     470  29.224991  0.0175
4  0.143158     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.143158     200  48.200005  0.0175
1  0.143158     210  38.550003  0.0175
2  0.143158     220  29.175003  0.0175
3  0.143158     230  20.525002  0.0175
4  0.143158     240  13.150000  0.0175
2023-11-13 20:20:20,904 - yq - INFO - Calibrating LONZA on 2023-08-30 00:00:00.
2023-11-13 20:21:01,691 - yq - INFO - Calibrating SIKA on 2023-08-30 00:00:00.
2023-11-13 20:21:38,973 - yq - INFO - The S_0 for LONZA and SIKA are 483.2 and 246.3
2023-11-13 20:21:38,975 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 18 seconds
2023-11-13 20:21:38,993 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230830.csv
2023-11-13 20:21:38,993 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.04062117  5.37948887 -0.06002928  0.52612024  0.25374395]
 [ 1.96567341  0.03846011 -0.08735606  0.45396185  0.29787298]]
2023-11-13 20:21:38,998 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b66650>, Timestamp('2023-08-30 00:00:00')): 0.0h 1.0m 18s 109ms
2023-11-13 20:21:39,007 - yq - INFO - The log returns list for all assets is: [Date
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
                ...   
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
                ...   
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:21:39,009 - yq - INFO - rho_S1S2 is 0.4192264656802595

2023-11-13 20:21:39,009 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41922647]
 [0.41922647 1.        ]]

2023-11-13 20:21:39,009 - yq - INFO - Simplified correlation matrix is:
[[1.         0.52612024 0.41922647 0.        ]
 [0.52612024 1.         0.         0.        ]
 [0.41922647 0.         1.         0.45396185]
 [0.         0.         0.45396185 1.        ]]

2023-11-13 20:21:39,010 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.52612024  0.85041019  0.          0.        ]
 [ 0.41922647 -0.25936134  0.87004647  0.        ]
 [ 0.          0.          0.52176736  0.85308782]]

2023-11-13 20:21:39,010 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b66650>): 0.0h 0.0m 0s 12ms
2023-11-13 20:21:39,018 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 20:21:39,039 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:21:39,042 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  470.884462  242.739397
1  467.304782  240.604217
2  474.453508  237.054715
3  462.715898  245.537966
4  482.278091  250.313325
2023-11-13 20:21:39,148 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  470.884462  242.739397
2023-09-01  467.304782  240.604217
2023-09-04  474.453508  237.054715
2023-09-05  462.715898  245.537966
2023-09-06  482.278091  250.313325
2023-11-13 20:21:39,215 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 20:21:39,219 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  470.884462  242.739397
2023-09-01  467.304782  240.604217
2023-09-04  474.453508  237.054715
2023-09-05  462.715898  245.537966
...                ...         ...
2024-07-24  262.418732  194.822556
2024-07-25  262.342533  194.726344
2024-07-26  255.996065  190.829999
2024-07-29  251.623692  188.340249
2024-07-30  239.687271  182.447701

[230 rows x 2 columns]
2023-11-13 20:21:39,351 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:21:39,351 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  470.884462  242.739397
2023-09-01  467.304782  240.604217
2023-09-04  474.453508  237.054715
2023-09-05  462.715898  245.537966
2023-09-06  482.278091  250.313325
...                ...         ...
2024-07-24  262.418732  194.822556
2024-07-25  262.342533  194.726344
2024-07-26  255.996065  190.829999
2024-07-29  251.623692  188.340249
2024-07-30  239.687271  182.447701

[229 rows x 2 columns], sim=0): 0.0h 0.0m 0s 200ms
2023-11-13 20:21:39,352 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 20:21:39,376 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:21:39,378 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  522.547265  264.708293
1  540.487729  272.687459
2  519.044429  275.952672
3  523.526165  275.312519
4  533.602130  285.382623
2023-11-13 20:21:39,500 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  522.547265  264.708293
2023-09-01  540.487729  272.687459
2023-09-04  519.044429  275.952672
2023-09-05  523.526165  275.312519
2023-09-06  533.602130  285.382623
2023-11-13 20:21:39,911 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 20:21:39,913 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  522.547265  264.708293
2023-09-01  540.487729  272.687459
2023-09-04  519.044429  275.952672
2023-09-05  523.526165  275.312519
...                ...         ...
2024-07-24  360.985745  221.549683
2024-07-25  358.515603  223.552531
2024-07-26  366.309383  220.115096
2024-07-29  346.609784  220.267881
2024-07-30  330.979704  222.311345

[230 rows x 2 columns]
2023-11-13 20:21:40,016 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:21:40,016 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  522.547265  264.708293
2023-09-01  540.487729  272.687459
2023-09-04  519.044429  275.952672
2023-09-05  523.526165  275.312519
2023-09-06  533.602130  285.382623
...                ...         ...
2024-07-24  360.985745  221.549683
2024-07-25  358.515603  223.552531
2024-07-26  366.309383  220.115096
2024-07-29  346.609784  220.267881
2024-07-30  330.979704  222.311345

[229 rows x 2 columns], sim=1): 0.0h 0.0m 0s 512ms
2023-11-13 20:21:40,017 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 20:21:40,040 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:21:40,041 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.367019  253.710157
1  459.596745  255.181594
2  457.999197  258.638854
3  454.569990  271.332042
4  486.081519  288.809492
2023-11-13 20:21:40,151 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  479.367019  253.710157
2023-09-01  459.596745  255.181594
2023-09-04  457.999197  258.638854
2023-09-05  454.569990  271.332042
2023-09-06  486.081519  288.809492
2023-11-13 20:21:40,173 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 20:21:40,176 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  479.367019  253.710157
2023-09-01  459.596745  255.181594
2023-09-04  457.999197  258.638854
2023-09-05  454.569990  271.332042
...                ...         ...
2024-07-24  277.600060  321.038807
2024-07-25  299.929445  334.434111
2024-07-26  286.648620  333.539647
2024-07-29  303.606694  340.462466
2024-07-30  295.792293  333.268611

[230 rows x 2 columns]
2023-11-13 20:21:40,325 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:21:40,326 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  479.367019  253.710157
2023-09-01  459.596745  255.181594
2023-09-04  457.999197  258.638854
2023-09-05  454.569990  271.332042
2023-09-06  486.081519  288.809492
...                ...         ...
2024-07-24  277.600060  321.038807
2024-07-25  299.929445  334.434111
2024-07-26  286.648620  333.539647
2024-07-29  303.606694  340.462466
2024-07-30  295.792293  333.268611

[229 rows x 2 columns], sim=2): 0.0h 0.0m 0s 170ms
2023-11-13 20:21:40,326 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, n_sim=3): 0.0h 1.0m 19s 440ms
2023-11-13 20:21:40,326 - yq - INFO - Pricing the product on 2023-08-31 00:00:00
2023-11-13 20:21:40,326 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:21:40,339 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:21:40,613 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-11-13 20:21:40,614 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230831.csv
2023-11-13 20:21:40,617 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/lonn_call.csv
2023-11-13 20:21:40,619 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     440  53.750000  27.479589  0.0175
1  0.140351     450  44.949997  26.013029  0.0175
2  0.140351     460  36.750000  24.936087  0.0175
3  0.140351     470  29.224991  24.031950  0.0175
4  0.140351     480  22.524994  23.274614  0.0175
2023-11-13 20:21:40,620 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/sika_call.csv
2023-11-13 20:21:40,622 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     210  42.050003  28.883789  0.0175
1  0.140351     220  32.525002  26.351738  0.0175
2  0.140351     230  23.550003  24.511261  0.0175
3  0.140351     240  15.625000  23.255863  0.0175
4  0.140351     250   9.325000  22.476318  0.0175
2023-11-13 20:21:40,626 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     440  53.750000  0.0175
1  0.140351     450  44.949997  0.0175
2  0.140351     460  36.750000  0.0175
3  0.140351     470  29.224991  0.0175
4  0.140351     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.140351     210  42.050003  0.0175
1  0.140351     220  32.525002  0.0175
2  0.140351     230  23.550003  0.0175
3  0.140351     240  15.625000  0.0175
4  0.140351     250   9.325000  0.0175
2023-11-13 20:21:40,626 - yq - INFO - Calibrating LONZA on 2023-08-31 00:00:00.
2023-11-13 20:22:19,185 - yq - INFO - Calibrating SIKA on 2023-08-31 00:00:00.
2023-11-13 20:22:58,312 - yq - INFO - The S_0 for LONZA and SIKA are 488.9 and 250.4
2023-11-13 20:22:58,314 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 17 seconds
2023-11-13 20:22:58,327 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230831.csv
2023-11-13 20:22:58,327 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.01451387  0.01626228 -0.10050114  0.46073955  0.30152884]
 [ 0.20143152  0.26159191 -0.05121171  0.61443726  0.2514131 ]]
2023-11-13 20:22:58,330 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>, Timestamp('2023-08-31 00:00:00')): 0.0h 1.0m 17s 716ms
2023-11-13 20:22:58,337 - yq - INFO - The log returns list for all assets is: [Date
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
                ...   
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
                ...   
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:22:58,339 - yq - INFO - rho_S1S2 is 0.42699878448050116

2023-11-13 20:22:58,340 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42699878]
 [0.42699878 1.        ]]

2023-11-13 20:22:58,340 - yq - INFO - Simplified correlation matrix is:
[[1.         0.46073955 0.42699878 0.        ]
 [0.46073955 1.         0.         0.        ]
 [0.42699878 0.         1.         0.61443726]
 [0.         0.         0.61443726 1.        ]]

2023-11-13 20:22:58,341 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.46073955  0.88753539  0.          0.        ]
 [ 0.42699878 -0.22166466  0.87666232  0.        ]
 [ 0.          0.          0.70088248  0.71327677]]

2023-11-13 20:22:58,341 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>): 0.0h 0.0m 0s 11ms
2023-11-13 20:22:58,354 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 20:22:58,377 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:22:58,380 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  522.953189  250.563229
1  520.691233  250.585044
2  541.752600  253.015024
3  522.330154  245.603916
4  519.387092  245.278968
2023-11-13 20:22:58,492 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  522.953189  250.563229
2023-09-04  520.691233  250.585044
2023-09-05  541.752600  253.015024
2023-09-06  522.330154  245.603916
2023-09-07  519.387092  245.278968
2023-11-13 20:22:58,604 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 20:22:58,616 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  522.953189  250.563229
2023-09-04  520.691233  250.585044
2023-09-05  541.752600  253.015024
2023-09-06  522.330154  245.603916
...                ...         ...
2024-07-24  414.687692  117.015566
2024-07-25  418.896946  125.131403
2024-07-26  420.838006  124.261941
2024-07-29  418.944599  127.786600
2024-07-30  417.118894  118.092265

[229 rows x 2 columns]
2023-11-13 20:22:58,757 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:22:58,757 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  522.953189  250.563229
2023-09-04  520.691233  250.585044
2023-09-05  541.752600  253.015024
2023-09-06  522.330154  245.603916
2023-09-07  519.387092  245.278968
...                ...         ...
2024-07-24  414.687692  117.015566
2024-07-25  418.896946  125.131403
2024-07-26  420.838006  124.261941
2024-07-29  418.944599  127.786600
2024-07-30  417.118894  118.092265

[228 rows x 2 columns], sim=0): 0.0h 0.0m 0s 260ms
2023-11-13 20:22:58,757 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 20:22:58,784 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:22:58,786 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  516.655717  240.690234
1  518.971278  244.547117
2  487.423210  244.299440
3  479.834764  230.663316
4  489.592530  237.993575
2023-11-13 20:22:58,928 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  516.655717  240.690234
2023-09-04  518.971278  244.547117
2023-09-05  487.423210  244.299440
2023-09-06  479.834764  230.663316
2023-09-07  489.592530  237.993575
2023-11-13 20:22:58,959 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 20:22:58,965 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  516.655717  240.690234
2023-09-04  518.971278  244.547117
2023-09-05  487.423210  244.299440
2023-09-06  479.834764  230.663316
...                ...         ...
2024-07-24  542.751966  173.616931
2024-07-25  540.050695  179.146717
2024-07-26  537.876452  181.882713
2024-07-29  541.886273  184.980914
2024-07-30  534.469721  185.292417

[229 rows x 2 columns]
2023-11-13 20:22:59,144 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:22:59,144 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  516.655717  240.690234
2023-09-04  518.971278  244.547117
2023-09-05  487.423210  244.299440
2023-09-06  479.834764  230.663316
2023-09-07  489.592530  237.993575
...                ...         ...
2024-07-24  542.751966  173.616931
2024-07-25  540.050695  179.146717
2024-07-26  537.876452  181.882713
2024-07-29  541.886273  184.980914
2024-07-30  534.469721  185.292417

[228 rows x 2 columns], sim=1): 0.0h 0.0m 0s 211ms
2023-11-13 20:22:59,144 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 20:22:59,178 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:22:59,180 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  496.435381  259.942993
1  499.404006  261.492437
2  494.074505  259.609875
3  510.409088  253.101042
4  515.728434  256.371579
2023-11-13 20:22:59,338 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  496.435381  259.942993
2023-09-04  499.404006  261.492437
2023-09-05  494.074505  259.609875
2023-09-06  510.409088  253.101042
2023-09-07  515.728434  256.371579
2023-11-13 20:22:59,378 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 20:22:59,381 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  496.435381  259.942993
2023-09-04  499.404006  261.492437
2023-09-05  494.074505  259.609875
2023-09-06  510.409088  253.101042
...                ...         ...
2024-07-24  483.649005  370.110687
2024-07-25  479.887142  359.002314
2024-07-26  475.679260  356.799158
2024-07-29  484.257533  379.079883
2024-07-30  484.854212  374.208156

[229 rows x 2 columns]
2023-11-13 20:22:59,532 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:22:59,532 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  496.435381  259.942993
2023-09-04  499.404006  261.492437
2023-09-05  494.074505  259.609875
2023-09-06  510.409088  253.101042
2023-09-07  515.728434  256.371579
...                ...         ...
2024-07-24  483.649005  370.110687
2024-07-25  479.887142  359.002314
2024-07-26  475.679260  356.799158
2024-07-29  484.257533  379.079883
2024-07-30  484.854212  374.208156

[228 rows x 2 columns], sim=2): 0.0h 0.0m 0s 190ms
2023-11-13 20:22:59,532 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>, n_sim=3): 0.0h 1.0m 18s 920ms
2023-11-13 20:22:59,532 - yq - INFO - Pricing the product on 2023-09-01 00:00:00
2023-11-13 20:22:59,532 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:22:59,543 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:22:59,878 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-11-13 20:22:59,880 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230901.csv
2023-11-13 20:22:59,895 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/lonn_call.csv
2023-11-13 20:22:59,898 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     440  49.199997  29.907877  0.0175
1  0.137544     450  40.449997  27.950396  0.0175
2  0.137544     460  32.449997  26.641903  0.0175
3  0.137544     470  25.049995  25.297674  0.0175
4  0.137544     480  18.649996  24.305870  0.0175
2023-11-13 20:22:59,900 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/sika_call.csv
2023-11-13 20:22:59,902 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     200  48.399994  34.529781  0.0175
1  0.137544     210  38.724991  30.920095  0.0175
2  0.137544     220  29.299995  27.579824  0.0175
3  0.137544     230  20.625000  25.546993  0.0175
4  0.137544     240  13.125000  23.984301  0.0175
2023-11-13 20:22:59,908 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     440  49.199997  0.0175
1  0.137544     450  40.449997  0.0175
2  0.137544     460  32.449997  0.0175
3  0.137544     470  25.049995  0.0175
4  0.137544     480  18.649996  0.0175
   maturity  strike      price    rate
0  0.137544     200  48.399994  0.0175
1  0.137544     210  38.724991  0.0175
2  0.137544     220  29.299995  0.0175
3  0.137544     230  20.625000  0.0175
4  0.137544     240  13.125000  0.0175
2023-11-13 20:22:59,908 - yq - INFO - Calibrating LONZA on 2023-09-01 00:00:00.
2023-11-13 20:23:37,825 - yq - INFO - Calibrating SIKA on 2023-09-01 00:00:00.
2023-11-13 20:24:12,651 - yq - INFO - The S_0 for LONZA and SIKA are 492.5 and 247.0
2023-11-13 20:24:12,653 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 20:24:12,666 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230901.csv
2023-11-13 20:24:12,666 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.80345474  0.04168605 -0.07938045  0.49237809  0.295238  ]
 [ 1.88920582  0.04175538 -0.0811291   0.48039964  0.2992656 ]]
2023-11-13 20:24:12,669 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13fe8e3d0>, Timestamp('2023-09-01 00:00:00')): 0.0h 1.0m 12s 790ms
2023-11-13 20:24:12,677 - yq - INFO - The log returns list for all assets is: [Date
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
                ...   
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
                ...   
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:24:12,680 - yq - INFO - rho_S1S2 is 0.4188302744380037

2023-11-13 20:24:12,680 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41883027]
 [0.41883027 1.        ]]

2023-11-13 20:24:12,680 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49237809 0.41883027 0.        ]
 [0.49237809 1.         0.         0.        ]
 [0.41883027 0.         1.         0.48039964]
 [0.         0.         0.48039964 1.        ]]

2023-11-13 20:24:12,681 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49237809  0.87038142  0.          0.        ]
 [ 0.41883027 -0.23693388  0.87660911  0.        ]
 [ 0.          0.          0.54802036  0.836465  ]]

2023-11-13 20:24:12,681 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13fe8e3d0>): 0.0h 0.0m 0s 12ms
2023-11-13 20:24:12,690 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 20:24:12,714 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:24:12,717 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  504.625096  243.316630
1  483.301570  242.273432
2  490.941106  249.655919
3  504.418651  254.147176
4  511.043767  253.798165
2023-11-13 20:24:12,836 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  504.625096  243.316630
2023-09-05  483.301570  242.273432
2023-09-06  490.941106  249.655919
2023-09-07  504.418651  254.147176
2023-09-08  511.043767  253.798165
2023-11-13 20:24:12,903 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 20:24:12,908 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  504.625096  243.316630
2023-09-05  483.301570  242.273432
2023-09-06  490.941106  249.655919
2023-09-07  504.418651  254.147176
...                ...         ...
2024-07-24  584.012286  282.801992
2024-07-25  582.735652  291.752188
2024-07-26  594.076729  296.906674
2024-07-29  601.774675  287.470270
2024-07-30  622.275820  287.895151

[228 rows x 2 columns]
2023-11-13 20:24:13,059 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:24:13,059 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fe8e3d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  504.625096  243.316630
2023-09-05  483.301570  242.273432
2023-09-06  490.941106  249.655919
2023-09-07  504.418651  254.147176
2023-09-08  511.043767  253.798165
...                ...         ...
2024-07-24  584.012286  282.801992
2024-07-25  582.735652  291.752188
2024-07-26  594.076729  296.906674
2024-07-29  601.774675  287.470270
2024-07-30  622.275820  287.895151

[227 rows x 2 columns], sim=0): 0.0h 0.0m 0s 216ms
2023-11-13 20:24:13,059 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 20:24:13,088 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:24:13,090 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  503.014526  245.396892
1  505.366417  240.354134
2  511.302318  264.534850
3  497.804065  258.485773
4  496.874371  274.158516
2023-11-13 20:24:13,227 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  503.014526  245.396892
2023-09-05  505.366417  240.354134
2023-09-06  511.302318  264.534850
2023-09-07  497.804065  258.485773
2023-09-08  496.874371  274.158516
2023-11-13 20:24:13,318 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 20:24:13,322 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  503.014526  245.396892
2023-09-05  505.366417  240.354134
2023-09-06  511.302318  264.534850
2023-09-07  497.804065  258.485773
...                ...         ...
2024-07-24  474.488193  266.372619
2024-07-25  460.265088  258.242747
2024-07-26  444.473438  252.464808
2024-07-29  453.207700  256.874589
2024-07-30  459.778400  255.238054

[228 rows x 2 columns]
2023-11-13 20:24:13,479 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:24:13,479 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fe8e3d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  503.014526  245.396892
2023-09-05  505.366417  240.354134
2023-09-06  511.302318  264.534850
2023-09-07  497.804065  258.485773
2023-09-08  496.874371  274.158516
...                ...         ...
2024-07-24  474.488193  266.372619
2024-07-25  460.265088  258.242747
2024-07-26  444.473438  252.464808
2024-07-29  453.207700  256.874589
2024-07-30  459.778400  255.238054

[227 rows x 2 columns], sim=1): 0.0h 0.0m 0s 248ms
2023-11-13 20:24:13,480 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 20:24:13,510 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:24:13,511 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  512.886301  245.996586
1  514.054967  244.404685
2  516.195606  240.870133
3  515.643259  225.666333
4  521.096947  226.018516
2023-11-13 20:24:13,672 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  512.886301  245.996586
2023-09-05  514.054967  244.404685
2023-09-06  516.195606  240.870133
2023-09-07  515.643259  225.666333
2023-09-08  521.096947  226.018516
2023-11-13 20:24:13,696 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 20:24:13,700 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  512.886301  245.996586
2023-09-05  514.054967  244.404685
2023-09-06  516.195606  240.870133
2023-09-07  515.643259  225.666333
...                ...         ...
2024-07-24  461.995707  158.391418
2024-07-25  473.873215  158.191366
2024-07-26  474.414810  159.817352
2024-07-29  469.296525  161.448067
2024-07-30  455.596228  155.771732

[228 rows x 2 columns]
2023-11-13 20:24:13,869 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:24:13,869 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fe8e3d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  512.886301  245.996586
2023-09-05  514.054967  244.404685
2023-09-06  516.195606  240.870133
2023-09-07  515.643259  225.666333
2023-09-08  521.096947  226.018516
...                ...         ...
2024-07-24  461.995707  158.391418
2024-07-25  473.873215  158.191366
2024-07-26  474.414810  159.817352
2024-07-29  469.296525  161.448067
2024-07-30  455.596228  155.771732

[227 rows x 2 columns], sim=2): 0.0h 0.0m 0s 193ms
2023-11-13 20:24:13,869 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13fe8e3d0>, n_sim=3): 0.0h 1.0m 13s 994ms
2023-11-13 20:24:13,869 - yq - INFO - Pricing the product on 2023-09-04 00:00:00
2023-11-13 20:24:13,869 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:24:13,880 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:24:14,175 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-11-13 20:24:14,175 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230904.csv
2023-11-13 20:24:14,181 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/lonn_call.csv
2023-11-13 20:24:14,183 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     450  51.750000  30.906645  0.0175
1  0.129123     460  42.599991  28.382610  0.0175
2  0.129123     470  33.899994  26.205038  0.0175
3  0.129123     480  25.949997  24.541363  0.0175
4  0.129123     490  20.000000  24.976856  0.0175
2023-11-13 20:24:14,184 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/sika_call.csv
2023-11-13 20:24:14,186 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     200  48.399994  34.529781  0.0175
1  0.129123     210  38.724991  30.920095  0.0175
2  0.129123     220  29.299995  27.579824  0.0175
3  0.129123     230  20.625000  25.546993  0.0175
4  0.129123     240  13.125000  23.984301  0.0175
2023-11-13 20:24:14,190 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     450  51.750000  0.0175
1  0.129123     460  42.599991  0.0175
2  0.129123     470  33.899994  0.0175
3  0.129123     480  25.949997  0.0175
4  0.129123     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.129123     200  48.399994  0.0175
1  0.129123     210  38.724991  0.0175
2  0.129123     220  29.299995  0.0175
3  0.129123     230  20.625000  0.0175
4  0.129123     240  13.125000  0.0175
2023-11-13 20:24:14,190 - yq - INFO - Calibrating LONZA on 2023-09-04 00:00:00.
2023-11-13 20:24:52,419 - yq - INFO - Calibrating SIKA on 2023-09-04 00:00:00.
2023-11-13 20:25:24,680 - yq - INFO - The S_0 for LONZA and SIKA are 495.3 and 247.5
2023-11-13 20:25:24,681 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 10 seconds
2023-11-13 20:25:24,695 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230904.csv
2023-11-13 20:25:24,695 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.79061497  0.04986679 -0.07163108  0.54334618  0.29638125]
 [ 1.67262895  0.05062791 -0.0733476   0.53453668  0.30338907]]
2023-11-13 20:25:24,702 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f4f350>, Timestamp('2023-09-04 00:00:00')): 0.0h 1.0m 10s 527ms
2023-11-13 20:25:24,709 - yq - INFO - The log returns list for all assets is: [Date
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
                ...   
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
                ...   
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:25:24,711 - yq - INFO - rho_S1S2 is 0.41812507172262614

2023-11-13 20:25:24,712 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41812507]
 [0.41812507 1.        ]]

2023-11-13 20:25:24,712 - yq - INFO - Simplified correlation matrix is:
[[1.         0.54334618 0.41812507 0.        ]
 [0.54334618 1.         0.         0.        ]
 [0.41812507 0.         1.         0.53453668]
 [0.         0.         0.53453668 1.        ]]

2023-11-13 20:25:24,712 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.54334618  0.83950874  0.          0.        ]
 [ 0.41812507 -0.27061858  0.86714302  0.        ]
 [ 0.          0.          0.61643428  0.78740636]]

2023-11-13 20:25:24,712 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f4f350>): 0.0h 0.0m 0s 11ms
2023-11-13 20:25:24,721 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 20:25:24,742 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:25:24,744 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.814020  234.324976
1  495.122189  237.271047
2  473.219820  226.666353
3  485.813841  223.210863
4  510.260775  233.777338
2023-11-13 20:25:24,846 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  483.814020  234.324976
2023-09-06  495.122189  237.271047
2023-09-07  473.219820  226.666353
2023-09-08  485.813841  223.210863
2023-09-11  510.260775  233.777338
2023-11-13 20:25:24,927 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 20:25:24,931 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  483.814020  234.324976
2023-09-06  495.122189  237.271047
2023-09-07  473.219820  226.666353
2023-09-08  485.813841  223.210863
...                ...         ...
2024-07-24  218.696252  152.436074
2024-07-25  217.917972  153.949483
2024-07-26  214.762136  146.603287
2024-07-29  220.347928  150.500865
2024-07-30  217.992015  152.487341

[227 rows x 2 columns]
2023-11-13 20:25:25,137 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:25:25,138 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f4f350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  483.814020  234.324976
2023-09-06  495.122189  237.271047
2023-09-07  473.219820  226.666353
2023-09-08  485.813841  223.210863
2023-09-11  510.260775  233.777338
...                ...         ...
2024-07-24  218.696252  152.436074
2024-07-25  217.917972  153.949483
2024-07-26  214.762136  146.603287
2024-07-29  220.347928  150.500865
2024-07-30  217.992015  152.487341

[226 rows x 2 columns], sim=0): 0.0h 0.0m 0s 279ms
2023-11-13 20:25:25,138 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 20:25:25,162 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:25:25,172 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  530.437437  246.937106
1  510.302476  248.444042
2  494.819328  237.908640
3  493.504965  239.213979
4  512.297388  235.831137
2023-11-13 20:25:25,288 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  530.437437  246.937106
2023-09-06  510.302476  248.444042
2023-09-07  494.819328  237.908640
2023-09-08  493.504965  239.213979
2023-09-11  512.297388  235.831137
2023-11-13 20:25:25,334 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 20:25:25,355 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  530.437437  246.937106
2023-09-06  510.302476  248.444042
2023-09-07  494.819328  237.908640
2023-09-08  493.504965  239.213979
...                ...         ...
2024-07-24  586.431352  357.750238
2024-07-25  602.380547  365.524258
2024-07-26  604.605661  356.979806
2024-07-29  601.618947  356.677454
2024-07-30  576.314782  357.246303

[227 rows x 2 columns]
2023-11-13 20:25:25,511 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:25:25,511 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f4f350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  530.437437  246.937106
2023-09-06  510.302476  248.444042
2023-09-07  494.819328  237.908640
2023-09-08  493.504965  239.213979
2023-09-11  512.297388  235.831137
...                ...         ...
2024-07-24  586.431352  357.750238
2024-07-25  602.380547  365.524258
2024-07-26  604.605661  356.979806
2024-07-29  601.618947  356.677454
2024-07-30  576.314782  357.246303

[226 rows x 2 columns], sim=1): 0.0h 0.0m 0s 199ms
2023-11-13 20:25:25,511 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 20:25:25,535 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:25:25,537 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  501.804957  237.311368
1  511.969157  246.825880
2  518.722516  250.677090
3  517.676690  244.260376
4  518.815969  250.363515
2023-11-13 20:25:25,659 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  501.804957  237.311368
2023-09-06  511.969157  246.825880
2023-09-07  518.722516  250.677090
2023-09-08  517.676690  244.260376
2023-09-11  518.815969  250.363515
2023-11-13 20:25:25,702 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 20:25:25,725 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  501.804957  237.311368
2023-09-06  511.969157  246.825880
2023-09-07  518.722516  250.677090
2023-09-08  517.676690  244.260376
...                ...         ...
2024-07-24  619.655511  216.133585
2024-07-25  629.270431  215.558697
2024-07-26  619.307754  211.181428
2024-07-29  619.174251  211.259723
2024-07-30  622.011222  208.205428

[227 rows x 2 columns]
2023-11-13 20:25:25,898 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:25:25,898 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f4f350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  501.804957  237.311368
2023-09-06  511.969157  246.825880
2023-09-07  518.722516  250.677090
2023-09-08  517.676690  244.260376
2023-09-11  518.815969  250.363515
...                ...         ...
2024-07-24  619.655511  216.133585
2024-07-25  629.270431  215.558697
2024-07-26  619.307754  211.181428
2024-07-29  619.174251  211.259723
2024-07-30  622.011222  208.205428

[226 rows x 2 columns], sim=2): 0.0h 0.0m 0s 216ms
2023-11-13 20:25:25,898 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f4f350>, n_sim=3): 0.0h 1.0m 11s 725ms
2023-11-13 20:25:25,898 - yq - INFO - Pricing the product on 2023-09-05 00:00:00
2023-11-13 20:25:25,898 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:25:25,908 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:25:26,168 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-11-13 20:25:26,186 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230905.csv
2023-11-13 20:25:26,189 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/lonn_call.csv
2023-11-13 20:25:26,191 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     450  51.750000  30.906645  0.0175
1  0.126316     460  42.599991  28.382610  0.0175
2  0.126316     470  33.899994  26.205038  0.0175
3  0.126316     480  25.949997  24.541363  0.0175
4  0.126316     490  20.000000  24.976856  0.0175
2023-11-13 20:25:26,192 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/sika_call.csv
2023-11-13 20:25:26,194 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     195  47.824997  34.854164  0.0175
1  0.126316     200  43.025002  33.723049  0.0175
2  0.126316     210  33.425003  29.825727  0.0175
3  0.126316     220  24.275002  26.838257  0.0175
4  0.126316     230  16.150000  25.069353  0.0175
2023-11-13 20:25:26,198 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     450  51.750000  0.0175
1  0.126316     460  42.599991  0.0175
2  0.126316     470  33.899994  0.0175
3  0.126316     480  25.949997  0.0175
4  0.126316     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.126316     195  47.824997  0.0175
1  0.126316     200  43.025002  0.0175
2  0.126316     210  33.425003  0.0175
3  0.126316     220  24.275002  0.0175
4  0.126316     230  16.150000  0.0175
2023-11-13 20:25:26,198 - yq - INFO - Calibrating LONZA on 2023-09-05 00:00:00.
2023-11-13 20:25:58,548 - yq - INFO - Calibrating SIKA on 2023-09-05 00:00:00.
2023-11-13 20:26:38,763 - yq - INFO - The S_0 for LONZA and SIKA are 494.4 and 241.8
2023-11-13 20:26:38,767 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 20:26:38,792 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230905.csv
2023-11-13 20:26:38,792 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.88880424  0.03236341 -0.07603936  0.54714023  0.30526006]
 [ 1.27871852  0.07431904 -0.05892558  0.6204069   0.28011101]]
2023-11-13 20:26:38,796 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2849c8890>, Timestamp('2023-09-05 00:00:00')): 0.0h 1.0m 12s 610ms
2023-11-13 20:26:38,814 - yq - INFO - The log returns list for all assets is: [Date
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
                ...   
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
                ...   
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:26:38,816 - yq - INFO - rho_S1S2 is 0.41003852432556814

2023-11-13 20:26:38,816 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41003852]
 [0.41003852 1.        ]]

2023-11-13 20:26:38,817 - yq - INFO - Simplified correlation matrix is:
[[1.         0.54714023 0.41003852 0.        ]
 [0.54714023 1.         0.         0.        ]
 [0.41003852 0.         1.         0.6204069 ]
 [0.         0.         0.6204069  1.        ]]

2023-11-13 20:26:38,817 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.54714023  0.83704096  0.          0.        ]
 [ 0.41003852 -0.2680258   0.87179733  0.        ]
 [ 0.          0.          0.71164121  0.70254309]]

2023-11-13 20:26:38,817 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2849c8890>): 0.0h 0.0m 0s 21ms
2023-11-13 20:26:38,825 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 20:26:38,850 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:26:38,853 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  486.058501  238.252208
1  506.646272  245.364261
2  502.126179  246.393077
3  488.151404  256.250653
4  513.080065  275.433995
2023-11-13 20:26:38,988 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  486.058501  238.252208
2023-09-07  506.646272  245.364261
2023-09-08  502.126179  246.393077
2023-09-11  488.151404  256.250653
2023-09-12  513.080065  275.433995
2023-11-13 20:26:39,078 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 20:26:39,081 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  486.058501  238.252208
2023-09-07  506.646272  245.364261
2023-09-08  502.126179  246.393077
2023-09-11  488.151404  256.250653
...                ...         ...
2024-07-24  667.525114  434.022929
2024-07-25  675.251890  435.305867
2024-07-26  673.189321  432.857395
2024-07-29  660.952124  433.065088
2024-07-30  659.724904  442.934994

[226 rows x 2 columns]
2023-11-13 20:26:39,220 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:26:39,220 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849c8890>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  486.058501  238.252208
2023-09-07  506.646272  245.364261
2023-09-08  502.126179  246.393077
2023-09-11  488.151404  256.250653
2023-09-12  513.080065  275.433995
...                ...         ...
2024-07-24  667.525114  434.022929
2024-07-25  675.251890  435.305867
2024-07-26  673.189321  432.857395
2024-07-29  660.952124  433.065088
2024-07-30  659.724904  442.934994

[225 rows x 2 columns], sim=0): 0.0h 0.0m 0s 228ms
2023-11-13 20:26:39,221 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 20:26:39,247 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:26:39,249 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  471.997961  226.972889
1  470.690941  231.425695
2  448.870029  210.959662
3  431.012338  207.334178
4  418.968679  211.936963
2023-11-13 20:26:39,376 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  471.997961  226.972889
2023-09-07  470.690941  231.425695
2023-09-08  448.870029  210.959662
2023-09-11  431.012338  207.334178
2023-09-12  418.968679  211.936963
2023-11-13 20:26:39,425 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 20:26:39,428 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  471.997961  226.972889
2023-09-07  470.690941  231.425695
2023-09-08  448.870029  210.959662
2023-09-11  431.012338  207.334178
...                ...         ...
2024-07-24  284.296675  170.329217
2024-07-25  288.978890  172.318833
2024-07-26  295.884615  176.500677
2024-07-29  295.869916  175.155894
2024-07-30  297.933354  182.524066

[226 rows x 2 columns]
2023-11-13 20:26:39,567 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:26:39,567 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849c8890>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  471.997961  226.972889
2023-09-07  470.690941  231.425695
2023-09-08  448.870029  210.959662
2023-09-11  431.012338  207.334178
2023-09-12  418.968679  211.936963
...                ...         ...
2024-07-24  284.296675  170.329217
2024-07-25  288.978890  172.318833
2024-07-26  295.884615  176.500677
2024-07-29  295.869916  175.155894
2024-07-30  297.933354  182.524066

[225 rows x 2 columns], sim=1): 0.0h 0.0m 0s 188ms
2023-11-13 20:26:39,568 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 20:26:39,601 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:26:39,603 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  500.140541  240.162478
1  486.258400  229.415101
2  476.341713  222.143447
3  475.457930  223.618487
4  475.828926  211.922814
2023-11-13 20:26:40,037 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  500.140541  240.162478
2023-09-07  486.258400  229.415101
2023-09-08  476.341713  222.143447
2023-09-11  475.457930  223.618487
2023-09-12  475.828926  211.922814
2023-11-13 20:26:40,058 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 20:26:40,061 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  500.140541  240.162478
2023-09-07  486.258400  229.415101
2023-09-08  476.341713  222.143447
2023-09-11  475.457930  223.618487
...                ...         ...
2024-07-24  409.257040  337.101144
2024-07-25  403.125181  325.376660
2024-07-26  401.482715  320.888310
2024-07-29  405.359997  327.595246
2024-07-30  393.105170  319.541645

[226 rows x 2 columns]
2023-11-13 20:26:40,182 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:26:40,182 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849c8890>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  500.140541  240.162478
2023-09-07  486.258400  229.415101
2023-09-08  476.341713  222.143447
2023-09-11  475.457930  223.618487
2023-09-12  475.828926  211.922814
...                ...         ...
2024-07-24  409.257040  337.101144
2024-07-25  403.125181  325.376660
2024-07-26  401.482715  320.888310
2024-07-29  405.359997  327.595246
2024-07-30  393.105170  319.541645

[225 rows x 2 columns], sim=2): 0.0h 0.0m 0s 142ms
2023-11-13 20:26:40,182 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2849c8890>, n_sim=3): 0.0h 1.0m 14s 16ms
2023-11-13 20:26:40,182 - yq - INFO - Pricing the product on 2023-09-06 00:00:00
2023-11-13 20:26:40,182 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:26:40,190 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:26:40,484 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-11-13 20:26:40,485 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230906.csv
2023-11-13 20:26:40,490 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/lonn_call.csv
2023-11-13 20:26:40,492 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     450  51.750000  30.906645  0.0175
1  0.123509     460  42.599991  28.382610  0.0175
2  0.123509     470  33.899994  26.205038  0.0175
3  0.123509     480  25.949997  24.541363  0.0175
4  0.123509     490  20.000000  24.976856  0.0175
2023-11-13 20:26:40,493 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/sika_call.csv
2023-11-13 20:26:40,495 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     200  46.400002  35.939377  0.0175
1  0.123509     210  36.725006  31.652964  0.0175
2  0.123509     220  27.350006  27.994894  0.0175
3  0.123509     230  18.775002  25.656116  0.0175
4  0.123509     240  11.525000  24.011927  0.0175
2023-11-13 20:26:40,501 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     450  51.750000  0.0175
1  0.123509     460  42.599991  0.0175
2  0.123509     470  33.899994  0.0175
3  0.123509     480  25.949997  0.0175
4  0.123509     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.123509     200  46.400002  0.0175
1  0.123509     210  36.725006  0.0175
2  0.123509     220  27.350006  0.0175
3  0.123509     230  18.775002  0.0175
4  0.123509     240  11.525000  0.0175
2023-11-13 20:26:40,501 - yq - INFO - Calibrating LONZA on 2023-09-06 00:00:00.
2023-11-13 20:27:23,374 - yq - INFO - Calibrating SIKA on 2023-09-06 00:00:00.
2023-11-13 20:28:00,504 - yq - INFO - The S_0 for LONZA and SIKA are 496.1 and 245.5
2023-11-13 20:28:00,512 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 20 seconds
2023-11-13 20:28:00,526 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230906.csv
2023-11-13 20:28:00,526 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.43061561  0.04050776 -0.06893067  0.58445422  0.29886723]
 [ 4.89308966  0.01832071 -0.09831041  0.48852219  0.33539617]]
2023-11-13 20:28:00,533 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284fc0e90>, Timestamp('2023-09-06 00:00:00')): 0.0h 1.0m 20s 48ms
2023-11-13 20:28:00,545 - yq - INFO - The log returns list for all assets is: [Date
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
                ...   
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
                ...   
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:28:00,547 - yq - INFO - rho_S1S2 is 0.39478894626329986

2023-11-13 20:28:00,547 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39478895]
 [0.39478895 1.        ]]

2023-11-13 20:28:00,548 - yq - INFO - Simplified correlation matrix is:
[[1.         0.58445422 0.39478895 0.        ]
 [0.58445422 1.         0.         0.        ]
 [0.39478895 0.         1.         0.48852219]
 [0.         0.         0.48852219 1.        ]]

2023-11-13 20:28:00,548 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.58445422  0.81142668  0.          0.        ]
 [ 0.39478895 -0.28435849  0.87366008  0.        ]
 [ 0.          0.          0.55916735  0.82905481]]

2023-11-13 20:28:00,548 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284fc0e90>): 0.0h 0.0m 0s 15ms
2023-11-13 20:28:00,557 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 20:28:00,584 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:28:00,587 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  505.671622  250.496437
1  498.327235  251.470809
2  529.265906  251.986608
3  552.810369  255.808894
4  573.052370  249.090667
2023-11-13 20:28:00,695 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  505.671622  250.496437
2023-09-08  498.327235  251.470809
2023-09-11  529.265906  251.986608
2023-09-12  552.810369  255.808894
2023-09-13  573.052370  249.090667
2023-11-13 20:28:00,798 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 20:28:00,802 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  505.671622  250.496437
2023-09-08  498.327235  251.470809
2023-09-11  529.265906  251.986608
2023-09-12  552.810369  255.808894
...                ...         ...
2024-07-24  914.451547  374.046964
2024-07-25  897.175516  373.348776
2024-07-26  890.841068  375.990145
2024-07-29  887.634935  378.101998
2024-07-30  885.063106  386.341340

[225 rows x 2 columns]
2023-11-13 20:28:00,951 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:28:00,951 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fc0e90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  505.671622  250.496437
2023-09-08  498.327235  251.470809
2023-09-11  529.265906  251.986608
2023-09-12  552.810369  255.808894
2023-09-13  573.052370  249.090667
...                ...         ...
2024-07-24  914.451547  374.046964
2024-07-25  897.175516  373.348776
2024-07-26  890.841068  375.990145
2024-07-29  887.634935  378.101998
2024-07-30  885.063106  386.341340

[224 rows x 2 columns], sim=0): 0.0h 0.0m 0s 252ms
2023-11-13 20:28:00,951 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 20:28:00,981 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:28:00,983 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.615535  248.112899
1  482.403769  251.764826
2  467.247555  261.381934
3  464.979755  273.449924
4  450.676965  272.498533
2023-11-13 20:28:01,118 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  481.615535  248.112899
2023-09-08  482.403769  251.764826
2023-09-11  467.247555  261.381934
2023-09-12  464.979755  273.449924
2023-09-13  450.676965  272.498533
2023-11-13 20:28:01,147 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 20:28:01,152 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-09-06   496.100000  245.500000
2023-09-07   481.615535  248.112899
2023-09-08   482.403769  251.764826
2023-09-11   467.247555  261.381934
2023-09-12   464.979755  273.449924
...                 ...         ...
2024-07-24   981.577820  374.358893
2024-07-25  1008.178179  380.328382
2024-07-26  1005.793026  381.645670
2024-07-29  1020.050016  381.428079
2024-07-30  1004.561969  388.131831

[225 rows x 2 columns]
2023-11-13 20:28:01,330 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:28:01,330 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fc0e90>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-09-07   481.615535  248.112899
2023-09-08   482.403769  251.764826
2023-09-11   467.247555  261.381934
2023-09-12   464.979755  273.449924
2023-09-13   450.676965  272.498533
...                 ...         ...
2024-07-24   981.577820  374.358893
2024-07-25  1008.178179  380.328382
2024-07-26  1005.793026  381.645670
2024-07-29  1020.050016  381.428079
2024-07-30  1004.561969  388.131831

[224 rows x 2 columns], sim=1): 0.0h 0.0m 0s 208ms
2023-11-13 20:28:01,331 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 20:28:01,363 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:28:01,365 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  519.595194  240.085879
1  532.516602  252.728403
2  526.613716  266.814985
3  540.665348  284.412461
4  522.796902  286.913290
2023-11-13 20:28:01,513 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  519.595194  240.085879
2023-09-08  532.516602  252.728403
2023-09-11  526.613716  266.814985
2023-09-12  540.665348  284.412461
2023-09-13  522.796902  286.913290
2023-11-13 20:28:01,541 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 20:28:01,545 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  519.595194  240.085879
2023-09-08  532.516602  252.728403
2023-09-11  526.613716  266.814985
2023-09-12  540.665348  284.412461
...                ...         ...
2024-07-24  443.820502  291.652614
2024-07-25  429.512520  287.657838
2024-07-26  427.246645  287.312036
2024-07-29  430.816743  286.462756
2024-07-30  421.906574  285.690608

[225 rows x 2 columns]
2023-11-13 20:28:01,722 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:28:01,722 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284fc0e90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  519.595194  240.085879
2023-09-08  532.516602  252.728403
2023-09-11  526.613716  266.814985
2023-09-12  540.665348  284.412461
2023-09-13  522.796902  286.913290
...                ...         ...
2024-07-24  443.820502  291.652614
2024-07-25  429.512520  287.657838
2024-07-26  427.246645  287.312036
2024-07-29  430.816743  286.462756
2024-07-30  421.906574  285.690608

[224 rows x 2 columns], sim=2): 0.0h 0.0m 0s 204ms
2023-11-13 20:28:01,722 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284fc0e90>, n_sim=3): 0.0h 1.0m 21s 241ms
2023-11-13 20:28:01,723 - yq - INFO - Pricing the product on 2023-09-07 00:00:00
2023-11-13 20:28:01,723 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:28:01,733 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:28:02,032 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-11-13 20:28:02,032 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230907.csv
2023-11-13 20:28:02,037 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/lonn_call.csv
2023-11-13 20:28:02,039 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     450  51.750000  30.906645  0.0175
1  0.120702     460  42.599991  28.382610  0.0175
2  0.120702     470  33.899994  26.205038  0.0175
3  0.120702     480  25.949997  24.541363  0.0175
4  0.120702     490  20.000000  24.976856  0.0175
2023-11-13 20:28:02,040 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/sika_call.csv
2023-11-13 20:28:02,042 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     200  50.349998  39.359463  0.0175
1  0.120702     210  40.625000  34.584309  0.0175
2  0.120702     220  31.100006  30.254286  0.0175
3  0.120702     230  22.099998  26.922087  0.0175
4  0.120702     240  14.300000  25.054329  0.0175
2023-11-13 20:28:02,046 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     450  51.750000  0.0175
1  0.120702     460  42.599991  0.0175
2  0.120702     470  33.899994  0.0175
3  0.120702     480  25.949997  0.0175
4  0.120702     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.120702     200  50.349998  0.0175
1  0.120702     210  40.625000  0.0175
2  0.120702     220  31.100006  0.0175
3  0.120702     230  22.099998  0.0175
4  0.120702     240  14.300000  0.0175
2023-11-13 20:28:02,046 - yq - INFO - Calibrating LONZA on 2023-09-07 00:00:00.
2023-11-13 20:28:38,131 - yq - INFO - Calibrating SIKA on 2023-09-07 00:00:00.
2023-11-13 20:29:14,737 - yq - INFO - The S_0 for LONZA and SIKA are 492.4 and 249.1
2023-11-13 20:29:14,738 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 20:29:14,814 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230907.csv
2023-11-13 20:29:14,814 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.46087404  0.02095876 -0.08418496  0.54915276  0.32655723]
 [ 1.63994574  0.06201393 -0.06071839  0.63137533  0.28721823]]
2023-11-13 20:29:14,820 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285176650>, Timestamp('2023-09-07 00:00:00')): 0.0h 1.0m 12s 785ms
2023-11-13 20:29:14,835 - yq - INFO - The log returns list for all assets is: [Date
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
                ...   
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
                ...   
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:29:14,837 - yq - INFO - rho_S1S2 is 0.393484816904622

2023-11-13 20:29:14,837 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39348482]
 [0.39348482 1.        ]]

2023-11-13 20:29:14,838 - yq - INFO - Simplified correlation matrix is:
[[1.         0.54915276 0.39348482 0.        ]
 [0.54915276 1.         0.         0.        ]
 [0.39348482 0.         1.         0.63137533]
 [0.         0.         0.63137533 1.        ]]

2023-11-13 20:29:14,838 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.54915276  0.83572199  0.          0.        ]
 [ 0.39348482 -0.2585588   0.88222279  0.        ]
 [ 0.          0.          0.71566427  0.69844445]]

2023-11-13 20:29:14,838 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285176650>): 0.0h 0.0m 0s 18ms
2023-11-13 20:29:14,846 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 20:29:14,866 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:29:14,869 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.286120  244.928942
1  516.591799  249.926557
2  518.731459  252.926210
3  489.935914  250.743578
4  490.114835  261.230054
2023-11-13 20:29:14,976 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  491.286120  244.928942
2023-09-11  516.591799  249.926557
2023-09-12  518.731459  252.926210
2023-09-13  489.935914  250.743578
2023-09-14  490.114835  261.230054
2023-11-13 20:29:15,088 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 20:29:15,106 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  491.286120  244.928942
2023-09-11  516.591799  249.926557
2023-09-12  518.731459  252.926210
2023-09-13  489.935914  250.743578
...                ...         ...
2024-07-24  204.712792  153.000613
2024-07-25  201.738316  148.474720
2024-07-26  200.852033  147.422228
2024-07-29  200.896587  152.783340
2024-07-30  203.062500  156.612510

[224 rows x 2 columns]
2023-11-13 20:29:15,316 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:29:15,316 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285176650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  491.286120  244.928942
2023-09-11  516.591799  249.926557
2023-09-12  518.731459  252.926210
2023-09-13  489.935914  250.743578
2023-09-14  490.114835  261.230054
...                ...         ...
2024-07-24  204.712792  153.000613
2024-07-25  201.738316  148.474720
2024-07-26  200.852033  147.422228
2024-07-29  200.896587  152.783340
2024-07-30  203.062500  156.612510

[223 rows x 2 columns], sim=0): 0.0h 0.0m 0s 333ms
2023-11-13 20:29:15,317 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 20:29:15,340 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:29:15,341 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  499.391904  246.275269
1  503.051525  251.305457
2  491.104949  241.559516
3  495.335772  225.557795
4  517.876465  229.121363
2023-11-13 20:29:15,458 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  499.391904  246.275269
2023-09-11  503.051525  251.305457
2023-09-12  491.104949  241.559516
2023-09-13  495.335772  225.557795
2023-09-14  517.876465  229.121363
2023-11-13 20:29:15,487 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 20:29:15,490 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  499.391904  246.275269
2023-09-11  503.051525  251.305457
2023-09-12  491.104949  241.559516
2023-09-13  495.335772  225.557795
...                ...         ...
2024-07-24  621.177418  317.020852
2024-07-25  613.958477  311.229359
2024-07-26  606.901287  305.173682
2024-07-29  620.117230  327.073582
2024-07-30  624.336301  335.352700

[224 rows x 2 columns]
2023-11-13 20:29:15,677 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:29:15,677 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285176650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  499.391904  246.275269
2023-09-11  503.051525  251.305457
2023-09-12  491.104949  241.559516
2023-09-13  495.335772  225.557795
2023-09-14  517.876465  229.121363
...                ...         ...
2024-07-24  621.177418  317.020852
2024-07-25  613.958477  311.229359
2024-07-26  606.901287  305.173682
2024-07-29  620.117230  327.073582
2024-07-30  624.336301  335.352700

[223 rows x 2 columns], sim=1): 0.0h 0.0m 0s 213ms
2023-11-13 20:29:15,678 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 20:29:15,710 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:29:15,712 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.614125  239.658110
1  512.469933  241.146666
2  511.790059  244.576734
3  494.930471  244.084969
4  505.451269  243.536168
2023-11-13 20:29:15,860 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  484.614125  239.658110
2023-09-11  512.469933  241.146666
2023-09-12  511.790059  244.576734
2023-09-13  494.930471  244.084969
2023-09-14  505.451269  243.536168
2023-11-13 20:29:15,923 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 20:29:15,926 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  484.614125  239.658110
2023-09-11  512.469933  241.146666
2023-09-12  511.790059  244.576734
2023-09-13  494.930471  244.084969
...                ...         ...
2024-07-24  484.955301  261.293555
2024-07-25  477.558896  262.812439
2024-07-26  471.620100  256.667036
2024-07-29  481.409409  254.561073
2024-07-30  493.848303  247.137102

[224 rows x 2 columns]
2023-11-13 20:29:16,080 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:29:16,080 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285176650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  484.614125  239.658110
2023-09-11  512.469933  241.146666
2023-09-12  511.790059  244.576734
2023-09-13  494.930471  244.084969
2023-09-14  505.451269  243.536168
...                ...         ...
2024-07-24  484.955301  261.293555
2024-07-25  477.558896  262.812439
2024-07-26  471.620100  256.667036
2024-07-29  481.409409  254.561073
2024-07-30  493.848303  247.137102

[223 rows x 2 columns], sim=2): 0.0h 0.0m 0s 189ms
2023-11-13 20:29:16,080 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285176650>, n_sim=3): 0.0h 1.0m 14s 51ms
2023-11-13 20:29:16,080 - yq - INFO - Pricing the product on 2023-09-08 00:00:00
2023-11-13 20:29:16,081 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:29:16,093 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:29:16,408 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-11-13 20:29:16,409 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230908.csv
2023-11-13 20:29:16,412 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/lonn_call.csv
2023-11-13 20:29:16,414 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     450  51.750000  30.906645  0.0175
1  0.117895     460  42.599991  28.382610  0.0175
2  0.117895     470  33.899994  26.205038  0.0175
3  0.117895     480  25.949997  24.541363  0.0175
4  0.117895     490  20.000000  24.976856  0.0175
2023-11-13 20:29:16,415 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/sika_call.csv
2023-11-13 20:29:16,417 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     200  43.724991  38.051220  0.0175
1  0.117895     210  34.074997  32.932762  0.0175
2  0.117895     220  24.849991  29.042345  0.0175
3  0.117895     230  16.599998  26.669315  0.0175
4  0.117895     240   9.925000  25.268066  0.0175
2023-11-13 20:29:16,422 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     450  51.750000  0.0175
1  0.117895     460  42.599991  0.0175
2  0.117895     470  33.899994  0.0175
3  0.117895     480  25.949997  0.0175
4  0.117895     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.117895     200  43.724991  0.0175
1  0.117895     210  34.074997  0.0175
2  0.117895     220  24.849991  0.0175
3  0.117895     230  16.599998  0.0175
4  0.117895     240   9.925000  0.0175
2023-11-13 20:29:16,422 - yq - INFO - Calibrating LONZA on 2023-09-08 00:00:00.
2023-11-13 20:29:58,353 - yq - INFO - Calibrating SIKA on 2023-09-08 00:00:00.
2023-11-13 20:30:34,495 - yq - INFO - The S_0 for LONZA and SIKA are 483.8 and 242.6
2023-11-13 20:30:34,497 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 18 seconds
2023-11-13 20:30:34,513 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230908.csv
2023-11-13 20:30:34,513 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.33829918  0.02845484 -0.0635913   0.67473251  0.28005608]
 [ 1.70689996  0.07068453 -0.0585056   0.65918443  0.28328112]]
2023-11-13 20:30:34,515 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13fd66210>, Timestamp('2023-09-08 00:00:00')): 0.0h 1.0m 18s 106ms
2023-11-13 20:30:34,524 - yq - INFO - The log returns list for all assets is: [Date
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
                ...   
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
                ...   
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:30:34,526 - yq - INFO - rho_S1S2 is 0.4004093040896815

2023-11-13 20:30:34,526 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4004093]
 [0.4004093 1.       ]]

2023-11-13 20:30:34,526 - yq - INFO - Simplified correlation matrix is:
[[1.         0.67473251 0.4004093  0.        ]
 [0.67473251 1.         0.         0.        ]
 [0.4004093  0.         1.         0.65918443]
 [0.         0.         0.65918443 1.        ]]

2023-11-13 20:30:34,527 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.67473251  0.73806235  0.          0.        ]
 [ 0.4004093  -0.36605197  0.84004663  0.        ]
 [ 0.          0.          0.7846998   0.61987597]]

2023-11-13 20:30:34,527 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13fd66210>): 0.0h 0.0m 0s 11ms
2023-11-13 20:30:34,534 - yq - INFO - The adjusted S_0 is [483.8 242.6]
2023-11-13 20:30:34,556 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:30:34,558 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.689620  236.865376
1  485.773407  244.670075
2  500.956610  239.424754
3  511.761050  255.926655
4  505.048299  250.925355
2023-11-13 20:30:34,679 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  481.689620  236.865376
2023-09-12  485.773407  244.670075
2023-09-13  500.956610  239.424754
2023-09-14  511.761050  255.926655
2023-09-15  505.048299  250.925355
2023-11-13 20:30:34,809 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
...             ...      ...
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6

[63 rows x 2 columns]
2023-11-13 20:30:34,815 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-08  483.800000  242.600000
2023-09-11  481.689620  236.865376
2023-09-12  485.773407  244.670075
2023-09-13  500.956610  239.424754
2023-09-14  511.761050  255.926655
...                ...         ...
2024-07-24  544.205065  258.531924
2024-07-25  536.665667  252.547827
2024-07-26  540.119471  251.452885
2024-07-29  536.618254  243.280821
2024-07-30  546.595331  258.332281

[223 rows x 2 columns]
2023-11-13 20:30:35,019 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:30:35,019 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd66210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  481.689620  236.865376
2023-09-12  485.773407  244.670075
2023-09-13  500.956610  239.424754
2023-09-14  511.761050  255.926655
2023-09-15  505.048299  250.925355
...                ...         ...
2024-07-24  544.205065  258.531924
2024-07-25  536.665667  252.547827
2024-07-26  540.119471  251.452885
2024-07-29  536.618254  243.280821
2024-07-30  546.595331  258.332281

[222 rows x 2 columns], sim=0): 0.0h 0.0m 0s 334ms
2023-11-13 20:30:35,020 - yq - INFO - The adjusted S_0 is [483.8 242.6]
2023-11-13 20:30:35,051 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:30:35,053 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.231470  248.641495
1  473.107048  245.535476
2  448.403178  222.211835
3  447.727747  235.433516
4  473.749877  249.791377
2023-11-13 20:30:35,214 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  472.231470  248.641495
2023-09-12  473.107048  245.535476
2023-09-13  448.403178  222.211835
2023-09-14  447.727747  235.433516
2023-09-15  473.749877  249.791377
2023-11-13 20:30:35,251 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
...             ...      ...
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6

[63 rows x 2 columns]
2023-11-13 20:30:35,255 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-08  483.800000  242.600000
2023-09-11  472.231470  248.641495
2023-09-12  473.107048  245.535476
2023-09-13  448.403178  222.211835
2023-09-14  447.727747  235.433516
...                ...         ...
2024-07-24  494.636200  395.136370
2024-07-25  493.768629  391.188151
2024-07-26  489.302623  390.812642
2024-07-29  486.431365  396.677472
2024-07-30  475.816604  393.293791

[223 rows x 2 columns]
2023-11-13 20:30:35,458 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:30:35,458 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd66210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  472.231470  248.641495
2023-09-12  473.107048  245.535476
2023-09-13  448.403178  222.211835
2023-09-14  447.727747  235.433516
2023-09-15  473.749877  249.791377
...                ...         ...
2024-07-24  494.636200  395.136370
2024-07-25  493.768629  391.188151
2024-07-26  489.302623  390.812642
2024-07-29  486.431365  396.677472
2024-07-30  475.816604  393.293791

[222 rows x 2 columns], sim=1): 0.0h 0.0m 0s 239ms
2023-11-13 20:30:35,459 - yq - INFO - The adjusted S_0 is [483.8 242.6]
2023-11-13 20:30:35,493 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:30:35,495 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.383644  232.445536
1  486.914876  231.637741
2  490.582448  234.931208
3  494.669723  231.662839
4  525.921714  239.741806
2023-11-13 20:30:35,648 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  480.383644  232.445536
2023-09-12  486.914876  231.637741
2023-09-13  490.582448  234.931208
2023-09-14  494.669723  231.662839
2023-09-15  525.921714  239.741806
2023-11-13 20:30:35,679 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
...             ...      ...
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6

[63 rows x 2 columns]
2023-11-13 20:30:35,684 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-08  483.800000  242.600000
2023-09-11  480.383644  232.445536
2023-09-12  486.914876  231.637741
2023-09-13  490.582448  234.931208
2023-09-14  494.669723  231.662839
...                ...         ...
2024-07-24  416.447527  358.837955
2024-07-25  410.219073  354.497800
2024-07-26  406.525649  351.212304
2024-07-29  403.425211  345.724980
2024-07-30  410.987225  349.324131

[223 rows x 2 columns]
2023-11-13 20:30:35,857 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:30:35,857 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd66210>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-11  480.383644  232.445536
2023-09-12  486.914876  231.637741
2023-09-13  490.582448  234.931208
2023-09-14  494.669723  231.662839
2023-09-15  525.921714  239.741806
...                ...         ...
2024-07-24  416.447527  358.837955
2024-07-25  410.219073  354.497800
2024-07-26  406.525649  351.212304
2024-07-29  403.425211  345.724980
2024-07-30  410.987225  349.324131

[222 rows x 2 columns], sim=2): 0.0h 0.0m 0s 205ms
2023-11-13 20:30:35,857 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13fd66210>, n_sim=3): 0.0h 1.0m 19s 451ms
2023-11-13 20:30:35,859 - yq - INFO - Pricing the product on 2023-09-11 00:00:00
2023-11-13 20:30:35,859 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:30:35,869 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:30:36,161 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-11-13 20:30:36,162 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230911.csv
2023-11-13 20:30:36,167 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/lonn_call.csv
2023-11-13 20:30:36,169 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     450  51.750000  30.906645  0.0175
1  0.109474     460  42.599991  28.382610  0.0175
2  0.109474     470  33.899994  26.205038  0.0175
3  0.109474     480  25.949997  24.541363  0.0175
4  0.109474     490  20.000000  24.976856  0.0175
2023-11-13 20:30:36,170 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/sika_call.csv
2023-11-13 20:30:36,171 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     200  45.050003  35.881733  0.0175
1  0.109474     210  35.325005  31.835203  0.0175
2  0.109474     220  25.974998  28.917973  0.0175
3  0.109474     230  17.424995  26.826229  0.0175
4  0.109474     240  10.424999  25.718927  0.0175
2023-11-13 20:30:36,177 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     450  51.750000  0.0175
1  0.109474     460  42.599991  0.0175
2  0.109474     470  33.899994  0.0175
3  0.109474     480  25.949997  0.0175
4  0.109474     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.109474     200  45.050003  0.0175
1  0.109474     210  35.325005  0.0175
2  0.109474     220  25.974998  0.0175
3  0.109474     230  17.424995  0.0175
4  0.109474     240  10.424999  0.0175
2023-11-13 20:30:36,177 - yq - INFO - Calibrating LONZA on 2023-09-11 00:00:00.
2023-11-13 20:31:24,211 - yq - INFO - Calibrating SIKA on 2023-09-11 00:00:00.
2023-11-13 20:32:04,408 - yq - INFO - The S_0 for LONZA and SIKA are 487.2 and 243.1
2023-11-13 20:32:04,409 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 20:32:04,426 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230911.csv
2023-11-13 20:32:04,426 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.01784198  6.20555979 -0.06269976  0.60861528  0.32010082]
 [ 0.75388103  0.42088375 -0.07619061  0.56853325  0.29969064]]
2023-11-13 20:32:04,429 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b66650>, Timestamp('2023-09-11 00:00:00')): 0.0h 1.0m 28s 268ms
2023-11-13 20:32:04,456 - yq - INFO - The log returns list for all assets is: [Date
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
                ...   
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
                ...   
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:32:04,459 - yq - INFO - rho_S1S2 is 0.3985701703055984

2023-11-13 20:32:04,460 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39857017]
 [0.39857017 1.        ]]

2023-11-13 20:32:04,460 - yq - INFO - Simplified correlation matrix is:
[[1.         0.60861528 0.39857017 0.        ]
 [0.60861528 1.         0.         0.        ]
 [0.39857017 0.         1.         0.56853325]
 [0.         0.         0.56853325 1.        ]]

2023-11-13 20:32:04,461 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.60861528  0.79346546  0.          0.        ]
 [ 0.39857017 -0.30571702  0.86468429  0.        ]
 [ 0.          0.          0.65750385  0.75345118]]

2023-11-13 20:32:04,461 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b66650>): 0.0h 0.0m 0s 32ms
2023-11-13 20:32:04,473 - yq - INFO - The adjusted S_0 is [487.2 243.1]
2023-11-13 20:32:04,505 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:32:04,510 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.576602  240.848229
1  463.570502  235.033597
2  450.085672  233.462373
3  474.864793  236.778097
4  488.983418  230.623090
2023-11-13 20:32:04,653 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  481.576602  240.848229
2023-09-13  463.570502  235.033597
2023-09-14  450.085672  233.462373
2023-09-15  474.864793  236.778097
2023-09-18  488.983418  230.623090
2023-11-13 20:32:04,771 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
...             ...      ...
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1

[63 rows x 2 columns]
2023-11-13 20:32:04,775 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-11  487.200000  243.100000
2023-09-12  481.576602  240.848229
2023-09-13  463.570502  235.033597
2023-09-14  450.085672  233.462373
2023-09-15  474.864793  236.778097
...                ...         ...
2024-07-24  253.479349  141.267711
2024-07-25  239.425735  133.837519
2024-07-26  240.026483  129.899733
2024-07-29  243.520201  129.484946
2024-07-30  252.412023  139.928381

[222 rows x 2 columns]
2023-11-13 20:32:04,903 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:32:04,904 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  481.576602  240.848229
2023-09-13  463.570502  235.033597
2023-09-14  450.085672  233.462373
2023-09-15  474.864793  236.778097
2023-09-18  488.983418  230.623090
...                ...         ...
2024-07-24  253.479349  141.267711
2024-07-25  239.425735  133.837519
2024-07-26  240.026483  129.899733
2024-07-29  243.520201  129.484946
2024-07-30  252.412023  139.928381

[221 rows x 2 columns], sim=0): 0.0h 0.0m 0s 244ms
2023-11-13 20:32:04,904 - yq - INFO - The adjusted S_0 is [487.2 243.1]
2023-11-13 20:32:04,927 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:32:04,928 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  471.982738  244.431243
1  489.501907  260.316117
2  486.762791  265.417382
3  511.934923  277.232043
4  521.139235  266.345126
2023-11-13 20:32:05,050 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  471.982738  244.431243
2023-09-13  489.501907  260.316117
2023-09-14  486.762791  265.417382
2023-09-15  511.934923  277.232043
2023-09-18  521.139235  266.345126
2023-11-13 20:32:05,088 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
...             ...      ...
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1

[63 rows x 2 columns]
2023-11-13 20:32:05,091 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-11  487.200000  243.100000
2023-09-12  471.982738  244.431243
2023-09-13  489.501907  260.316117
2023-09-14  486.762791  265.417382
2023-09-15  511.934923  277.232043
...                ...         ...
2024-07-24  558.581061  208.913218
2024-07-25  569.412064  205.800064
2024-07-26  565.321375  207.299682
2024-07-29  566.194412  211.075784
2024-07-30  579.077716  212.933906

[222 rows x 2 columns]
2023-11-13 20:32:05,243 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:32:05,243 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  471.982738  244.431243
2023-09-13  489.501907  260.316117
2023-09-14  486.762791  265.417382
2023-09-15  511.934923  277.232043
2023-09-18  521.139235  266.345126
...                ...         ...
2024-07-24  558.581061  208.913218
2024-07-25  569.412064  205.800064
2024-07-26  565.321375  207.299682
2024-07-29  566.194412  211.075784
2024-07-30  579.077716  212.933906

[221 rows x 2 columns], sim=1): 0.0h 0.0m 0s 189ms
2023-11-13 20:32:05,243 - yq - INFO - The adjusted S_0 is [487.2 243.1]
2023-11-13 20:32:05,276 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:32:05,278 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  485.011192  247.982920
1  466.429333  237.105118
2  492.472774  246.770221
3  517.005850  244.026320
4  496.866595  252.044427
2023-11-13 20:32:05,433 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  485.011192  247.982920
2023-09-13  466.429333  237.105118
2023-09-14  492.472774  246.770221
2023-09-15  517.005850  244.026320
2023-09-18  496.866595  252.044427
2023-11-13 20:32:05,465 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
...             ...      ...
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1

[63 rows x 2 columns]
2023-11-13 20:32:05,469 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-11  487.200000  243.100000
2023-09-12  485.011192  247.982920
2023-09-13  466.429333  237.105118
2023-09-14  492.472774  246.770221
2023-09-15  517.005850  244.026320
...                ...         ...
2024-07-24  425.982966  393.746838
2024-07-25  453.027528  407.935747
2024-07-26  452.476924  410.601419
2024-07-29  422.133288  405.679796
2024-07-30  409.894890  405.270364

[222 rows x 2 columns]
2023-11-13 20:32:05,964 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:32:05,964 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-12  485.011192  247.982920
2023-09-13  466.429333  237.105118
2023-09-14  492.472774  246.770221
2023-09-15  517.005850  244.026320
2023-09-18  496.866595  252.044427
...                ...         ...
2024-07-24  425.982966  393.746838
2024-07-25  453.027528  407.935747
2024-07-26  452.476924  410.601419
2024-07-29  422.133288  405.679796
2024-07-30  409.894890  405.270364

[221 rows x 2 columns], sim=2): 0.0h 0.0m 0s 527ms
2023-11-13 20:32:05,964 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b66650>, n_sim=3): 0.0h 1.0m 29s 805ms
2023-11-13 20:32:05,964 - yq - INFO - Pricing the product on 2023-09-12 00:00:00
2023-11-13 20:32:05,964 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:32:05,974 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:32:06,192 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-11-13 20:32:06,192 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230912.csv
2023-11-13 20:32:06,196 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/lonn_call.csv
2023-11-13 20:32:06,198 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     450  51.750000  30.906645  0.0175
1  0.106667     460  42.599991  28.382610  0.0175
2  0.106667     470  33.899994  26.205038  0.0175
3  0.106667     480  25.949997  24.541363  0.0175
4  0.106667     490  20.000000  24.976856  0.0175
2023-11-13 20:32:06,199 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/sika_call.csv
2023-11-13 20:32:06,201 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     200  45.050003  35.881733  0.0175
1  0.106667     210  35.325005  31.835203  0.0175
2  0.106667     220  25.974998  28.917973  0.0175
3  0.106667     230  17.424995  26.826229  0.0175
4  0.106667     240  10.424999  25.718927  0.0175
2023-11-13 20:32:06,205 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     450  51.750000  0.0175
1  0.106667     460  42.599991  0.0175
2  0.106667     470  33.899994  0.0175
3  0.106667     480  25.949997  0.0175
4  0.106667     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.106667     200  45.050003  0.0175
1  0.106667     210  35.325005  0.0175
2  0.106667     220  25.974998  0.0175
3  0.106667     230  17.424995  0.0175
4  0.106667     240  10.424999  0.0175
2023-11-13 20:32:06,205 - yq - INFO - Calibrating LONZA on 2023-09-12 00:00:00.
2023-11-13 20:32:43,001 - yq - INFO - Calibrating SIKA on 2023-09-12 00:00:00.
2023-11-13 20:33:23,222 - yq - INFO - The S_0 for LONZA and SIKA are 484.7 and 237.6
2023-11-13 20:33:23,225 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 17 seconds
2023-11-13 20:33:23,242 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230912.csv
2023-11-13 20:33:23,242 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.15007876  0.04519451 -0.06413269  0.68366576  0.30337486]
 [ 7.08647481  0.01335747 -0.09339875  0.58358959  0.36379059]]
2023-11-13 20:33:23,246 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2849c90d0>, Timestamp('2023-09-12 00:00:00')): 0.0h 1.0m 17s 53ms
2023-11-13 20:33:23,256 - yq - INFO - The log returns list for all assets is: [Date
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
                ...   
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
                ...   
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:33:23,259 - yq - INFO - rho_S1S2 is 0.39533637052647386

2023-11-13 20:33:23,260 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39533637]
 [0.39533637 1.        ]]

2023-11-13 20:33:23,261 - yq - INFO - Simplified correlation matrix is:
[[1.         0.68366576 0.39533637 0.        ]
 [0.68366576 1.         0.         0.        ]
 [0.39533637 0.         1.         0.58358959]
 [0.         0.         0.58358959 1.        ]]

2023-11-13 20:33:23,264 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.68366576  0.72979527  0.          0.        ]
 [ 0.39533637 -0.37034762  0.84056635  0.        ]
 [ 0.          0.          0.69428141  0.71970364]]

2023-11-13 20:33:23,264 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2849c90d0>): 0.0h 0.0m 0s 18ms
2023-11-13 20:33:23,272 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 20:33:23,298 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:33:23,301 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  485.011217  231.533636
1  474.738128  220.953083
2  457.573992  222.066572
3  494.617207  227.125694
4  471.299445  218.413200
2023-11-13 20:33:23,431 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  485.011217  231.533636
2023-09-14  474.738128  220.953083
2023-09-15  457.573992  222.066572
2023-09-18  494.617207  227.125694
2023-09-19  471.299445  218.413200
2023-11-13 20:33:23,560 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
...             ...      ...
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6

[63 rows x 2 columns]
2023-11-13 20:33:23,565 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-12  484.700000  237.600000
2023-09-13  485.011217  231.533636
2023-09-14  474.738128  220.953083
2023-09-15  457.573992  222.066572
2023-09-18  494.617207  227.125694
...                ...         ...
2024-07-24  574.739632  223.495021
2024-07-25  569.067994  220.315247
2024-07-26  560.309813  218.842443
2024-07-29  552.940726  219.056916
2024-07-30  561.409502  221.279811

[221 rows x 2 columns]
2023-11-13 20:33:23,733 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:33:23,733 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849c90d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  485.011217  231.533636
2023-09-14  474.738128  220.953083
2023-09-15  457.573992  222.066572
2023-09-18  494.617207  227.125694
2023-09-19  471.299445  218.413200
...                ...         ...
2024-07-24  574.739632  223.495021
2024-07-25  569.067994  220.315247
2024-07-26  560.309813  218.842443
2024-07-29  552.940726  219.056916
2024-07-30  561.409502  221.279811

[220 rows x 2 columns], sim=0): 0.0h 0.0m 0s 298ms
2023-11-13 20:33:23,734 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 20:33:23,762 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:33:23,764 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  504.619113  244.334023
1  490.425843  240.983422
2  491.558750  239.560079
3  476.535942  223.887775
4  490.740367  231.124578
2023-11-13 20:33:23,923 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  504.619113  244.334023
2023-09-14  490.425843  240.983422
2023-09-15  491.558750  239.560079
2023-09-18  476.535942  223.887775
2023-09-19  490.740367  231.124578
2023-11-13 20:33:23,954 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
...             ...      ...
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6

[63 rows x 2 columns]
2023-11-13 20:33:23,959 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-12  484.700000  237.600000
2023-09-13  504.619113  244.334023
2023-09-14  490.425843  240.983422
2023-09-15  491.558750  239.560079
2023-09-18  476.535942  223.887775
...                ...         ...
2024-07-24  467.337363  250.079295
2024-07-25  461.569805  250.931333
2024-07-26  462.654464  253.459962
2024-07-29  471.195618  255.176746
2024-07-30  450.243846  255.649720

[221 rows x 2 columns]
2023-11-13 20:33:24,155 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:33:24,159 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849c90d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  504.619113  244.334023
2023-09-14  490.425843  240.983422
2023-09-15  491.558750  239.560079
2023-09-18  476.535942  223.887775
2023-09-19  490.740367  231.124578
...                ...         ...
2024-07-24  467.337363  250.079295
2024-07-25  461.569805  250.931333
2024-07-26  462.654464  253.459962
2024-07-29  471.195618  255.176746
2024-07-30  450.243846  255.649720

[220 rows x 2 columns], sim=1): 0.0h 0.0m 0s 228ms
2023-11-13 20:33:24,161 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 20:33:24,194 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:33:24,197 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.779876  238.837588
1  504.182144  251.679829
2  507.285077  240.908797
3  504.085115  230.672219
4  458.125877  223.609831
2023-11-13 20:33:24,358 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  483.779876  238.837588
2023-09-14  504.182144  251.679829
2023-09-15  507.285077  240.908797
2023-09-18  504.085115  230.672219
2023-09-19  458.125877  223.609831
2023-11-13 20:33:24,396 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
...             ...      ...
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6

[63 rows x 2 columns]
2023-11-13 20:33:24,401 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-12  484.700000  237.600000
2023-09-13  483.779876  238.837588
2023-09-14  504.182144  251.679829
2023-09-15  507.285077  240.908797
2023-09-18  504.085115  230.672219
...                ...         ...
2024-07-24  311.176099  175.469388
2024-07-25  310.374548  175.235903
2024-07-26  313.460906  176.303831
2024-07-29  307.393360  174.697770
2024-07-30  300.767094  175.843304

[221 rows x 2 columns]
2023-11-13 20:33:24,608 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:33:24,608 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849c90d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  483.779876  238.837588
2023-09-14  504.182144  251.679829
2023-09-15  507.285077  240.908797
2023-09-18  504.085115  230.672219
2023-09-19  458.125877  223.609831
...                ...         ...
2024-07-24  311.176099  175.469388
2024-07-25  310.374548  175.235903
2024-07-26  313.460906  176.303831
2024-07-29  307.393360  174.697770
2024-07-30  300.767094  175.843304

[220 rows x 2 columns], sim=2): 0.0h 0.0m 0s 245ms
2023-11-13 20:33:24,608 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2849c90d0>, n_sim=3): 0.0h 1.0m 18s 418ms
2023-11-13 20:33:24,608 - yq - INFO - Pricing the product on 2023-09-13 00:00:00
2023-11-13 20:33:24,608 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:33:24,628 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:33:25,045 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-11-13 20:33:25,046 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230913.csv
2023-11-13 20:33:25,050 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/lonn_call.csv
2023-11-13 20:33:25,053 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     450  51.750000  30.906645  0.0175
1   0.10386     460  42.599991  28.382610  0.0175
2   0.10386     470  33.899994  26.205038  0.0175
3   0.10386     480  25.949997  24.541363  0.0175
4   0.10386     490  20.000000  24.976856  0.0175
2023-11-13 20:33:25,055 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/sika_call.csv
2023-11-13 20:33:25,058 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     200  45.050003  35.881733  0.0175
1   0.10386     210  35.325005  31.835203  0.0175
2   0.10386     220  25.974998  28.917973  0.0175
3   0.10386     230  17.424995  26.826229  0.0175
4   0.10386     240  10.424999  25.718927  0.0175
2023-11-13 20:33:25,065 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     450  51.750000  0.0175
1   0.10386     460  42.599991  0.0175
2   0.10386     470  33.899994  0.0175
3   0.10386     480  25.949997  0.0175
4   0.10386     490  20.000000  0.0175
   maturity  strike      price    rate
0   0.10386     200  45.050003  0.0175
1   0.10386     210  35.325005  0.0175
2   0.10386     220  25.974998  0.0175
3   0.10386     230  17.424995  0.0175
4   0.10386     240  10.424999  0.0175
2023-11-13 20:33:25,066 - yq - INFO - Calibrating LONZA on 2023-09-13 00:00:00.
2023-11-13 20:34:03,540 - yq - INFO - Calibrating SIKA on 2023-09-13 00:00:00.
2023-11-13 20:34:50,457 - yq - INFO - The S_0 for LONZA and SIKA are 485.7 and 237.0
2023-11-13 20:34:50,461 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 25 seconds
2023-11-13 20:34:50,475 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230913.csv
2023-11-13 20:34:50,475 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.66242588  0.05664155 -0.06322042  0.69301599  0.30431786]
 [ 7.25831244  0.01174874 -0.09599011  0.58334823  0.38179793]]
2023-11-13 20:34:50,478 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2849efb50>, Timestamp('2023-09-13 00:00:00')): 0.0h 1.0m 25s 432ms
2023-11-13 20:34:50,492 - yq - INFO - The log returns list for all assets is: [Date
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
                ...   
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
                ...   
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:34:50,494 - yq - INFO - rho_S1S2 is 0.39438142603735443

2023-11-13 20:34:50,494 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39438143]
 [0.39438143 1.        ]]

2023-11-13 20:34:50,495 - yq - INFO - Simplified correlation matrix is:
[[1.         0.69301599 0.39438143 0.        ]
 [0.69301599 1.         0.         0.        ]
 [0.39438143 0.         1.         0.58334823]
 [0.         0.         0.58334823 1.        ]]

2023-11-13 20:34:50,495 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.69301599  0.72092221  0.          0.        ]
 [ 0.39438143 -0.37911529  0.83709909  0.        ]
 [ 0.          0.          0.6968688   0.71719864]]

2023-11-13 20:34:50,496 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2849efb50>): 0.0h 0.0m 0s 18ms
2023-11-13 20:34:50,505 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 20:34:50,536 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:34:50,540 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  492.376122  239.925908
1  506.688531  237.801351
2  512.565998  228.881405
3  512.501521  224.066476
4  492.729655  212.543782
2023-11-13 20:34:50,686 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  492.376122  239.925908
2023-09-15  506.688531  237.801351
2023-09-18  512.565998  228.881405
2023-09-19  512.501521  224.066476
2023-09-20  492.729655  212.543782
2023-11-13 20:34:50,805 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
...             ...      ...
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0

[63 rows x 2 columns]
2023-11-13 20:34:50,809 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-13  485.700000  237.000000
2023-09-14  492.376122  239.925908
2023-09-15  506.688531  237.801351
2023-09-18  512.565998  228.881405
2023-09-19  512.501521  224.066476
...                ...         ...
2024-07-24  801.880097  256.266854
2024-07-25  779.540197  255.565926
2024-07-26  761.037975  256.259402
2024-07-29  755.763377  254.902177
2024-07-30  752.909231  257.124216

[220 rows x 2 columns]
2023-11-13 20:34:50,955 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:34:50,955 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849efb50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  492.376122  239.925908
2023-09-15  506.688531  237.801351
2023-09-18  512.565998  228.881405
2023-09-19  512.501521  224.066476
2023-09-20  492.729655  212.543782
...                ...         ...
2024-07-24  801.880097  256.266854
2024-07-25  779.540197  255.565926
2024-07-26  761.037975  256.259402
2024-07-29  755.763377  254.902177
2024-07-30  752.909231  257.124216

[219 rows x 2 columns], sim=0): 0.0h 0.0m 0s 266ms
2023-11-13 20:34:50,956 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 20:34:50,985 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:34:50,987 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  502.789533  251.030866
1  538.226283  264.289340
2  498.952636  254.103489
3  528.845526  264.305030
4  547.276403  270.335485
2023-11-13 20:34:51,130 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  502.789533  251.030866
2023-09-15  538.226283  264.289340
2023-09-18  498.952636  254.103489
2023-09-19  528.845526  264.305030
2023-09-20  547.276403  270.335485
2023-11-13 20:34:51,206 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
...             ...      ...
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0

[63 rows x 2 columns]
2023-11-13 20:34:51,210 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-13  485.700000  237.000000
2023-09-14  502.789533  251.030866
2023-09-15  538.226283  264.289340
2023-09-18  498.952636  254.103489
2023-09-19  528.845526  264.305030
...                ...         ...
2024-07-24  621.475388  349.755301
2024-07-25  612.867012  349.885764
2024-07-26  577.845883  343.885020
2024-07-29  575.776949  341.630569
2024-07-30  581.494950  345.024052

[220 rows x 2 columns]
2023-11-13 20:34:51,380 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:34:51,380 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849efb50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  502.789533  251.030866
2023-09-15  538.226283  264.289340
2023-09-18  498.952636  254.103489
2023-09-19  528.845526  264.305030
2023-09-20  547.276403  270.335485
...                ...         ...
2024-07-24  621.475388  349.755301
2024-07-25  612.867012  349.885764
2024-07-26  577.845883  343.885020
2024-07-29  575.776949  341.630569
2024-07-30  581.494950  345.024052

[219 rows x 2 columns], sim=1): 0.0h 0.0m 0s 245ms
2023-11-13 20:34:51,381 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 20:34:51,414 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:34:51,416 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.111723  241.302579
1  490.811560  229.604304
2  471.252255  221.948904
3  453.361373  207.981091
4  475.387112  222.695414
2023-11-13 20:34:51,586 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  483.111723  241.302579
2023-09-15  490.811560  229.604304
2023-09-18  471.252255  221.948904
2023-09-19  453.361373  207.981091
2023-09-20  475.387112  222.695414
2023-11-13 20:34:51,688 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
...             ...      ...
2023-09-07    492.4    249.1
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0

[63 rows x 2 columns]
2023-11-13 20:34:51,694 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-13  485.700000  237.000000
2023-09-14  483.111723  241.302579
2023-09-15  490.811560  229.604304
2023-09-18  471.252255  221.948904
2023-09-19  453.361373  207.981091
...                ...         ...
2024-07-24  432.443184  366.227203
2024-07-25  429.537721  365.561429
2024-07-26  442.516017  366.956864
2024-07-29  445.446608  370.864014
2024-07-30  456.007878  371.459472

[220 rows x 2 columns]
2023-11-13 20:34:51,868 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:34:51,868 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2849efb50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  483.111723  241.302579
2023-09-15  490.811560  229.604304
2023-09-18  471.252255  221.948904
2023-09-19  453.361373  207.981091
2023-09-20  475.387112  222.695414
...                ...         ...
2024-07-24  432.443184  366.227203
2024-07-25  429.537721  365.561429
2024-07-26  442.516017  366.956864
2024-07-29  445.446608  370.864014
2024-07-30  456.007878  371.459472

[219 rows x 2 columns], sim=2): 0.0h 0.0m 0s 277ms
2023-11-13 20:34:51,868 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2849efb50>, n_sim=3): 0.0h 1.0m 26s 827ms
2023-11-13 20:34:51,868 - yq - INFO - Pricing the product on 2023-09-14 00:00:00
2023-11-13 20:34:51,868 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:34:51,885 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:34:52,238 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-11-13 20:34:52,238 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230914.csv
2023-11-13 20:34:52,242 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/lonn_call.csv
2023-11-13 20:34:52,244 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.750000  30.906645  0.0175
1  0.101053     460  42.599991  28.382610  0.0175
2  0.101053     470  33.899994  26.205038  0.0175
3  0.101053     480  25.949997  24.541363  0.0175
4  0.101053     490  20.000000  24.976856  0.0175
2023-11-13 20:34:52,246 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/sika_call.csv
2023-11-13 20:34:52,249 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     200  45.050003  35.881733  0.0175
1  0.101053     210  35.325005  31.835203  0.0175
2  0.101053     220  25.974998  28.917973  0.0175
3  0.101053     230  17.424995  26.826229  0.0175
4  0.101053     240  10.424999  25.718927  0.0175
2023-11-13 20:34:52,254 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.750000  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  33.899994  0.0175
3  0.101053     480  25.949997  0.0175
4  0.101053     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.101053     200  45.050003  0.0175
1  0.101053     210  35.325005  0.0175
2  0.101053     220  25.974998  0.0175
3  0.101053     230  17.424995  0.0175
4  0.101053     240  10.424999  0.0175
2023-11-13 20:34:52,254 - yq - INFO - Calibrating LONZA on 2023-09-14 00:00:00.
2023-11-13 20:35:35,342 - yq - INFO - Calibrating SIKA on 2023-09-14 00:00:00.
2023-11-13 20:36:17,355 - yq - INFO - The S_0 for LONZA and SIKA are 489.3 and 239.6
2023-11-13 20:36:17,359 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 25 seconds
2023-11-13 20:36:17,390 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230914.csv
2023-11-13 20:36:17,390 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.71479236  0.01418784 -0.09245189  0.60026805  0.37887425]
 [ 6.01265706  0.0191122  -0.07692098  0.67445441  0.34136145]]
2023-11-13 20:36:17,397 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b1aad0>, Timestamp('2023-09-14 00:00:00')): 0.0h 1.0m 25s 159ms
2023-11-13 20:36:17,414 - yq - INFO - The log returns list for all assets is: [Date
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
                ...   
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
                ...   
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:36:17,417 - yq - INFO - rho_S1S2 is 0.3716418635153974

2023-11-13 20:36:17,417 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.37164186]
 [0.37164186 1.        ]]

2023-11-13 20:36:17,417 - yq - INFO - Simplified correlation matrix is:
[[1.         0.60026805 0.37164186 0.        ]
 [0.60026805 1.         0.         0.        ]
 [0.37164186 0.         1.         0.67445441]
 [0.         0.         0.67445441 1.        ]]

2023-11-13 20:36:17,418 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.60026805  0.79979889  0.          0.        ]
 [ 0.37164186 -0.27892604  0.88548438  0.        ]
 [ 0.          0.          0.7616785   0.64795514]]

2023-11-13 20:36:17,418 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b1aad0>): 0.0h 0.0m 0s 20ms
2023-11-13 20:36:17,432 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 20:36:17,457 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:36:17,460 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  469.792705  247.164407
1  457.813000  239.966099
2  461.780225  256.524613
3  449.455438  255.706418
4  461.981989  256.117366
2023-11-13 20:36:17,603 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  469.792705  247.164407
2023-09-18  457.813000  239.966099
2023-09-19  461.780225  256.524613
2023-09-20  449.455438  255.706418
2023-09-21  461.981989  256.117366
2023-11-13 20:36:17,776 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
...             ...      ...
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6

[63 rows x 2 columns]
2023-11-13 20:36:17,782 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-14  489.300000  239.600000
2023-09-15  469.792705  247.164407
2023-09-18  457.813000  239.966099
2023-09-19  461.780225  256.524613
2023-09-20  449.455438  255.706418
...                ...         ...
2024-07-24  645.325102  360.656232
2024-07-25  646.166650  364.345542
2024-07-26  648.230392  363.424008
2024-07-29  641.363249  364.847352
2024-07-30  641.137462  361.628172

[219 rows x 2 columns]
2023-11-13 20:36:17,955 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:36:17,956 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1aad0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  469.792705  247.164407
2023-09-18  457.813000  239.966099
2023-09-19  461.780225  256.524613
2023-09-20  449.455438  255.706418
2023-09-21  461.981989  256.117366
...                ...         ...
2024-07-24  645.325102  360.656232
2024-07-25  646.166650  364.345542
2024-07-26  648.230392  363.424008
2024-07-29  641.363249  364.847352
2024-07-30  641.137462  361.628172

[218 rows x 2 columns], sim=0): 0.0h 0.0m 0s 348ms
2023-11-13 20:36:17,958 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 20:36:17,989 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:36:17,991 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  521.660416  240.265068
1  528.124596  249.997554
2  504.865106  236.652655
3  497.848039  239.920431
4  508.760334  251.850789
2023-11-13 20:36:18,135 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  521.660416  240.265068
2023-09-18  528.124596  249.997554
2023-09-19  504.865106  236.652655
2023-09-20  497.848039  239.920431
2023-09-21  508.760334  251.850789
2023-11-13 20:36:18,167 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
...             ...      ...
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6

[63 rows x 2 columns]
2023-11-13 20:36:18,171 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-14  489.300000  239.600000
2023-09-15  521.660416  240.265068
2023-09-18  528.124596  249.997554
2023-09-19  504.865106  236.652655
2023-09-20  497.848039  239.920431
...                ...         ...
2024-07-24  438.962957  259.283160
2024-07-25  438.575856  258.455948
2024-07-26  439.444118  259.705810
2024-07-29  437.957412  262.806416
2024-07-30  441.514341  267.849369

[219 rows x 2 columns]
2023-11-13 20:36:18,382 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:36:18,382 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1aad0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  521.660416  240.265068
2023-09-18  528.124596  249.997554
2023-09-19  504.865106  236.652655
2023-09-20  497.848039  239.920431
2023-09-21  508.760334  251.850789
...                ...         ...
2024-07-24  438.962957  259.283160
2024-07-25  438.575856  258.455948
2024-07-26  439.444118  259.705810
2024-07-29  437.957412  262.806416
2024-07-30  441.514341  267.849369

[218 rows x 2 columns], sim=1): 0.0h 0.0m 0s 240ms
2023-11-13 20:36:18,384 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 20:36:18,418 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:36:18,421 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.413578  239.461229
1  465.500952  243.873405
2  457.790910  243.460177
3  460.747163  250.755869
4  454.331182  244.556823
2023-11-13 20:36:18,607 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  483.413578  239.461229
2023-09-18  465.500952  243.873405
2023-09-19  457.790910  243.460177
2023-09-20  460.747163  250.755869
2023-09-21  454.331182  244.556823
2023-11-13 20:36:18,639 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
...             ...      ...
2023-09-08    483.8    242.6
2023-09-11    487.2    243.1
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6

[63 rows x 2 columns]
2023-11-13 20:36:18,643 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-14  489.300000  239.600000
2023-09-15  483.413578  239.461229
2023-09-18  465.500952  243.873405
2023-09-19  457.790910  243.460177
2023-09-20  460.747163  250.755869
...                ...         ...
2024-07-24  292.475063  159.523462
2024-07-25  293.825201  162.076749
2024-07-26  291.575002  160.480986
2024-07-29  291.863924  159.032637
2024-07-30  295.571921  158.492966

[219 rows x 2 columns]
2023-11-13 20:36:18,856 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:36:18,856 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b1aad0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  483.413578  239.461229
2023-09-18  465.500952  243.873405
2023-09-19  457.790910  243.460177
2023-09-20  460.747163  250.755869
2023-09-21  454.331182  244.556823
...                ...         ...
2024-07-24  292.475063  159.523462
2024-07-25  293.825201  162.076749
2024-07-26  291.575002  160.480986
2024-07-29  291.863924  159.032637
2024-07-30  295.571921  158.492966

[218 rows x 2 columns], sim=2): 0.0h 0.0m 0s 243ms
2023-11-13 20:36:18,856 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b1aad0>, n_sim=3): 0.0h 1.0m 26s 621ms
2023-11-13 20:36:18,857 - yq - INFO - Pricing the product on 2023-09-15 00:00:00
2023-11-13 20:36:18,857 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:36:18,871 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:36:19,223 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-11-13 20:36:19,228 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230915.csv
2023-11-13 20:36:19,234 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/lonn_call.csv
2023-11-13 20:36:19,237 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     450  54.349991  27.144653  0.0175
1  0.176842     460  45.750000  25.683651  0.0175
2  0.176842     470  37.699997  24.490421  0.0175
3  0.176842     480  30.299988  23.477232  0.0175
4  0.176842     490  24.724998  23.905760  0.0175
2023-11-13 20:36:19,238 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/sika_call.csv
2023-11-13 20:36:19,241 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  45.949997  32.808395  0.0175
1  0.176842     210  36.525002  29.797209  0.0175
2  0.176842     220  27.599998  27.484951  0.0175
3  0.176842     230  19.599998  25.957216  0.0175
4  0.176842     240  12.900000  24.873652  0.0175
2023-11-13 20:36:19,247 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     450  54.349991  0.0175
1  0.176842     460  45.750000  0.0175
2  0.176842     470  37.699997  0.0175
3  0.176842     480  30.299988  0.0175
4  0.176842     490  24.724998  0.0175
   maturity  strike      price    rate
0  0.176842     200  45.949997  0.0175
1  0.176842     210  36.525002  0.0175
2  0.176842     220  27.599998  0.0175
3  0.176842     230  19.599998  0.0175
4  0.176842     240  12.900000  0.0175
2023-11-13 20:36:19,247 - yq - INFO - Calibrating LONZA on 2023-09-15 00:00:00.
2023-11-13 20:36:55,587 - yq - INFO - Calibrating SIKA on 2023-09-15 00:00:00.
2023-11-13 20:37:36,188 - yq - INFO - The S_0 for LONZA and SIKA are 497.4 and 244.5
2023-11-13 20:37:36,190 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 16 seconds
2023-11-13 20:37:36,209 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230915.csv
2023-11-13 20:37:36,209 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.57527988  0.38711632 -0.17720761  1.49007813  0.01000828]
 [ 9.81140599  0.01864743 -0.11784068  0.66282211  0.13989457]]
2023-11-13 20:37:36,212 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284a23ed0>, Timestamp('2023-09-15 00:00:00')): 0.0h 1.0m 16s 988ms
2023-11-13 20:37:36,221 - yq - INFO - The log returns list for all assets is: [Date
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
                ...   
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
                ...   
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:37:36,223 - yq - INFO - rho_S1S2 is 0.34635011712471314

2023-11-13 20:37:36,224 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34635012]
 [0.34635012 1.        ]]

2023-11-13 20:37:36,224 - yq - INFO - Simplified correlation matrix is:
[[1.         1.49007813 0.34635012 0.        ]
 [1.49007813 1.         0.         0.        ]
 [0.34635012 0.         1.         0.66282211]
 [0.         0.         0.66282211 1.        ]]

2023-11-13 20:37:36,225 - yq - ERROR - Error during simulation on 2023-09-15 00:00:00: Matrix is not positive definite
2023-11-13 20:37:36,225 - yq - INFO - Pricing the product on 2023-09-18 00:00:00
2023-11-13 20:37:36,226 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:37:36,256 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:37:36,488 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-11-13 20:37:36,489 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230918.csv
2023-11-13 20:37:36,493 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/lonn_call.csv
2023-11-13 20:37:36,495 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     355  74.775002  39.310154  0.0175
1  0.168421     360  70.174995  38.171562  0.0175
2  0.168421     365  65.649994  37.127800  0.0175
3  0.168421     370  61.250000  36.262806  0.0175
4  0.168421     375  56.899994  35.364086  0.0175
2023-11-13 20:37:36,497 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/sika_call.csv
2023-11-13 20:37:36,499 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.924995  34.303944  0.0175
1  0.168421     200  43.125000  32.494976  0.0175
2  0.168421     210  33.849998  29.837637  0.0175
3  0.168421     220  25.175003  27.778664  0.0175
4  0.168421     230  17.549995  26.419285  0.0175
2023-11-13 20:37:36,502 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     355  74.775002  0.0175
1  0.168421     360  70.174995  0.0175
2  0.168421     365  65.649994  0.0175
3  0.168421     370  61.250000  0.0175
4  0.168421     375  56.899994  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.924995  0.0175
1  0.168421     200  43.125000  0.0175
2  0.168421     210  33.849998  0.0175
3  0.168421     220  25.175003  0.0175
4  0.168421     230  17.549995  0.0175
2023-11-13 20:37:36,502 - yq - INFO - Calibrating LONZA on 2023-09-18 00:00:00.
2023-11-13 20:38:11,152 - yq - INFO - Calibrating SIKA on 2023-09-18 00:00:00.
2023-11-13 20:38:52,923 - yq - INFO - The S_0 for LONZA and SIKA are 424.3 and 240.7
2023-11-13 20:38:52,926 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 16 seconds
2023-11-13 20:38:52,945 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230918.csv
2023-11-13 20:38:52,945 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.69508702e-01  9.75370028e+00 -2.51869222e-08  5.89257204e-01
   9.85651253e+00]
 [ 7.58007559e+00  1.13140256e-02 -1.21354815e-01  4.57193891e-01
   2.38635113e-01]]
2023-11-13 20:38:52,948 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b65750>, Timestamp('2023-09-18 00:00:00')): 0.0h 1.0m 16s 459ms
2023-11-13 20:38:52,957 - yq - INFO - The log returns list for all assets is: [Date
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
                ...   
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
                ...   
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:38:52,959 - yq - INFO - rho_S1S2 is 0.3253071051769591

2023-11-13 20:38:52,959 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32530711]
 [0.32530711 1.        ]]

2023-11-13 20:38:52,960 - yq - INFO - Simplified correlation matrix is:
[[1.         0.5892572  0.32530711 0.        ]
 [0.5892572  1.         0.         0.        ]
 [0.32530711 0.         1.         0.45719389]
 [0.         0.         0.45719389 1.        ]]

2023-11-13 20:38:52,963 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.5892572   0.80794551  0.          0.        ]
 [ 0.32530711 -0.23725555  0.91536064  0.        ]
 [ 0.          0.          0.4994686   0.86633199]]

2023-11-13 20:38:52,963 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b65750>): 0.0h 0.0m 0s 15ms
2023-11-13 20:38:52,971 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 20:38:52,991 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:38:52,997 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  406.899919  233.720080
1  419.453504  233.469001
2  385.597581  224.896110
3  414.274306  218.981751
4  380.825855  209.227646
2023-11-13 20:38:53,104 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  406.899919  233.720080
2023-09-20  419.453504  233.469001
2023-09-21  385.597581  224.896110
2023-09-22  414.274306  218.981751
2023-09-25  380.825855  209.227646
2023-11-13 20:38:53,320 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
...             ...      ...
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7

[63 rows x 2 columns]
2023-11-13 20:38:53,323 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-18  424.300000  240.700000
2023-09-19  406.899919  233.720080
2023-09-20  419.453504  233.469001
2023-09-21  385.597581  224.896110
2023-09-22  414.274306  218.981751
...                ...         ...
2024-07-24    0.470682  172.734623
2024-07-25    0.545397  173.506998
2024-07-26    0.391569  173.710420
2024-07-29    0.446601  176.362792
2024-07-30    0.360045  176.820264

[217 rows x 2 columns]
2023-11-13 20:38:53,448 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:38:53,448 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b65750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  406.899919  233.720080
2023-09-20  419.453504  233.469001
2023-09-21  385.597581  224.896110
2023-09-22  414.274306  218.981751
2023-09-25  380.825855  209.227646
...                ...         ...
2024-07-24    0.470682  172.734623
2024-07-25    0.545397  173.506998
2024-07-26    0.391569  173.710420
2024-07-29    0.446601  176.362792
2024-07-30    0.360045  176.820264

[216 rows x 2 columns], sim=0): 0.0h 0.0m 0s 335ms
2023-11-13 20:38:53,449 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 20:38:53,469 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:38:53,470 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  504.937771  246.868014
1  496.651158  238.719157
2  680.556218  248.193958
3  709.814076  239.294268
4  725.764803  229.272906
2023-11-13 20:38:53,578 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  504.937771  246.868014
2023-09-20  496.651158  238.719157
2023-09-21  680.556218  248.193958
2023-09-22  709.814076  239.294268
2023-09-25  725.764803  229.272906
2023-11-13 20:38:53,599 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
...             ...      ...
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7

[63 rows x 2 columns]
2023-11-13 20:38:53,602 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-18  424.300000  240.700000
2023-09-19  504.937771  246.868014
2023-09-20  496.651158  238.719157
2023-09-21  680.556218  248.193958
2023-09-22  709.814076  239.294268
...                ...         ...
2024-07-24  529.621075  202.569836
2024-07-25  691.587867  203.740999
2024-07-26  551.047733  200.930730
2024-07-29  564.574882  199.013610
2024-07-30  577.911734  198.573765

[217 rows x 2 columns]
2023-11-13 20:38:53,770 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:38:53,770 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b65750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  504.937771  246.868014
2023-09-20  496.651158  238.719157
2023-09-21  680.556218  248.193958
2023-09-22  709.814076  239.294268
2023-09-25  725.764803  229.272906
...                ...         ...
2024-07-24  529.621075  202.569836
2024-07-25  691.587867  203.740999
2024-07-26  551.047733  200.930730
2024-07-29  564.574882  199.013610
2024-07-30  577.911734  198.573765

[216 rows x 2 columns], sim=1): 0.0h 0.0m 0s 189ms
2023-11-13 20:38:53,771 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 20:38:53,804 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:38:53,806 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.765941  237.090220
1  321.264150  236.718410
2  284.529216  237.050838
3  214.477683  237.217503
4  210.000249  230.734430
2023-11-13 20:38:53,962 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  480.765941  237.090220
2023-09-20  321.264150  236.718410
2023-09-21  284.529216  237.050838
2023-09-22  214.477683  237.217503
2023-09-25  210.000249  230.734430
2023-11-13 20:38:53,988 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
...             ...      ...
2023-09-12    484.7    237.6
2023-09-13    485.7    237.0
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7

[63 rows x 2 columns]
2023-11-13 20:38:53,992 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-18  424.300000  240.700000
2023-09-19  480.765941  237.090220
2023-09-20  321.264150  236.718410
2023-09-21  284.529216  237.050838
2023-09-22  214.477683  237.217503
...                ...         ...
2024-07-24   10.734736  245.262122
2024-07-25    9.746465  246.508621
2024-07-26   10.759776  247.270705
2024-07-29    9.721049  247.840259
2024-07-30    9.823424  246.569787

[217 rows x 2 columns]
2023-11-13 20:38:54,166 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:38:54,166 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b65750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  480.765941  237.090220
2023-09-20  321.264150  236.718410
2023-09-21  284.529216  237.050838
2023-09-22  214.477683  237.217503
2023-09-25  210.000249  230.734430
...                ...         ...
2024-07-24   10.734736  245.262122
2024-07-25    9.746465  246.508621
2024-07-26   10.759776  247.270705
2024-07-29    9.721049  247.840259
2024-07-30    9.823424  246.569787

[216 rows x 2 columns], sim=2): 0.0h 0.0m 0s 200ms
2023-11-13 20:38:54,166 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b65750>, n_sim=3): 0.0h 1.0m 17s 681ms
2023-11-13 20:38:54,166 - yq - INFO - Pricing the product on 2023-09-19 00:00:00
2023-11-13 20:38:54,166 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:38:54,188 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:38:54,491 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-11-13 20:38:54,492 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230919.csv
2023-11-13 20:38:54,495 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/lonn_call.csv
2023-11-13 20:38:54,497 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.165614     330  103.949997  37.879402  0.0175
1  0.165614     335   99.050003  36.874622  0.0175
2  0.165614     340   94.199997  36.165127  0.0175
3  0.165614     345   89.349998  35.303986  0.0175
4  0.165614     350   84.474998  34.169895  0.0175
2023-11-13 20:38:54,498 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/sika_call.csv
2023-11-13 20:38:54,500 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     190  40.974998  34.669617  0.0175
1  0.165614     195  36.275002  33.086273  0.0175
2  0.165614     200  31.699997  31.738745  0.0175
3  0.165614     210  23.075005  29.495777  0.0175
4  0.165614     220  15.625002  28.121016  0.0175
2023-11-13 20:38:54,504 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.165614     330  103.949997  0.0175
1  0.165614     335   99.050003  0.0175
2  0.165614     340   94.199997  0.0175
3  0.165614     345   89.349998  0.0175
4  0.165614     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.165614     190  40.974998  0.0175
1  0.165614     195  36.275002  0.0175
2  0.165614     200  31.699997  0.0175
3  0.165614     210  23.075005  0.0175
4  0.165614     220  15.625002  0.0175
2023-11-13 20:38:54,504 - yq - INFO - Calibrating LONZA on 2023-09-19 00:00:00.
2023-11-13 20:39:30,262 - yq - INFO - Calibrating SIKA on 2023-09-19 00:00:00.
2023-11-13 20:40:07,609 - yq - INFO - The S_0 for LONZA and SIKA are 430.1 and 239.1
2023-11-13 20:40:07,612 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 20:40:07,628 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230919.csv
2023-11-13 20:40:07,628 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.93859556e+00  1.78716411e-01 -1.82936171e-05  1.23382201e+00
   7.66157628e+00]
 [ 9.79848992e+00  1.55635209e-02 -1.30207759e-01  5.97672931e-01
   1.64767582e-01]]
2023-11-13 20:40:07,631 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286511b50>, Timestamp('2023-09-19 00:00:00')): 0.0h 1.0m 13s 139ms
2023-11-13 20:40:07,642 - yq - INFO - The log returns list for all assets is: [Date
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
                ...   
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
                ...   
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:40:07,644 - yq - INFO - rho_S1S2 is 0.31956964971684426

2023-11-13 20:40:07,644 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31956965]
 [0.31956965 1.        ]]

2023-11-13 20:40:07,644 - yq - INFO - Simplified correlation matrix is:
[[1.         1.23382201 0.31956965 0.        ]
 [1.23382201 1.         0.         0.        ]
 [0.31956965 0.         1.         0.59767293]
 [0.         0.         0.59767293 1.        ]]

2023-11-13 20:40:07,645 - yq - ERROR - Error during simulation on 2023-09-19 00:00:00: Matrix is not positive definite
2023-11-13 20:40:07,645 - yq - INFO - Pricing the product on 2023-09-20 00:00:00
2023-11-13 20:40:07,646 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:40:07,668 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:40:07,875 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-11-13 20:40:07,876 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230920.csv
2023-11-13 20:40:07,879 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/lonn_call.csv
2023-11-13 20:40:07,880 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.162807     330  103.949997  37.879402  0.0175
1  0.162807     335   99.050003  36.874622  0.0175
2  0.162807     340   94.199997  36.165127  0.0175
3  0.162807     345   89.349998  35.303986  0.0175
4  0.162807     350   84.474998  34.169895  0.0175
2023-11-13 20:40:07,881 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/sika_call.csv
2023-11-13 20:40:07,882 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     190  40.974998  34.669617  0.0175
1  0.162807     195  36.275002  33.086273  0.0175
2  0.162807     200  31.699997  31.738745  0.0175
3  0.162807     210  23.075005  29.495777  0.0175
4  0.162807     220  15.625002  28.121016  0.0175
2023-11-13 20:40:07,885 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.162807     330  103.949997  0.0175
1  0.162807     335   99.050003  0.0175
2  0.162807     340   94.199997  0.0175
3  0.162807     345   89.349998  0.0175
4  0.162807     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.162807     190  40.974998  0.0175
1  0.162807     195  36.275002  0.0175
2  0.162807     200  31.699997  0.0175
3  0.162807     210  23.075005  0.0175
4  0.162807     220  15.625002  0.0175
2023-11-13 20:40:07,886 - yq - INFO - Calibrating LONZA on 2023-09-20 00:00:00.
2023-11-13 20:40:36,599 - yq - INFO - Calibrating SIKA on 2023-09-20 00:00:00.
2023-11-13 20:41:15,107 - yq - INFO - The S_0 for LONZA and SIKA are 440.7 and 242.8
2023-11-13 20:41:15,113 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 20:41:15,131 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230920.csv
2023-11-13 20:41:15,131 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.32556652e-01  9.30132030e+00 -6.61077563e-04  8.46004342e-01
   9.67109173e+00]
 [ 9.71374566e+00  1.20005841e-02 -1.53017767e-01  5.25491218e-01
   1.97235704e-01]]
2023-11-13 20:41:15,137 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2865105d0>, Timestamp('2023-09-20 00:00:00')): 0.0h 1.0m 7s 261ms
2023-11-13 20:41:15,145 - yq - INFO - The log returns list for all assets is: [Date
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
                ...   
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
                ...   
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:41:15,147 - yq - INFO - rho_S1S2 is 0.3278432600606565

2023-11-13 20:41:15,147 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32784326]
 [0.32784326 1.        ]]

2023-11-13 20:41:15,147 - yq - INFO - Simplified correlation matrix is:
[[1.         0.84600434 0.32784326 0.        ]
 [0.84600434 1.         0.         0.        ]
 [0.32784326 0.         1.         0.52549122]
 [0.         0.         0.52549122 1.        ]]

2023-11-13 20:41:15,148 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.84600434  0.53317601  0.          0.        ]
 [ 0.32784326 -0.52019749  0.78861484  0.        ]
 [ 0.          0.          0.66634711  0.74564169]]

2023-11-13 20:41:15,148 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2865105d0>): 0.0h 0.0m 0s 11ms
2023-11-13 20:41:15,161 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 20:41:15,180 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:41:15,183 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.378420  244.692679
1  444.320130  251.341635
2  472.127372  248.036240
3  502.175492  246.040501
4  474.094187  236.079406
2023-11-13 20:41:15,277 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  491.378420  244.692679
2023-09-22  444.320130  251.341635
2023-09-25  472.127372  248.036240
2023-09-26  502.175492  246.040501
2023-09-27  474.094187  236.079406
2023-11-13 20:41:15,378 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
...             ...      ...
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8

[63 rows x 2 columns]
2023-11-13 20:41:15,382 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-20  440.700000  242.800000
2023-09-21  491.378420  244.692679
2023-09-22  444.320130  251.341635
2023-09-25  472.127372  248.036240
2023-09-26  502.175492  246.040501
...                ...         ...
2024-07-24   62.086426  258.955905
2024-07-25   85.874721  259.614231
2024-07-26  104.225978  260.357735
2024-07-29  132.804388  262.745734
2024-07-30  137.860209  262.416085

[215 rows x 2 columns]
2023-11-13 20:41:15,510 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:41:15,510 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2865105d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  491.378420  244.692679
2023-09-22  444.320130  251.341635
2023-09-25  472.127372  248.036240
2023-09-26  502.175492  246.040501
2023-09-27  474.094187  236.079406
...                ...         ...
2024-07-24   62.086426  258.955905
2024-07-25   85.874721  259.614231
2024-07-26  104.225978  260.357735
2024-07-29  132.804388  262.745734
2024-07-30  137.860209  262.416085

[214 rows x 2 columns], sim=0): 0.0h 0.0m 0s 230ms
2023-11-13 20:41:15,510 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 20:41:15,533 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:41:15,534 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  462.174385  246.323078
1  576.596550  256.269695
2  486.959225  254.710165
3  646.115331  252.515930
4  504.958626  244.804873
2023-11-13 20:41:15,649 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  462.174385  246.323078
2023-09-22  576.596550  256.269695
2023-09-25  486.959225  254.710165
2023-09-26  646.115331  252.515930
2023-09-27  504.958626  244.804873
2023-11-13 20:41:15,671 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
...             ...      ...
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8

[63 rows x 2 columns]
2023-11-13 20:41:15,675 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-20  440.700000  242.800000
2023-09-21  462.174385  246.323078
2023-09-22  576.596550  256.269695
2023-09-25  486.959225  254.710165
2023-09-26  646.115331  252.515930
...                ...         ...
2024-07-24    9.917063  244.100431
2024-07-25   11.731983  245.953092
2024-07-26   12.064126  246.888055
2024-07-29   11.243865  246.202636
2024-07-30   10.321886  248.148071

[215 rows x 2 columns]
2023-11-13 20:41:15,824 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:41:15,824 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2865105d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  462.174385  246.323078
2023-09-22  576.596550  256.269695
2023-09-25  486.959225  254.710165
2023-09-26  646.115331  252.515930
2023-09-27  504.958626  244.804873
...                ...         ...
2024-07-24    9.917063  244.100431
2024-07-25   11.731983  245.953092
2024-07-26   12.064126  246.888055
2024-07-29   11.243865  246.202636
2024-07-30   10.321886  248.148071

[214 rows x 2 columns], sim=1): 0.0h 0.0m 0s 172ms
2023-11-13 20:41:15,825 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 20:41:15,853 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:41:15,855 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  511.673814  233.618059
1  544.374550  232.194282
2  630.720528  243.466385
3  568.659450  247.487927
4  598.291484  240.465756
2023-11-13 20:41:16,009 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  511.673814  233.618059
2023-09-22  544.374550  232.194282
2023-09-25  630.720528  243.466385
2023-09-26  568.659450  247.487927
2023-09-27  598.291484  240.465756
2023-11-13 20:41:16,041 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
...             ...      ...
2023-09-14    489.3    239.6
2023-09-15    497.4    244.5
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8

[63 rows x 2 columns]
2023-11-13 20:41:16,044 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-09-20   440.700000  242.800000
2023-09-21   511.673814  233.618059
2023-09-22   544.374550  232.194282
2023-09-25   630.720528  243.466385
2023-09-26   568.659450  247.487927
...                 ...         ...
2024-07-24   701.449327  307.236062
2024-07-25   822.618578  308.304265
2024-07-26   951.785413  306.422841
2024-07-29  1117.867812  307.423070
2024-07-30  1205.593673  309.959075

[215 rows x 2 columns]
2023-11-13 20:41:16,200 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:41:16,200 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2865105d0>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-09-21   511.673814  233.618059
2023-09-22   544.374550  232.194282
2023-09-25   630.720528  243.466385
2023-09-26   568.659450  247.487927
2023-09-27   598.291484  240.465756
...                 ...         ...
2024-07-24   701.449327  307.236062
2024-07-25   822.618578  308.304265
2024-07-26   951.785413  306.422841
2024-07-29  1117.867812  307.423070
2024-07-30  1205.593673  309.959075

[214 rows x 2 columns], sim=2): 0.0h 0.0m 0s 188ms
2023-11-13 20:41:16,200 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2865105d0>, n_sim=3): 0.0h 1.0m 8s 328ms
2023-11-13 20:41:16,201 - yq - INFO - Pricing the product on 2023-09-21 00:00:00
2023-11-13 20:41:16,201 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:41:16,212 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:41:16,493 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-11-13 20:41:16,493 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230921.csv
2023-11-13 20:41:16,497 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/lonn_call.csv
2023-11-13 20:41:16,500 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0      0.16     330  103.949997  37.879402  0.0175
1      0.16     335   99.050003  36.874622  0.0175
2      0.16     340   94.199997  36.165127  0.0175
3      0.16     345   89.349998  35.303986  0.0175
4      0.16     350   84.474998  34.169895  0.0175
2023-11-13 20:41:16,501 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/sika_call.csv
2023-11-13 20:41:16,504 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     190  40.974998  34.669617  0.0175
1      0.16     195  36.275002  33.086273  0.0175
2      0.16     200  31.699997  31.738745  0.0175
3      0.16     210  23.075005  29.495777  0.0175
4      0.16     220  15.625002  28.121016  0.0175
2023-11-13 20:41:16,507 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0      0.16     330  103.949997  0.0175
1      0.16     335   99.050003  0.0175
2      0.16     340   94.199997  0.0175
3      0.16     345   89.349998  0.0175
4      0.16     350   84.474998  0.0175
   maturity  strike      price    rate
0      0.16     190  40.974998  0.0175
1      0.16     195  36.275002  0.0175
2      0.16     200  31.699997  0.0175
3      0.16     210  23.075005  0.0175
4      0.16     220  15.625002  0.0175
2023-11-13 20:41:16,507 - yq - INFO - Calibrating LONZA on 2023-09-21 00:00:00.
2023-11-13 20:41:41,887 - yq - INFO - Calibrating SIKA on 2023-09-21 00:00:00.
2023-11-13 20:42:22,325 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 239.9
2023-11-13 20:42:22,326 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 5 seconds
2023-11-13 20:42:22,342 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230921.csv
2023-11-13 20:42:22,342 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.56877113e+00  2.64165638e-01 -9.00929841e-06  1.49855433e+00
   4.78036298e+00]
 [ 8.72060749e+00  2.10653659e-02 -1.22168433e-01  5.07302526e-01
   2.15457526e-01]]
2023-11-13 20:42:22,343 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e45c590>, Timestamp('2023-09-21 00:00:00')): 0.0h 1.0m 5s 850ms
2023-11-13 20:42:22,352 - yq - INFO - The log returns list for all assets is: [Date
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
                ...   
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
                ...   
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:42:22,353 - yq - INFO - rho_S1S2 is 0.3430350360744496

2023-11-13 20:42:22,353 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34303504]
 [0.34303504 1.        ]]

2023-11-13 20:42:22,354 - yq - INFO - Simplified correlation matrix is:
[[1.         1.49855433 0.34303504 0.        ]
 [1.49855433 1.         0.         0.        ]
 [0.34303504 0.         1.         0.50730253]
 [0.         0.         0.50730253 1.        ]]

2023-11-13 20:42:22,355 - yq - ERROR - Error during simulation on 2023-09-21 00:00:00: Matrix is not positive definite
2023-11-13 20:42:22,355 - yq - INFO - Pricing the product on 2023-09-22 00:00:00
2023-11-13 20:42:22,355 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:42:22,388 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:42:22,719 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-11-13 20:42:22,720 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230922.csv
2023-11-13 20:42:22,724 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/lonn_call.csv
2023-11-13 20:42:22,726 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.157193     330  103.949997  37.879402  0.0175
1  0.157193     335   99.050003  36.874622  0.0175
2  0.157193     340   94.199997  36.165127  0.0175
3  0.157193     345   89.349998  35.303986  0.0175
4  0.157193     350   84.474998  34.169895  0.0175
2023-11-13 20:42:22,727 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/sika_call.csv
2023-11-13 20:42:22,729 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     190  40.974998  34.669617  0.0175
1  0.157193     195  36.275002  33.086273  0.0175
2  0.157193     200  31.699997  31.738745  0.0175
3  0.157193     210  23.075005  29.495777  0.0175
4  0.157193     220  15.625002  28.121016  0.0175
2023-11-13 20:42:22,734 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.157193     330  103.949997  0.0175
1  0.157193     335   99.050003  0.0175
2  0.157193     340   94.199997  0.0175
3  0.157193     345   89.349998  0.0175
4  0.157193     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.157193     190  40.974998  0.0175
1  0.157193     195  36.275002  0.0175
2  0.157193     200  31.699997  0.0175
3  0.157193     210  23.075005  0.0175
4  0.157193     220  15.625002  0.0175
2023-11-13 20:42:22,734 - yq - INFO - Calibrating LONZA on 2023-09-22 00:00:00.
2023-11-13 20:43:00,424 - yq - INFO - Calibrating SIKA on 2023-09-22 00:00:00.
2023-11-13 20:43:43,729 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 236.7
2023-11-13 20:43:43,731 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 20 seconds
2023-11-13 20:43:43,755 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230922.csv
2023-11-13 20:43:43,755 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.72509930e-01  9.99530524e+00 -1.03042491e-05  6.59810912e-01
   9.96463884e+00]
 [ 7.55265723e+00  2.57240948e-02 -9.71532063e-02  5.36756766e-01
   2.05320345e-01]]
2023-11-13 20:43:43,759 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284ca6410>, Timestamp('2023-09-22 00:00:00')): 0.0h 1.0m 21s 39ms
2023-11-13 20:43:43,776 - yq - INFO - The log returns list for all assets is: [Date
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
                ...   
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
                ...   
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:43:43,780 - yq - INFO - rho_S1S2 is 0.3447849301023391

2023-11-13 20:43:43,781 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34478493]
 [0.34478493 1.        ]]

2023-11-13 20:43:43,781 - yq - INFO - Simplified correlation matrix is:
[[1.         0.65981091 0.34478493 0.        ]
 [0.65981091 1.         0.         0.        ]
 [0.34478493 0.         1.         0.53675677]
 [0.         0.         0.53675677 1.        ]]

2023-11-13 20:43:43,783 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.65981091  0.75143167  0.          0.        ]
 [ 0.34478493 -0.3027459   0.88852027  0.        ]
 [ 0.          0.          0.60410188  0.7969071 ]]

2023-11-13 20:43:43,783 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284ca6410>): 0.0h 0.0m 0s 24ms
2023-11-13 20:43:43,799 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 20:43:43,830 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:43:43,836 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  335.446383  231.858581
1  294.594262  229.722839
2  320.268001  242.021344
3  270.839376  234.264112
4  298.143580  229.499338
2023-11-13 20:43:43,991 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  335.446383  231.858581
2023-09-26  294.594262  229.722839
2023-09-27  320.268001  242.021344
2023-09-28  270.839376  234.264112
2023-09-29  298.143580  229.499338
2023-11-13 20:43:44,111 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
...             ...      ...
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7

[63 rows x 2 columns]
2023-11-13 20:43:44,115 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-22  426.300000  236.700000
2023-09-25  335.446383  231.858581
2023-09-26  294.594262  229.722839
2023-09-27  320.268001  242.021344
2023-09-28  270.839376  234.264112
...                ...         ...
2024-07-24    0.544974  207.602327
2024-07-25    0.482749  208.235788
2024-07-26    0.396376  202.076269
2024-07-29    0.359188  202.887374
2024-07-30    0.416475  205.757601

[213 rows x 2 columns]
2023-11-13 20:43:44,274 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:43:44,274 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284ca6410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  335.446383  231.858581
2023-09-26  294.594262  229.722839
2023-09-27  320.268001  242.021344
2023-09-28  270.839376  234.264112
2023-09-29  298.143580  229.499338
...                ...         ...
2024-07-24    0.544974  207.602327
2024-07-25    0.482749  208.235788
2024-07-26    0.396376  202.076269
2024-07-29    0.359188  202.887374
2024-07-30    0.416475  205.757601

[212 rows x 2 columns], sim=0): 0.0h 0.0m 0s 276ms
2023-11-13 20:43:44,275 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 20:43:44,302 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:43:44,304 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  331.842243  242.397378
1  272.626699  233.815853
2  189.626110  234.852974
3  247.374060  245.118480
4  230.503722  254.320507
2023-11-13 20:43:44,449 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  331.842243  242.397378
2023-09-26  272.626699  233.815853
2023-09-27  189.626110  234.852974
2023-09-28  247.374060  245.118480
2023-09-29  230.503722  254.320507
2023-11-13 20:43:44,495 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
...             ...      ...
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7

[63 rows x 2 columns]
2023-11-13 20:43:44,499 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-22  426.300000  236.700000
2023-09-25  331.842243  242.397378
2023-09-26  272.626699  233.815853
2023-09-27  189.626110  234.852974
2023-09-28  247.374060  245.118480
...                ...         ...
2024-07-24    0.082534  170.405339
2024-07-25    0.079866  169.918369
2024-07-26    0.099484  172.272648
2024-07-29    0.125142  173.652072
2024-07-30    0.119307  173.875238

[213 rows x 2 columns]
2023-11-13 20:43:44,678 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:43:44,678 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284ca6410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  331.842243  242.397378
2023-09-26  272.626699  233.815853
2023-09-27  189.626110  234.852974
2023-09-28  247.374060  245.118480
2023-09-29  230.503722  254.320507
...                ...         ...
2024-07-24    0.082534  170.405339
2024-07-25    0.079866  169.918369
2024-07-26    0.099484  172.272648
2024-07-29    0.125142  173.652072
2024-07-30    0.119307  173.875238

[212 rows x 2 columns], sim=1): 0.0h 0.0m 0s 224ms
2023-11-13 20:43:44,678 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 20:43:44,710 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:43:44,712 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  289.223479  232.358407
1  210.919531  232.941884
2  211.080427  232.714378
3  244.010755  228.754092
4  292.440887  233.008598
2023-11-13 20:43:44,864 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  289.223479  232.358407
2023-09-26  210.919531  232.941884
2023-09-27  211.080427  232.714378
2023-09-28  244.010755  228.754092
2023-09-29  292.440887  233.008598
2023-11-13 20:43:44,896 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
...             ...      ...
2023-09-18    424.3    240.7
2023-09-19    430.1    239.1
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7

[63 rows x 2 columns]
2023-11-13 20:43:44,902 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-22  426.300000  236.700000
2023-09-25  289.223479  232.358407
2023-09-26  210.919531  232.941884
2023-09-27  211.080427  232.714378
2023-09-28  244.010755  228.754092
...                ...         ...
2024-07-24   10.825093  202.952902
2024-07-25    7.818491  200.250644
2024-07-26   10.162802  200.259547
2024-07-29    8.001801  197.681190
2024-07-30    7.925307  197.959278

[213 rows x 2 columns]
2023-11-13 20:43:45,085 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:43:45,085 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284ca6410>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  289.223479  232.358407
2023-09-26  210.919531  232.941884
2023-09-27  211.080427  232.714378
2023-09-28  244.010755  228.754092
2023-09-29  292.440887  233.008598
...                ...         ...
2024-07-24   10.825093  202.952902
2024-07-25    7.818491  200.250644
2024-07-26   10.162802  200.259547
2024-07-29    8.001801  197.681190
2024-07-30    7.925307  197.959278

[212 rows x 2 columns], sim=2): 0.0h 0.0m 0s 217ms
2023-11-13 20:43:45,085 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284ca6410>, n_sim=3): 0.0h 1.0m 22s 369ms
2023-11-13 20:43:45,086 - yq - INFO - Pricing the product on 2023-09-25 00:00:00
2023-11-13 20:43:45,086 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:43:45,102 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:43:45,433 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-11-13 20:43:45,434 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230925.csv
2023-11-13 20:43:45,438 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/lonn_call.csv
2023-11-13 20:43:45,440 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.148772     330  103.949997  37.879402  0.0175
1  0.148772     335   99.050003  36.874622  0.0175
2  0.148772     340   94.199997  36.165127  0.0175
3  0.148772     345   89.349998  35.303986  0.0175
4  0.148772     350   84.474998  34.169895  0.0175
2023-11-13 20:43:45,441 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/sika_call.csv
2023-11-13 20:43:45,443 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     190  40.974998  34.669617  0.0175
1  0.148772     195  36.275002  33.086273  0.0175
2  0.148772     200  31.699997  31.738745  0.0175
3  0.148772     210  23.075005  29.495777  0.0175
4  0.148772     220  15.625002  28.121016  0.0175
2023-11-13 20:43:45,448 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.148772     330  103.949997  0.0175
1  0.148772     335   99.050003  0.0175
2  0.148772     340   94.199997  0.0175
3  0.148772     345   89.349998  0.0175
4  0.148772     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.148772     190  40.974998  0.0175
1  0.148772     195  36.275002  0.0175
2  0.148772     200  31.699997  0.0175
3  0.148772     210  23.075005  0.0175
4  0.148772     220  15.625002  0.0175
2023-11-13 20:43:45,448 - yq - INFO - Calibrating LONZA on 2023-09-25 00:00:00.
2023-11-13 20:44:11,752 - yq - INFO - Calibrating SIKA on 2023-09-25 00:00:00.
2023-11-13 20:44:52,737 - yq - INFO - The S_0 for LONZA and SIKA are 432.1 and 232.6
2023-11-13 20:44:52,738 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 20:44:52,749 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230925.csv
2023-11-13 20:44:52,749 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.13933655e+00  2.85697577e-01 -1.88156899e-06  1.47794283e+00
   4.50940199e+00]
 [ 9.99433869e+00  2.50236421e-02 -1.40056557e-01  4.83110000e-01
   2.52028374e-01]]
2023-11-13 20:44:52,751 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286566dd0>, Timestamp('2023-09-25 00:00:00')): 0.0h 1.0m 7s 318ms
2023-11-13 20:44:52,763 - yq - INFO - The log returns list for all assets is: [Date
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
                ...   
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
                ...   
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:44:52,765 - yq - INFO - rho_S1S2 is 0.3222638184192226

2023-11-13 20:44:52,765 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32226382]
 [0.32226382 1.        ]]

2023-11-13 20:44:52,765 - yq - INFO - Simplified correlation matrix is:
[[1.         1.47794283 0.32226382 0.        ]
 [1.47794283 1.         0.         0.        ]
 [0.32226382 0.         1.         0.48311   ]
 [0.         0.         0.48311    1.        ]]

2023-11-13 20:44:52,766 - yq - ERROR - Error during simulation on 2023-09-25 00:00:00: Matrix is not positive definite
2023-11-13 20:44:52,766 - yq - INFO - Pricing the product on 2023-09-26 00:00:00
2023-11-13 20:44:52,766 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:44:52,791 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:44:53,060 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-11-13 20:44:53,061 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230926.csv
2023-11-13 20:44:53,066 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/lonn_call.csv
2023-11-13 20:44:53,068 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.145965     330  103.949997  37.879402  0.0175
1  0.145965     335   99.050003  36.874622  0.0175
2  0.145965     340   94.199997  36.165127  0.0175
3  0.145965     345   89.349998  35.303986  0.0175
4  0.145965     350   84.474998  34.169895  0.0175
2023-11-13 20:44:53,069 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/sika_call.csv
2023-11-13 20:44:53,072 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     190  40.974998  34.669617  0.0175
1  0.145965     195  36.275002  33.086273  0.0175
2  0.145965     200  31.699997  31.738745  0.0175
3  0.145965     210  23.075005  29.495777  0.0175
4  0.145965     220  15.625002  28.121016  0.0175
2023-11-13 20:44:53,076 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.145965     330  103.949997  0.0175
1  0.145965     335   99.050003  0.0175
2  0.145965     340   94.199997  0.0175
3  0.145965     345   89.349998  0.0175
4  0.145965     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.145965     190  40.974998  0.0175
1  0.145965     195  36.275002  0.0175
2  0.145965     200  31.699997  0.0175
3  0.145965     210  23.075005  0.0175
4  0.145965     220  15.625002  0.0175
2023-11-13 20:44:53,076 - yq - INFO - Calibrating LONZA on 2023-09-26 00:00:00.
2023-11-13 20:45:35,979 - yq - INFO - Calibrating SIKA on 2023-09-26 00:00:00.
2023-11-13 20:46:14,052 - yq - INFO - The S_0 for LONZA and SIKA are 432.4 and 229.3
2023-11-13 20:46:14,053 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 20 seconds
2023-11-13 20:46:14,060 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230926.csv
2023-11-13 20:46:14,060 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.68880849e-01  9.91754983e+00 -1.19645956e-04  7.94675354e-01
   9.85672280e+00]
 [ 9.90917052e+00  1.04090743e-02 -1.26156744e-01  4.93431583e-01
   2.73173374e-01]]
2023-11-13 20:46:14,061 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e4c12d0>, Timestamp('2023-09-26 00:00:00')): 0.0h 1.0m 21s 1ms
2023-11-13 20:46:14,073 - yq - INFO - The log returns list for all assets is: [Date
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
                ...   
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
                ...   
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:46:14,076 - yq - INFO - rho_S1S2 is 0.31739440250500167

2023-11-13 20:46:14,076 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3173944]
 [0.3173944 1.       ]]

2023-11-13 20:46:14,076 - yq - INFO - Simplified correlation matrix is:
[[1.         0.79467535 0.3173944  0.        ]
 [0.79467535 1.         0.         0.        ]
 [0.3173944  0.         1.         0.49343158]
 [0.         0.         0.49343158 1.        ]]

2023-11-13 20:46:14,077 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.79467535  0.60703466  0.          0.        ]
 [ 0.3173944  -0.41550429  0.85241831  0.        ]
 [ 0.          0.          0.57886085  0.81542634]]

2023-11-13 20:46:14,077 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e4c12d0>): 0.0h 0.0m 0s 16ms
2023-11-13 20:46:14,085 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 20:46:14,105 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:46:14,108 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.618025  221.870305
1  355.935021  225.925462
2  342.825919  228.830457
3  362.178183  224.864332
4  539.297513  229.842806
2023-11-13 20:46:14,225 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  420.618025  221.870305
2023-09-28  355.935021  225.925462
2023-09-29  342.825919  228.830457
2023-10-02  362.178183  224.864332
2023-10-03  539.297513  229.842806
2023-11-13 20:46:14,324 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
...             ...      ...
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3

[63 rows x 2 columns]
2023-11-13 20:46:14,327 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-26  432.400000  229.300000
2023-09-27  420.618025  221.870305
2023-09-28  355.935021  225.925462
2023-09-29  342.825919  228.830457
2023-10-02  362.178183  224.864332
...                ...         ...
2024-07-24   13.887913  222.850372
2024-07-25   13.857712  222.646309
2024-07-26   14.088889  222.829420
2024-07-29   13.040689  222.961968
2024-07-30   12.847334  224.385568

[211 rows x 2 columns]
2023-11-13 20:46:14,465 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:46:14,465 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e4c12d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  420.618025  221.870305
2023-09-28  355.935021  225.925462
2023-09-29  342.825919  228.830457
2023-10-02  362.178183  224.864332
2023-10-03  539.297513  229.842806
...                ...         ...
2024-07-24   13.887913  222.850372
2024-07-25   13.857712  222.646309
2024-07-26   14.088889  222.829420
2024-07-29   13.040689  222.961968
2024-07-30   12.847334  224.385568

[210 rows x 2 columns], sim=0): 0.0h 0.0m 0s 236ms
2023-11-13 20:46:14,466 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 20:46:14,492 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:46:14,493 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.650653  239.510223
1  490.162246  251.608321
2  611.767779  244.428420
3  636.187715  254.069065
4  466.370388  245.849110
2023-11-13 20:46:14,617 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  491.650653  239.510223
2023-09-28  490.162246  251.608321
2023-09-29  611.767779  244.428420
2023-10-02  636.187715  254.069065
2023-10-03  466.370388  245.849110
2023-11-13 20:46:14,644 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
...             ...      ...
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3

[63 rows x 2 columns]
2023-11-13 20:46:14,647 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-26  432.400000  229.300000
2023-09-27  491.650653  239.510223
2023-09-28  490.162246  251.608321
2023-09-29  611.767779  244.428420
2023-10-02  636.187715  254.069065
...                ...         ...
2024-07-24    0.621499  215.790692
2024-07-25    0.630045  217.713414
2024-07-26    0.683493  219.573246
2024-07-29    0.506318  218.723683
2024-07-30    0.430627  218.164332

[211 rows x 2 columns]
2023-11-13 20:46:14,807 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:46:14,807 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e4c12d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  491.650653  239.510223
2023-09-28  490.162246  251.608321
2023-09-29  611.767779  244.428420
2023-10-02  636.187715  254.069065
2023-10-03  466.370388  245.849110
...                ...         ...
2024-07-24    0.621499  215.790692
2024-07-25    0.630045  217.713414
2024-07-26    0.683493  219.573246
2024-07-29    0.506318  218.723683
2024-07-30    0.430627  218.164332

[210 rows x 2 columns], sim=1): 0.0h 0.0m 0s 187ms
2023-11-13 20:46:14,808 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 20:46:14,840 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:46:14,842 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  417.441567  244.390229
1  444.011287  246.408003
2  427.423318  245.282385
3  482.271019  252.757332
4  448.092609  253.438869
2023-11-13 20:46:14,994 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  417.441567  244.390229
2023-09-28  444.011287  246.408003
2023-09-29  427.423318  245.282385
2023-10-02  482.271019  252.757332
2023-10-03  448.092609  253.438869
2023-11-13 20:46:15,024 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
...             ...      ...
2023-09-20    440.7    242.8
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3

[63 rows x 2 columns]
2023-11-13 20:46:15,029 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-26  432.400000  229.300000
2023-09-27  417.441567  244.390229
2023-09-28  444.011287  246.408003
2023-09-29  427.423318  245.282385
2023-10-02  482.271019  252.757332
...                ...         ...
2024-07-24    3.872562  195.322567
2024-07-25    4.104988  196.431206
2024-07-26    3.872907  198.331724
2024-07-29    2.743838  195.912559
2024-07-30    2.022342  193.557378

[211 rows x 2 columns]
2023-11-13 20:46:15,204 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:46:15,204 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e4c12d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  417.441567  244.390229
2023-09-28  444.011287  246.408003
2023-09-29  427.423318  245.282385
2023-10-02  482.271019  252.757332
2023-10-03  448.092609  253.438869
...                ...         ...
2024-07-24    3.872562  195.322567
2024-07-25    4.104988  196.431206
2024-07-26    3.872907  198.331724
2024-07-29    2.743838  195.912559
2024-07-30    2.022342  193.557378

[210 rows x 2 columns], sim=2): 0.0h 0.0m 0s 206ms
2023-11-13 20:46:15,204 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e4c12d0>, n_sim=3): 0.0h 1.0m 22s 148ms
2023-11-13 20:46:15,205 - yq - INFO - Pricing the product on 2023-09-27 00:00:00
2023-11-13 20:46:15,205 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:46:15,216 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:46:15,523 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-11-13 20:46:15,523 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230927.csv
2023-11-13 20:46:15,528 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/lonn_call.csv
2023-11-13 20:46:15,531 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     330  94.199997  40.003845  0.0175
1  0.143158     335  89.349998  38.856865  0.0175
2  0.143158     340  84.474998  37.484390  0.0175
3  0.143158     345  79.674995  36.437531  0.0175
4  0.143158     350  74.899994  35.390190  0.0175
2023-11-13 20:46:15,531 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/sika_call.csv
2023-11-13 20:46:15,533 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     190  40.725006  34.669014  0.0175
1  0.143158     195  35.975006  32.756226  0.0175
2  0.143158     200  31.375000  31.349203  0.0175
3  0.143158     210  22.750000  29.253847  0.0175
4  0.143158     220  15.299999  27.923262  0.0175
2023-11-13 20:46:15,537 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     330  94.199997  0.0175
1  0.143158     335  89.349998  0.0175
2  0.143158     340  84.474998  0.0175
3  0.143158     345  79.674995  0.0175
4  0.143158     350  74.899994  0.0175
   maturity  strike      price    rate
0  0.143158     190  40.725006  0.0175
1  0.143158     195  35.975006  0.0175
2  0.143158     200  31.375000  0.0175
3  0.143158     210  22.750000  0.0175
4  0.143158     220  15.299999  0.0175
2023-11-13 20:46:15,537 - yq - INFO - Calibrating LONZA on 2023-09-27 00:00:00.
2023-11-13 20:46:59,004 - yq - INFO - Calibrating SIKA on 2023-09-27 00:00:00.
2023-11-13 20:47:42,931 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 229.4
2023-11-13 20:47:42,932 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 27 seconds
2023-11-13 20:47:42,946 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230927.csv
2023-11-13 20:47:42,946 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.83459997e-01  9.91583131e+00 -2.54983170e-05  8.08015643e-01
   9.73567015e+00]
 [ 9.72808413e+00  1.08498212e-02 -1.28216474e-01  4.69914932e-01
   2.83944647e-01]]
2023-11-13 20:47:42,948 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e4f81d0>, Timestamp('2023-09-27 00:00:00')): 0.0h 1.0m 27s 425ms
2023-11-13 20:47:42,957 - yq - INFO - The log returns list for all assets is: [Date
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
                ...   
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
                ...   
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:47:42,959 - yq - INFO - rho_S1S2 is 0.29836281054554314

2023-11-13 20:47:42,959 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29836281]
 [0.29836281 1.        ]]

2023-11-13 20:47:42,959 - yq - INFO - Simplified correlation matrix is:
[[1.         0.80801564 0.29836281 0.        ]
 [0.80801564 1.         0.         0.        ]
 [0.29836281 0.         1.         0.46991493]
 [0.         0.         0.46991493 1.        ]]

2023-11-13 20:47:42,961 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.80801564  0.58916103  0.          0.        ]
 [ 0.29836281 -0.40919512  0.86228707  0.        ]
 [ 0.          0.          0.54496345  0.8384598 ]]

2023-11-13 20:47:42,961 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e4f81d0>): 0.0h 0.0m 0s 13ms
2023-11-13 20:47:42,972 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 20:47:42,991 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:47:42,995 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  366.487433  243.675985
1  517.559083  253.098501
2  499.929468  263.628662
3  570.855768  256.256345
4  649.120850  261.678635
2023-11-13 20:47:43,103 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  366.487433  243.675985
2023-09-29  517.559083  253.098501
2023-10-02  499.929468  263.628662
2023-10-03  570.855768  256.256345
2023-10-04  649.120850  261.678635
2023-11-13 20:47:43,189 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
...             ...      ...
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4

[63 rows x 2 columns]
2023-11-13 20:47:43,196 - yq - INFO - The smooth path df is:
              LONN.SE_0   SIKA.SE_0
2023-09-27   422.100000  229.400000
2023-09-28   366.487433  243.675985
2023-09-29   517.559083  253.098501
2023-10-02   499.929468  263.628662
2023-10-03   570.855768  256.256345
...                 ...         ...
2024-07-24  8830.441566  336.293814
2024-07-25  9028.248601  340.330973
2024-07-26  4922.675116  338.015965
2024-07-29  3905.049781  338.479042
2024-07-30  4128.142102  338.146189

[210 rows x 2 columns]
2023-11-13 20:47:43,318 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:47:43,318 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e4f81d0>, plot_hist=True, sim_data_comb=              LONN.SE_0   SIKA.SE_0
Date                               
2023-09-28   366.487433  243.675985
2023-09-29   517.559083  253.098501
2023-10-02   499.929468  263.628662
2023-10-03   570.855768  256.256345
2023-10-04   649.120850  261.678635
...                 ...         ...
2024-07-24  8830.441566  336.293814
2024-07-25  9028.248601  340.330973
2024-07-26  4922.675116  338.015965
2024-07-29  3905.049781  338.479042
2024-07-30  4128.142102  338.146189

[209 rows x 2 columns], sim=0): 0.0h 0.0m 0s 211ms
2023-11-13 20:47:43,318 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 20:47:43,340 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:47:43,341 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  322.793009  236.395004
1  373.158040  247.881481
2  418.064463  241.531180
3  314.379318  236.899033
4  344.210565  232.788949
2023-11-13 20:47:43,463 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  322.793009  236.395004
2023-09-29  373.158040  247.881481
2023-10-02  418.064463  241.531180
2023-10-03  314.379318  236.899033
2023-10-04  344.210565  232.788949
2023-11-13 20:47:43,492 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
...             ...      ...
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4

[63 rows x 2 columns]
2023-11-13 20:47:43,496 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-27  422.100000  229.400000
2023-09-28  322.793009  236.395004
2023-09-29  373.158040  247.881481
2023-10-02  418.064463  241.531180
2023-10-03  314.379318  236.899033
...                ...         ...
2024-07-24    3.824859  243.895014
2024-07-25    3.212642  243.647300
2024-07-26    4.138801  245.419408
2024-07-29    6.000547  246.030660
2024-07-30    6.124914  248.008087

[210 rows x 2 columns]
2023-11-13 20:47:43,670 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:47:43,670 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e4f81d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  322.793009  236.395004
2023-09-29  373.158040  247.881481
2023-10-02  418.064463  241.531180
2023-10-03  314.379318  236.899033
2023-10-04  344.210565  232.788949
...                ...         ...
2024-07-24    3.824859  243.895014
2024-07-25    3.212642  243.647300
2024-07-26    4.138801  245.419408
2024-07-29    6.000547  246.030660
2024-07-30    6.124914  248.008087

[209 rows x 2 columns], sim=1): 0.0h 0.0m 0s 203ms
2023-11-13 20:47:43,671 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 20:47:43,702 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:47:43,704 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  565.557069  242.137658
1  556.736566  240.388498
2  631.457260  235.656042
3  679.527468  238.793608
4  558.824245  243.846956
2023-11-13 20:47:43,861 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  565.557069  242.137658
2023-09-29  556.736566  240.388498
2023-10-02  631.457260  235.656042
2023-10-03  679.527468  238.793608
2023-10-04  558.824245  243.846956
2023-11-13 20:47:44,272 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
...             ...      ...
2023-09-21    426.3    239.9
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4

[63 rows x 2 columns]
2023-11-13 20:47:44,274 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-27  422.100000  229.400000
2023-09-28  565.557069  242.137658
2023-09-29  556.736566  240.388498
2023-10-02  631.457260  235.656042
2023-10-03  679.527468  238.793608
...                ...         ...
2024-07-24    6.975508  245.217127
2024-07-25    6.993854  244.795098
2024-07-26    6.177102  245.717836
2024-07-29    7.338451  244.853721
2024-07-30    9.004548  242.099564

[210 rows x 2 columns]
2023-11-13 20:47:44,402 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:47:44,402 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e4f81d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  565.557069  242.137658
2023-09-29  556.736566  240.388498
2023-10-02  631.457260  235.656042
2023-10-03  679.527468  238.793608
2023-10-04  558.824245  243.846956
...                ...         ...
2024-07-24    6.975508  245.217127
2024-07-25    6.993854  244.795098
2024-07-26    6.177102  245.717836
2024-07-29    7.338451  244.853721
2024-07-30    9.004548  242.099564

[209 rows x 2 columns], sim=2): 0.0h 0.0m 0s 538ms
2023-11-13 20:47:44,402 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e4f81d0>, n_sim=3): 0.0h 1.0m 28s 881ms
2023-11-13 20:47:44,402 - yq - INFO - Pricing the product on 2023-09-28 00:00:00
2023-11-13 20:47:44,402 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:47:44,416 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:47:44,716 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-11-13 20:47:44,717 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230928.csv
2023-11-13 20:47:44,722 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/lonn_call.csv
2023-11-13 20:47:44,725 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     330  93.750000  37.346252  0.0175
1  0.140351     335  88.875000  36.323925  0.0175
2  0.140351     340  84.074997  35.695438  0.0175
3  0.140351     345  79.250000  34.727436  0.0175
4  0.140351     350  74.449997  33.762619  0.0175
2023-11-13 20:47:44,726 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/sika_call.csv
2023-11-13 20:47:44,729 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     190  42.025002  35.140724  0.0175
1  0.140351     195  37.199997  32.796349  0.0175
2  0.140351     200  32.549995  31.354389  0.0175
3  0.140351     210  23.824997  29.419374  0.0175
4  0.140351     220  16.150002  27.958426  0.0175
2023-11-13 20:47:44,737 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     330  93.750000  0.0175
1  0.140351     335  88.875000  0.0175
2  0.140351     340  84.074997  0.0175
3  0.140351     345  79.250000  0.0175
4  0.140351     350  74.449997  0.0175
   maturity  strike      price    rate
0  0.140351     190  42.025002  0.0175
1  0.140351     195  37.199997  0.0175
2  0.140351     200  32.549995  0.0175
3  0.140351     210  23.824997  0.0175
4  0.140351     220  16.150002  0.0175
2023-11-13 20:47:44,737 - yq - INFO - Calibrating LONZA on 2023-09-28 00:00:00.
2023-11-13 20:48:22,617 - yq - INFO - Calibrating SIKA on 2023-09-28 00:00:00.
2023-11-13 20:48:58,059 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 230.9
2023-11-13 20:48:58,060 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 20:48:58,075 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230928.csv
2023-11-13 20:48:58,075 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.87442549e-01  9.99392460e+00 -1.46290502e-05  8.18687316e-01
   9.93018192e+00]
 [ 9.93357180e+00  1.01337900e-02 -1.16747243e-01  4.86600766e-01
   2.90841196e-01]]
2023-11-13 20:48:58,076 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2865c6d50>, Timestamp('2023-09-28 00:00:00')): 0.0h 1.0m 13s 360ms
2023-11-13 20:48:58,091 - yq - INFO - The log returns list for all assets is: [Date
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
                ...   
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
                ...   
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:48:58,098 - yq - INFO - rho_S1S2 is 0.2985230229316591

2023-11-13 20:48:58,098 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29852302]
 [0.29852302 1.        ]]

2023-11-13 20:48:58,099 - yq - INFO - Simplified correlation matrix is:
[[1.         0.81868732 0.29852302 0.        ]
 [0.81868732 1.         0.         0.        ]
 [0.29852302 0.         1.         0.48660077]
 [0.         0.         0.48660077 1.        ]]

2023-11-13 20:48:58,100 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.81868732  0.57423957  0.          0.        ]
 [ 0.29852302 -0.42560114  0.8542527   0.        ]
 [ 0.          0.          0.56962157  0.82190709]]

2023-11-13 20:48:58,100 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2865c6d50>): 0.0h 0.0m 0s 24ms
2023-11-13 20:48:58,111 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 20:48:58,139 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:48:58,143 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  398.512505  213.693043
1  312.664450  216.973831
2  325.531450  221.201615
3  228.681240  219.738390
4  180.850176  218.795905
2023-11-13 20:48:58,280 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  398.512505  213.693043
2023-10-02  312.664450  216.973831
2023-10-03  325.531450  221.201615
2023-10-04  228.681240  219.738390
2023-10-05  180.850176  218.795905
2023-11-13 20:48:58,394 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
...             ...      ...
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9

[63 rows x 2 columns]
2023-11-13 20:48:58,398 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-28  422.100000  230.900000
2023-09-29  398.512505  213.693043
2023-10-02  312.664450  216.973831
2023-10-03  325.531450  221.201615
2023-10-04  228.681240  219.738390
...                ...         ...
2024-07-24    0.126790  155.946981
2024-07-25    0.193866  155.852314
2024-07-26    0.234201  156.288287
2024-07-29    0.249719  157.979309
2024-07-30    0.257764  159.085170

[209 rows x 2 columns]
2023-11-13 20:48:58,581 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:48:58,581 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2865c6d50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  398.512505  213.693043
2023-10-02  312.664450  216.973831
2023-10-03  325.531450  221.201615
2023-10-04  228.681240  219.738390
2023-10-05  180.850176  218.795905
...                ...         ...
2024-07-24    0.126790  155.946981
2024-07-25    0.193866  155.852314
2024-07-26    0.234201  156.288287
2024-07-29    0.249719  157.979309
2024-07-30    0.257764  159.085170

[208 rows x 2 columns], sim=0): 0.0h 0.0m 0s 295ms
2023-11-13 20:48:58,581 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 20:48:58,610 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:48:58,612 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  450.878678  244.782855
1  541.517155  253.760686
2  515.323449  249.370510
3  427.548713  253.476250
4  478.128640  249.962099
2023-11-13 20:48:58,761 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  450.878678  244.782855
2023-10-02  541.517155  253.760686
2023-10-03  515.323449  249.370510
2023-10-04  427.548713  253.476250
2023-10-05  478.128640  249.962099
2023-11-13 20:48:58,794 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
...             ...      ...
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9

[63 rows x 2 columns]
2023-11-13 20:48:58,798 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-28  422.100000  230.900000
2023-09-29  450.878678  244.782855
2023-10-02  541.517155  253.760686
2023-10-03  515.323449  249.370510
2023-10-04  427.548713  253.476250
...                ...         ...
2024-07-24    0.065202  292.536863
2024-07-25    0.081603  295.313326
2024-07-26    0.081732  291.798344
2024-07-29    0.073419  293.546243
2024-07-30    0.042550  292.652997

[209 rows x 2 columns]
2023-11-13 20:48:58,969 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:48:58,969 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2865c6d50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  450.878678  244.782855
2023-10-02  541.517155  253.760686
2023-10-03  515.323449  249.370510
2023-10-04  427.548713  253.476250
2023-10-05  478.128640  249.962099
...                ...         ...
2024-07-24    0.065202  292.536863
2024-07-25    0.081603  295.313326
2024-07-26    0.081732  291.798344
2024-07-29    0.073419  293.546243
2024-07-30    0.042550  292.652997

[208 rows x 2 columns], sim=1): 0.0h 0.0m 0s 204ms
2023-11-13 20:48:58,970 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 20:48:59,000 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:48:59,002 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  370.887661  238.125247
1  395.323360  245.039738
2  354.452046  246.983464
3  419.629804  244.731884
4  471.717804  247.745054
2023-11-13 20:48:59,154 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  370.887661  238.125247
2023-10-02  395.323360  245.039738
2023-10-03  354.452046  246.983464
2023-10-04  419.629804  244.731884
2023-10-05  471.717804  247.745054
2023-11-13 20:48:59,183 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
...             ...      ...
2023-09-22    426.3    236.7
2023-09-25    432.1    232.6
2023-09-26    432.4    229.3
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9

[63 rows x 2 columns]
2023-11-13 20:48:59,188 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-28  422.100000  230.900000
2023-09-29  370.887661  238.125247
2023-10-02  395.323360  245.039738
2023-10-03  354.452046  246.983464
2023-10-04  419.629804  244.731884
...                ...         ...
2024-07-24    3.222609  238.328082
2024-07-25    2.848764  239.454907
2024-07-26    3.313460  238.829110
2024-07-29    3.666371  238.192441
2024-07-30    3.403852  240.520218

[209 rows x 2 columns]
2023-11-13 20:48:59,376 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:48:59,376 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2865c6d50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  370.887661  238.125247
2023-10-02  395.323360  245.039738
2023-10-03  354.452046  246.983464
2023-10-04  419.629804  244.731884
2023-10-05  471.717804  247.745054
...                ...         ...
2024-07-24    3.222609  238.328082
2024-07-25    2.848764  239.454907
2024-07-26    3.313460  238.829110
2024-07-29    3.666371  238.192441
2024-07-30    3.403852  240.520218

[208 rows x 2 columns], sim=2): 0.0h 0.0m 0s 218ms
2023-11-13 20:48:59,376 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2865c6d50>, n_sim=3): 0.0h 1.0m 14s 663ms
2023-11-13 20:48:59,376 - yq - INFO - Pricing the product on 2023-09-29 00:00:00
2023-11-13 20:48:59,377 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:48:59,389 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:48:59,739 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-11-13 20:48:59,739 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230929.csv
2023-11-13 20:48:59,743 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/lonn_call.csv
2023-11-13 20:48:59,745 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     385  46.699997  31.922449  0.0175
1  0.137544     390  42.500000  31.159510  0.0175
2  0.137544     395  38.449997  30.474539  0.0175
3  0.137544     400  34.599991  29.921164  0.0175
4  0.137544     410  27.549995  29.105541  0.0175
2023-11-13 20:48:59,747 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/sika_call.csv
2023-11-13 20:48:59,750 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     190  44.299995  34.807804  0.0175
1  0.137544     195  39.499992  33.103973  0.0175
2  0.137544     200  34.825005  31.903854  0.0175
3  0.137544     210  25.750000  29.092791  0.0175
4  0.137544     220  17.599998  27.165337  0.0175
2023-11-13 20:48:59,755 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     385  46.699997  0.0175
1  0.137544     390  42.500000  0.0175
2  0.137544     395  38.449997  0.0175
3  0.137544     400  34.599991  0.0175
4  0.137544     410  27.549995  0.0175
   maturity  strike      price    rate
0  0.137544     190  44.299995  0.0175
1  0.137544     195  39.499992  0.0175
2  0.137544     200  34.825005  0.0175
3  0.137544     210  25.750000  0.0175
4  0.137544     220  17.599998  0.0175
2023-11-13 20:48:59,755 - yq - INFO - Calibrating LONZA on 2023-09-29 00:00:00.
2023-11-13 20:49:42,640 - yq - INFO - Calibrating SIKA on 2023-09-29 00:00:00.
2023-11-13 20:50:19,297 - yq - INFO - The S_0 for LONZA and SIKA are 425.6 and 233.1
2023-11-13 20:50:19,298 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 19 seconds
2023-11-13 20:50:19,314 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20230929.csv
2023-11-13 20:50:19,314 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999998  0.04009339 -0.06085598  1.36576379  0.07033572]
 [ 9.22368287  0.0103481  -0.14251423  0.46558639  0.30307249]]
2023-11-13 20:50:19,317 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28529f090>, Timestamp('2023-09-29 00:00:00')): 0.0h 1.0m 19s 577ms
2023-11-13 20:50:19,331 - yq - INFO - The log returns list for all assets is: [Date
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
                ...   
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
                ...   
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:50:19,333 - yq - INFO - rho_S1S2 is 0.3008224014480678

2023-11-13 20:50:19,334 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3008224]
 [0.3008224 1.       ]]

2023-11-13 20:50:19,334 - yq - INFO - Simplified correlation matrix is:
[[1.         1.36576379 0.3008224  0.        ]
 [1.36576379 1.         0.         0.        ]
 [0.3008224  0.         1.         0.46558639]
 [0.         0.         0.46558639 1.        ]]

2023-11-13 20:50:19,335 - yq - ERROR - Error during simulation on 2023-09-29 00:00:00: Matrix is not positive definite
2023-11-13 20:50:19,335 - yq - INFO - Pricing the product on 2023-10-02 00:00:00
2023-11-13 20:50:19,335 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:50:19,358 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:50:19,673 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-11-13 20:50:19,674 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231002.csv
2023-11-13 20:50:19,677 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/lonn_call.csv
2023-11-13 20:50:19,680 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     330  92.125000  38.267204  0.0175
1  0.129123     335  87.274994  37.364208  0.0175
2  0.129123     340  82.424995  36.316391  0.0175
3  0.129123     345  77.599998  35.300434  0.0175
4  0.129123     350  72.799995  34.286041  0.0175
2023-11-13 20:50:19,681 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/sika_call.csv
2023-11-13 20:50:19,683 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     190  40.525002  34.670864  0.0175
1  0.129123     195  35.775002  32.940758  0.0175
2  0.129123     200  31.099998  31.210375  0.0175
3  0.129123     210  22.375000  29.052795  0.0175
4  0.129123     220  14.799999  27.583376  0.0175
2023-11-13 20:50:19,689 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     330  92.125000  0.0175
1  0.129123     335  87.274994  0.0175
2  0.129123     340  82.424995  0.0175
3  0.129123     345  77.599998  0.0175
4  0.129123     350  72.799995  0.0175
   maturity  strike      price    rate
0  0.129123     190  40.525002  0.0175
1  0.129123     195  35.775002  0.0175
2  0.129123     200  31.099998  0.0175
3  0.129123     210  22.375000  0.0175
4  0.129123     220  14.799999  0.0175
2023-11-13 20:50:19,689 - yq - INFO - Calibrating LONZA on 2023-10-02 00:00:00.
2023-11-13 20:50:53,213 - yq - INFO - Calibrating SIKA on 2023-10-02 00:00:00.
2023-11-13 20:51:28,133 - yq - INFO - The S_0 for LONZA and SIKA are 420.5 and 230.0
2023-11-13 20:51:28,135 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 20:51:28,167 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231002.csv
2023-11-13 20:51:28,167 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.89531246e+00  3.43096542e-01 -3.29214937e-06  1.49999995e+00
   5.05305520e+00]
 [ 9.90499442e+00  1.02573155e-02 -1.32235227e-01  4.93083438e-01
   3.18098820e-01]]
2023-11-13 20:51:28,181 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284a15490>, Timestamp('2023-10-02 00:00:00')): 0.0h 1.0m 8s 506ms
2023-11-13 20:51:28,197 - yq - INFO - The log returns list for all assets is: [Date
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
                ...   
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
                ...   
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:51:28,200 - yq - INFO - rho_S1S2 is 0.3032609493226555

2023-11-13 20:51:28,200 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30326095]
 [0.30326095 1.        ]]

2023-11-13 20:51:28,200 - yq - INFO - Simplified correlation matrix is:
[[1.         1.49999995 0.30326095 0.        ]
 [1.49999995 1.         0.         0.        ]
 [0.30326095 0.         1.         0.49308344]
 [0.         0.         0.49308344 1.        ]]

2023-11-13 20:51:28,201 - yq - ERROR - Error during simulation on 2023-10-02 00:00:00: Matrix is not positive definite
2023-11-13 20:51:28,201 - yq - INFO - Pricing the product on 2023-10-03 00:00:00
2023-11-13 20:51:28,201 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:51:28,236 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:51:28,697 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-11-13 20:51:28,699 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231003.csv
2023-11-13 20:51:28,705 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/lonn_call.csv
2023-11-13 20:51:28,709 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     390  43.250000  28.592716  0.0175
1  0.126316     395  39.149994  28.422277  0.0175
2  0.126316     400  35.199997  28.211863  0.0175
3  0.126316     410  27.949997  27.952816  0.0175
4  0.126316     420  21.649994  27.830254  0.0175
2023-11-13 20:51:28,712 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/sika_call.csv
2023-11-13 20:51:28,715 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     165  68.550003  47.843029  0.0175
1  0.126316     170  63.600006  45.406399  0.0175
2  0.126316     175  58.699997  43.945614  0.0175
3  0.126316     180  53.800003  41.966976  0.0175
4  0.126316     185  48.925003  40.003117  0.0175
2023-11-13 20:51:28,724 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     390  43.250000  0.0175
1  0.126316     395  39.149994  0.0175
2  0.126316     400  35.199997  0.0175
3  0.126316     410  27.949997  0.0175
4  0.126316     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.126316     165  68.550003  0.0175
1  0.126316     170  63.600006  0.0175
2  0.126316     175  58.699997  0.0175
3  0.126316     180  53.800003  0.0175
4  0.126316     185  48.925003  0.0175
2023-11-13 20:51:28,724 - yq - INFO - Calibrating LONZA on 2023-10-03 00:00:00.
2023-11-13 20:52:13,827 - yq - INFO - Calibrating SIKA on 2023-10-03 00:00:00.
2023-11-13 20:52:56,817 - yq - INFO - The S_0 for LONZA and SIKA are 415.3 and 228.8
2023-11-13 20:52:56,818 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 20:52:56,832 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231003.csv
2023-11-13 20:52:56,832 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.45746445  0.0115413  -0.11503792  0.48606868  0.33304086]
 [ 9.85397845  0.01886224 -0.17027889  0.46588892  0.29065429]]
2023-11-13 20:52:56,835 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28640f350>, Timestamp('2023-10-03 00:00:00')): 0.0h 1.0m 28s 138ms
2023-11-13 20:52:56,845 - yq - INFO - The log returns list for all assets is: [Date
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
                ...   
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
                ...   
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:52:56,848 - yq - INFO - rho_S1S2 is 0.31225413567123667

2023-11-13 20:52:56,848 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31225414]
 [0.31225414 1.        ]]

2023-11-13 20:52:56,848 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48606868 0.31225414 0.        ]
 [0.48606868 1.         0.         0.        ]
 [0.31225414 0.         1.         0.46588892]
 [0.         0.         0.46588892 1.        ]]

2023-11-13 20:52:56,849 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.48606868  0.87392062  0.          0.        ]
 [ 0.31225414 -0.17367362  0.93398867  0.        ]
 [ 0.          0.          0.49881646  0.86670764]]

2023-11-13 20:52:56,849 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x28640f350>): 0.0h 0.0m 0s 14ms
2023-11-13 20:52:56,862 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 20:52:56,891 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:52:56,894 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  404.759967  234.702339
1  386.283730  235.896961
2  418.350020  235.292507
3  430.175787  232.500070
4  447.471065  241.128667
2023-11-13 20:52:57,028 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  404.759967  234.702339
2023-10-05  386.283730  235.896961
2023-10-06  418.350020  235.292507
2023-10-09  430.175787  232.500070
2023-10-10  447.471065  241.128667
2023-11-13 20:52:57,179 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
...             ...      ...
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8

[63 rows x 2 columns]
2023-11-13 20:52:57,183 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-03  415.300000  228.800000
2023-10-04  404.759967  234.702339
2023-10-05  386.283730  235.896961
2023-10-06  418.350020  235.292507
2023-10-09  430.175787  232.500070
...                ...         ...
2024-07-24  465.083384  228.679437
2024-07-25  465.726763  233.098288
2024-07-26  469.322600  235.767256
2024-07-29  469.996351  235.537636
2024-07-30  473.781647  234.665586

[206 rows x 2 columns]
2023-11-13 20:52:57,341 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:52:57,341 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28640f350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  404.759967  234.702339
2023-10-05  386.283730  235.896961
2023-10-06  418.350020  235.292507
2023-10-09  430.175787  232.500070
2023-10-10  447.471065  241.128667
...                ...         ...
2024-07-24  465.083384  228.679437
2024-07-25  465.726763  233.098288
2024-07-26  469.322600  235.767256
2024-07-29  469.996351  235.537636
2024-07-30  473.781647  234.665586

[205 rows x 2 columns], sim=0): 0.0h 0.0m 0s 305ms
2023-11-13 20:52:57,341 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 20:52:57,365 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:52:57,366 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  414.719384  237.730463
1  433.417647  238.795564
2  425.854393  239.289216
3  439.521736  238.667833
4  422.550428  240.540332
2023-11-13 20:52:57,509 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  414.719384  237.730463
2023-10-05  433.417647  238.795564
2023-10-06  425.854393  239.289216
2023-10-09  439.521736  238.667833
2023-10-10  422.550428  240.540332
2023-11-13 20:52:57,549 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
...             ...      ...
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8

[63 rows x 2 columns]
2023-11-13 20:52:57,554 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-03  415.300000  228.800000
2023-10-04  414.719384  237.730463
2023-10-05  433.417647  238.795564
2023-10-06  425.854393  239.289216
2023-10-09  439.521736  238.667833
...                ...         ...
2024-07-24  352.710769  259.158715
2024-07-25  357.172874  257.910359
2024-07-26  357.241858  257.381998
2024-07-29  357.388993  255.363754
2024-07-30  355.858564  255.226777

[206 rows x 2 columns]
2023-11-13 20:52:57,745 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:52:57,745 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28640f350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  414.719384  237.730463
2023-10-05  433.417647  238.795564
2023-10-06  425.854393  239.289216
2023-10-09  439.521736  238.667833
2023-10-10  422.550428  240.540332
...                ...         ...
2024-07-24  352.710769  259.158715
2024-07-25  357.172874  257.910359
2024-07-26  357.241858  257.381998
2024-07-29  357.388993  255.363754
2024-07-30  355.858564  255.226777

[205 rows x 2 columns], sim=1): 0.0h 0.0m 0s 232ms
2023-11-13 20:52:57,746 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 20:52:57,776 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:52:57,777 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  379.440795  214.936686
1  346.581184  198.275784
2  361.414648  197.776538
3  365.924461  203.685122
4  356.167846  205.957252
2023-11-13 20:52:57,931 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  379.440795  214.936686
2023-10-05  346.581184  198.275784
2023-10-06  361.414648  197.776538
2023-10-09  365.924461  203.685122
2023-10-10  356.167846  205.957252
2023-11-13 20:52:57,958 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
...             ...      ...
2023-09-27    422.1    229.4
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8

[63 rows x 2 columns]
2023-11-13 20:52:57,961 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-03  415.300000  228.800000
2023-10-04  379.440795  214.936686
2023-10-05  346.581184  198.275784
2023-10-06  361.414648  197.776538
2023-10-09  365.924461  203.685122
...                ...         ...
2024-07-24  281.877693  241.388678
2024-07-25  280.388919  240.862568
2024-07-26  279.618838  243.306650
2024-07-29  278.575052  244.927587
2024-07-30  276.255059  241.980337

[206 rows x 2 columns]
2023-11-13 20:52:58,134 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:52:58,134 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28640f350>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  379.440795  214.936686
2023-10-05  346.581184  198.275784
2023-10-06  361.414648  197.776538
2023-10-09  365.924461  203.685122
2023-10-10  356.167846  205.957252
...                ...         ...
2024-07-24  281.877693  241.388678
2024-07-25  280.388919  240.862568
2024-07-26  279.618838  243.306650
2024-07-29  278.575052  244.927587
2024-07-30  276.255059  241.980337

[205 rows x 2 columns], sim=2): 0.0h 0.0m 0s 200ms
2023-11-13 20:52:58,135 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x28640f350>, n_sim=3): 0.0h 1.0m 29s 444ms
2023-11-13 20:52:58,135 - yq - INFO - Pricing the product on 2023-10-04 00:00:00
2023-11-13 20:52:58,135 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:52:58,146 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:52:58,459 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-11-13 20:52:58,460 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231004.csv
2023-11-13 20:52:58,467 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/lonn_call.csv
2023-11-13 20:52:58,470 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     390  43.250000  28.592716  0.0175
1  0.123509     395  39.149994  28.422277  0.0175
2  0.123509     400  35.199997  28.211863  0.0175
3  0.123509     410  27.949997  27.952816  0.0175
4  0.123509     420  21.649994  27.830254  0.0175
2023-11-13 20:52:58,472 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/sika_call.csv
2023-11-13 20:52:58,474 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     165  68.550003  47.843029  0.0175
1  0.123509     170  63.600006  45.406399  0.0175
2  0.123509     175  58.699997  43.945614  0.0175
3  0.123509     180  53.800003  41.966976  0.0175
4  0.123509     185  48.925003  40.003117  0.0175
2023-11-13 20:52:58,478 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     390  43.250000  0.0175
1  0.123509     395  39.149994  0.0175
2  0.123509     400  35.199997  0.0175
3  0.123509     410  27.949997  0.0175
4  0.123509     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.123509     165  68.550003  0.0175
1  0.123509     170  63.600006  0.0175
2  0.123509     175  58.699997  0.0175
3  0.123509     180  53.800003  0.0175
4  0.123509     185  48.925003  0.0175
2023-11-13 20:52:58,479 - yq - INFO - Calibrating LONZA on 2023-10-04 00:00:00.
2023-11-13 20:53:44,314 - yq - INFO - Calibrating SIKA on 2023-10-04 00:00:00.
2023-11-13 20:54:29,985 - yq - INFO - The S_0 for LONZA and SIKA are 415.9 and 230.2
2023-11-13 20:54:29,986 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 31 seconds
2023-11-13 20:54:30,000 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231004.csv
2023-11-13 20:54:30,000 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.95845252  0.01155583 -0.12070138  0.50265411  0.33185259]
 [ 9.92784078  0.01653121 -0.21814158  0.40581636  0.36368726]]
2023-11-13 20:54:30,001 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2851c2790>, Timestamp('2023-10-04 00:00:00')): 0.0h 1.0m 31s 542ms
2023-11-13 20:54:30,012 - yq - INFO - The log returns list for all assets is: [Date
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
                ...   
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
                ...   
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:54:30,014 - yq - INFO - rho_S1S2 is 0.31305479158935823

2023-11-13 20:54:30,014 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31305479]
 [0.31305479 1.        ]]

2023-11-13 20:54:30,015 - yq - INFO - Simplified correlation matrix is:
[[1.         0.50265411 0.31305479 0.        ]
 [0.50265411 1.         0.         0.        ]
 [0.31305479 0.         1.         0.40581636]
 [0.         0.         0.40581636 1.        ]]

2023-11-13 20:54:30,015 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.50265411  0.86448762  0.          0.        ]
 [ 0.31305479 -0.1820249   0.93212855  0.        ]
 [ 0.          0.          0.43536523  0.90025392]]

2023-11-13 20:54:30,016 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2851c2790>): 0.0h 0.0m 0s 14ms
2023-11-13 20:54:30,026 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 20:54:30,059 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:54:30,064 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  411.380361  213.331135
1  413.932244  216.127660
2  406.765870  217.105764
3  406.516014  211.910493
4  396.757872  219.206250
2023-11-13 20:54:30,249 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  411.380361  213.331135
2023-10-06  413.932244  216.127660
2023-10-09  406.765870  217.105764
2023-10-10  406.516014  211.910493
2023-10-11  396.757872  219.206250
2023-11-13 20:54:30,393 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
...             ...      ...
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2

[63 rows x 2 columns]
2023-11-13 20:54:30,401 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-04  415.900000  230.200000
2023-10-05  411.380361  213.331135
2023-10-06  413.932244  216.127660
2023-10-09  406.765870  217.105764
2023-10-10  406.516014  211.910493
...                ...         ...
2024-07-24  513.060171  286.591960
2024-07-25  509.587946  286.869237
2024-07-26  508.216714  289.105314
2024-07-29  513.290793  287.226581
2024-07-30  510.969712  285.407800

[205 rows x 2 columns]
2023-11-13 20:54:30,613 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:54:30,613 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851c2790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  411.380361  213.331135
2023-10-06  413.932244  216.127660
2023-10-09  406.765870  217.105764
2023-10-10  406.516014  211.910493
2023-10-11  396.757872  219.206250
...                ...         ...
2024-07-24  513.060171  286.591960
2024-07-25  509.587946  286.869237
2024-07-26  508.216714  289.105314
2024-07-29  513.290793  287.226581
2024-07-30  510.969712  285.407800

[204 rows x 2 columns], sim=0): 0.0h 0.0m 0s 358ms
2023-11-13 20:54:30,614 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 20:54:30,650 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:54:30,652 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  425.258547  228.478587
1  426.536774  238.084632
2  427.771236  245.650293
3  434.554690  250.230056
4  428.814569  234.660700
2023-11-13 20:54:30,814 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  425.258547  228.478587
2023-10-06  426.536774  238.084632
2023-10-09  427.771236  245.650293
2023-10-10  434.554690  250.230056
2023-10-11  428.814569  234.660700
2023-11-13 20:54:30,853 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
...             ...      ...
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2

[63 rows x 2 columns]
2023-11-13 20:54:30,858 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-04  415.900000  230.200000
2023-10-05  425.258547  228.478587
2023-10-06  426.536774  238.084632
2023-10-09  427.771236  245.650293
2023-10-10  434.554690  250.230056
...                ...         ...
2024-07-24  505.449067  203.559556
2024-07-25  500.917480  204.220372
2024-07-26  508.661049  204.208986
2024-07-29  510.485815  205.895155
2024-07-30  512.823695  204.021442

[205 rows x 2 columns]
2023-11-13 20:54:31,057 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:54:31,057 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851c2790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  425.258547  228.478587
2023-10-06  426.536774  238.084632
2023-10-09  427.771236  245.650293
2023-10-10  434.554690  250.230056
2023-10-11  428.814569  234.660700
...                ...         ...
2024-07-24  505.449067  203.559556
2024-07-25  500.917480  204.220372
2024-07-26  508.661049  204.208986
2024-07-29  510.485815  205.895155
2024-07-30  512.823695  204.021442

[204 rows x 2 columns], sim=1): 0.0h 0.0m 0s 238ms
2023-11-13 20:54:31,059 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 20:54:31,089 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:54:31,091 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  414.018141  238.552902
1  412.027210  243.096884
2  370.914175  246.825910
3  376.667411  259.954384
4  389.171592  276.883846
2023-11-13 20:54:31,267 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  414.018141  238.552902
2023-10-06  412.027210  243.096884
2023-10-09  370.914175  246.825910
2023-10-10  376.667411  259.954384
2023-10-11  389.171592  276.883846
2023-11-13 20:54:31,304 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
...             ...      ...
2023-09-28    422.1    230.9
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2

[63 rows x 2 columns]
2023-11-13 20:54:31,309 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-04  415.900000  230.200000
2023-10-05  414.018141  238.552902
2023-10-06  412.027210  243.096884
2023-10-09  370.914175  246.825910
2023-10-10  376.667411  259.954384
...                ...         ...
2024-07-24  380.598243  254.740506
2024-07-25  380.508018  255.544284
2024-07-26  377.629693  255.440271
2024-07-29  377.338727  256.007490
2024-07-30  376.870436  256.630312

[205 rows x 2 columns]
2023-11-13 20:54:31,524 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:54:31,524 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851c2790>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  414.018141  238.552902
2023-10-06  412.027210  243.096884
2023-10-09  370.914175  246.825910
2023-10-10  376.667411  259.954384
2023-10-11  389.171592  276.883846
...                ...         ...
2024-07-24  380.598243  254.740506
2024-07-25  380.508018  255.544284
2024-07-26  377.629693  255.440271
2024-07-29  377.338727  256.007490
2024-07-30  376.870436  256.630312

[204 rows x 2 columns], sim=2): 0.0h 0.0m 0s 250ms
2023-11-13 20:54:31,524 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2851c2790>, n_sim=3): 0.0h 1.0m 33s 67ms
2023-11-13 20:54:31,524 - yq - INFO - Pricing the product on 2023-10-05 00:00:00
2023-11-13 20:54:31,524 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:54:31,538 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:54:32,371 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-11-13 20:54:32,372 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231005.csv
2023-11-13 20:54:32,379 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/lonn_call.csv
2023-11-13 20:54:32,382 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     390  43.250000  28.592716  0.0175
1  0.120702     395  39.149994  28.422277  0.0175
2  0.120702     400  35.199997  28.211863  0.0175
3  0.120702     410  27.949997  27.952816  0.0175
4  0.120702     420  21.649994  27.830254  0.0175
2023-11-13 20:54:32,384 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/sika_call.csv
2023-11-13 20:54:32,387 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     165  68.550003  47.843029  0.0175
1  0.120702     170  63.600006  45.406399  0.0175
2  0.120702     175  58.699997  43.945614  0.0175
3  0.120702     180  53.800003  41.966976  0.0175
4  0.120702     185  48.925003  40.003117  0.0175
2023-11-13 20:54:32,392 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     390  43.250000  0.0175
1  0.120702     395  39.149994  0.0175
2  0.120702     400  35.199997  0.0175
3  0.120702     410  27.949997  0.0175
4  0.120702     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.120702     165  68.550003  0.0175
1  0.120702     170  63.600006  0.0175
2  0.120702     175  58.699997  0.0175
3  0.120702     180  53.800003  0.0175
4  0.120702     185  48.925003  0.0175
2023-11-13 20:54:32,392 - yq - INFO - Calibrating LONZA on 2023-10-05 00:00:00.
2023-11-13 20:55:13,368 - yq - INFO - Calibrating SIKA on 2023-10-05 00:00:00.
2023-11-13 20:56:01,368 - yq - INFO - The S_0 for LONZA and SIKA are 419.9 and 230.5
2023-11-13 20:56:01,369 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 20:56:01,380 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231005.csv
2023-11-13 20:56:01,380 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.10863232  0.09418363 -0.09929681  0.55255494  0.33552582]
 [ 9.8053268   0.01600315 -0.2107526   0.40924004  0.37268457]]
2023-11-13 20:56:01,381 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e5f4650>, Timestamp('2023-10-05 00:00:00')): 0.0h 1.0m 29s 10ms
2023-11-13 20:56:01,390 - yq - INFO - The log returns list for all assets is: [Date
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
                ...   
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
                ...   
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:56:01,393 - yq - INFO - rho_S1S2 is 0.3118443849215505

2023-11-13 20:56:01,393 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31184438]
 [0.31184438 1.        ]]

2023-11-13 20:56:01,393 - yq - INFO - Simplified correlation matrix is:
[[1.         0.55255494 0.31184438 0.        ]
 [0.55255494 1.         0.         0.        ]
 [0.31184438 0.         1.         0.40924004]
 [0.         0.         0.40924004 1.        ]]

2023-11-13 20:56:01,394 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.55255494  0.83347648  0.          0.        ]
 [ 0.31184438 -0.20673787  0.92736861  0.        ]
 [ 0.          0.          0.44129167  0.89736373]]

2023-11-13 20:56:01,394 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e5f4650>): 0.0h 0.0m 0s 13ms
2023-11-13 20:56:01,402 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 20:56:01,425 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:56:01,429 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  427.281429  228.533678
1  434.072186  227.965877
2  429.889791  219.321036
3  454.344304  220.296786
4  443.137369  222.331632
2023-11-13 20:56:01,543 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  427.281429  228.533678
2023-10-09  434.072186  227.965877
2023-10-10  429.889791  219.321036
2023-10-11  454.344304  220.296786
2023-10-12  443.137369  222.331632
2023-11-13 20:56:01,637 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
...             ...      ...
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5

[63 rows x 2 columns]
2023-11-13 20:56:01,640 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-05  419.900000  230.500000
2023-10-06  427.281429  228.533678
2023-10-09  434.072186  227.965877
2023-10-10  429.889791  219.321036
2023-10-11  454.344304  220.296786
...                ...         ...
2024-07-24  692.049669  277.041258
2024-07-25  693.943266  276.375055
2024-07-26  682.873133  275.464492
2024-07-29  702.383123  276.862345
2024-07-30  696.992863  275.171262

[204 rows x 2 columns]
2023-11-13 20:56:01,775 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:56:01,775 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5f4650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  427.281429  228.533678
2023-10-09  434.072186  227.965877
2023-10-10  429.889791  219.321036
2023-10-11  454.344304  220.296786
2023-10-12  443.137369  222.331632
...                ...         ...
2024-07-24  692.049669  277.041258
2024-07-25  693.943266  276.375055
2024-07-26  682.873133  275.464492
2024-07-29  702.383123  276.862345
2024-07-30  696.992863  275.171262

[203 rows x 2 columns], sim=0): 0.0h 0.0m 0s 229ms
2023-11-13 20:56:01,776 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 20:56:01,800 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:56:01,801 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  433.356679  227.113946
1  416.265700  215.322344
2  417.068655  210.168929
3  425.125016  214.138036
4  416.805510  216.111666
2023-11-13 20:56:01,928 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  433.356679  227.113946
2023-10-09  416.265700  215.322344
2023-10-10  417.068655  210.168929
2023-10-11  425.125016  214.138036
2023-10-12  416.805510  216.111666
2023-11-13 20:56:01,953 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
...             ...      ...
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5

[63 rows x 2 columns]
2023-11-13 20:56:01,957 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-05  419.900000  230.500000
2023-10-06  433.356679  227.113946
2023-10-09  416.265700  215.322344
2023-10-10  417.068655  210.168929
2023-10-11  425.125016  214.138036
...                ...         ...
2024-07-24  444.008895  198.387603
2024-07-25  439.830809  198.859285
2024-07-26  440.814116  200.320669
2024-07-29  445.733227  198.978393
2024-07-30  450.697249  200.748460

[204 rows x 2 columns]
2023-11-13 20:56:02,104 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:56:02,105 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5f4650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  433.356679  227.113946
2023-10-09  416.265700  215.322344
2023-10-10  417.068655  210.168929
2023-10-11  425.125016  214.138036
2023-10-12  416.805510  216.111666
...                ...         ...
2024-07-24  444.008895  198.387603
2024-07-25  439.830809  198.859285
2024-07-26  440.814116  200.320669
2024-07-29  445.733227  198.978393
2024-07-30  450.697249  200.748460

[203 rows x 2 columns], sim=1): 0.0h 0.0m 0s 173ms
2023-11-13 20:56:02,105 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 20:56:02,136 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:56:02,138 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  396.244382  239.311812
1  393.009343  241.586482
2  381.997303  226.899887
3  394.030954  228.080158
4  419.623724  221.658974
2023-11-13 20:56:02,289 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  396.244382  239.311812
2023-10-09  393.009343  241.586482
2023-10-10  381.997303  226.899887
2023-10-11  394.030954  228.080158
2023-10-12  419.623724  221.658974
2023-11-13 20:56:02,318 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
...             ...      ...
2023-09-29    425.6    233.1
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5

[63 rows x 2 columns]
2023-11-13 20:56:02,322 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-05  419.900000  230.500000
2023-10-06  396.244382  239.311812
2023-10-09  393.009343  241.586482
2023-10-10  381.997303  226.899887
2023-10-11  394.030954  228.080158
...                ...         ...
2024-07-24  334.820361  190.137347
2024-07-25  335.469686  190.915147
2024-07-26  331.424951  192.271486
2024-07-29  341.833209  193.884894
2024-07-30  347.742559  195.168407

[204 rows x 2 columns]
2023-11-13 20:56:02,490 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:56:02,490 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5f4650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  396.244382  239.311812
2023-10-09  393.009343  241.586482
2023-10-10  381.997303  226.899887
2023-10-11  394.030954  228.080158
2023-10-12  419.623724  221.658974
...                ...         ...
2024-07-24  334.820361  190.137347
2024-07-25  335.469686  190.915147
2024-07-26  331.424951  192.271486
2024-07-29  341.833209  193.884894
2024-07-30  347.742559  195.168407

[203 rows x 2 columns], sim=2): 0.0h 0.0m 0s 197ms
2023-11-13 20:56:02,490 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e5f4650>, n_sim=3): 0.0h 1.0m 30s 122ms
2023-11-13 20:56:02,491 - yq - INFO - Pricing the product on 2023-10-06 00:00:00
2023-11-13 20:56:02,491 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:56:02,508 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:56:02,798 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-11-13 20:56:02,798 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231006.csv
2023-11-13 20:56:02,803 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/lonn_call.csv
2023-11-13 20:56:02,805 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     390  43.250000  28.592716  0.0175
1  0.117895     395  39.149994  28.422277  0.0175
2  0.117895     400  35.199997  28.211863  0.0175
3  0.117895     410  27.949997  27.952816  0.0175
4  0.117895     420  21.649994  27.830254  0.0175
2023-11-13 20:56:02,806 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/sika_call.csv
2023-11-13 20:56:02,808 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     165  68.550003  47.843029  0.0175
1  0.117895     170  63.600006  45.406399  0.0175
2  0.117895     175  58.699997  43.945614  0.0175
3  0.117895     180  53.800003  41.966976  0.0175
4  0.117895     185  48.925003  40.003117  0.0175
2023-11-13 20:56:02,812 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     390  43.250000  0.0175
1  0.117895     395  39.149994  0.0175
2  0.117895     400  35.199997  0.0175
3  0.117895     410  27.949997  0.0175
4  0.117895     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.117895     165  68.550003  0.0175
1  0.117895     170  63.600006  0.0175
2  0.117895     175  58.699997  0.0175
3  0.117895     180  53.800003  0.0175
4  0.117895     185  48.925003  0.0175
2023-11-13 20:56:02,812 - yq - INFO - Calibrating LONZA on 2023-10-06 00:00:00.
2023-11-13 20:56:45,808 - yq - INFO - Calibrating SIKA on 2023-10-06 00:00:00.
2023-11-13 20:57:34,659 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 233.3
2023-11-13 20:57:34,660 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 31 seconds
2023-11-13 20:57:34,671 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231006.csv
2023-11-13 20:57:34,671 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.95858057  0.11744874 -0.10827435  0.52393406  0.29251447]
 [ 9.49283969  0.02590424 -0.23580145  0.41291188  0.38466946]]
2023-11-13 20:57:34,673 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, Timestamp('2023-10-06 00:00:00')): 0.0h 1.0m 31s 875ms
2023-11-13 20:57:34,688 - yq - INFO - The log returns list for all assets is: [Date
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
                ...   
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
                ...   
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:57:34,691 - yq - INFO - rho_S1S2 is 0.3235675287624876

2023-11-13 20:57:34,691 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32356753]
 [0.32356753 1.        ]]

2023-11-13 20:57:34,691 - yq - INFO - Simplified correlation matrix is:
[[1.         0.52393406 0.32356753 0.        ]
 [0.52393406 1.         0.         0.        ]
 [0.32356753 0.         1.         0.41291188]
 [0.         0.         0.41291188 1.        ]]

2023-11-13 20:57:34,692 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.52393406  0.85175883  0.          0.        ]
 [ 0.32356753 -0.19903292  0.92503511  0.        ]
 [ 0.          0.          0.44637428  0.89484636]]

2023-11-13 20:57:34,692 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>): 0.0h 0.0m 0s 19ms
2023-11-13 20:57:34,702 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 20:57:34,729 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:57:34,733 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.351330  260.912922
1  403.210826  260.386457
2  379.809951  255.655205
3  363.561682  244.369820
4  343.127126  244.716787
2023-11-13 20:57:34,891 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  420.351330  260.912922
2023-10-10  403.210826  260.386457
2023-10-11  379.809951  255.655205
2023-10-12  363.561682  244.369820
2023-10-13  343.127126  244.716787
2023-11-13 20:57:35,013 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
...             ...      ...
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3

[63 rows x 2 columns]
2023-11-13 20:57:35,017 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-06  429.000000  233.300000
2023-10-09  420.351330  260.912922
2023-10-10  403.210826  260.386457
2023-10-11  379.809951  255.655205
2023-10-12  363.561682  244.369820
...                ...         ...
2024-07-24  334.947727  187.070615
2024-07-25  344.411754  189.773770
2024-07-26  341.905276  189.682234
2024-07-29  343.678798  189.556286
2024-07-30  348.139544  187.490237

[203 rows x 2 columns]
2023-11-13 20:57:35,188 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:57:35,188 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  420.351330  260.912922
2023-10-10  403.210826  260.386457
2023-10-11  379.809951  255.655205
2023-10-12  363.561682  244.369820
2023-10-13  343.127126  244.716787
...                ...         ...
2024-07-24  334.947727  187.070615
2024-07-25  344.411754  189.773770
2024-07-26  341.905276  189.682234
2024-07-29  343.678798  189.556286
2024-07-30  348.139544  187.490237

[202 rows x 2 columns], sim=0): 0.0h 0.0m 0s 289ms
2023-11-13 20:57:35,189 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 20:57:35,218 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:57:35,220 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  413.859708  244.830993
1  425.200394  248.879549
2  426.501749  260.063998
3  436.720011  275.334429
4  447.960083  285.232836
2023-11-13 20:57:35,369 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  413.859708  244.830993
2023-10-10  425.200394  248.879549
2023-10-11  426.501749  260.063998
2023-10-12  436.720011  275.334429
2023-10-13  447.960083  285.232836
2023-11-13 20:57:35,400 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
...             ...      ...
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3

[63 rows x 2 columns]
2023-11-13 20:57:35,404 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-06  429.000000  233.300000
2023-10-09  413.859708  244.830993
2023-10-10  425.200394  248.879549
2023-10-11  426.501749  260.063998
2023-10-12  436.720011  275.334429
...                ...         ...
2024-07-24  608.784755  327.214897
2024-07-25  603.373578  325.366287
2024-07-26  620.325089  324.207914
2024-07-29  624.710322  322.164527
2024-07-30  611.590398  323.683112

[203 rows x 2 columns]
2023-11-13 20:57:35,587 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:57:35,587 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  413.859708  244.830993
2023-10-10  425.200394  248.879549
2023-10-11  426.501749  260.063998
2023-10-12  436.720011  275.334429
2023-10-13  447.960083  285.232836
...                ...         ...
2024-07-24  608.784755  327.214897
2024-07-25  603.373578  325.366287
2024-07-26  620.325089  324.207914
2024-07-29  624.710322  322.164527
2024-07-30  611.590398  323.683112

[202 rows x 2 columns], sim=1): 0.0h 0.0m 0s 213ms
2023-11-13 20:57:35,588 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 20:57:35,616 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 20:57:35,618 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  458.733082  238.498057
1  490.171694  254.543051
2  481.107518  259.970800
3  487.892758  257.363703
4  488.758865  248.419749
2023-11-13 20:57:35,768 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  458.733082  238.498057
2023-10-10  490.171694  254.543051
2023-10-11  481.107518  259.970800
2023-10-12  487.892758  257.363703
2023-10-13  488.758865  248.419749
2023-11-13 20:57:35,871 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
...             ...      ...
2023-10-02    420.5    230.0
2023-10-03    415.3    228.8
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3

[63 rows x 2 columns]
2023-11-13 20:57:35,876 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-06  429.000000  233.300000
2023-10-09  458.733082  238.498057
2023-10-10  490.171694  254.543051
2023-10-11  481.107518  259.970800
2023-10-12  487.892758  257.363703
...                ...         ...
2024-07-24  703.566440  162.207226
2024-07-25  697.613783  163.652708
2024-07-26  685.456648  161.513608
2024-07-29  678.447043  161.435151
2024-07-30  690.167847  162.712339

[203 rows x 2 columns]
2023-11-13 20:57:36,052 - yq - INFO - Path of 1 sim is plotted
2023-11-13 20:57:36,052 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  458.733082  238.498057
2023-10-10  490.171694  254.543051
2023-10-11  481.107518  259.970800
2023-10-12  487.892758  257.363703
2023-10-13  488.758865  248.419749
...                ...         ...
2024-07-24  703.566440  162.207226
2024-07-25  697.613783  163.652708
2024-07-26  685.456648  161.513608
2024-07-29  678.447043  161.435151
2024-07-30  690.167847  162.712339

[202 rows x 2 columns], sim=2): 0.0h 0.0m 0s 279ms
2023-11-13 20:57:36,053 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, n_sim=3): 0.0h 1.0m 33s 257ms
2023-11-13 20:57:36,053 - yq - INFO - Pricing the product on 2023-10-09 00:00:00
2023-11-13 20:57:36,054 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:57:36,069 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:57:36,424 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-11-13 20:57:36,426 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231009.csv
2023-11-13 20:57:36,433 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/lonn_call.csv
2023-11-13 20:57:36,437 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     390  44.149994  31.775606  0.0175
1  0.109474     395  39.949997  31.077160  0.0175
2  0.109474     400  35.799995  30.202269  0.0175
3  0.109474     410  28.299995  29.217251  0.0175
4  0.109474     420  21.649994  28.378525  0.0175
2023-11-13 20:57:36,438 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/sika_call.csv
2023-11-13 20:57:36,441 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     165  68.550003  47.843029  0.0175
1  0.109474     170  63.600006  45.406399  0.0175
2  0.109474     175  58.699997  43.945614  0.0175
3  0.109474     180  53.800003  41.966976  0.0175
4  0.109474     185  48.925003  40.003117  0.0175
2023-11-13 20:57:36,447 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     390  44.149994  0.0175
1  0.109474     395  39.949997  0.0175
2  0.109474     400  35.799995  0.0175
3  0.109474     410  28.299995  0.0175
4  0.109474     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.109474     165  68.550003  0.0175
1  0.109474     170  63.600006  0.0175
2  0.109474     175  58.699997  0.0175
3  0.109474     180  53.800003  0.0175
4  0.109474     185  48.925003  0.0175
2023-11-13 20:57:36,447 - yq - INFO - Calibrating LONZA on 2023-10-09 00:00:00.
2023-11-13 20:58:21,872 - yq - INFO - Calibrating SIKA on 2023-10-09 00:00:00.
2023-11-13 20:59:06,489 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 228.5
2023-11-13 20:59:06,489 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 30 seconds
2023-11-13 20:59:06,503 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231009.csv
2023-11-13 20:59:06,503 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.88015235  0.01190302 -0.04022873  1.49826881  0.14964161]
 [ 9.73298084  0.02943854 -0.16923549  0.51025067  0.26245003]]
2023-11-13 20:59:06,505 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x12bfdea50>, Timestamp('2023-10-09 00:00:00')): 0.0h 1.0m 30s 80ms
2023-11-13 20:59:06,513 - yq - INFO - The log returns list for all assets is: [Date
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
                ...   
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
                ...   
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 20:59:06,519 - yq - INFO - rho_S1S2 is 0.31656461932210594

2023-11-13 20:59:06,519 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31656462]
 [0.31656462 1.        ]]

2023-11-13 20:59:06,519 - yq - INFO - Simplified correlation matrix is:
[[1.         1.49826881 0.31656462 0.        ]
 [1.49826881 1.         0.         0.        ]
 [0.31656462 0.         1.         0.51025067]
 [0.         0.         0.51025067 1.        ]]

2023-11-13 20:59:06,520 - yq - ERROR - Error during simulation on 2023-10-09 00:00:00: Matrix is not positive definite
2023-11-13 20:59:06,520 - yq - INFO - Pricing the product on 2023-10-10 00:00:00
2023-11-13 20:59:06,520 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 20:59:06,541 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 20:59:06,823 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-11-13 20:59:06,824 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231010.csv
2023-11-13 20:59:06,828 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/lonn_call.csv
2023-11-13 20:59:06,830 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     390  48.649994  32.976944  0.0175
1  0.106667     395  44.250000  32.010677  0.0175
2  0.106667     400  40.000000  31.187216  0.0175
3  0.106667     410  32.049988  29.919235  0.0175
4  0.106667     420  24.349998  27.869890  0.0175
2023-11-13 20:59:06,831 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/sika_call.csv
2023-11-13 20:59:06,833 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     165  70.900009  50.166050  0.0175
1  0.106667     170  65.925003  46.992657  0.0175
2  0.106667     175  60.974998  44.536556  0.0175
3  0.106667     180  56.100006  43.552261  0.0175
4  0.106667     185  51.150002  40.538616  0.0175
2023-11-13 20:59:06,838 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     390  48.649994  0.0175
1  0.106667     395  44.250000  0.0175
2  0.106667     400  40.000000  0.0175
3  0.106667     410  32.049988  0.0175
4  0.106667     420  24.349998  0.0175
   maturity  strike      price    rate
0  0.106667     165  70.900009  0.0175
1  0.106667     170  65.925003  0.0175
2  0.106667     175  60.974998  0.0175
3  0.106667     180  56.100006  0.0175
4  0.106667     185  51.150002  0.0175
2023-11-13 20:59:06,838 - yq - INFO - Calibrating LONZA on 2023-10-10 00:00:00.
2023-11-13 20:59:51,532 - yq - INFO - Calibrating SIKA on 2023-10-10 00:00:00.
2023-11-13 21:00:35,294 - yq - INFO - The S_0 for LONZA and SIKA are 434.1 and 235.1
2023-11-13 21:00:35,295 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 21:00:35,317 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231010.csv
2023-11-13 21:00:35,317 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.55275655  0.0104008  -0.10969699  0.57881072  0.38804215]
 [ 9.89779224  0.0593962  -0.23986231  0.39987342  0.40761499]]
2023-11-13 21:00:35,319 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f7bb90>, Timestamp('2023-10-10 00:00:00')): 0.0h 1.0m 28s 496ms
2023-11-13 21:00:35,327 - yq - INFO - The log returns list for all assets is: [Date
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
                ...   
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
                ...   
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:00:35,329 - yq - INFO - rho_S1S2 is 0.329649797605491

2023-11-13 21:00:35,329 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3296498]
 [0.3296498 1.       ]]

2023-11-13 21:00:35,329 - yq - INFO - Simplified correlation matrix is:
[[1.         0.57881072 0.3296498  0.        ]
 [0.57881072 1.         0.         0.        ]
 [0.3296498  0.         1.         0.39987342]
 [0.         0.         0.39987342 1.        ]]

2023-11-13 21:00:35,330 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.57881072  0.81546193  0.          0.        ]
 [ 0.3296498  -0.23398375  0.9146489   0.        ]
 [ 0.          0.          0.43718788  0.8993702 ]]

2023-11-13 21:00:35,330 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f7bb90>): 0.0h 0.0m 0s 11ms
2023-11-13 21:00:35,337 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 21:00:35,356 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:00:35,359 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  448.446848  243.845600
1  467.481096  242.774801
2  475.377057  233.281359
3  520.649756  224.143410
4  525.158941  210.406208
2023-11-13 21:00:35,471 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  448.446848  243.845600
2023-10-12  467.481096  242.774801
2023-10-13  475.377057  233.281359
2023-10-16  520.649756  224.143410
2023-10-17  525.158941  210.406208
2023-11-13 21:00:35,588 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
...             ...      ...
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1

[63 rows x 2 columns]
2023-11-13 21:00:35,593 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-10  434.100000  235.100000
2023-10-11  448.446848  243.845600
2023-10-12  467.481096  242.774801
2023-10-13  475.377057  233.281359
2023-10-16  520.649756  224.143410
...                ...         ...
2024-07-24  491.008049  180.017640
2024-07-25  492.401929  178.227928
2024-07-26  487.586787  175.188205
2024-07-29  488.258407  177.802414
2024-07-30  492.757286  181.373816

[201 rows x 2 columns]
2023-11-13 21:00:35,742 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:00:35,742 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7bb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  448.446848  243.845600
2023-10-12  467.481096  242.774801
2023-10-13  475.377057  233.281359
2023-10-16  520.649756  224.143410
2023-10-17  525.158941  210.406208
...                ...         ...
2024-07-24  491.008049  180.017640
2024-07-25  492.401929  178.227928
2024-07-26  487.586787  175.188205
2024-07-29  488.258407  177.802414
2024-07-30  492.757286  181.373816

[200 rows x 2 columns], sim=0): 0.0h 0.0m 0s 268ms
2023-11-13 21:00:35,743 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 21:00:35,768 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:00:35,770 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  439.063565  236.431338
1  432.504901  225.175876
2  436.752020  226.241346
3  450.221164  226.168090
4  448.791577  218.207306
2023-11-13 21:00:35,910 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  439.063565  236.431338
2023-10-12  432.504901  225.175876
2023-10-13  436.752020  226.241346
2023-10-16  450.221164  226.168090
2023-10-17  448.791577  218.207306
2023-11-13 21:00:35,946 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
...             ...      ...
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1

[63 rows x 2 columns]
2023-11-13 21:00:35,951 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-10  434.100000  235.100000
2023-10-11  439.063565  236.431338
2023-10-12  432.504901  225.175876
2023-10-13  436.752020  226.241346
2023-10-16  450.221164  226.168090
...                ...         ...
2024-07-24  403.893347  149.638529
2024-07-25  401.218435  148.306465
2024-07-26  401.664998  148.861862
2024-07-29  403.555159  147.934460
2024-07-30  404.125143  151.292605

[201 rows x 2 columns]
2023-11-13 21:00:36,122 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:00:36,122 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7bb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  439.063565  236.431338
2023-10-12  432.504901  225.175876
2023-10-13  436.752020  226.241346
2023-10-16  450.221164  226.168090
2023-10-17  448.791577  218.207306
...                ...         ...
2024-07-24  403.893347  149.638529
2024-07-25  401.218435  148.306465
2024-07-26  401.664998  148.861862
2024-07-29  403.555159  147.934460
2024-07-30  404.125143  151.292605

[200 rows x 2 columns], sim=1): 0.0h 0.0m 0s 208ms
2023-11-13 21:00:36,123 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 21:00:36,154 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:00:36,156 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  417.650550  230.814898
1  417.656429  233.571522
2  401.683727  234.828974
3  412.211086  244.727540
4  423.720844  240.983740
2023-11-13 21:00:36,309 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  417.650550  230.814898
2023-10-12  417.656429  233.571522
2023-10-13  401.683727  234.828974
2023-10-16  412.211086  244.727540
2023-10-17  423.720844  240.983740
2023-11-13 21:00:36,358 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
...             ...      ...
2023-10-04    415.9    230.2
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1

[63 rows x 2 columns]
2023-11-13 21:00:36,365 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-10  434.100000  235.100000
2023-10-11  417.650550  230.814898
2023-10-12  417.656429  233.571522
2023-10-13  401.683727  234.828974
2023-10-16  412.211086  244.727540
...                ...         ...
2024-07-24  283.985222  216.570031
2024-07-25  287.502738  224.773180
2024-07-26  287.460846  223.165351
2024-07-29  287.765274  217.717562
2024-07-30  286.511496  219.658116

[201 rows x 2 columns]
2023-11-13 21:00:36,563 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:00:36,564 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f7bb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  417.650550  230.814898
2023-10-12  417.656429  233.571522
2023-10-13  401.683727  234.828974
2023-10-16  412.211086  244.727540
2023-10-17  423.720844  240.983740
...                ...         ...
2024-07-24  283.985222  216.570031
2024-07-25  287.502738  224.773180
2024-07-26  287.460846  223.165351
2024-07-29  287.765274  217.717562
2024-07-30  286.511496  219.658116

[200 rows x 2 columns], sim=2): 0.0h 0.0m 0s 248ms
2023-11-13 21:00:36,564 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f7bb90>, n_sim=3): 0.0h 1.0m 29s 743ms
2023-11-13 21:00:36,564 - yq - INFO - Pricing the product on 2023-10-11 00:00:00
2023-11-13 21:00:36,564 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:00:36,577 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:00:36,938 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-11-13 21:00:36,939 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231011.csv
2023-11-13 21:00:36,942 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/lonn_call.csv
2023-11-13 21:00:36,945 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     390  45.899994  30.097866  0.0175
1   0.10386     395  41.549988  29.467657  0.0175
2   0.10386     400  37.349991  28.915565  0.0175
3   0.10386     410  29.499992  28.007881  0.0175
4   0.10386     420  22.549995  27.343821  0.0175
2023-11-13 21:00:36,947 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/sika_call.csv
2023-11-13 21:00:36,950 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     165  70.500008  51.139153  0.0175
1   0.10386     170  65.575005  49.437122  0.0175
2   0.10386     175  60.675003  47.853046  0.0175
3   0.10386     180  55.700005  44.278473  0.0175
4   0.10386     185  50.825005  42.488571  0.0175
2023-11-13 21:00:36,955 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     390  45.899994  0.0175
1   0.10386     395  41.549988  0.0175
2   0.10386     400  37.349991  0.0175
3   0.10386     410  29.499992  0.0175
4   0.10386     420  22.549995  0.0175
   maturity  strike      price    rate
0   0.10386     165  70.500008  0.0175
1   0.10386     170  65.575005  0.0175
2   0.10386     175  60.675003  0.0175
3   0.10386     180  55.700005  0.0175
4   0.10386     185  50.825005  0.0175
2023-11-13 21:00:36,955 - yq - INFO - Calibrating LONZA on 2023-10-11 00:00:00.
2023-11-13 21:01:16,514 - yq - INFO - Calibrating SIKA on 2023-10-11 00:00:00.
2023-11-13 21:02:06,644 - yq - INFO - The S_0 for LONZA and SIKA are 432.2 and 234.6
2023-11-13 21:02:06,648 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 29 seconds
2023-11-13 21:02:06,669 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231011.csv
2023-11-13 21:02:06,670 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.23635332  0.01502493 -0.08535598  0.60407615  0.40250908]
 [ 8.87183198  0.08769499 -0.18282681  0.47521515  0.46683781]]
2023-11-13 21:02:06,673 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2851b4250>, Timestamp('2023-10-11 00:00:00')): 0.0h 1.0m 29s 734ms
2023-11-13 21:02:06,685 - yq - INFO - The log returns list for all assets is: [Date
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
                ...   
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
                ...   
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:02:06,687 - yq - INFO - rho_S1S2 is 0.3169791225970056

2023-11-13 21:02:06,687 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31697912]
 [0.31697912 1.        ]]

2023-11-13 21:02:06,688 - yq - INFO - Simplified correlation matrix is:
[[1.         0.60407615 0.31697912 0.        ]
 [0.60407615 1.         0.         0.        ]
 [0.31697912 0.         1.         0.47521515]
 [0.         0.         0.47521515 1.        ]]

2023-11-13 21:02:06,689 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.60407615  0.7969266   0.          0.        ]
 [ 0.31697912 -0.24027248  0.91749298  0.        ]
 [ 0.          0.          0.51794963  0.85541112]]

2023-11-13 21:02:06,689 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2851b4250>): 0.0h 0.0m 0s 16ms
2023-11-13 21:02:06,702 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 21:02:06,733 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:02:06,737 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  410.598145  221.721916
1  418.421911  224.806898
2  408.008614  217.049866
3  426.276783  227.559159
4  441.834299  224.910791
2023-11-13 21:02:06,911 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  410.598145  221.721916
2023-10-13  418.421911  224.806898
2023-10-16  408.008614  217.049866
2023-10-17  426.276783  227.559159
2023-10-18  441.834299  224.910791
2023-11-13 21:02:07,020 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
...             ...      ...
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6

[63 rows x 2 columns]
2023-11-13 21:02:07,025 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-11  432.200000  234.600000
2023-10-12  410.598145  221.721916
2023-10-13  418.421911  224.806898
2023-10-16  408.008614  217.049866
2023-10-17  426.276783  227.559159
...                ...         ...
2024-07-24  370.254211  306.347133
2024-07-25  365.863602  298.103485
2024-07-26  368.961842  307.662607
2024-07-29  364.859420  306.635329
2024-07-30  361.821342  306.652905

[200 rows x 2 columns]
2023-11-13 21:02:07,242 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:02:07,242 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851b4250>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  410.598145  221.721916
2023-10-13  418.421911  224.806898
2023-10-16  408.008614  217.049866
2023-10-17  426.276783  227.559159
2023-10-18  441.834299  224.910791
...                ...         ...
2024-07-24  370.254211  306.347133
2024-07-25  365.863602  298.103485
2024-07-26  368.961842  307.662607
2024-07-29  364.859420  306.635329
2024-07-30  361.821342  306.652905

[199 rows x 2 columns], sim=0): 0.0h 0.0m 0s 326ms
2023-11-13 21:02:07,243 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 21:02:07,276 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:02:07,279 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  440.626029  209.211151
1  427.018707  229.758400
2  409.458284  217.357161
3  413.846623  224.227429
4  388.908469  219.782493
2023-11-13 21:02:07,461 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  440.626029  209.211151
2023-10-13  427.018707  229.758400
2023-10-16  409.458284  217.357161
2023-10-17  413.846623  224.227429
2023-10-18  388.908469  219.782493
2023-11-13 21:02:07,496 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
...             ...      ...
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6

[63 rows x 2 columns]
2023-11-13 21:02:07,501 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-11  432.200000  234.600000
2023-10-12  440.626029  209.211151
2023-10-13  427.018707  229.758400
2023-10-16  409.458284  217.357161
2023-10-17  413.846623  224.227429
...                ...         ...
2024-07-24  290.813022  177.584448
2024-07-25  297.017786  180.007637
2024-07-26  298.251874  181.277981
2024-07-29  300.204413  180.581384
2024-07-30  301.741138  183.185899

[200 rows x 2 columns]
2023-11-13 21:02:07,696 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:02:07,696 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851b4250>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  440.626029  209.211151
2023-10-13  427.018707  229.758400
2023-10-16  409.458284  217.357161
2023-10-17  413.846623  224.227429
2023-10-18  388.908469  219.782493
...                ...         ...
2024-07-24  290.813022  177.584448
2024-07-25  297.017786  180.007637
2024-07-26  298.251874  181.277981
2024-07-29  300.204413  180.581384
2024-07-30  301.741138  183.185899

[199 rows x 2 columns], sim=1): 0.0h 0.0m 0s 230ms
2023-11-13 21:02:07,697 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 21:02:07,741 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:02:07,743 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  426.649698  217.461918
1  458.193818  214.429114
2  470.693839  221.505022
3  475.086370  221.264283
4  473.307268  213.260871
2023-11-13 21:02:07,927 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  426.649698  217.461918
2023-10-13  458.193818  214.429114
2023-10-16  470.693839  221.505022
2023-10-17  475.086370  221.264283
2023-10-18  473.307268  213.260871
2023-11-13 21:02:07,961 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
...             ...      ...
2023-10-05    419.9    230.5
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6

[63 rows x 2 columns]
2023-11-13 21:02:07,965 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-11  432.200000  234.600000
2023-10-12  426.649698  217.461918
2023-10-13  458.193818  214.429114
2023-10-16  470.693839  221.505022
2023-10-17  475.086370  221.264283
...                ...         ...
2024-07-24  320.608638  199.856983
2024-07-25  314.670997  199.519772
2024-07-26  320.519599  200.980207
2024-07-29  323.865793  205.077978
2024-07-30  330.025722  206.699161

[200 rows x 2 columns]
2023-11-13 21:02:08,158 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:02:08,158 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2851b4250>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  426.649698  217.461918
2023-10-13  458.193818  214.429114
2023-10-16  470.693839  221.505022
2023-10-17  475.086370  221.264283
2023-10-18  473.307268  213.260871
...                ...         ...
2024-07-24  320.608638  199.856983
2024-07-25  314.670997  199.519772
2024-07-26  320.519599  200.980207
2024-07-29  323.865793  205.077978
2024-07-30  330.025722  206.699161

[199 rows x 2 columns], sim=2): 0.0h 0.0m 0s 226ms
2023-11-13 21:02:08,158 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2851b4250>, n_sim=3): 0.0h 1.0m 31s 224ms
2023-11-13 21:02:08,158 - yq - INFO - Pricing the product on 2023-10-12 00:00:00
2023-11-13 21:02:08,158 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:02:08,178 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:02:08,565 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-11-13 21:02:08,566 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231012.csv
2023-11-13 21:02:08,571 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/lonn_call.csv
2023-11-13 21:02:08,574 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     390  45.700001  31.750900  0.0175
1  0.101053     395  41.299999  30.809237  0.0175
2  0.101053     400  37.099998  30.118776  0.0175
3  0.101053     410  29.200001  28.882235  0.0175
4  0.101053     420  22.299999  28.154430  0.0175
2023-11-13 21:02:08,576 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/sika_call.csv
2023-11-13 21:02:08,579 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     165  70.150002  50.219540  0.0175
1  0.101053     170  65.199997  48.034592  0.0175
2  0.101053     175  60.250000  45.546146  0.0175
3  0.101053     180  55.324989  43.450645  0.0175
4  0.101053     185  50.399994  40.996925  0.0175
2023-11-13 21:02:08,585 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     390  45.700001  0.0175
1  0.101053     395  41.299999  0.0175
2  0.101053     400  37.099998  0.0175
3  0.101053     410  29.200001  0.0175
4  0.101053     420  22.299999  0.0175
   maturity  strike      price    rate
0  0.101053     165  70.150002  0.0175
1  0.101053     170  65.199997  0.0175
2  0.101053     175  60.250000  0.0175
3  0.101053     180  55.324989  0.0175
4  0.101053     185  50.399994  0.0175
2023-11-13 21:02:08,585 - yq - INFO - Calibrating LONZA on 2023-10-12 00:00:00.
2023-11-13 21:02:59,995 - yq - INFO - Calibrating SIKA on 2023-10-12 00:00:00.
2023-11-13 21:03:50,795 - yq - INFO - The S_0 for LONZA and SIKA are 431.6 and 234.9
2023-11-13 21:03:50,796 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 42 seconds
2023-11-13 21:03:50,810 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231012.csv
2023-11-13 21:03:50,810 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.51692427  0.02223446 -0.07645463  0.63548056  0.40616686]
 [ 9.93083296  0.01110525 -0.26414128  0.39549436  0.44029134]]
2023-11-13 21:03:50,813 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284c48650>, Timestamp('2023-10-12 00:00:00')): 0.0h 1.0m 42s 247ms
2023-11-13 21:03:50,827 - yq - INFO - The log returns list for all assets is: [Date
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
                ...   
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
                ...   
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:03:50,830 - yq - INFO - rho_S1S2 is 0.31851779552852644

2023-11-13 21:03:50,830 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3185178]
 [0.3185178 1.       ]]

2023-11-13 21:03:50,830 - yq - INFO - Simplified correlation matrix is:
[[1.         0.63548056 0.3185178  0.        ]
 [0.63548056 1.         0.         0.        ]
 [0.3185178  0.         1.         0.39549436]
 [0.         0.         0.39549436 1.        ]]

2023-11-13 21:03:50,831 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.63548056  0.77211687  0.          0.        ]
 [ 0.3185178  -0.26215185  0.91094611  0.        ]
 [ 0.          0.          0.4341578   0.90083684]]

2023-11-13 21:03:50,831 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284c48650>): 0.0h 0.0m 0s 18ms
2023-11-13 21:03:50,845 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 21:03:50,874 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:03:50,883 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  413.643503  241.716558
1  407.514143  236.951968
2  411.191747  231.470111
3  421.662840  225.642842
4  423.929628  212.550996
2023-11-13 21:03:51,046 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  413.643503  241.716558
2023-10-16  407.514143  236.951968
2023-10-17  411.191747  231.470111
2023-10-18  421.662840  225.642842
2023-10-19  423.929628  212.550996
2023-11-13 21:03:51,158 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
...             ...      ...
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9

[63 rows x 2 columns]
2023-11-13 21:03:51,164 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-12  431.600000  234.900000
2023-10-13  413.643503  241.716558
2023-10-16  407.514143  236.951968
2023-10-17  411.191747  231.470111
2023-10-18  421.662840  225.642842
...                ...         ...
2024-07-24  264.338321  296.476590
2024-07-25  263.145582  296.200407
2024-07-26  266.034498  295.468991
2024-07-29  270.248418  296.802849
2024-07-30  282.047462  297.447474

[199 rows x 2 columns]
2023-11-13 21:03:51,385 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:03:51,386 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c48650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  413.643503  241.716558
2023-10-16  407.514143  236.951968
2023-10-17  411.191747  231.470111
2023-10-18  421.662840  225.642842
2023-10-19  423.929628  212.550996
...                ...         ...
2024-07-24  264.338321  296.476590
2024-07-25  263.145582  296.200407
2024-07-26  266.034498  295.468991
2024-07-29  270.248418  296.802849
2024-07-30  282.047462  297.447474

[198 rows x 2 columns], sim=0): 0.0h 0.0m 0s 335ms
2023-11-13 21:03:51,386 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 21:03:51,416 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:03:51,418 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  413.719435  239.142566
1  399.618612  235.970380
2  417.290486  255.244870
3  419.843204  243.201613
4  414.707177  243.939166
2023-11-13 21:03:51,579 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  413.719435  239.142566
2023-10-16  399.618612  235.970380
2023-10-17  417.290486  255.244870
2023-10-18  419.843204  243.201613
2023-10-19  414.707177  243.939166
2023-11-13 21:03:51,620 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
...             ...      ...
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9

[63 rows x 2 columns]
2023-11-13 21:03:51,626 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-12  431.600000  234.900000
2023-10-13  413.719435  239.142566
2023-10-16  399.618612  235.970380
2023-10-17  417.290486  255.244870
2023-10-18  419.843204  243.201613
...                ...         ...
2024-07-24  522.659336  326.649954
2024-07-25  539.429592  328.528137
2024-07-26  547.620329  328.642630
2024-07-29  542.225603  326.809766
2024-07-30  541.779972  329.426677

[199 rows x 2 columns]
2023-11-13 21:03:51,847 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:03:51,848 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c48650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  413.719435  239.142566
2023-10-16  399.618612  235.970380
2023-10-17  417.290486  255.244870
2023-10-18  419.843204  243.201613
2023-10-19  414.707177  243.939166
...                ...         ...
2024-07-24  522.659336  326.649954
2024-07-25  539.429592  328.528137
2024-07-26  547.620329  328.642630
2024-07-29  542.225603  326.809766
2024-07-30  541.779972  329.426677

[198 rows x 2 columns], sim=1): 0.0h 0.0m 0s 264ms
2023-11-13 21:03:51,849 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 21:03:51,882 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:03:51,884 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  404.751952  224.861434
1  399.828980  220.105992
2  401.464407  231.009474
3  404.006252  224.304257
4  436.380768  225.660679
2023-11-13 21:03:52,073 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  404.751952  224.861434
2023-10-16  399.828980  220.105992
2023-10-17  401.464407  231.009474
2023-10-18  404.006252  224.304257
2023-10-19  436.380768  225.660679
2023-11-13 21:03:52,141 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
...             ...      ...
2023-10-06    429.0    233.3
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9

[63 rows x 2 columns]
2023-11-13 21:03:52,148 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-12  431.600000  234.900000
2023-10-13  404.751952  224.861434
2023-10-16  399.828980  220.105992
2023-10-17  401.464407  231.009474
2023-10-18  404.006252  224.304257
...                ...         ...
2024-07-24  396.930740  306.152147
2024-07-25  400.462171  304.746485
2024-07-26  411.979491  305.033959
2024-07-29  415.750935  306.793532
2024-07-30  428.855873  308.797799

[199 rows x 2 columns]
2023-11-13 21:03:53,022 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:03:53,023 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c48650>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  404.751952  224.861434
2023-10-16  399.828980  220.105992
2023-10-17  401.464407  231.009474
2023-10-18  404.006252  224.304257
2023-10-19  436.380768  225.660679
...                ...         ...
2024-07-24  396.930740  306.152147
2024-07-25  400.462171  304.746485
2024-07-26  411.979491  305.033959
2024-07-29  415.750935  306.793532
2024-07-30  428.855873  308.797799

[198 rows x 2 columns], sim=2): 0.0h 0.0m 0s 937ms
2023-11-13 21:03:53,023 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284c48650>, n_sim=3): 0.0h 1.0m 44s 461ms
2023-11-13 21:03:53,024 - yq - INFO - Pricing the product on 2023-10-13 00:00:00
2023-11-13 21:03:53,024 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:03:53,038 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:03:53,470 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-11-13 21:03:53,471 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231013.csv
2023-11-13 21:03:53,478 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/lonn_call.csv
2023-11-13 21:03:53,482 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     380  45.500000  29.856724  0.0175
1  0.176842     385  41.500000  29.342726  0.0175
2  0.176842     390  37.599991  28.775595  0.0175
3  0.176842     395  33.949997  28.392563  0.0175
4  0.176842     400  30.474998  28.026896  0.0175
2023-11-13 21:03:53,485 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/sika_call.csv
2023-11-13 21:03:53,488 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     195  43.025002  35.105164  0.0175
1  0.176842     200  38.374992  33.525452  0.0175
2  0.176842     210  29.399994  30.622183  0.0175
3  0.176842     220  21.324997  28.788097  0.0175
4  0.176842     230  14.375000  27.261559  0.0175
2023-11-13 21:03:53,495 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     380  45.500000  0.0175
1  0.176842     385  41.500000  0.0175
2  0.176842     390  37.599991  0.0175
3  0.176842     395  33.949997  0.0175
4  0.176842     400  30.474998  0.0175
   maturity  strike      price    rate
0  0.176842     195  43.025002  0.0175
1  0.176842     200  38.374992  0.0175
2  0.176842     210  29.399994  0.0175
3  0.176842     220  21.324997  0.0175
4  0.176842     230  14.375000  0.0175
2023-11-13 21:03:53,496 - yq - INFO - Calibrating LONZA on 2023-10-13 00:00:00.
2023-11-13 21:04:09,432 - yq - INFO - Calibrating SIKA on 2023-10-13 00:00:00.
2023-11-13 21:04:49,548 - yq - INFO - The S_0 for LONZA and SIKA are 418.1 and 235.6
2023-11-13 21:04:49,561 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 56 seconds
2023-11-13 21:04:49,590 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231013.csv
2023-11-13 21:04:49,591 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999978e+00  1.04242010e-01 -2.88191027e-10  1.10602750e-01
   1.29726841e-02]
 [ 1.00000000e+01  1.04038029e-01 -8.13312551e-07  1.40036362e-01
   1.38270889e-02]]
2023-11-13 21:04:49,593 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285175ad0>, Timestamp('2023-10-13 00:00:00')): 0.0h 0.0m 56s 122ms
2023-11-13 21:04:49,603 - yq - INFO - The log returns list for all assets is: [Date
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
                ...   
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
                ...   
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:04:49,605 - yq - INFO - rho_S1S2 is 0.30846875512601135

2023-11-13 21:04:49,605 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30846876]
 [0.30846876 1.        ]]

2023-11-13 21:04:49,606 - yq - INFO - Simplified correlation matrix is:
[[1.         0.11060275 0.30846876 0.        ]
 [0.11060275 1.         0.         0.        ]
 [0.30846876 0.         1.         0.14003636]
 [0.         0.         0.14003636 1.        ]]

2023-11-13 21:04:49,607 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.11060275  0.99386469  0.          0.        ]
 [ 0.30846876 -0.03432811  0.95061486  0.        ]
 [ 0.          0.          0.14731135  0.98909017]]

2023-11-13 21:04:49,607 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285175ad0>): 0.0h 0.0m 0s 14ms
2023-11-13 21:04:49,619 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 21:04:49,643 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:04:49,645 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.471795  236.013795
1  417.519072  234.193512
2  413.598471  233.856310
3  409.807810  234.336115
4  414.851124  231.667880
2023-11-13 21:04:49,783 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  420.471795  236.013795
2023-10-17  417.519072  234.193512
2023-10-18  413.598471  233.856310
2023-10-19  409.807810  234.336115
2023-10-20  414.851124  231.667880
2023-11-13 21:04:49,915 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
...             ...      ...
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6

[63 rows x 2 columns]
2023-11-13 21:04:49,920 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-13  418.100000  235.600000
2023-10-16  420.471795  236.013795
2023-10-17  417.519072  234.193512
2023-10-18  413.598471  233.856310
2023-10-19  409.807810  234.336115
...                ...         ...
2024-07-24  350.940585  172.990322
2024-07-25  347.309116  169.486444
2024-07-26  345.827789  168.372199
2024-07-29  349.833002  169.476591
2024-07-30  355.265635  171.057587

[198 rows x 2 columns]
2023-11-13 21:04:50,077 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:04:50,077 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285175ad0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  420.471795  236.013795
2023-10-17  417.519072  234.193512
2023-10-18  413.598471  233.856310
2023-10-19  409.807810  234.336115
2023-10-20  414.851124  231.667880
...                ...         ...
2024-07-24  350.940585  172.990322
2024-07-25  347.309116  169.486444
2024-07-26  345.827789  168.372199
2024-07-29  349.833002  169.476591
2024-07-30  355.265635  171.057587

[197 rows x 2 columns], sim=0): 0.0h 0.0m 0s 289ms
2023-11-13 21:04:50,077 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 21:04:50,103 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:04:50,105 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.621299  236.770958
1  417.074035  237.511245
2  412.166456  236.166443
3  411.617907  234.632265
4  418.114849  237.830149
2023-11-13 21:04:50,253 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  420.621299  236.770958
2023-10-17  417.074035  237.511245
2023-10-18  412.166456  236.166443
2023-10-19  411.617907  234.632265
2023-10-20  418.114849  237.830149
2023-11-13 21:04:50,294 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
...             ...      ...
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6

[63 rows x 2 columns]
2023-11-13 21:04:50,299 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-13  418.100000  235.600000
2023-10-16  420.621299  236.770958
2023-10-17  417.074035  237.511245
2023-10-18  412.166456  236.166443
2023-10-19  411.617907  234.632265
...                ...         ...
2024-07-24  455.424618  341.229575
2024-07-25  452.053159  337.057203
2024-07-26  456.870426  339.546066
2024-07-29  450.468462  340.207088
2024-07-30  447.250061  341.509589

[198 rows x 2 columns]
2023-11-13 21:04:50,487 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:04:50,488 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285175ad0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  420.621299  236.770958
2023-10-17  417.074035  237.511245
2023-10-18  412.166456  236.166443
2023-10-19  411.617907  234.632265
2023-10-20  418.114849  237.830149
...                ...         ...
2024-07-24  455.424618  341.229575
2024-07-25  452.053159  337.057203
2024-07-26  456.870426  339.546066
2024-07-29  450.468462  340.207088
2024-07-30  447.250061  341.509589

[197 rows x 2 columns], sim=1): 0.0h 0.0m 0s 230ms
2023-11-13 21:04:50,488 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 21:04:50,518 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:04:50,520 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  420.398757  234.643145
1  420.720770  234.947779
2  415.312746  235.046342
3  421.256651  233.478563
4  420.441174  234.113813
2023-11-13 21:04:50,675 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  420.398757  234.643145
2023-10-17  420.720770  234.947779
2023-10-18  415.312746  235.046342
2023-10-19  421.256651  233.478563
2023-10-20  420.441174  234.113813
2023-11-13 21:04:50,707 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
...             ...      ...
2023-10-09    429.0    228.5
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6

[63 rows x 2 columns]
2023-11-13 21:04:50,711 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-13  418.100000  235.600000
2023-10-16  420.398757  234.643145
2023-10-17  420.720770  234.947779
2023-10-18  415.312746  235.046342
2023-10-19  421.256651  233.478563
...                ...         ...
2024-07-24  573.717202  228.481772
2024-07-25  565.823680  227.886171
2024-07-26  557.801067  231.236461
2024-07-29  555.086752  231.387885
2024-07-30  566.808278  229.584627

[198 rows x 2 columns]
2023-11-13 21:04:50,887 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:04:50,887 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285175ad0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  420.398757  234.643145
2023-10-17  420.720770  234.947779
2023-10-18  415.312746  235.046342
2023-10-19  421.256651  233.478563
2023-10-20  420.441174  234.113813
...                ...         ...
2024-07-24  573.717202  228.481772
2024-07-25  565.823680  227.886171
2024-07-26  557.801067  231.236461
2024-07-29  555.086752  231.387885
2024-07-30  566.808278  229.584627

[197 rows x 2 columns], sim=2): 0.0h 0.0m 0s 208ms
2023-11-13 21:04:50,887 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285175ad0>, n_sim=3): 0.0h 0.0m 57s 422ms
2023-11-13 21:04:50,888 - yq - INFO - Pricing the product on 2023-10-16 00:00:00
2023-11-13 21:04:50,888 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:04:50,901 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:04:51,248 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-11-13 21:04:51,249 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231016.csv
2023-11-13 21:04:51,254 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/lonn_call.csv
2023-11-13 21:04:51,257 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     385  47.699997  29.411749  0.0175
1  0.168421     390  43.949997  29.572170  0.0175
2  0.168421     395  40.049995  29.142870  0.0175
3  0.168421     400  36.349991  28.814251  0.0175
4  0.168421     410  29.399994  28.098360  0.0175
2023-11-13 21:04:51,259 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/sika_call.csv
2023-11-13 21:04:51,262 - yq - INFO - Options data read is
    maturity  strike       price          IV    rate
0  0.168421      76  159.475006   99.122787  0.0175
1  0.168421      84  151.574997  100.150345  0.0175
2  0.168421      92  143.600006   91.919762  0.0175
3  0.168421     100  135.649994   86.183449  0.0175
4  0.168421     110  125.700005   78.469963  0.0175
2023-11-13 21:04:51,268 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     385  47.699997  0.0175
1  0.168421     390  43.949997  0.0175
2  0.168421     395  40.049995  0.0175
3  0.168421     400  36.349991  0.0175
4  0.168421     410  29.399994  0.0175
   maturity  strike       price    rate
0  0.168421      76  159.475006  0.0175
1  0.168421      84  151.574997  0.0175
2  0.168421      92  143.600006  0.0175
3  0.168421     100  135.649994  0.0175
4  0.168421     110  125.700005  0.0175
2023-11-13 21:04:51,268 - yq - INFO - Calibrating LONZA on 2023-10-16 00:00:00.
2023-11-13 21:05:22,177 - yq - INFO - Calibrating SIKA on 2023-10-16 00:00:00.
2023-11-13 21:05:57,269 - yq - INFO - The S_0 for LONZA and SIKA are 426.1 and 235.0
2023-11-13 21:05:57,270 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 6 seconds
2023-11-13 21:05:57,284 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231016.csv
2023-11-13 21:05:57,284 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.01637563  0.01242441 -0.083826    0.68863354  0.10234296]
 [ 4.15497975  0.01166968 -0.01151511  0.17063636  0.44994444]]
2023-11-13 21:05:57,285 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, Timestamp('2023-10-16 00:00:00')): 0.0h 1.0m 6s 37ms
2023-11-13 21:05:57,295 - yq - INFO - The log returns list for all assets is: [Date
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
                ...   
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
                ...   
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:05:57,297 - yq - INFO - rho_S1S2 is 0.3035652013170766

2023-11-13 21:05:57,297 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3035652]
 [0.3035652 1.       ]]

2023-11-13 21:05:57,297 - yq - INFO - Simplified correlation matrix is:
[[1.         0.68863354 0.3035652  0.        ]
 [0.68863354 1.         0.         0.        ]
 [0.3035652  0.         1.         0.17063636]
 [0.         0.         0.17063636 1.        ]]

2023-11-13 21:05:57,298 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.68863354  0.72510954  0.          0.        ]
 [ 0.3035652  -0.28829462  0.90814888  0.        ]
 [ 0.          0.          0.18789469  0.98218918]]

2023-11-13 21:05:57,298 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>): 0.0h 0.0m 0s 13ms
2023-11-13 21:05:57,308 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 21:05:57,336 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:05:57,340 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  424.294480  234.488662
1  429.129337  240.818415
2  428.735876  243.556837
3  445.982669  266.209551
4  460.400015  265.743736
2023-11-13 21:05:57,490 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  424.294480  234.488662
2023-10-18  429.129337  240.818415
2023-10-19  428.735876  243.556837
2023-10-20  445.982669  266.209551
2023-10-23  460.400015  265.743736
2023-11-13 21:05:57,598 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
...             ...      ...
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0

[63 rows x 2 columns]
2023-11-13 21:05:57,602 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-16  426.100000  235.000000
2023-10-17  424.294480  234.488662
2023-10-18  429.129337  240.818415
2023-10-19  428.735876  243.556837
2023-10-20  445.982669  266.209551
...                ...         ...
2024-07-24  401.807744  240.537115
2024-07-25  405.550236  240.106913
2024-07-26  415.586798  238.445968
2024-07-29  416.254832  240.737777
2024-07-30  412.198915  241.448866

[197 rows x 2 columns]
2023-11-13 21:05:57,771 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:05:57,771 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  424.294480  234.488662
2023-10-18  429.129337  240.818415
2023-10-19  428.735876  243.556837
2023-10-20  445.982669  266.209551
2023-10-23  460.400015  265.743736
...                ...         ...
2024-07-24  401.807744  240.537115
2024-07-25  405.550236  240.106913
2024-07-26  415.586798  238.445968
2024-07-29  416.254832  240.737777
2024-07-30  412.198915  241.448866

[196 rows x 2 columns], sim=0): 0.0h 0.0m 0s 273ms
2023-11-13 21:05:57,772 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 21:05:57,801 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:05:57,803 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  432.638113  236.121169
1  439.202846  253.129544
2  439.830972  243.597265
3  441.078608  256.319278
4  442.830522  250.900521
2023-11-13 21:05:57,949 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  432.638113  236.121169
2023-10-18  439.202846  253.129544
2023-10-19  439.830972  243.597265
2023-10-20  441.078608  256.319278
2023-10-23  442.830522  250.900521
2023-11-13 21:05:57,980 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
...             ...      ...
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0

[63 rows x 2 columns]
2023-11-13 21:05:57,985 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-16  426.100000  235.000000
2023-10-17  432.638113  236.121169
2023-10-18  439.202846  253.129544
2023-10-19  439.830972  243.597265
2023-10-20  441.078608  256.319278
...                ...         ...
2024-07-24  366.239182  202.469032
2024-07-25  364.688475  201.617488
2024-07-26  364.614728  199.786042
2024-07-29  361.953540  200.336237
2024-07-30  362.134010  198.392086

[197 rows x 2 columns]
2023-11-13 21:05:58,165 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:05:58,165 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  432.638113  236.121169
2023-10-18  439.202846  253.129544
2023-10-19  439.830972  243.597265
2023-10-20  441.078608  256.319278
2023-10-23  442.830522  250.900521
...                ...         ...
2024-07-24  366.239182  202.469032
2024-07-25  364.688475  201.617488
2024-07-26  364.614728  199.786042
2024-07-29  361.953540  200.336237
2024-07-30  362.134010  198.392086

[196 rows x 2 columns], sim=1): 0.0h 0.0m 0s 213ms
2023-11-13 21:05:58,166 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 21:05:58,195 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:05:58,197 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  429.413848  240.322231
1  416.856075  213.676241
2  420.142488  216.807444
3  403.760698  231.400808
4  403.504415  237.717180
2023-11-13 21:05:58,350 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  429.413848  240.322231
2023-10-18  416.856075  213.676241
2023-10-19  420.142488  216.807444
2023-10-20  403.760698  231.400808
2023-10-23  403.504415  237.717180
2023-11-13 21:05:58,390 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
...             ...      ...
2023-10-10    434.1    235.1
2023-10-11    432.2    234.6
2023-10-12    431.6    234.9
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0

[63 rows x 2 columns]
2023-11-13 21:05:58,394 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-16  426.100000  235.000000
2023-10-17  429.413848  240.322231
2023-10-18  416.856075  213.676241
2023-10-19  420.142488  216.807444
2023-10-20  403.760698  231.400808
...                ...         ...
2024-07-24  293.368277  151.106205
2024-07-25  295.177633  151.947024
2024-07-26  299.092741  151.676790
2024-07-29  299.980467  152.282647
2024-07-30  303.680252  151.888754

[197 rows x 2 columns]
2023-11-13 21:05:58,570 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:05:58,570 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  429.413848  240.322231
2023-10-18  416.856075  213.676241
2023-10-19  420.142488  216.807444
2023-10-20  403.760698  231.400808
2023-10-23  403.504415  237.717180
...                ...         ...
2024-07-24  293.368277  151.106205
2024-07-25  295.177633  151.947024
2024-07-26  299.092741  151.676790
2024-07-29  299.980467  152.282647
2024-07-30  303.680252  151.888754

[196 rows x 2 columns], sim=2): 0.0h 0.0m 0s 216ms
2023-11-13 21:05:58,570 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c8dcb90>, n_sim=3): 0.0h 1.0m 7s 324ms
2023-11-13 21:05:58,570 - yq - INFO - Pricing the product on 2023-10-17 00:00:00
2023-11-13 21:05:58,570 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:05:58,582 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:05:58,911 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-11-13 21:05:58,913 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231017.csv
2023-11-13 21:05:58,922 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/lonn_call.csv
2023-11-13 21:05:58,926 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     335  30.549988  28.717325  0.0175
1  0.165614     340  27.049988  28.429321  0.0175
2  0.165614     345  23.749992  28.119053  0.0175
3  0.165614     350  20.750000  27.944704  0.0175
4  0.165614     355  21.599998  33.963181  0.0175
2023-11-13 21:05:58,928 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/sika_call.csv
2023-11-13 21:05:58,930 - yq - INFO - Options data read is
    maturity  strike       price           IV    rate
0  0.165614     0.1  223.100006  2292.225586  0.0175
1  0.165614    76.0  147.449997   106.440056  0.0175
2  0.165614    84.0  139.500000    99.310966  0.0175
3  0.165614    92.0  131.524994    90.756920  0.0175
4  0.165614   100.0  123.575005    84.469040  0.0175
2023-11-13 21:05:58,936 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     335  30.549988  0.0175
1  0.165614     340  27.049988  0.0175
2  0.165614     345  23.749992  0.0175
3  0.165614     350  20.750000  0.0175
4  0.165614     355  21.599998  0.0175
   maturity  strike       price    rate
0  0.165614     0.1  223.100006  0.0175
1  0.165614    76.0  147.449997  0.0175
2  0.165614    84.0  139.500000  0.0175
3  0.165614    92.0  131.524994  0.0175
4  0.165614   100.0  123.575005  0.0175
2023-11-13 21:05:58,937 - yq - INFO - Calibrating LONZA on 2023-10-17 00:00:00.
2023-11-13 21:06:35,072 - yq - INFO - Calibrating SIKA on 2023-10-17 00:00:00.
2023-11-13 21:07:08,292 - yq - INFO - The S_0 for LONZA and SIKA are 357.3 and 222.2
2023-11-13 21:07:08,296 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 21:07:08,362 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231017.csv
2023-11-13 21:07:08,362 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.91302747  0.01118253 -0.10175169  1.46183847  0.04782589]
 [ 8.78315736  0.21529034 -0.03329855  1.48525504  1.46120752]]
2023-11-13 21:07:08,366 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285294710>, Timestamp('2023-10-17 00:00:00')): 0.0h 1.0m 9s 454ms
2023-11-13 21:07:08,381 - yq - INFO - The log returns list for all assets is: [Date
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
                ...   
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
                ...   
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:07:08,384 - yq - INFO - rho_S1S2 is 0.4745605548224541

2023-11-13 21:07:08,384 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.47456055]
 [0.47456055 1.        ]]

2023-11-13 21:07:08,384 - yq - INFO - Simplified correlation matrix is:
[[1.         1.46183847 0.47456055 0.        ]
 [1.46183847 1.         0.         0.        ]
 [0.47456055 0.         1.         1.48525504]
 [0.         0.         1.48525504 1.        ]]

2023-11-13 21:07:08,385 - yq - ERROR - Error during simulation on 2023-10-17 00:00:00: Matrix is not positive definite
2023-11-13 21:07:08,385 - yq - INFO - Pricing the product on 2023-10-18 00:00:00
2023-11-13 21:07:08,385 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:07:08,412 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:07:08,702 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-11-13 21:07:08,706 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231018.csv
2023-11-13 21:07:08,712 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/lonn_call.csv
2023-11-13 21:07:08,714 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     320  31.299999  28.101810  0.0175
1  0.162807     325  27.500000  27.525820  0.0175
2  0.162807     330  24.950001  29.035944  0.0175
3  0.162807     335  21.875000  28.934927  0.0175
4  0.162807     340  19.049999  28.851625  0.0175
2023-11-13 21:07:08,716 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/sika_call.csv
2023-11-13 21:07:08,718 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     175  38.500000  38.528267  0.0175
1  0.162807     180  33.849998  36.588718  0.0175
2  0.162807     185  29.324997  34.833080  0.0175
3  0.162807     190  25.024994  33.522907  0.0175
4  0.162807     195  20.899994  32.112335  0.0175
2023-11-13 21:07:08,722 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     320  31.299999  0.0175
1  0.162807     325  27.500000  0.0175
2  0.162807     330  24.950001  0.0175
3  0.162807     335  21.875000  0.0175
4  0.162807     340  19.049999  0.0175
   maturity  strike      price    rate
0  0.162807     175  38.500000  0.0175
1  0.162807     180  33.849998  0.0175
2  0.162807     185  29.324997  0.0175
3  0.162807     190  25.024994  0.0175
4  0.162807     195  20.899994  0.0175
2023-11-13 21:07:08,722 - yq - INFO - Calibrating LONZA on 2023-10-18 00:00:00.
2023-11-13 21:07:49,333 - yq - INFO - Calibrating SIKA on 2023-10-18 00:00:00.
2023-11-13 21:08:38,489 - yq - INFO - The S_0 for LONZA and SIKA are 344.7 and 216.3
2023-11-13 21:08:38,493 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 29 seconds
2023-11-13 21:08:38,533 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231018.csv
2023-11-13 21:08:38,533 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99997848e+00  9.04000917e-02 -1.28923255e-05  1.49981510e+00
   2.25390430e-02]
 [ 5.60001532e+00  1.53420848e-02 -7.53475431e-02  5.39761604e-01
   2.15499169e-01]]
2023-11-13 21:08:38,541 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2851d0850>, Timestamp('2023-10-18 00:00:00')): 0.0h 1.0m 29s 838ms
2023-11-13 21:08:38,551 - yq - INFO - The log returns list for all assets is: [Date
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
                ...   
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
                ...   
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:08:38,554 - yq - INFO - rho_S1S2 is 0.5389646229379524

2023-11-13 21:08:38,554 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53896462]
 [0.53896462 1.        ]]

2023-11-13 21:08:38,554 - yq - INFO - Simplified correlation matrix is:
[[1.         1.4998151  0.53896462 0.        ]
 [1.4998151  1.         0.         0.        ]
 [0.53896462 0.         1.         0.5397616 ]
 [0.         0.         0.5397616  1.        ]]

2023-11-13 21:08:38,555 - yq - ERROR - Error during simulation on 2023-10-18 00:00:00: Matrix is not positive definite
2023-11-13 21:08:38,555 - yq - INFO - Pricing the product on 2023-10-19 00:00:00
2023-11-13 21:08:38,555 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:08:38,582 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:08:38,930 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-11-13 21:08:38,931 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231019.csv
2023-11-13 21:08:38,935 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/lonn_call.csv
2023-11-13 21:08:38,938 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     290  33.549995  38.621948  0.0175
1      0.16     295  29.849991  37.778728  0.0175
2      0.16     300  26.349991  36.993767  0.0175
3      0.16     305  23.099991  36.343693  0.0175
4      0.16     310  20.049995  35.675377  0.0175
2023-11-13 21:08:38,939 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/sika_call.csv
2023-11-13 21:08:38,941 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     175  38.500000  38.528267  0.0175
1      0.16     180  33.849998  36.588718  0.0175
2      0.16     185  29.324997  34.833080  0.0175
3      0.16     190  25.024994  33.522907  0.0175
4      0.16     195  20.899994  32.112335  0.0175
2023-11-13 21:08:38,947 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     290  33.549995  0.0175
1      0.16     295  29.849991  0.0175
2      0.16     300  26.349991  0.0175
3      0.16     305  23.099991  0.0175
4      0.16     310  20.049995  0.0175
   maturity  strike      price    rate
0      0.16     175  38.500000  0.0175
1      0.16     180  33.849998  0.0175
2      0.16     185  29.324997  0.0175
3      0.16     190  25.024994  0.0175
4      0.16     195  20.899994  0.0175
2023-11-13 21:08:38,947 - yq - INFO - Calibrating LONZA on 2023-10-19 00:00:00.
2023-11-13 21:09:23,827 - yq - INFO - Calibrating SIKA on 2023-10-19 00:00:00.
2023-11-13 21:10:03,261 - yq - INFO - The S_0 for LONZA and SIKA are 342.0 and 218.2
2023-11-13 21:10:03,263 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 24 seconds
2023-11-13 21:10:03,288 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231019.csv
2023-11-13 21:10:03,288 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.43183395  0.01344526 -0.08497237  0.51069636  0.22513337]
 [ 6.47339429  0.01597747 -0.10783662  0.51077642  0.21496273]]
2023-11-13 21:10:03,294 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f4c450>, Timestamp('2023-10-19 00:00:00')): 0.0h 1.0m 24s 362ms
2023-11-13 21:10:03,311 - yq - INFO - The log returns list for all assets is: [Date
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
                ...   
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
                ...   
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:10:03,315 - yq - INFO - rho_S1S2 is 0.5362086169973319

2023-11-13 21:10:03,315 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53620862]
 [0.53620862 1.        ]]

2023-11-13 21:10:03,315 - yq - INFO - Simplified correlation matrix is:
[[1.         0.51069636 0.53620862 0.        ]
 [0.51069636 1.         0.         0.        ]
 [0.53620862 0.         1.         0.51077642]
 [0.         0.         0.51077642 1.        ]]

2023-11-13 21:10:03,317 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.51069636  0.85976115  0.          0.        ]
 [ 0.53620862 -0.31850682  0.78168646  0.        ]
 [ 0.          0.          0.65342877  0.75698801]]

2023-11-13 21:10:03,317 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f4c450>): 0.0h 0.0m 0s 23ms
2023-11-13 21:10:03,336 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 21:10:03,363 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:10:03,370 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  354.374806  220.128276
1  359.670893  225.368326
2  359.504757  230.297089
3  366.905855  230.406046
4  372.735312  233.704046
2023-11-13 21:10:03,540 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  354.374806  220.128276
2023-10-23  359.670893  225.368326
2023-10-24  359.504757  230.297089
2023-10-25  366.905855  230.406046
2023-10-26  372.735312  233.704046
2023-11-13 21:10:03,709 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
...             ...      ...
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2

[63 rows x 2 columns]
2023-11-13 21:10:03,714 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-19  342.000000  218.200000
2023-10-20  354.374806  220.128276
2023-10-23  359.670893  225.368326
2023-10-24  359.504757  230.297089
2023-10-25  366.905855  230.406046
...                ...         ...
2024-07-24  367.521237  222.018123
2024-07-25  366.148513  223.356462
2024-07-26  366.042808  224.575219
2024-07-29  367.558364  224.191772
2024-07-30  374.547011  228.591708

[194 rows x 2 columns]
2023-11-13 21:10:03,906 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:10:03,906 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f4c450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  354.374806  220.128276
2023-10-23  359.670893  225.368326
2023-10-24  359.504757  230.297089
2023-10-25  366.905855  230.406046
2023-10-26  372.735312  233.704046
...                ...         ...
2024-07-24  367.521237  222.018123
2024-07-25  366.148513  223.356462
2024-07-26  366.042808  224.575219
2024-07-29  367.558364  224.191772
2024-07-30  374.547011  228.591708

[193 rows x 2 columns], sim=0): 0.0h 0.0m 0s 359ms
2023-11-13 21:10:03,906 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 21:10:03,932 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:10:03,936 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  334.315856  219.636346
1  327.296760  222.503916
2  324.891638  216.849737
3  331.624897  224.631675
4  330.169849  211.147420
2023-11-13 21:10:04,087 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  334.315856  219.636346
2023-10-23  327.296760  222.503916
2023-10-24  324.891638  216.849737
2023-10-25  331.624897  224.631675
2023-10-26  330.169849  211.147420
2023-11-13 21:10:04,130 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
...             ...      ...
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2

[63 rows x 2 columns]
2023-11-13 21:10:04,134 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-19  342.000000  218.200000
2023-10-20  334.315856  219.636346
2023-10-23  327.296760  222.503916
2023-10-24  324.891638  216.849737
2023-10-25  331.624897  224.631675
...                ...         ...
2024-07-24  408.392322  292.726168
2024-07-25  408.436825  292.897817
2024-07-26  408.487029  293.297423
2024-07-29  411.441220  294.874236
2024-07-30  409.452904  289.937658

[194 rows x 2 columns]
2023-11-13 21:10:04,341 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:10:04,341 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f4c450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  334.315856  219.636346
2023-10-23  327.296760  222.503916
2023-10-24  324.891638  216.849737
2023-10-25  331.624897  224.631675
2023-10-26  330.169849  211.147420
...                ...         ...
2024-07-24  408.392322  292.726168
2024-07-25  408.436825  292.897817
2024-07-26  408.487029  293.297423
2024-07-29  411.441220  294.874236
2024-07-30  409.452904  289.937658

[193 rows x 2 columns], sim=1): 0.0h 0.0m 0s 250ms
2023-11-13 21:10:04,342 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 21:10:04,374 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:10:04,376 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  338.353635  220.459891
1  350.268677  224.328183
2  355.525227  220.362973
3  344.921246  220.574345
4  356.109596  224.404180
2023-11-13 21:10:04,537 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  338.353635  220.459891
2023-10-23  350.268677  224.328183
2023-10-24  355.525227  220.362973
2023-10-25  344.921246  220.574345
2023-10-26  356.109596  224.404180
2023-11-13 21:10:04,591 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
...             ...      ...
2023-10-13    418.1    235.6
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2

[63 rows x 2 columns]
2023-11-13 21:10:04,598 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-19  342.000000  218.200000
2023-10-20  338.353635  220.459891
2023-10-23  350.268677  224.328183
2023-10-24  355.525227  220.362973
2023-10-25  344.921246  220.574345
...                ...         ...
2024-07-24  264.434568  159.328262
2024-07-25  263.773863  157.597477
2024-07-26  268.482188  159.562371
2024-07-29  271.191643  160.903932
2024-07-30  269.946105  163.019882

[194 rows x 2 columns]
2023-11-13 21:10:04,777 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:10:04,777 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f4c450>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  338.353635  220.459891
2023-10-23  350.268677  224.328183
2023-10-24  355.525227  220.362973
2023-10-25  344.921246  220.574345
2023-10-26  356.109596  224.404180
...                ...         ...
2024-07-24  264.434568  159.328262
2024-07-25  263.773863  157.597477
2024-07-26  268.482188  159.562371
2024-07-29  271.191643  160.903932
2024-07-30  269.946105  163.019882

[193 rows x 2 columns], sim=2): 0.0h 0.0m 0s 231ms
2023-11-13 21:10:04,777 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f4c450>, n_sim=3): 0.0h 1.0m 25s 851ms
2023-11-13 21:10:04,777 - yq - INFO - Pricing the product on 2023-10-20 00:00:00
2023-11-13 21:10:04,777 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:10:04,793 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:10:05,305 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-11-13 21:10:05,308 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231020.csv
2023-11-13 21:10:05,320 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/lonn_call.csv
2023-11-13 21:10:05,323 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     290  33.549995  38.621948  0.0175
1  0.157193     295  29.849991  37.778728  0.0175
2  0.157193     300  26.349991  36.993767  0.0175
3  0.157193     305  23.099991  36.343693  0.0175
4  0.157193     310  20.049995  35.675377  0.0175
2023-11-13 21:10:05,325 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/sika_call.csv
2023-11-13 21:10:05,330 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     175  38.500000  38.528267  0.0175
1  0.157193     180  33.849998  36.588718  0.0175
2  0.157193     185  29.324997  34.833080  0.0175
3  0.157193     190  25.024994  33.522907  0.0175
4  0.157193     195  20.899994  32.112335  0.0175
2023-11-13 21:10:05,338 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     290  33.549995  0.0175
1  0.157193     295  29.849991  0.0175
2  0.157193     300  26.349991  0.0175
3  0.157193     305  23.099991  0.0175
4  0.157193     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.157193     175  38.500000  0.0175
1  0.157193     180  33.849998  0.0175
2  0.157193     185  29.324997  0.0175
3  0.157193     190  25.024994  0.0175
4  0.157193     195  20.899994  0.0175
2023-11-13 21:10:05,340 - yq - INFO - Calibrating LONZA on 2023-10-20 00:00:00.
2023-11-13 21:10:45,755 - yq - INFO - Calibrating SIKA on 2023-10-20 00:00:00.
2023-11-13 21:11:21,904 - yq - INFO - The S_0 for LONZA and SIKA are 332.9 and 217.0
2023-11-13 21:11:21,905 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 16 seconds
2023-11-13 21:11:21,918 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231020.csv
2023-11-13 21:11:21,919 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.36089037  0.01903478 -0.07708572  0.51076735  0.23367107]
 [ 3.47078385  0.0248147  -0.07166182  0.52088785  0.22752744]]
2023-11-13 21:11:21,921 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864e57d0>, Timestamp('2023-10-20 00:00:00')): 0.0h 1.0m 16s 615ms
2023-11-13 21:11:21,937 - yq - INFO - The log returns list for all assets is: [Date
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
                ...   
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
                ...   
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:11:21,939 - yq - INFO - rho_S1S2 is 0.5283653584747795

2023-11-13 21:11:21,940 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52836536]
 [0.52836536 1.        ]]

2023-11-13 21:11:21,940 - yq - INFO - Simplified correlation matrix is:
[[1.         0.51076735 0.52836536 0.        ]
 [0.51076735 1.         0.         0.        ]
 [0.52836536 0.         1.         0.52088785]
 [0.         0.         0.52088785 1.        ]]

2023-11-13 21:11:21,941 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.51076735  0.85971897  0.          0.        ]
 [ 0.52836536 -0.31390697  0.78885516  0.        ]
 [ 0.          0.          0.6603086   0.75099438]]

2023-11-13 21:11:21,941 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864e57d0>): 0.0h 0.0m 0s 19ms
2023-11-13 21:11:21,955 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 21:11:21,982 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:11:21,985 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  351.485211  227.377536
1  364.841270  231.988690
2  369.982387  239.158325
3  382.438900  249.628611
4  387.634713  247.948200
2023-11-13 21:11:22,116 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  351.485211  227.377536
2023-10-24  364.841270  231.988690
2023-10-25  369.982387  239.158325
2023-10-26  382.438900  249.628611
2023-10-27  387.634713  247.948200
2023-11-13 21:11:22,203 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
...             ...      ...
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0

[63 rows x 2 columns]
2023-11-13 21:11:22,207 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-20  332.900000  217.000000
2023-10-23  351.485211  227.377536
2023-10-24  364.841270  231.988690
2023-10-25  369.982387  239.158325
2023-10-26  382.438900  249.628611
...                ...         ...
2024-07-24  442.532136  280.468187
2024-07-25  444.863386  273.089584
2024-07-26  454.740139  274.453312
2024-07-29  457.305268  276.980229
2024-07-30  466.939138  281.333189

[193 rows x 2 columns]
2023-11-13 21:11:22,387 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:11:22,387 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864e57d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  351.485211  227.377536
2023-10-24  364.841270  231.988690
2023-10-25  369.982387  239.158325
2023-10-26  382.438900  249.628611
2023-10-27  387.634713  247.948200
...                ...         ...
2024-07-24  442.532136  280.468187
2024-07-25  444.863386  273.089584
2024-07-26  454.740139  274.453312
2024-07-29  457.305268  276.980229
2024-07-30  466.939138  281.333189

[192 rows x 2 columns], sim=0): 0.0h 0.0m 0s 263ms
2023-11-13 21:11:22,388 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 21:11:22,412 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:11:22,414 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  329.168777  210.422333
1  331.115284  223.698983
2  340.262180  222.186078
3  351.514024  223.870071
4  348.776685  232.877968
2023-11-13 21:11:22,555 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  329.168777  210.422333
2023-10-24  331.115284  223.698983
2023-10-25  340.262180  222.186078
2023-10-26  351.514024  223.870071
2023-10-27  348.776685  232.877968
2023-11-13 21:11:22,584 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
...             ...      ...
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0

[63 rows x 2 columns]
2023-11-13 21:11:22,589 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-20  332.900000  217.000000
2023-10-23  329.168777  210.422333
2023-10-24  331.115284  223.698983
2023-10-25  340.262180  222.186078
2023-10-26  351.514024  223.870071
...                ...         ...
2024-07-24  390.725176  140.358995
2024-07-25  394.285642  141.598049
2024-07-26  397.578774  141.643728
2024-07-29  390.212074  138.601985
2024-07-30  383.412876  135.711847

[193 rows x 2 columns]
2023-11-13 21:11:22,754 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:11:22,755 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864e57d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  329.168777  210.422333
2023-10-24  331.115284  223.698983
2023-10-25  340.262180  222.186078
2023-10-26  351.514024  223.870071
2023-10-27  348.776685  232.877968
...                ...         ...
2024-07-24  390.725176  140.358995
2024-07-25  394.285642  141.598049
2024-07-26  397.578774  141.643728
2024-07-29  390.212074  138.601985
2024-07-30  383.412876  135.711847

[192 rows x 2 columns], sim=1): 0.0h 0.0m 0s 196ms
2023-11-13 21:11:22,755 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 21:11:22,784 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:11:22,786 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  341.382513  217.903416
1  352.362365  211.586559
2  333.727728  207.176307
3  336.651520  202.012315
4  326.747352  194.485630
2023-11-13 21:11:22,939 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  341.382513  217.903416
2023-10-24  352.362365  211.586559
2023-10-25  333.727728  207.176307
2023-10-26  336.651520  202.012315
2023-10-27  326.747352  194.485630
2023-11-13 21:11:23,612 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
...             ...      ...
2023-10-16    426.1    235.0
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0

[63 rows x 2 columns]
2023-11-13 21:11:23,616 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-20  332.900000  217.000000
2023-10-23  341.382513  217.903416
2023-10-24  352.362365  211.586559
2023-10-25  333.727728  207.176307
2023-10-26  336.651520  202.012315
...                ...         ...
2024-07-24  392.284786  197.045014
2024-07-25  397.747918  200.631709
2024-07-26  392.787623  206.630482
2024-07-29  391.008389  206.267579
2024-07-30  393.398550  209.994864

[193 rows x 2 columns]
2023-11-13 21:11:23,765 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:11:23,766 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864e57d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  341.382513  217.903416
2023-10-24  352.362365  211.586559
2023-10-25  333.727728  207.176307
2023-10-26  336.651520  202.012315
2023-10-27  326.747352  194.485630
...                ...         ...
2024-07-24  392.284786  197.045014
2024-07-25  397.747918  200.631709
2024-07-26  392.787623  206.630482
2024-07-29  391.008389  206.267579
2024-07-30  393.398550  209.994864

[192 rows x 2 columns], sim=2): 0.0h 0.0m 0s 822ms
2023-11-13 21:11:23,766 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864e57d0>, n_sim=3): 0.0h 1.0m 18s 506ms
2023-11-13 21:11:23,766 - yq - INFO - Pricing the product on 2023-10-23 00:00:00
2023-11-13 21:11:23,766 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:11:23,781 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:11:24,115 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-11-13 21:11:24,116 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231023.csv
2023-11-13 21:11:24,121 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/lonn_call.csv
2023-11-13 21:11:24,125 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     290  33.549995  38.621948  0.0175
1  0.148772     295  29.849991  37.778728  0.0175
2  0.148772     300  26.349991  36.993767  0.0175
3  0.148772     305  23.099991  36.343693  0.0175
4  0.148772     310  20.049995  35.675377  0.0175
2023-11-13 21:11:24,127 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/sika_call.csv
2023-11-13 21:11:24,130 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     175  38.500000  38.528267  0.0175
1  0.148772     180  33.849998  36.588718  0.0175
2  0.148772     185  29.324997  34.833080  0.0175
3  0.148772     190  25.024994  33.522907  0.0175
4  0.148772     195  20.899994  32.112335  0.0175
2023-11-13 21:11:24,136 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     290  33.549995  0.0175
1  0.148772     295  29.849991  0.0175
2  0.148772     300  26.349991  0.0175
3  0.148772     305  23.099991  0.0175
4  0.148772     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.148772     175  38.500000  0.0175
1  0.148772     180  33.849998  0.0175
2  0.148772     185  29.324997  0.0175
3  0.148772     190  25.024994  0.0175
4  0.148772     195  20.899994  0.0175
2023-11-13 21:11:24,136 - yq - INFO - Calibrating LONZA on 2023-10-23 00:00:00.
2023-11-13 21:12:08,413 - yq - INFO - Calibrating SIKA on 2023-10-23 00:00:00.
2023-11-13 21:12:47,012 - yq - INFO - The S_0 for LONZA and SIKA are 327.6 and 215.9
2023-11-13 21:12:47,013 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 22 seconds
2023-11-13 21:12:47,027 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231023.csv
2023-11-13 21:12:47,027 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.95281106  0.01184531 -0.11301507  0.54767812  0.22515048]
 [ 6.50514893  0.01344203 -0.08805582  0.50519768  0.24994459]]
2023-11-13 21:12:47,030 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284beb4d0>, Timestamp('2023-10-23 00:00:00')): 0.0h 1.0m 22s 914ms
2023-11-13 21:12:47,038 - yq - INFO - The log returns list for all assets is: [Date
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
                ...   
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
                ...   
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:12:47,043 - yq - INFO - rho_S1S2 is 0.5283126864034193

2023-11-13 21:12:47,043 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52831269]
 [0.52831269 1.        ]]

2023-11-13 21:12:47,043 - yq - INFO - Simplified correlation matrix is:
[[1.         0.54767812 0.52831269 0.        ]
 [0.54767812 1.         0.         0.        ]
 [0.52831269 0.         1.         0.50519768]
 [0.         0.         0.50519768 1.        ]]

2023-11-13 21:12:47,044 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.54767812  0.83668912  0.          0.        ]
 [ 0.52831269 -0.34582175  0.77543086  0.        ]
 [ 0.          0.          0.65150577  0.75864368]]

2023-11-13 21:12:47,044 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284beb4d0>): 0.0h 0.0m 0s 14ms
2023-11-13 21:12:47,053 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 21:12:47,072 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:12:47,075 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  349.813581  225.397428
1  340.325402  230.401887
2  344.358876  230.262965
3  330.793277  231.851780
4  342.017783  235.556999
2023-11-13 21:12:47,190 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  349.813581  225.397428
2023-10-25  340.325402  230.401887
2023-10-26  344.358876  230.262965
2023-10-27  330.793277  231.851780
2023-10-30  342.017783  235.556999
2023-11-13 21:12:47,321 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
...             ...      ...
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9

[63 rows x 2 columns]
2023-11-13 21:12:47,324 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-23  327.600000  215.900000
2023-10-24  349.813581  225.397428
2023-10-25  340.325402  230.401887
2023-10-26  344.358876  230.262965
2023-10-27  330.793277  231.851780
...                ...         ...
2024-07-24  432.373658  370.545504
2024-07-25  428.628466  366.197569
2024-07-26  426.236898  365.430480
2024-07-29  423.362623  364.510752
2024-07-30  422.088261  363.860117

[192 rows x 2 columns]
2023-11-13 21:12:47,469 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:12:47,470 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284beb4d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  349.813581  225.397428
2023-10-25  340.325402  230.401887
2023-10-26  344.358876  230.262965
2023-10-27  330.793277  231.851780
2023-10-30  342.017783  235.556999
...                ...         ...
2024-07-24  432.373658  370.545504
2024-07-25  428.628466  366.197569
2024-07-26  426.236898  365.430480
2024-07-29  423.362623  364.510752
2024-07-30  422.088261  363.860117

[191 rows x 2 columns], sim=0): 0.0h 0.0m 0s 275ms
2023-11-13 21:12:47,470 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 21:12:47,492 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:12:47,495 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  328.875754  206.616985
1  350.000979  202.370769
2  363.068978  209.360427
3  369.360993  205.504672
4  361.584227  201.353438
2023-11-13 21:12:47,620 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  328.875754  206.616985
2023-10-25  350.000979  202.370769
2023-10-26  363.068978  209.360427
2023-10-27  369.360993  205.504672
2023-10-30  361.584227  201.353438
2023-11-13 21:12:47,643 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
...             ...      ...
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9

[63 rows x 2 columns]
2023-11-13 21:12:47,647 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-23  327.600000  215.900000
2023-10-24  328.875754  206.616985
2023-10-25  350.000979  202.370769
2023-10-26  363.068978  209.360427
2023-10-27  369.360993  205.504672
...                ...         ...
2024-07-24  336.869557  248.149567
2024-07-25  340.362737  249.275547
2024-07-26  342.244630  249.728542
2024-07-29  341.461057  246.146139
2024-07-30  340.075442  244.308458

[192 rows x 2 columns]
2023-11-13 21:12:47,813 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:12:47,813 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284beb4d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  328.875754  206.616985
2023-10-25  350.000979  202.370769
2023-10-26  363.068978  209.360427
2023-10-27  369.360993  205.504672
2023-10-30  361.584227  201.353438
...                ...         ...
2024-07-24  336.869557  248.149567
2024-07-25  340.362737  249.275547
2024-07-26  342.244630  249.728542
2024-07-29  341.461057  246.146139
2024-07-30  340.075442  244.308458

[191 rows x 2 columns], sim=1): 0.0h 0.0m 0s 190ms
2023-11-13 21:12:47,814 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 21:12:47,842 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:12:47,844 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  347.844378  226.748950
1  343.801567  222.745049
2  366.720998  231.993447
3  356.635276  227.100992
4  360.260442  223.352927
2023-11-13 21:12:47,996 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  347.844378  226.748950
2023-10-25  343.801567  222.745049
2023-10-26  366.720998  231.993447
2023-10-27  356.635276  227.100992
2023-10-30  360.260442  223.352927
2023-11-13 21:12:48,038 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
...             ...      ...
2023-10-17    357.3    222.2
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9

[63 rows x 2 columns]
2023-11-13 21:12:48,042 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-23  327.600000  215.900000
2023-10-24  347.844378  226.748950
2023-10-25  343.801567  222.745049
2023-10-26  366.720998  231.993447
2023-10-27  356.635276  227.100992
...                ...         ...
2024-07-24  479.121342  262.189416
2024-07-25  475.352084  263.371505
2024-07-26  478.384010  262.132503
2024-07-29  481.631275  263.858797
2024-07-30  478.762673  263.271257

[192 rows x 2 columns]
2023-11-13 21:12:48,229 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:12:48,229 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284beb4d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  347.844378  226.748950
2023-10-25  343.801567  222.745049
2023-10-26  366.720998  231.993447
2023-10-27  356.635276  227.100992
2023-10-30  360.260442  223.352927
...                ...         ...
2024-07-24  479.121342  262.189416
2024-07-25  475.352084  263.371505
2024-07-26  478.384010  262.132503
2024-07-29  481.631275  263.858797
2024-07-30  478.762673  263.271257

[191 rows x 2 columns], sim=2): 0.0h 0.0m 0s 228ms
2023-11-13 21:12:48,229 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284beb4d0>, n_sim=3): 0.0h 1.0m 24s 117ms
2023-11-13 21:12:48,229 - yq - INFO - Pricing the product on 2023-10-24 00:00:00
2023-11-13 21:12:48,230 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:12:48,242 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:12:48,575 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-11-13 21:12:48,577 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231024.csv
2023-11-13 21:12:48,581 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/lonn_call.csv
2023-11-13 21:12:48,584 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     295  30.500000  38.355637  0.0175
1  0.145965     300  26.950001  37.520493  0.0175
2  0.145965     305  23.625000  36.776703  0.0175
3  0.145965     310  20.549999  36.132118  0.0175
4  0.145965     315  17.725000  35.556763  0.0175
2023-11-13 21:12:48,585 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/sika_call.csv
2023-11-13 21:12:48,588 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     175  38.500000  38.528267  0.0175
1  0.145965     180  33.849998  36.588718  0.0175
2  0.145965     185  29.324997  34.833080  0.0175
3  0.145965     190  25.024994  33.522907  0.0175
4  0.145965     195  20.899994  32.112335  0.0175
2023-11-13 21:12:48,594 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     295  30.500000  0.0175
1  0.145965     300  26.950001  0.0175
2  0.145965     305  23.625000  0.0175
3  0.145965     310  20.549999  0.0175
4  0.145965     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.145965     175  38.500000  0.0175
1  0.145965     180  33.849998  0.0175
2  0.145965     185  29.324997  0.0175
3  0.145965     190  25.024994  0.0175
4  0.145965     195  20.899994  0.0175
2023-11-13 21:12:48,594 - yq - INFO - Calibrating LONZA on 2023-10-24 00:00:00.
2023-11-13 21:13:26,829 - yq - INFO - Calibrating SIKA on 2023-10-24 00:00:00.
2023-11-13 21:14:10,307 - yq - INFO - The S_0 for LONZA and SIKA are 330.9 and 215.7
2023-11-13 21:14:10,308 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 21 seconds
2023-11-13 21:14:10,326 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231024.csv
2023-11-13 21:14:10,326 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.77537748  0.01266705 -0.09352345  0.49524279  0.2598569 ]
 [ 6.56922855  0.0131654  -0.09010894  0.50216925  0.25802375]]
2023-11-13 21:14:10,329 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, Timestamp('2023-10-24 00:00:00')): 0.0h 1.0m 21s 753ms
2023-11-13 21:14:10,341 - yq - INFO - The log returns list for all assets is: [Date
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
                ...   
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
                ...   
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:14:10,343 - yq - INFO - rho_S1S2 is 0.5251951060745962

2023-11-13 21:14:10,343 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52519511]
 [0.52519511 1.        ]]

2023-11-13 21:14:10,343 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49524279 0.52519511 0.        ]
 [0.49524279 1.         0.         0.        ]
 [0.52519511 0.         1.         0.50216925]
 [0.         0.         0.50216925 1.        ]]

2023-11-13 21:14:10,344 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49524279  0.86875462  0.          0.        ]
 [ 0.52519511 -0.29939304  0.79657637  0.        ]
 [ 0.          0.          0.63040942  0.77626281]]

2023-11-13 21:14:10,344 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>): 0.0h 0.0m 0s 15ms
2023-11-13 21:14:10,354 - yq - INFO - The adjusted S_0 is [330.9 215.7]
2023-11-13 21:14:10,376 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:14:10,385 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  320.626503  214.199376
1  301.801009  201.828361
2  295.987518  203.889709
3  286.387591  203.065585
4  289.156185  199.296480
2023-11-13 21:14:10,521 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  320.626503  214.199376
2023-10-26  301.801009  201.828361
2023-10-27  295.987518  203.889709
2023-10-30  286.387591  203.065585
2023-10-31  289.156185  199.296480
2023-11-13 21:14:10,620 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
...             ...      ...
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7

[63 rows x 2 columns]
2023-11-13 21:14:10,626 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-24  330.900000  215.700000
2023-10-25  320.626503  214.199376
2023-10-26  301.801009  201.828361
2023-10-27  295.987518  203.889709
2023-10-30  286.387591  203.065585
...                ...         ...
2024-07-24  226.101857  184.951023
2024-07-25  226.680940  183.335469
2024-07-26  228.360418  185.497853
2024-07-29  226.969571  184.805938
2024-07-30  228.201809  183.971896

[191 rows x 2 columns]
2023-11-13 21:14:10,790 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:14:10,790 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  320.626503  214.199376
2023-10-26  301.801009  201.828361
2023-10-27  295.987518  203.889709
2023-10-30  286.387591  203.065585
2023-10-31  289.156185  199.296480
...                ...         ...
2024-07-24  226.101857  184.951023
2024-07-25  226.680940  183.335469
2024-07-26  228.360418  185.497853
2024-07-29  226.969571  184.805938
2024-07-30  228.201809  183.971896

[190 rows x 2 columns], sim=0): 0.0h 0.0m 0s 265ms
2023-11-13 21:14:10,791 - yq - INFO - The adjusted S_0 is [330.9 215.7]
2023-11-13 21:14:10,818 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:14:10,820 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  338.636887  222.373855
1  324.841771  212.353848
2  327.968915  208.583478
3  331.982797  207.012038
4  319.676196  203.215603
2023-11-13 21:14:10,969 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  338.636887  222.373855
2023-10-26  324.841771  212.353848
2023-10-27  327.968915  208.583478
2023-10-30  331.982797  207.012038
2023-10-31  319.676196  203.215603
2023-11-13 21:14:11,014 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
...             ...      ...
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7

[63 rows x 2 columns]
2023-11-13 21:14:11,019 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-24  330.900000  215.700000
2023-10-25  338.636887  222.373855
2023-10-26  324.841771  212.353848
2023-10-27  327.968915  208.583478
2023-10-30  331.982797  207.012038
...                ...         ...
2024-07-24  300.715137  198.465819
2024-07-25  300.293141  199.789004
2024-07-26  301.412056  201.331466
2024-07-29  301.034271  201.757201
2024-07-30  306.608190  204.353212

[191 rows x 2 columns]
2023-11-13 21:14:11,206 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:14:11,206 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  338.636887  222.373855
2023-10-26  324.841771  212.353848
2023-10-27  327.968915  208.583478
2023-10-30  331.982797  207.012038
2023-10-31  319.676196  203.215603
...                ...         ...
2024-07-24  300.715137  198.465819
2024-07-25  300.293141  199.789004
2024-07-26  301.412056  201.331466
2024-07-29  301.034271  201.757201
2024-07-30  306.608190  204.353212

[190 rows x 2 columns], sim=1): 0.0h 0.0m 0s 232ms
2023-11-13 21:14:11,207 - yq - INFO - The adjusted S_0 is [330.9 215.7]
2023-11-13 21:14:11,236 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:14:11,239 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  347.203454  220.932539
1  335.963055  215.297399
2  329.252918  227.890410
3  333.573371  225.067470
4  319.990826  218.252983
2023-11-13 21:14:11,394 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  347.203454  220.932539
2023-10-26  335.963055  215.297399
2023-10-27  329.252918  227.890410
2023-10-30  333.573371  225.067470
2023-10-31  319.990826  218.252983
2023-11-13 21:14:11,423 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
...             ...      ...
2023-10-18    344.7    216.3
2023-10-19    342.0    218.2
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7

[63 rows x 2 columns]
2023-11-13 21:14:11,427 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-24  330.900000  215.700000
2023-10-25  347.203454  220.932539
2023-10-26  335.963055  215.297399
2023-10-27  329.252918  227.890410
2023-10-30  333.573371  225.067470
...                ...         ...
2024-07-24  324.228978  259.944640
2024-07-25  324.597667  261.419880
2024-07-26  327.806165  262.998700
2024-07-29  323.532479  259.671020
2024-07-30  326.314009  258.548632

[191 rows x 2 columns]
2023-11-13 21:14:11,613 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:14:11,613 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-25  347.203454  220.932539
2023-10-26  335.963055  215.297399
2023-10-27  329.252918  227.890410
2023-10-30  333.573371  225.067470
2023-10-31  319.990826  218.252983
...                ...         ...
2024-07-24  324.228978  259.944640
2024-07-25  324.597667  261.419880
2024-07-26  327.806165  262.998700
2024-07-29  323.532479  259.671020
2024-07-30  326.314009  258.548632

[190 rows x 2 columns], sim=2): 0.0h 0.0m 0s 215ms
2023-11-13 21:14:11,614 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14c4678d0>, n_sim=3): 0.0h 1.0m 23s 42ms
2023-11-13 21:14:11,614 - yq - INFO - Pricing the product on 2023-10-25 00:00:00
2023-11-13 21:14:11,614 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:14:11,627 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:14:11,986 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-11-13 21:14:11,988 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231025.csv
2023-11-13 21:14:11,991 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/lonn_call.csv
2023-11-13 21:14:11,994 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     295  30.500000  38.355637  0.0175
1  0.143158     300  26.950001  37.520493  0.0175
2  0.143158     305  23.625000  36.776703  0.0175
3  0.143158     310  20.549999  36.132118  0.0175
4  0.143158     315  17.725000  35.556763  0.0175
2023-11-13 21:14:11,995 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/sika_call.csv
2023-11-13 21:14:11,998 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     175  38.699997  38.509201  0.0175
1  0.143158     180  34.050003  36.681973  0.0175
2  0.143158     185  29.500000  34.874573  0.0175
3  0.143158     190  25.125000  33.306301  0.0175
4  0.143158     195  21.000000  32.032856  0.0175
2023-11-13 21:14:12,003 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     295  30.500000  0.0175
1  0.143158     300  26.950001  0.0175
2  0.143158     305  23.625000  0.0175
3  0.143158     310  20.549999  0.0175
4  0.143158     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.143158     175  38.699997  0.0175
1  0.143158     180  34.050003  0.0175
2  0.143158     185  29.500000  0.0175
3  0.143158     190  25.125000  0.0175
4  0.143158     195  21.000000  0.0175
2023-11-13 21:14:12,006 - yq - INFO - Calibrating LONZA on 2023-10-25 00:00:00.
2023-11-13 21:14:57,406 - yq - INFO - Calibrating SIKA on 2023-10-25 00:00:00.
2023-11-13 21:15:40,944 - yq - INFO - The S_0 for LONZA and SIKA are 315.0 and 212.0
2023-11-13 21:15:40,944 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 21:15:40,955 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231025.csv
2023-11-13 21:15:40,955 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.96832507  0.01929866 -0.06906021  1.46753682  0.06525394]
 [ 9.65442452  0.01408046 -0.13228589  0.49583087  0.23939742]]
2023-11-13 21:15:40,956 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286425c50>, Timestamp('2023-10-25 00:00:00')): 0.0h 1.0m 28s 970ms
2023-11-13 21:15:40,968 - yq - INFO - The log returns list for all assets is: [Date
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
                ...   
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
                ...   
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:15:40,970 - yq - INFO - rho_S1S2 is 0.533001039367497

2023-11-13 21:15:40,971 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53300104]
 [0.53300104 1.        ]]

2023-11-13 21:15:40,971 - yq - INFO - Simplified correlation matrix is:
[[1.         1.46753682 0.53300104 0.        ]
 [1.46753682 1.         0.         0.        ]
 [0.53300104 0.         1.         0.49583087]
 [0.         0.         0.49583087 1.        ]]

2023-11-13 21:15:40,972 - yq - ERROR - Error during simulation on 2023-10-25 00:00:00: Matrix is not positive definite
2023-11-13 21:15:40,974 - yq - INFO - Pricing the product on 2023-10-26 00:00:00
2023-11-13 21:15:40,974 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:15:41,002 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:15:41,279 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-11-13 21:15:41,279 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231026.csv
2023-11-13 21:15:41,284 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/lonn_call.csv
2023-11-13 21:15:41,287 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     295  30.500000  38.355637  0.0175
1  0.140351     300  26.950001  37.520493  0.0175
2  0.140351     305  23.625000  36.776703  0.0175
3  0.140351     310  20.549999  36.132118  0.0175
4  0.140351     315  17.725000  35.556763  0.0175
2023-11-13 21:15:41,288 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/sika_call.csv
2023-11-13 21:15:41,290 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     175  38.699997  38.509201  0.0175
1  0.140351     180  34.050003  36.681973  0.0175
2  0.140351     185  29.500000  34.874573  0.0175
3  0.140351     190  25.125000  33.306301  0.0175
4  0.140351     195  21.000000  32.032856  0.0175
2023-11-13 21:15:41,296 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     295  30.500000  0.0175
1  0.140351     300  26.950001  0.0175
2  0.140351     305  23.625000  0.0175
3  0.140351     310  20.549999  0.0175
4  0.140351     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.140351     175  38.699997  0.0175
1  0.140351     180  34.050003  0.0175
2  0.140351     185  29.500000  0.0175
3  0.140351     190  25.125000  0.0175
4  0.140351     195  21.000000  0.0175
2023-11-13 21:15:41,296 - yq - INFO - Calibrating LONZA on 2023-10-26 00:00:00.
2023-11-13 21:16:23,776 - yq - INFO - Calibrating SIKA on 2023-10-26 00:00:00.
2023-11-13 21:17:02,477 - yq - INFO - The S_0 for LONZA and SIKA are 315.9 and 211.2
2023-11-13 21:17:02,478 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 21 seconds
2023-11-13 21:17:02,491 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231026.csv
2023-11-13 21:17:02,491 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.43742325  0.01000339 -0.12030524  0.4799783   0.27698691]
 [ 3.25454765  0.02756262 -0.07569053  0.51043274  0.26181212]]
2023-11-13 21:17:02,493 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284a1db50>, Timestamp('2023-10-26 00:00:00')): 0.0h 1.0m 21s 214ms
2023-11-13 21:17:02,501 - yq - INFO - The log returns list for all assets is: [Date
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
                ...   
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
                ...   
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:17:02,504 - yq - INFO - rho_S1S2 is 0.5325842602953332

2023-11-13 21:17:02,504 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53258426]
 [0.53258426 1.        ]]

2023-11-13 21:17:02,504 - yq - INFO - Simplified correlation matrix is:
[[1.         0.4799783  0.53258426 0.        ]
 [0.4799783  1.         0.         0.        ]
 [0.53258426 0.         1.         0.51043274]
 [0.         0.         0.51043274 1.        ]]

2023-11-13 21:17:02,505 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.4799783   0.87728036  0.          0.        ]
 [ 0.53258426 -0.29138791  0.79463645  0.        ]
 [ 0.          0.          0.6423475   0.76641353]]

2023-11-13 21:17:02,505 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284a1db50>): 0.0h 0.0m 0s 12ms
2023-11-13 21:17:02,515 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 21:17:02,535 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:17:02,538 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  334.612673  203.270650
1  325.451379  197.822391
2  332.133727  193.973271
3  332.451335  195.304603
4  343.061850  187.206698
2023-11-13 21:17:02,659 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  334.612673  203.270650
2023-10-30  325.451379  197.822391
2023-10-31  332.133727  193.973271
2023-11-01  332.451335  195.304603
2023-11-02  343.061850  187.206698
2023-11-13 21:17:03,000 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
...             ...      ...
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2

[63 rows x 2 columns]
2023-11-13 21:17:03,014 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-26  315.900000  211.200000
2023-10-27  334.612673  203.270650
2023-10-30  325.451379  197.822391
2023-10-31  332.133727  193.973271
2023-11-01  332.451335  195.304603
...                ...         ...
2024-07-24  382.231421  153.278944
2024-07-25  383.752311  155.954351
2024-07-26  383.013596  155.846322
2024-07-29  388.097914  158.362533
2024-07-30  381.612458  154.095872

[189 rows x 2 columns]
2023-11-13 21:17:03,306 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:17:03,306 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284a1db50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  334.612673  203.270650
2023-10-30  325.451379  197.822391
2023-10-31  332.133727  193.973271
2023-11-01  332.451335  195.304603
2023-11-02  343.061850  187.206698
...                ...         ...
2024-07-24  382.231421  153.278944
2024-07-25  383.752311  155.954351
2024-07-26  383.013596  155.846322
2024-07-29  388.097914  158.362533
2024-07-30  381.612458  154.095872

[188 rows x 2 columns], sim=0): 0.0h 0.0m 0s 638ms
2023-11-13 21:17:03,308 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 21:17:03,356 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:17:03,360 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  307.030194  200.177866
1  301.423317  201.708025
2  298.431132  198.763581
3  299.238101  205.084102
4  290.401349  199.450979
2023-11-13 21:17:03,584 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  307.030194  200.177866
2023-10-30  301.423317  201.708025
2023-10-31  298.431132  198.763581
2023-11-01  299.238101  205.084102
2023-11-02  290.401349  199.450979
2023-11-13 21:17:03,677 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
...             ...      ...
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2

[63 rows x 2 columns]
2023-11-13 21:17:03,683 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-26  315.900000  211.200000
2023-10-27  307.030194  200.177866
2023-10-30  301.423317  201.708025
2023-10-31  298.431132  198.763581
2023-11-01  299.238101  205.084102
...                ...         ...
2024-07-24  266.278514  185.644493
2024-07-25  266.528146  183.183158
2024-07-26  266.785372  187.880524
2024-07-29  266.212396  187.891127
2024-07-30  266.920997  185.289313

[189 rows x 2 columns]
2023-11-13 21:17:03,957 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:17:03,958 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284a1db50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  307.030194  200.177866
2023-10-30  301.423317  201.708025
2023-10-31  298.431132  198.763581
2023-11-01  299.238101  205.084102
2023-11-02  290.401349  199.450979
...                ...         ...
2024-07-24  266.278514  185.644493
2024-07-25  266.528146  183.183158
2024-07-26  266.785372  187.880524
2024-07-29  266.212396  187.891127
2024-07-30  266.920997  185.289313

[188 rows x 2 columns], sim=1): 0.0h 0.0m 0s 367ms
2023-11-13 21:17:03,962 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 21:17:04,003 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:17:04,007 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  321.070061  216.181933
1  341.338525  230.010756
2  364.810875  223.892098
3  366.896511  219.622177
4  364.663861  217.073925
2023-11-13 21:17:04,223 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  321.070061  216.181933
2023-10-30  341.338525  230.010756
2023-10-31  364.810875  223.892098
2023-11-01  366.896511  219.622177
2023-11-02  364.663861  217.073925
2023-11-13 21:17:04,469 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
...             ...      ...
2023-10-20    332.9    217.0
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2

[63 rows x 2 columns]
2023-11-13 21:17:04,474 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-26  315.900000  211.200000
2023-10-27  321.070061  216.181933
2023-10-30  341.338525  230.010756
2023-10-31  364.810875  223.892098
2023-11-01  366.896511  219.622177
...                ...         ...
2024-07-24  286.356527  185.094347
2024-07-25  286.566334  187.089277
2024-07-26  284.132456  186.165954
2024-07-29  287.905552  189.602238
2024-07-30  283.484434  187.871512

[189 rows x 2 columns]
2023-11-13 21:17:04,708 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:17:04,709 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284a1db50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  321.070061  216.181933
2023-10-30  341.338525  230.010756
2023-10-31  364.810875  223.892098
2023-11-01  366.896511  219.622177
2023-11-02  364.663861  217.073925
...                ...         ...
2024-07-24  286.356527  185.094347
2024-07-25  286.566334  187.089277
2024-07-26  284.132456  186.165954
2024-07-29  287.905552  189.602238
2024-07-30  283.484434  187.871512

[188 rows x 2 columns], sim=2): 0.0h 0.0m 0s 481ms
2023-11-13 21:17:04,710 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284a1db50>, n_sim=3): 0.0h 1.0m 23s 434ms
2023-11-13 21:17:04,713 - yq - INFO - Pricing the product on 2023-10-27 00:00:00
2023-11-13 21:17:04,714 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:17:04,743 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:17:05,125 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-11-13 21:17:05,131 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231027.csv
2023-11-13 21:17:05,143 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/lonn_call.csv
2023-11-13 21:17:05,147 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     290  33.500000  40.410904  0.0175
1  0.137544     295  29.999992  39.955196  0.0175
2  0.137544     300  26.499992  39.053944  0.0175
3  0.137544     305  23.249992  38.304703  0.0175
4  0.137544     310  20.199997  37.549683  0.0175
2023-11-13 21:17:05,150 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/sika_call.csv
2023-11-13 21:17:05,152 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     180  36.075005  37.532513  0.0175
1  0.137544     185  31.500000  35.868580  0.0175
2  0.137544     190  26.974998  33.822449  0.0175
3  0.137544     195  22.725006  32.429932  0.0175
4  0.137544     200  18.700005  31.064346  0.0175
2023-11-13 21:17:05,159 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     290  33.500000  0.0175
1  0.137544     295  29.999992  0.0175
2  0.137544     300  26.499992  0.0175
3  0.137544     305  23.249992  0.0175
4  0.137544     310  20.199997  0.0175
   maturity  strike      price    rate
0  0.137544     180  36.075005  0.0175
1  0.137544     185  31.500000  0.0175
2  0.137544     190  26.974998  0.0175
3  0.137544     195  22.725006  0.0175
4  0.137544     200  18.700005  0.0175
2023-11-13 21:17:05,159 - yq - INFO - Calibrating LONZA on 2023-10-27 00:00:00.
2023-11-13 21:17:40,858 - yq - INFO - Calibrating SIKA on 2023-10-27 00:00:00.
2023-11-13 21:18:15,769 - yq - INFO - The S_0 for LONZA and SIKA are 314.6 and 214.1
2023-11-13 21:18:15,769 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 10 seconds
2023-11-13 21:18:15,793 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231027.csv
2023-11-13 21:18:15,793 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.50198129  0.01303598 -0.10867283  0.50303857  0.26725266]
 [ 9.12944901  0.01052911 -0.10774369  0.49695526  0.27839504]]
2023-11-13 21:18:15,797 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864f8fd0>, Timestamp('2023-10-27 00:00:00')): 0.0h 1.0m 10s 671ms
2023-11-13 21:18:15,817 - yq - INFO - The log returns list for all assets is: [Date
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
                ...   
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
                ...   
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:18:15,822 - yq - INFO - rho_S1S2 is 0.5300127356410798

2023-11-13 21:18:15,822 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53001274]
 [0.53001274 1.        ]]

2023-11-13 21:18:15,822 - yq - INFO - Simplified correlation matrix is:
[[1.         0.50303857 0.53001274 0.        ]
 [0.50303857 1.         0.         0.        ]
 [0.53001274 0.         1.         0.49695526]
 [0.         0.         0.49695526 1.        ]]

2023-11-13 21:18:15,824 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.50303857  0.86426396  0.          0.        ]
 [ 0.53001274 -0.30849007  0.78988631  0.        ]
 [ 0.          0.          0.62914783  0.77728566]]

2023-11-13 21:18:15,824 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864f8fd0>): 0.0h 0.0m 0s 27ms
2023-11-13 21:18:15,837 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 21:18:15,855 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:18:15,860 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  308.351776  217.789746
1  300.801567  217.400793
2  305.369566  206.734428
3  307.639168  200.674608
4  311.386358  200.999074
2023-11-13 21:18:15,981 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  308.351776  217.789746
2023-10-31  300.801567  217.400793
2023-11-01  305.369566  206.734428
2023-11-02  307.639168  200.674608
2023-11-03  311.386358  200.999074
2023-11-13 21:18:16,095 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
...             ...      ...
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1

[63 rows x 2 columns]
2023-11-13 21:18:16,101 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-27  314.600000  214.100000
2023-10-30  308.351776  217.789746
2023-10-31  300.801567  217.400793
2023-11-01  305.369566  206.734428
2023-11-02  307.639168  200.674608
...                ...         ...
2024-07-24  305.340356  254.471802
2024-07-25  305.154457  255.393780
2024-07-26  307.541923  254.732772
2024-07-29  307.368653  254.691257
2024-07-30  313.545324  257.258266

[188 rows x 2 columns]
2023-11-13 21:18:16,230 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:18:16,231 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864f8fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  308.351776  217.789746
2023-10-31  300.801567  217.400793
2023-11-01  305.369566  206.734428
2023-11-02  307.639168  200.674608
2023-11-03  311.386358  200.999074
...                ...         ...
2024-07-24  305.340356  254.471802
2024-07-25  305.154457  255.393780
2024-07-26  307.541923  254.732772
2024-07-29  307.368653  254.691257
2024-07-30  313.545324  257.258266

[187 rows x 2 columns], sim=0): 0.0h 0.0m 0s 244ms
2023-11-13 21:18:16,231 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 21:18:16,250 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:18:16,251 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  316.143731  215.254052
1  316.549136  223.779773
2  307.490150  218.316789
3  295.877752  207.775079
4  296.405698  207.386485
2023-11-13 21:18:16,366 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  316.143731  215.254052
2023-10-31  316.549136  223.779773
2023-11-01  307.490150  218.316789
2023-11-02  295.877752  207.775079
2023-11-03  296.405698  207.386485
2023-11-13 21:18:16,393 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
...             ...      ...
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1

[63 rows x 2 columns]
2023-11-13 21:18:16,396 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-27  314.600000  214.100000
2023-10-30  316.143731  215.254052
2023-10-31  316.549136  223.779773
2023-11-01  307.490150  218.316789
2023-11-02  295.877752  207.775079
...                ...         ...
2024-07-24  210.568356  164.474083
2024-07-25  209.792137  162.304392
2024-07-26  211.788987  162.721282
2024-07-29  212.145291  162.551723
2024-07-30  212.183152  161.527197

[188 rows x 2 columns]
2023-11-13 21:18:16,554 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:18:16,554 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864f8fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  316.143731  215.254052
2023-10-31  316.549136  223.779773
2023-11-01  307.490150  218.316789
2023-11-02  295.877752  207.775079
2023-11-03  296.405698  207.386485
...                ...         ...
2024-07-24  210.568356  164.474083
2024-07-25  209.792137  162.304392
2024-07-26  211.788987  162.721282
2024-07-29  212.145291  162.551723
2024-07-30  212.183152  161.527197

[187 rows x 2 columns], sim=1): 0.0h 0.0m 0s 185ms
2023-11-13 21:18:16,555 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 21:18:16,582 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:18:16,585 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  318.316754  210.197184
1  319.502202  209.884844
2  330.970863  205.852837
3  310.251344  202.770564
4  294.333096  197.112854
2023-11-13 21:18:16,733 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  318.316754  210.197184
2023-10-31  319.502202  209.884844
2023-11-01  330.970863  205.852837
2023-11-02  310.251344  202.770564
2023-11-03  294.333096  197.112854
2023-11-13 21:18:17,245 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
...             ...      ...
2023-10-23    327.6    215.9
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1

[63 rows x 2 columns]
2023-11-13 21:18:17,279 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-27  314.600000  214.100000
2023-10-30  318.316754  210.197184
2023-10-31  319.502202  209.884844
2023-11-01  330.970863  205.852837
2023-11-02  310.251344  202.770564
...                ...         ...
2024-07-24  233.801241  180.856465
2024-07-25  231.387679  181.515649
2024-07-26  230.548509  180.709723
2024-07-29  232.519427  182.271228
2024-07-30  232.594009  181.402484

[188 rows x 2 columns]
2023-11-13 21:18:17,401 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:18:17,402 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864f8fd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  318.316754  210.197184
2023-10-31  319.502202  209.884844
2023-11-01  330.970863  205.852837
2023-11-02  310.251344  202.770564
2023-11-03  294.333096  197.112854
...                ...         ...
2024-07-24  233.801241  180.856465
2024-07-25  231.387679  181.515649
2024-07-26  230.548509  180.709723
2024-07-29  232.519427  182.271228
2024-07-30  232.594009  181.402484

[187 rows x 2 columns], sim=2): 0.0h 0.0m 0s 664ms
2023-11-13 21:18:17,402 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864f8fd0>, n_sim=3): 0.0h 1.0m 12s 284ms
2023-11-13 21:18:17,402 - yq - INFO - Pricing the product on 2023-10-30 00:00:00
2023-11-13 21:18:17,402 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:18:17,412 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:18:17,736 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-11-13 21:18:17,737 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231030.csv
2023-11-13 21:18:17,744 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/lonn_call.csv
2023-11-13 21:18:17,747 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     295  29.500000  35.865021  0.0175
1  0.129123     300  26.974991  37.865707  0.0175
2  0.129123     305  22.500000  34.535404  0.0175
3  0.129123     310  18.049999  30.977629  0.0175
4  0.129123     315  16.500000  33.432877  0.0175
2023-11-13 21:18:17,749 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/sika_call.csv
2023-11-13 21:18:17,752 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     180  37.825005  35.644909  0.0175
1  0.129123     185  33.150002  34.194305  0.0175
2  0.129123     190  28.525002  32.353138  0.0175
3  0.129123     195  24.099998  30.941946  0.0175
4  0.129123     200  19.925003  29.785938  0.0175
2023-11-13 21:18:17,757 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     295  29.500000  0.0175
1  0.129123     300  26.974991  0.0175
2  0.129123     305  22.500000  0.0175
3  0.129123     310  18.049999  0.0175
4  0.129123     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.129123     180  37.825005  0.0175
1  0.129123     185  33.150002  0.0175
2  0.129123     190  28.525002  0.0175
3  0.129123     195  24.099998  0.0175
4  0.129123     200  19.925003  0.0175
2023-11-13 21:18:17,757 - yq - INFO - Calibrating LONZA on 2023-10-30 00:00:00.
2023-11-13 21:18:59,137 - yq - INFO - Calibrating SIKA on 2023-10-30 00:00:00.
2023-11-13 21:19:35,685 - yq - INFO - The S_0 for LONZA and SIKA are 311.5 and 214.1
2023-11-13 21:19:35,686 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 17 seconds
2023-11-13 21:19:35,695 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231030.csv
2023-11-13 21:19:35,695 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.93737622  0.0131966  -0.09881721  0.49833655  0.29745378]
 [ 9.36344864  0.01000039 -0.11259707  0.5037176   0.29831064]]
2023-11-13 21:19:35,696 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284c16dd0>, Timestamp('2023-10-30 00:00:00')): 0.0h 1.0m 17s 960ms
2023-11-13 21:19:35,709 - yq - INFO - The log returns list for all assets is: [Date
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
                ...   
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
                ...   
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:19:35,711 - yq - INFO - rho_S1S2 is 0.5288989583914336

2023-11-13 21:19:35,711 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52889896]
 [0.52889896 1.        ]]

2023-11-13 21:19:35,711 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49833655 0.52889896 0.        ]
 [0.49833655 1.         0.         0.        ]
 [0.52889896 0.         1.         0.5037176 ]
 [0.         0.         0.5037176  1.        ]]

2023-11-13 21:19:35,712 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49833655  0.86698367  0.          0.        ]
 [ 0.52889896 -0.30400766  0.79236685  0.        ]
 [ 0.          0.          0.63571261  0.77192582]]

2023-11-13 21:19:35,712 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284c16dd0>): 0.0h 0.0m 0s 16ms
2023-11-13 21:19:35,720 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 21:19:35,747 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:19:35,751 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  323.887607  215.989068
1  311.290119  193.912520
2  309.188481  187.298363
3  313.185124  189.594554
4  325.349594  195.988982
2023-11-13 21:19:35,897 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  323.887607  215.989068
2023-11-01  311.290119  193.912520
2023-11-02  309.188481  187.298363
2023-11-03  313.185124  189.594554
2023-11-06  325.349594  195.988982
2023-11-13 21:19:36,015 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
...             ...      ...
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1

[63 rows x 2 columns]
2023-11-13 21:19:36,018 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-30  311.500000  214.100000
2023-10-31  323.887607  215.989068
2023-11-01  311.290119  193.912520
2023-11-02  309.188481  187.298363
2023-11-03  313.185124  189.594554
...                ...         ...
2024-07-24  448.099550  234.549466
2024-07-25  442.015690  232.569989
2024-07-26  445.314093  232.335096
2024-07-29  449.440346  232.456881
2024-07-30  447.105128  230.143706

[187 rows x 2 columns]
2023-11-13 21:19:36,190 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:19:36,190 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c16dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  323.887607  215.989068
2023-11-01  311.290119  193.912520
2023-11-02  309.188481  187.298363
2023-11-03  313.185124  189.594554
2023-11-06  325.349594  195.988982
...                ...         ...
2024-07-24  448.099550  234.549466
2024-07-25  442.015690  232.569989
2024-07-26  445.314093  232.335096
2024-07-29  449.440346  232.456881
2024-07-30  447.105128  230.143706

[186 rows x 2 columns], sim=0): 0.0h 0.0m 0s 288ms
2023-11-13 21:19:36,191 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 21:19:36,219 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:19:36,221 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  307.637728  195.269672
1  295.956460  193.883328
2  282.040914  190.087691
3  281.565432  183.003261
4  284.189876  184.975453
2023-11-13 21:19:36,367 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  307.637728  195.269672
2023-11-01  295.956460  193.883328
2023-11-02  282.040914  190.087691
2023-11-03  281.565432  183.003261
2023-11-06  284.189876  184.975453
2023-11-13 21:19:36,402 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
...             ...      ...
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1

[63 rows x 2 columns]
2023-11-13 21:19:36,406 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-30  311.500000  214.100000
2023-10-31  307.637728  195.269672
2023-11-01  295.956460  193.883328
2023-11-02  282.040914  190.087691
2023-11-03  281.565432  183.003261
...                ...         ...
2024-07-24  167.188896  137.595209
2024-07-25  164.578292  136.330862
2024-07-26  165.886190  138.043302
2024-07-29  168.285708  137.983200
2024-07-30  169.571371  137.821318

[187 rows x 2 columns]
2023-11-13 21:19:36,579 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:19:36,579 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c16dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  307.637728  195.269672
2023-11-01  295.956460  193.883328
2023-11-02  282.040914  190.087691
2023-11-03  281.565432  183.003261
2023-11-06  284.189876  184.975453
...                ...         ...
2024-07-24  167.188896  137.595209
2024-07-25  164.578292  136.330862
2024-07-26  165.886190  138.043302
2024-07-29  168.285708  137.983200
2024-07-30  169.571371  137.821318

[186 rows x 2 columns], sim=1): 0.0h 0.0m 0s 208ms
2023-11-13 21:19:36,580 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 21:19:36,609 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:19:36,611 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  304.197030  207.942509
1  304.369753  210.129111
2  321.175517  213.310803
3  340.589445  223.284497
4  347.824868  234.404163
2023-11-13 21:19:36,761 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  304.197030  207.942509
2023-11-01  304.369753  210.129111
2023-11-02  321.175517  213.310803
2023-11-03  340.589445  223.284497
2023-11-06  347.824868  234.404163
2023-11-13 21:19:36,791 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
...             ...      ...
2023-10-24    330.9    215.7
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1

[63 rows x 2 columns]
2023-11-13 21:19:36,795 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-30  311.500000  214.100000
2023-10-31  304.197030  207.942509
2023-11-01  304.369753  210.129111
2023-11-02  321.175517  213.310803
2023-11-03  340.589445  223.284497
...                ...         ...
2024-07-24  373.459089  262.292298
2024-07-25  370.090389  260.659697
2024-07-26  366.848365  260.230265
2024-07-29  363.478110  258.814387
2024-07-30  363.659247  260.213459

[187 rows x 2 columns]
2023-11-13 21:19:36,975 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:19:36,975 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284c16dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  304.197030  207.942509
2023-11-01  304.369753  210.129111
2023-11-02  321.175517  213.310803
2023-11-03  340.589445  223.284497
2023-11-06  347.824868  234.404163
...                ...         ...
2024-07-24  373.459089  262.292298
2024-07-25  370.090389  260.659697
2024-07-26  366.848365  260.230265
2024-07-29  363.478110  258.814387
2024-07-30  363.659247  260.213459

[186 rows x 2 columns], sim=2): 0.0h 0.0m 0s 210ms
2023-11-13 21:19:36,975 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284c16dd0>, n_sim=3): 0.0h 1.0m 19s 242ms
2023-11-13 21:19:36,975 - yq - INFO - Pricing the product on 2023-10-31 00:00:00
2023-11-13 21:19:36,975 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:19:36,986 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:19:37,338 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-11-13 21:19:37,341 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231031.csv
2023-11-13 21:19:37,345 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/lonn_call.csv
2023-11-13 21:19:37,347 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     295  29.500000  35.865021  0.0175
1  0.126316     300  26.974991  37.865707  0.0175
2  0.126316     305  22.500000  34.535404  0.0175
3  0.126316     310  18.049999  30.977629  0.0175
4  0.126316     315  16.500000  33.432877  0.0175
2023-11-13 21:19:37,349 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/sika_call.csv
2023-11-13 21:19:37,352 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     180  37.825005  35.644909  0.0175
1  0.126316     185  33.150002  34.194305  0.0175
2  0.126316     190  28.525002  32.353138  0.0175
3  0.126316     195  24.099998  30.941946  0.0175
4  0.126316     200  19.925003  29.785938  0.0175
2023-11-13 21:19:37,360 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     295  29.500000  0.0175
1  0.126316     300  26.974991  0.0175
2  0.126316     305  22.500000  0.0175
3  0.126316     310  18.049999  0.0175
4  0.126316     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.126316     180  37.825005  0.0175
1  0.126316     185  33.150002  0.0175
2  0.126316     190  28.525002  0.0175
3  0.126316     195  24.099998  0.0175
4  0.126316     200  19.925003  0.0175
2023-11-13 21:19:37,360 - yq - INFO - Calibrating LONZA on 2023-10-31 00:00:00.
2023-11-13 21:20:18,768 - yq - INFO - Calibrating SIKA on 2023-10-31 00:00:00.
2023-11-13 21:20:54,068 - yq - INFO - The S_0 for LONZA and SIKA are 316.8 and 216.9
2023-11-13 21:20:54,073 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 16 seconds
2023-11-13 21:20:54,086 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231031.csv
2023-11-13 21:20:54,086 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.94263075  0.03115124 -0.09751854  0.62256243  0.18799086]
 [ 6.69986188  0.0138351  -0.09117852  0.52449893  0.29813161]]
2023-11-13 21:20:54,091 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b26e50>, Timestamp('2023-10-31 00:00:00')): 0.0h 1.0m 16s 752ms
2023-11-13 21:20:54,100 - yq - INFO - The log returns list for all assets is: [Date
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
                ...   
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
                ...   
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:20:54,102 - yq - INFO - rho_S1S2 is 0.5513577730599765

2023-11-13 21:20:54,102 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55135777]
 [0.55135777 1.        ]]

2023-11-13 21:20:54,102 - yq - INFO - Simplified correlation matrix is:
[[1.         0.62256243 0.55135777 0.        ]
 [0.62256243 1.         0.         0.        ]
 [0.55135777 0.         1.         0.52449893]
 [0.         0.         0.52449893 1.        ]]

2023-11-13 21:20:54,103 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.62256243  0.78257014  0.          0.        ]
 [ 0.55135777 -0.43862476  0.70965691  0.        ]
 [ 0.          0.          0.73908803  0.67360885]]

2023-11-13 21:20:54,103 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b26e50>): 0.0h 0.0m 0s 12ms
2023-11-13 21:20:54,111 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 21:20:54,132 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:20:54,135 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  309.108428  218.245749
1  306.206217  223.165494
2  309.675825  230.049448
3  295.499640  222.827016
4  288.281535  218.557451
2023-11-13 21:20:54,230 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  309.108428  218.245749
2023-11-02  306.206217  223.165494
2023-11-03  309.675825  230.049448
2023-11-06  295.499640  222.827016
2023-11-07  288.281535  218.557451
2023-11-13 21:20:54,324 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
...             ...      ...
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9

[63 rows x 2 columns]
2023-11-13 21:20:54,328 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-31  316.800000  216.900000
2023-11-01  309.108428  218.245749
2023-11-02  306.206217  223.165494
2023-11-03  309.675825  230.049448
2023-11-06  295.499640  222.827016
...                ...         ...
2024-07-24  257.332068  193.599765
2024-07-25  254.564362  191.747534
2024-07-26  254.901526  193.470893
2024-07-29  256.075448  194.866165
2024-07-30  255.117754  196.270513

[186 rows x 2 columns]
2023-11-13 21:20:54,452 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:20:54,452 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b26e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  309.108428  218.245749
2023-11-02  306.206217  223.165494
2023-11-03  309.675825  230.049448
2023-11-06  295.499640  222.827016
2023-11-07  288.281535  218.557451
...                ...         ...
2024-07-24  257.332068  193.599765
2024-07-25  254.564362  191.747534
2024-07-26  254.901526  193.470893
2024-07-29  256.075448  194.866165
2024-07-30  255.117754  196.270513

[185 rows x 2 columns], sim=0): 0.0h 0.0m 0s 218ms
2023-11-13 21:20:54,452 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 21:20:54,473 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:20:54,474 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  329.134074  211.873134
1  346.863759  216.391384
2  342.252210  217.755323
3  338.782709  218.706659
4  340.440183  222.662742
2023-11-13 21:20:54,594 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  329.134074  211.873134
2023-11-02  346.863759  216.391384
2023-11-03  342.252210  217.755323
2023-11-06  338.782709  218.706659
2023-11-07  340.440183  222.662742
2023-11-13 21:20:54,623 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
...             ...      ...
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9

[63 rows x 2 columns]
2023-11-13 21:20:54,627 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-31  316.800000  216.900000
2023-11-01  329.134074  211.873134
2023-11-02  346.863759  216.391384
2023-11-03  342.252210  217.755323
2023-11-06  338.782709  218.706659
...                ...         ...
2024-07-24  273.079546  182.281176
2024-07-25  270.728681  181.873914
2024-07-26  271.612858  181.399425
2024-07-29  273.320106  177.904915
2024-07-30  275.531896  178.384997

[186 rows x 2 columns]
2023-11-13 21:20:54,781 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:20:54,781 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b26e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  329.134074  211.873134
2023-11-02  346.863759  216.391384
2023-11-03  342.252210  217.755323
2023-11-06  338.782709  218.706659
2023-11-07  340.440183  222.662742
...                ...         ...
2024-07-24  273.079546  182.281176
2024-07-25  270.728681  181.873914
2024-07-26  271.612858  181.399425
2024-07-29  273.320106  177.904915
2024-07-30  275.531896  178.384997

[185 rows x 2 columns], sim=1): 0.0h 0.0m 0s 184ms
2023-11-13 21:20:54,782 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 21:20:54,811 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:20:54,813 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  321.173094  220.773570
1  319.356524  214.714173
2  326.550202  217.960169
3  324.573002  210.187911
4  327.471538  218.974947
2023-11-13 21:20:54,970 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  321.173094  220.773570
2023-11-02  319.356524  214.714173
2023-11-03  326.550202  217.960169
2023-11-06  324.573002  210.187911
2023-11-07  327.471538  218.974947
2023-11-13 21:20:55,005 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
...             ...      ...
2023-10-25    315.0    212.0
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9

[63 rows x 2 columns]
2023-11-13 21:20:55,008 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-10-31  316.800000  216.900000
2023-11-01  321.173094  220.773570
2023-11-02  319.356524  214.714173
2023-11-03  326.550202  217.960169
2023-11-06  324.573002  210.187911
...                ...         ...
2024-07-24  447.416799  207.706862
2024-07-25  442.965004  205.250558
2024-07-26  439.560539  204.360937
2024-07-29  439.031629  203.789128
2024-07-30  434.516021  204.457964

[186 rows x 2 columns]
2023-11-13 21:20:55,161 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:20:55,162 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b26e50>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  321.173094  220.773570
2023-11-02  319.356524  214.714173
2023-11-03  326.550202  217.960169
2023-11-06  324.573002  210.187911
2023-11-07  327.471538  218.974947
...                ...         ...
2024-07-24  447.416799  207.706862
2024-07-25  442.965004  205.250558
2024-07-26  439.560539  204.360937
2024-07-29  439.031629  203.789128
2024-07-30  434.516021  204.457964

[185 rows x 2 columns], sim=2): 0.0h 0.0m 0s 186ms
2023-11-13 21:20:55,162 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b26e50>, n_sim=3): 0.0h 1.0m 17s 827ms
2023-11-13 21:20:55,162 - yq - INFO - Pricing the product on 2023-11-01 00:00:00
2023-11-13 21:20:55,162 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:20:55,173 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:20:55,446 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-11-13 21:20:55,446 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231101.csv
2023-11-13 21:20:55,454 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/lonn_call.csv
2023-11-13 21:20:55,456 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     295  31.399994  37.997524  0.0175
1  0.123509     300  27.949997  37.785522  0.0175
2  0.123509     305  24.399994  36.817703  0.0175
3  0.123509     310  21.099991  35.968155  0.0175
4  0.123509     315  18.049999  35.185196  0.0175
2023-11-13 21:20:55,458 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/sika_call.csv
2023-11-13 21:20:55,460 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     180  37.175003  36.303440  0.0175
1  0.123509     185  32.424995  34.078827  0.0175
2  0.123509     190  27.874992  32.687176  0.0175
3  0.123509     195  23.425003  30.999638  0.0175
4  0.123509     200  19.175003  29.390894  0.0175
2023-11-13 21:20:55,464 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     295  31.399994  0.0175
1  0.123509     300  27.949997  0.0175
2  0.123509     305  24.399994  0.0175
3  0.123509     310  21.099991  0.0175
4  0.123509     315  18.049999  0.0175
   maturity  strike      price    rate
0  0.123509     180  37.175003  0.0175
1  0.123509     185  32.424995  0.0175
2  0.123509     190  27.874992  0.0175
3  0.123509     195  23.425003  0.0175
4  0.123509     200  19.175003  0.0175
2023-11-13 21:20:55,464 - yq - INFO - Calibrating LONZA on 2023-11-01 00:00:00.
2023-11-13 21:21:26,651 - yq - INFO - Calibrating SIKA on 2023-11-01 00:00:00.
2023-11-13 21:22:03,002 - yq - INFO - The S_0 for LONZA and SIKA are 318.6 and 215.2
2023-11-13 21:22:03,003 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 21:22:03,019 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231101.csv
2023-11-13 21:22:03,019 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.3524188   0.01048831 -0.11315553  0.49923294  0.31827702]
 [ 8.0715799   0.01093944 -0.10527251  0.50151127  0.3177621 ]]
2023-11-13 21:22:03,022 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28511c850>, Timestamp('2023-11-01 00:00:00')): 0.0h 1.0m 7s 576ms
2023-11-13 21:22:03,029 - yq - INFO - The log returns list for all assets is: [Date
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
                ...   
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
                ...   
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:22:03,031 - yq - INFO - rho_S1S2 is 0.5625703773759996

2023-11-13 21:22:03,032 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.56257038]
 [0.56257038 1.        ]]

2023-11-13 21:22:03,032 - yq - INFO - Simplified correlation matrix is:
[[1.         0.49923294 0.56257038 0.        ]
 [0.49923294 1.         0.         0.        ]
 [0.56257038 0.         1.         0.50151127]
 [0.         0.         0.50151127 1.        ]]

2023-11-13 21:22:03,033 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.49923294  0.86646781  0.          0.        ]
 [ 0.56257038 -0.3241363   0.76055916  0.        ]
 [ 0.          0.          0.65939811  0.75179395]]

2023-11-13 21:22:03,033 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x28511c850>): 0.0h 0.0m 0s 11ms
2023-11-13 21:22:03,039 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 21:22:03,060 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:22:03,062 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  308.296396  205.505180
1  276.275775  191.311019
2  272.249189  193.946809
3  278.514670  203.314531
4  262.286538  197.537548
2023-11-13 21:22:03,198 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  308.296396  205.505180
2023-11-03  276.275775  191.311019
2023-11-06  272.249189  193.946809
2023-11-07  278.514670  203.314531
2023-11-08  262.286538  197.537548
2023-11-13 21:22:03,316 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
...             ...      ...
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2

[63 rows x 2 columns]
2023-11-13 21:22:03,325 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-01  318.600000  215.200000
2023-11-02  308.296396  205.505180
2023-11-03  276.275775  191.311019
2023-11-06  272.249189  193.946809
2023-11-07  278.514670  203.314531
...                ...         ...
2024-07-24  241.503986  195.385731
2024-07-25  240.651337  196.142709
2024-07-26  239.882142  196.974973
2024-07-29  239.547186  196.158535
2024-07-30  238.880030  197.334930

[185 rows x 2 columns]
2023-11-13 21:22:03,496 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:22:03,497 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28511c850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  308.296396  205.505180
2023-11-03  276.275775  191.311019
2023-11-06  272.249189  193.946809
2023-11-07  278.514670  203.314531
2023-11-08  262.286538  197.537548
...                ...         ...
2024-07-24  241.503986  195.385731
2024-07-25  240.651337  196.142709
2024-07-26  239.882142  196.974973
2024-07-29  239.547186  196.158535
2024-07-30  238.880030  197.334930

[184 rows x 2 columns], sim=0): 0.0h 0.0m 0s 292ms
2023-11-13 21:22:03,497 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 21:22:03,520 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:22:03,522 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  320.745751  219.743494
1  320.299792  217.641675
2  315.227302  206.294518
3  315.951044  208.050919
4  295.081920  197.986450
2023-11-13 21:22:03,665 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  320.745751  219.743494
2023-11-03  320.299792  217.641675
2023-11-06  315.227302  206.294518
2023-11-07  315.951044  208.050919
2023-11-08  295.081920  197.986450
2023-11-13 21:22:03,691 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
...             ...      ...
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2

[63 rows x 2 columns]
2023-11-13 21:22:03,695 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-01  318.600000  215.200000
2023-11-02  320.745751  219.743494
2023-11-03  320.299792  217.641675
2023-11-06  315.227302  206.294518
2023-11-07  315.951044  208.050919
...                ...         ...
2024-07-24  403.966410  198.279018
2024-07-25  397.533734  196.917707
2024-07-26  397.172253  197.507729
2024-07-29  395.029982  197.668238
2024-07-30  397.620227  197.806824

[185 rows x 2 columns]
2023-11-13 21:22:03,853 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:22:03,854 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28511c850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  320.745751  219.743494
2023-11-03  320.299792  217.641675
2023-11-06  315.227302  206.294518
2023-11-07  315.951044  208.050919
2023-11-08  295.081920  197.986450
...                ...         ...
2024-07-24  403.966410  198.279018
2024-07-25  397.533734  196.917707
2024-07-26  397.172253  197.507729
2024-07-29  395.029982  197.668238
2024-07-30  397.620227  197.806824

[184 rows x 2 columns], sim=1): 0.0h 0.0m 0s 185ms
2023-11-13 21:22:03,854 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 21:22:03,881 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:22:03,883 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  304.966084  202.492044
1  308.115809  198.549640
2  320.831665  205.117734
3  308.531415  184.611829
4  306.238142  186.102010
2023-11-13 21:22:04,031 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  304.966084  202.492044
2023-11-03  308.115809  198.549640
2023-11-06  320.831665  205.117734
2023-11-07  308.531415  184.611829
2023-11-08  306.238142  186.102010
2023-11-13 21:22:04,064 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
...             ...      ...
2023-10-26    315.9    211.2
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2

[63 rows x 2 columns]
2023-11-13 21:22:04,069 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-01  318.600000  215.200000
2023-11-02  304.966084  202.492044
2023-11-03  308.115809  198.549640
2023-11-06  320.831665  205.117734
2023-11-07  308.531415  184.611829
...                ...         ...
2024-07-24  294.180228  164.349501
2024-07-25  291.282212  162.978667
2024-07-26  294.214541  162.723547
2024-07-29  291.921661  162.363384
2024-07-30  291.160464  163.572164

[185 rows x 2 columns]
2023-11-13 21:22:04,239 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:22:04,239 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28511c850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  304.966084  202.492044
2023-11-03  308.115809  198.549640
2023-11-06  320.831665  205.117734
2023-11-07  308.531415  184.611829
2023-11-08  306.238142  186.102010
...                ...         ...
2024-07-24  294.180228  164.349501
2024-07-25  291.282212  162.978667
2024-07-26  294.214541  162.723547
2024-07-29  291.921661  162.363384
2024-07-30  291.160464  163.572164

[184 rows x 2 columns], sim=2): 0.0h 0.0m 0s 204ms
2023-11-13 21:22:04,240 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x28511c850>, n_sim=3): 0.0h 1.0m 8s 796ms
2023-11-13 21:22:04,240 - yq - INFO - Pricing the product on 2023-11-02 00:00:00
2023-11-13 21:22:04,240 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:22:04,251 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:22:04,569 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-11-13 21:22:04,570 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231102.csv
2023-11-13 21:22:04,575 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/lonn_call.csv
2023-11-13 21:22:04,578 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     295  32.000000  37.357304  0.0175
1  0.120702     300  28.099991  36.198601  0.0175
2  0.120702     305  25.149994  36.973526  0.0175
3  0.120702     310  21.624992  35.745502  0.0175
4  0.120702     315  17.849997  33.472771  0.0175
2023-11-13 21:22:04,579 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/sika_call.csv
2023-11-13 21:22:04,582 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     185  39.800003  34.830147  0.0175
1  0.120702     190  35.099991  33.827091  0.0175
2  0.120702     195  30.449997  32.338520  0.0175
3  0.120702     200  25.949997  31.015888  0.0175
4  0.120702     210  17.550003  28.456898  0.0175
2023-11-13 21:22:04,586 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     295  32.000000  0.0175
1  0.120702     300  28.099991  0.0175
2  0.120702     305  25.149994  0.0175
3  0.120702     310  21.624992  0.0175
4  0.120702     315  17.849997  0.0175
   maturity  strike      price    rate
0  0.120702     185  39.800003  0.0175
1  0.120702     190  35.099991  0.0175
2  0.120702     195  30.449997  0.0175
3  0.120702     200  25.949997  0.0175
4  0.120702     210  17.550003  0.0175
2023-11-13 21:22:04,587 - yq - INFO - Calibrating LONZA on 2023-11-02 00:00:00.
2023-11-13 21:22:45,598 - yq - INFO - Calibrating SIKA on 2023-11-02 00:00:00.
2023-11-13 21:23:28,358 - yq - INFO - The S_0 for LONZA and SIKA are 320.0 and 223.8
2023-11-13 21:23:28,361 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 23 seconds
2023-11-13 21:23:28,378 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231102.csv
2023-11-13 21:23:28,378 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.08573454  0.01178333 -0.10026108  0.51803539  0.32851912]
 [ 7.29752045  0.01273326 -0.09001527  0.55709585  0.30967291]]
2023-11-13 21:23:28,381 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, Timestamp('2023-11-02 00:00:00')): 0.0h 1.0m 23s 811ms
2023-11-13 21:23:28,390 - yq - INFO - The log returns list for all assets is: [Date
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
                ...   
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
                ...   
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:23:28,392 - yq - INFO - rho_S1S2 is 0.5472672528704893

2023-11-13 21:23:28,392 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.54726725]
 [0.54726725 1.        ]]

2023-11-13 21:23:28,394 - yq - INFO - Simplified correlation matrix is:
[[1.         0.51803539 0.54726725 0.        ]
 [0.51803539 1.         0.         0.        ]
 [0.54726725 0.         1.         0.55709585]
 [0.         0.         0.55709585 1.        ]]

2023-11-13 21:23:28,395 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.51803539  0.85535918  0.          0.        ]
 [ 0.54726725 -0.33144416  0.76853323  0.        ]
 [ 0.          0.          0.72488193  0.68887313]]

2023-11-13 21:23:28,395 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>): 0.0h 0.0m 0s 15ms
2023-11-13 21:23:28,402 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 21:23:28,418 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:23:28,420 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  325.158352  221.376553
1  324.499414  222.645102
2  319.906226  219.404880
3  327.753392  217.705792
4  318.660093  218.396689
2023-11-13 21:23:28,522 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  325.158352  221.376553
2023-11-06  324.499414  222.645102
2023-11-07  319.906226  219.404880
2023-11-08  327.753392  217.705792
2023-11-09  318.660093  218.396689
2023-11-13 21:23:28,588 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
...             ...      ...
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8

[63 rows x 2 columns]
2023-11-13 21:23:28,591 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-02  320.000000  223.800000
2023-11-03  325.158352  221.376553
2023-11-06  324.499414  222.645102
2023-11-07  319.906226  219.404880
2023-11-08  327.753392  217.705792
...                ...         ...
2024-07-24  367.598772  211.755667
2024-07-25  368.689982  212.987890
2024-07-26  369.188351  212.759068
2024-07-29  370.421759  212.866128
2024-07-30  376.621815  218.467719

[184 rows x 2 columns]
2023-11-13 21:23:28,711 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:23:28,711 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  325.158352  221.376553
2023-11-06  324.499414  222.645102
2023-11-07  319.906226  219.404880
2023-11-08  327.753392  217.705792
2023-11-09  318.660093  218.396689
...                ...         ...
2024-07-24  367.598772  211.755667
2024-07-25  368.689982  212.987890
2024-07-26  369.188351  212.759068
2024-07-29  370.421759  212.866128
2024-07-30  376.621815  218.467719

[183 rows x 2 columns], sim=0): 0.0h 0.0m 0s 185ms
2023-11-13 21:23:28,711 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 21:23:28,730 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:23:28,731 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  314.673341  228.535843
1  326.873894  237.945392
2  337.502567  239.618439
3  343.227448  226.869682
4  341.962335  222.468469
2023-11-13 21:23:28,841 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  314.673341  228.535843
2023-11-06  326.873894  237.945392
2023-11-07  337.502567  239.618439
2023-11-08  343.227448  226.869682
2023-11-09  341.962335  222.468469
2023-11-13 21:23:28,864 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
...             ...      ...
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8

[63 rows x 2 columns]
2023-11-13 21:23:28,867 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-02  320.000000  223.800000
2023-11-03  314.673341  228.535843
2023-11-06  326.873894  237.945392
2023-11-07  337.502567  239.618439
2023-11-08  343.227448  226.869682
...                ...         ...
2024-07-24  231.593126  133.243577
2024-07-25  236.375628  134.745018
2024-07-26  234.281842  134.317983
2024-07-29  234.556503  134.566901
2024-07-30  236.062036  134.775642

[184 rows x 2 columns]
2023-11-13 21:23:29,010 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:23:29,010 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  314.673341  228.535843
2023-11-06  326.873894  237.945392
2023-11-07  337.502567  239.618439
2023-11-08  343.227448  226.869682
2023-11-09  341.962335  222.468469
...                ...         ...
2024-07-24  231.593126  133.243577
2024-07-25  236.375628  134.745018
2024-07-26  234.281842  134.317983
2024-07-29  234.556503  134.566901
2024-07-30  236.062036  134.775642

[183 rows x 2 columns], sim=1): 0.0h 0.0m 0s 166ms
2023-11-13 21:23:29,011 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 21:23:29,036 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:23:29,037 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  308.173302  212.947559
1  325.942534  209.547956
2  329.172844  217.809854
3  342.835025  221.431479
4  341.229874  219.438677
2023-11-13 21:23:29,182 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  308.173302  212.947559
2023-11-06  325.942534  209.547956
2023-11-07  329.172844  217.809854
2023-11-08  342.835025  221.431479
2023-11-09  341.229874  219.438677
2023-11-13 21:23:29,216 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
...             ...      ...
2023-10-27    314.6    214.1
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8

[63 rows x 2 columns]
2023-11-13 21:23:29,220 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-02  320.000000  223.800000
2023-11-03  308.173302  212.947559
2023-11-06  325.942534  209.547956
2023-11-07  329.172844  217.809854
2023-11-08  342.835025  221.431479
...                ...         ...
2024-07-24  335.715636  168.590851
2024-07-25  330.539256  167.201421
2024-07-26  328.455041  167.757701
2024-07-29  329.904696  167.526048
2024-07-30  330.486287  170.789761

[184 rows x 2 columns]
2023-11-13 21:23:29,366 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:23:29,367 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  308.173302  212.947559
2023-11-06  325.942534  209.547956
2023-11-07  329.172844  217.809854
2023-11-08  342.835025  221.431479
2023-11-09  341.229874  219.438677
...                ...         ...
2024-07-24  335.715636  168.590851
2024-07-25  330.539256  167.201421
2024-07-26  328.455041  167.757701
2024-07-29  329.904696  167.526048
2024-07-30  330.486287  170.789761

[183 rows x 2 columns], sim=2): 0.0h 0.0m 0s 180ms
2023-11-13 21:23:29,367 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, n_sim=3): 0.0h 1.0m 24s 800ms
2023-11-13 21:23:29,367 - yq - INFO - Pricing the product on 2023-11-03 00:00:00
2023-11-13 21:23:29,367 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:23:29,380 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:23:29,656 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-11-13 21:23:29,657 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231103.csv
2023-11-13 21:23:29,661 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231103/lonn_call.csv
2023-11-13 21:23:29,663 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     310  27.750001  33.530460  0.0175
1  0.117895     315  24.050004  32.782989  0.0175
2  0.117895     320  20.600007  31.983255  0.0175
3  0.117895     325  17.349999  31.317520  0.0175
4  0.117895     330  14.475001  30.779957  0.0175
2023-11-13 21:23:29,664 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231103/sika_call.csv
2023-11-13 21:23:29,666 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     195  32.450001  30.662168  0.0175
1  0.117895     200  27.650000  28.702374  0.0175
2  0.117895     210  18.850000  27.020227  0.0175
3  0.117895     220  11.300000  24.894001  0.0175
4  0.117895     230   5.725000  23.684481  0.0175
2023-11-13 21:23:29,670 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     310  27.750001  0.0175
1  0.117895     315  24.050004  0.0175
2  0.117895     320  20.600007  0.0175
3  0.117895     325  17.349999  0.0175
4  0.117895     330  14.475001  0.0175
   maturity  strike      price    rate
0  0.117895     195  32.450001  0.0175
1  0.117895     200  27.650000  0.0175
2  0.117895     210  18.850000  0.0175
3  0.117895     220  11.300000  0.0175
4  0.117895     230   5.725000  0.0175
2023-11-13 21:23:29,670 - yq - INFO - Calibrating LONZA on 2023-11-03 00:00:00.
2023-11-13 21:24:16,022 - yq - INFO - Calibrating SIKA on 2023-11-03 00:00:00.
2023-11-13 21:24:58,504 - yq - INFO - The S_0 for LONZA and SIKA are 329.1 and 227.8
2023-11-13 21:24:58,506 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 21:24:58,521 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231103.csv
2023-11-13 21:24:58,521 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.14591306  0.012267   -0.09823475  0.52377371  0.32951254]
 [ 9.70235482  0.01065402 -0.08209248  0.65309077  0.27897573]]
2023-11-13 21:24:58,523 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, Timestamp('2023-11-03 00:00:00')): 0.0h 1.0m 28s 867ms
2023-11-13 21:24:58,531 - yq - INFO - The log returns list for all assets is: [Date
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
                ...   
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
                ...   
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:24:58,533 - yq - INFO - rho_S1S2 is 0.5577107927282231

2023-11-13 21:24:58,533 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55771079]
 [0.55771079 1.        ]]

2023-11-13 21:24:58,533 - yq - INFO - Simplified correlation matrix is:
[[1.         0.52377371 0.55771079 0.        ]
 [0.52377371 1.         0.         0.        ]
 [0.55771079 0.         1.         0.65309077]
 [0.         0.         0.65309077 1.        ]]

2023-11-13 21:24:58,534 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.52377371  0.85185744  0.          0.        ]
 [ 0.55771079 -0.34291448  0.7558891   0.        ]
 [ 0.          0.          0.86400342  0.50348594]]

2023-11-13 21:24:58,534 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>): 0.0h 0.0m 0s 11ms
2023-11-13 21:24:58,542 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 21:24:58,559 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:24:58,562 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  341.181762  233.396973
1  353.641217  236.440864
2  377.448060  238.093262
3  390.306249  230.378740
4  389.637997  229.893544
2023-11-13 21:24:58,666 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  341.181762  233.396973
2023-11-07  353.641217  236.440864
2023-11-08  377.448060  238.093262
2023-11-09  390.306249  230.378740
2023-11-10  389.637997  229.893544
2023-11-13 21:24:58,759 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
...             ...      ...
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8

[63 rows x 2 columns]
2023-11-13 21:24:58,762 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-03  329.100000  227.800000
2023-11-06  341.181762  233.396973
2023-11-07  353.641217  236.440864
2023-11-08  377.448060  238.093262
2023-11-09  390.306249  230.378740
...                ...         ...
2024-07-24  558.182003  227.222561
2024-07-25  561.071297  227.733330
2024-07-26  561.433060  228.075175
2024-07-29  558.924875  230.048908
2024-07-30  555.508829  228.069735

[183 rows x 2 columns]
2023-11-13 21:24:58,895 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:24:58,895 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  341.181762  233.396973
2023-11-07  353.641217  236.440864
2023-11-08  377.448060  238.093262
2023-11-09  390.306249  230.378740
2023-11-10  389.637997  229.893544
...                ...         ...
2024-07-24  558.182003  227.222561
2024-07-25  561.071297  227.733330
2024-07-26  561.433060  228.075175
2024-07-29  558.924875  230.048908
2024-07-30  555.508829  228.069735

[182 rows x 2 columns], sim=0): 0.0h 0.0m 0s 226ms
2023-11-13 21:24:58,896 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 21:24:58,915 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:24:58,918 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  333.924867  239.445732
1  331.630675  236.494696
2  343.856461  243.503796
3  342.754942  240.658254
4  325.869731  236.666233
2023-11-13 21:24:59,046 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  333.924867  239.445732
2023-11-07  331.630675  236.494696
2023-11-08  343.856461  243.503796
2023-11-09  342.754942  240.658254
2023-11-10  325.869731  236.666233
2023-11-13 21:24:59,077 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
...             ...      ...
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8

[63 rows x 2 columns]
2023-11-13 21:24:59,081 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-03  329.100000  227.800000
2023-11-06  333.924867  239.445732
2023-11-07  331.630675  236.494696
2023-11-08  343.856461  243.503796
2023-11-09  342.754942  240.658254
...                ...         ...
2024-07-24  458.108482  371.771079
2024-07-25  455.989374  367.494104
2024-07-26  463.433944  372.041137
2024-07-29  460.787302  370.835111
2024-07-30  462.435791  374.955106

[183 rows x 2 columns]
2023-11-13 21:24:59,585 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:24:59,585 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  333.924867  239.445732
2023-11-07  331.630675  236.494696
2023-11-08  343.856461  243.503796
2023-11-09  342.754942  240.658254
2023-11-10  325.869731  236.666233
...                ...         ...
2024-07-24  458.108482  371.771079
2024-07-25  455.989374  367.494104
2024-07-26  463.433944  372.041137
2024-07-29  460.787302  370.835111
2024-07-30  462.435791  374.955106

[182 rows x 2 columns], sim=1): 0.0h 0.0m 0s 536ms
2023-11-13 21:24:59,587 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 21:24:59,614 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:24:59,616 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  339.168492  226.098678
1  345.517467  228.056274
2  359.042907  233.970448
3  344.107546  221.361647
4  346.047018  230.049706
2023-11-13 21:24:59,769 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  339.168492  226.098678
2023-11-07  345.517467  228.056274
2023-11-08  359.042907  233.970448
2023-11-09  344.107546  221.361647
2023-11-10  346.047018  230.049706
2023-11-13 21:24:59,795 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
...             ...      ...
2023-10-30    311.5    214.1
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8

[63 rows x 2 columns]
2023-11-13 21:24:59,799 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-03  329.100000  227.800000
2023-11-06  339.168492  226.098678
2023-11-07  345.517467  228.056274
2023-11-08  359.042907  233.970448
2023-11-09  344.107546  221.361647
...                ...         ...
2024-07-24  389.836457  264.962026
2024-07-25  390.524019  264.661570
2024-07-26  393.954281  265.429256
2024-07-29  390.559990  263.434820
2024-07-30  390.112064  262.364848

[183 rows x 2 columns]
2023-11-13 21:24:59,958 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:24:59,959 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  339.168492  226.098678
2023-11-07  345.517467  228.056274
2023-11-08  359.042907  233.970448
2023-11-09  344.107546  221.361647
2023-11-10  346.047018  230.049706
...                ...         ...
2024-07-24  389.836457  264.962026
2024-07-25  390.524019  264.661570
2024-07-26  393.954281  265.429256
2024-07-29  390.559990  263.434820
2024-07-30  390.112064  262.364848

[182 rows x 2 columns], sim=2): 0.0h 0.0m 0s 186ms
2023-11-13 21:24:59,959 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, n_sim=3): 0.0h 1.0m 30s 305ms
2023-11-13 21:24:59,959 - yq - INFO - Pricing the product on 2023-11-06 00:00:00
2023-11-13 21:24:59,959 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:24:59,968 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:25:00,245 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-11-13 21:25:00,246 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231106.csv
2023-11-13 21:25:00,250 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231106/lonn_call.csv
2023-11-13 21:25:00,252 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     310  27.750001  33.530460  0.0175
1  0.109474     315  24.050004  32.782989  0.0175
2  0.109474     320  20.600007  31.983255  0.0175
3  0.109474     325  17.349999  31.317520  0.0175
4  0.109474     330  14.475001  30.779957  0.0175
2023-11-13 21:25:00,254 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231106/sika_call.csv
2023-11-13 21:25:00,256 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     195  32.450001  30.662168  0.0175
1  0.109474     200  27.650000  28.702374  0.0175
2  0.109474     210  18.850000  27.020227  0.0175
3  0.109474     220  11.300000  24.894001  0.0175
4  0.109474     230   5.725000  23.684481  0.0175
2023-11-13 21:25:00,261 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     310  27.750001  0.0175
1  0.109474     315  24.050004  0.0175
2  0.109474     320  20.600007  0.0175
3  0.109474     325  17.349999  0.0175
4  0.109474     330  14.475001  0.0175
   maturity  strike      price    rate
0  0.109474     195  32.450001  0.0175
1  0.109474     200  27.650000  0.0175
2  0.109474     210  18.850000  0.0175
3  0.109474     220  11.300000  0.0175
4  0.109474     230   5.725000  0.0175
2023-11-13 21:25:00,261 - yq - INFO - Calibrating LONZA on 2023-11-06 00:00:00.
2023-11-13 21:25:49,784 - yq - INFO - Calibrating SIKA on 2023-11-06 00:00:00.
2023-11-13 21:26:32,558 - yq - INFO - The S_0 for LONZA and SIKA are 331.4 and 225.0
2023-11-13 21:26:32,559 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 32 seconds
2023-11-13 21:26:32,569 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231106.csv
2023-11-13 21:26:32,569 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.61058481  0.01275438 -0.08358527  0.62510834  0.32264301]
 [ 9.78228609  0.01000225 -0.09454167  0.60896677  0.32924527]]
2023-11-13 21:26:32,570 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, Timestamp('2023-11-06 00:00:00')): 0.0h 1.0m 32s 325ms
2023-11-13 21:26:32,578 - yq - INFO - The log returns list for all assets is: [Date
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
                ...   
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
                ...   
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:26:32,580 - yq - INFO - rho_S1S2 is 0.5466361685208238

2023-11-13 21:26:32,580 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.54663617]
 [0.54663617 1.        ]]

2023-11-13 21:26:32,580 - yq - INFO - Simplified correlation matrix is:
[[1.         0.62510834 0.54663617 0.        ]
 [0.62510834 1.         0.         0.        ]
 [0.54663617 0.         1.         0.60896677]
 [0.         0.         0.60896677 1.        ]]

2023-11-13 21:26:32,581 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.62510834  0.780538    0.          0.        ]
 [ 0.54663617 -0.43778372  0.71381672  0.        ]
 [ 0.          0.          0.85311362  0.52172516]]

2023-11-13 21:26:32,581 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>): 0.0h 0.0m 0s 10ms
2023-11-13 21:26:32,590 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 21:26:32,607 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:26:32,610 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  302.872989  204.232227
1  308.868873  214.423676
2  304.429808  208.511982
3  301.258071  206.714409
4  302.608424  200.978981
2023-11-13 21:26:32,716 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  302.872989  204.232227
2023-11-08  308.868873  214.423676
2023-11-09  304.429808  208.511982
2023-11-10  301.258071  206.714409
2023-11-13  302.608424  200.978981
2023-11-13 21:26:32,815 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
...             ...      ...
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0

[63 rows x 2 columns]
2023-11-13 21:26:32,818 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-06  331.400000  225.000000
2023-11-07  302.872989  204.232227
2023-11-08  308.868873  214.423676
2023-11-09  304.429808  208.511982
2023-11-10  301.258071  206.714409
...                ...         ...
2024-07-24  384.069687  193.996949
2024-07-25  385.542469  193.901835
2024-07-26  385.185081  194.493114
2024-07-29  386.211703  194.698946
2024-07-30  387.172258  194.466888

[182 rows x 2 columns]
2023-11-13 21:26:32,938 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:26:32,938 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  302.872989  204.232227
2023-11-08  308.868873  214.423676
2023-11-09  304.429808  208.511982
2023-11-10  301.258071  206.714409
2023-11-13  302.608424  200.978981
...                ...         ...
2024-07-24  384.069687  193.996949
2024-07-25  385.542469  193.901835
2024-07-26  385.185081  194.493114
2024-07-29  386.211703  194.698946
2024-07-30  387.172258  194.466888

[181 rows x 2 columns], sim=0): 0.0h 0.0m 0s 219ms
2023-11-13 21:26:32,939 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 21:26:32,959 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:26:32,960 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  348.150092  233.148423
1  373.984410  224.786201
2  371.014913  226.456370
3  378.509640  238.867254
4  379.678815  233.366091
2023-11-13 21:26:33,090 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  348.150092  233.148423
2023-11-08  373.984410  224.786201
2023-11-09  371.014913  226.456370
2023-11-10  378.509640  238.867254
2023-11-13  379.678815  233.366091
2023-11-13 21:26:33,126 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
...             ...      ...
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0

[63 rows x 2 columns]
2023-11-13 21:26:33,130 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-06  331.400000  225.000000
2023-11-07  348.150092  233.148423
2023-11-08  373.984410  224.786201
2023-11-09  371.014913  226.456370
2023-11-10  378.509640  238.867254
...                ...         ...
2024-07-24  303.771500  221.211793
2024-07-25  306.658925  223.925805
2024-07-26  304.538759  222.689574
2024-07-29  305.058287  221.956427
2024-07-30  306.025910  224.675046

[182 rows x 2 columns]
2023-11-13 21:26:33,314 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:26:33,314 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  348.150092  233.148423
2023-11-08  373.984410  224.786201
2023-11-09  371.014913  226.456370
2023-11-10  378.509640  238.867254
2023-11-13  379.678815  233.366091
...                ...         ...
2024-07-24  303.771500  221.211793
2024-07-25  306.658925  223.925805
2024-07-26  304.538759  222.689574
2024-07-29  305.058287  221.956427
2024-07-30  306.025910  224.675046

[181 rows x 2 columns], sim=1): 0.0h 0.0m 0s 219ms
2023-11-13 21:26:33,315 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 21:26:33,341 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:26:33,343 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  330.219618  236.919430
1  339.319614  249.800451
2  346.669337  244.069916
3  341.863877  237.397765
4  325.499208  224.822746
2023-11-13 21:26:33,507 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  330.219618  236.919430
2023-11-08  339.319614  249.800451
2023-11-09  346.669337  244.069916
2023-11-10  341.863877  237.397765
2023-11-13  325.499208  224.822746
2023-11-13 21:26:33,632 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
...             ...      ...
2023-10-31    316.8    216.9
2023-11-01    318.6    215.2
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0

[63 rows x 2 columns]
2023-11-13 21:26:33,636 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-06  331.400000  225.000000
2023-11-07  330.219618  236.919430
2023-11-08  339.319614  249.800451
2023-11-09  346.669337  244.069916
2023-11-10  341.863877  237.397765
...                ...         ...
2024-07-24  327.865563  214.170262
2024-07-25  330.511545  215.346920
2024-07-26  334.072769  216.561586
2024-07-29  337.607138  218.308986
2024-07-30  335.726541  218.061386

[182 rows x 2 columns]
2023-11-13 21:26:33,787 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:26:33,787 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  330.219618  236.919430
2023-11-08  339.319614  249.800451
2023-11-09  346.669337  244.069916
2023-11-10  341.863877  237.397765
2023-11-13  325.499208  224.822746
...                ...         ...
2024-07-24  327.865563  214.170262
2024-07-25  330.511545  215.346920
2024-07-26  334.072769  216.561586
2024-07-29  337.607138  218.308986
2024-07-30  335.726541  218.061386

[181 rows x 2 columns], sim=2): 0.0h 0.0m 0s 275ms
2023-11-13 21:26:33,788 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13fd65f10>, n_sim=3): 0.0h 1.0m 33s 544ms
2023-11-13 21:26:33,788 - yq - INFO - Pricing the product on 2023-11-07 00:00:00
2023-11-13 21:26:33,788 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:26:33,798 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:26:34,142 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-11-13 21:26:34,143 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231107.csv
2023-11-13 21:26:34,148 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231107/lonn_call.csv
2023-11-13 21:26:34,150 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     310  30.399994  34.911545  0.0175
1  0.106667     315  26.449997  33.783463  0.0175
2  0.106667     320  22.849991  33.080822  0.0175
3  0.106667     325  19.349995  32.058968  0.0175
4  0.106667     330  16.199997  31.287321  0.0175
2023-11-13 21:26:34,153 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231107/sika_call.csv
2023-11-13 21:26:34,157 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     185  42.399994  33.494320  0.0175
1  0.106667     190  37.500000  31.443699  0.0175
2  0.106667     195  32.674995  29.894207  0.0175
3  0.106667     200  27.925003  28.326893  0.0175
4  0.106667     210  18.974998  26.093891  0.0175
2023-11-13 21:26:34,161 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     310  30.399994  0.0175
1  0.106667     315  26.449997  0.0175
2  0.106667     320  22.849991  0.0175
3  0.106667     325  19.349995  0.0175
4  0.106667     330  16.199997  0.0175
   maturity  strike      price    rate
0  0.106667     185  42.399994  0.0175
1  0.106667     190  37.500000  0.0175
2  0.106667     195  32.674995  0.0175
3  0.106667     200  27.925003  0.0175
4  0.106667     210  18.974998  0.0175
2023-11-13 21:26:34,162 - yq - INFO - Calibrating LONZA on 2023-11-07 00:00:00.
2023-11-13 21:27:11,975 - yq - INFO - Calibrating SIKA on 2023-11-07 00:00:00.
2023-11-13 21:27:41,386 - yq - INFO - The S_0 for LONZA and SIKA are 331.4 and 226.4
2023-11-13 21:27:41,387 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 21:27:41,394 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231107.csv
2023-11-13 21:27:41,394 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  2.10126987e-01 -1.75539879e-07  9.38343283e-01
   1.52863484e-02]
 [ 2.93175696e+00  5.23014105e-02 -7.32099732e-02  7.63355834e-01
   1.96985490e-01]]
2023-11-13 21:27:41,399 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14cb009d0>, Timestamp('2023-11-07 00:00:00')): 0.0h 1.0m 7s 257ms
2023-11-13 21:27:41,408 - yq - INFO - The log returns list for all assets is: [Date
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
                ...   
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
                ...   
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:27:41,410 - yq - INFO - rho_S1S2 is 0.5528754507176123

2023-11-13 21:27:41,410 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55287545]
 [0.55287545 1.        ]]

2023-11-13 21:27:41,410 - yq - INFO - Simplified correlation matrix is:
[[1.         0.93834328 0.55287545 0.        ]
 [0.93834328 1.         0.         0.        ]
 [0.55287545 0.         1.         0.76335583]
 [0.         0.         0.76335583 1.        ]]

2023-11-13 21:27:41,411 - yq - ERROR - Error during simulation on 2023-11-07 00:00:00: Matrix is not positive definite
2023-11-13 21:27:41,411 - yq - INFO - Pricing the product on 2023-11-08 00:00:00
2023-11-13 21:27:41,411 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:27:41,432 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:27:41,631 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-11-13 21:27:41,632 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231108.csv
2023-11-13 21:27:41,636 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231108/lonn_call.csv
2023-11-13 21:27:41,638 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     310  30.399994  34.911545  0.0175
1   0.10386     315  26.449997  33.783463  0.0175
2   0.10386     320  22.849991  33.080822  0.0175
3   0.10386     325  19.349995  32.058968  0.0175
4   0.10386     330  16.199997  31.287321  0.0175
2023-11-13 21:27:41,639 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231108/sika_call.csv
2023-11-13 21:27:41,640 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     185  42.399994  33.494320  0.0175
1   0.10386     190  37.500000  31.443699  0.0175
2   0.10386     195  32.674995  29.894207  0.0175
3   0.10386     200  27.925003  28.326893  0.0175
4   0.10386     210  18.974998  26.093891  0.0175
2023-11-13 21:27:41,643 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     310  30.399994  0.0175
1   0.10386     315  26.449997  0.0175
2   0.10386     320  22.849991  0.0175
3   0.10386     325  19.349995  0.0175
4   0.10386     330  16.199997  0.0175
   maturity  strike      price    rate
0   0.10386     185  42.399994  0.0175
1   0.10386     190  37.500000  0.0175
2   0.10386     195  32.674995  0.0175
3   0.10386     200  27.925003  0.0175
4   0.10386     210  18.974998  0.0175
2023-11-13 21:27:41,644 - yq - INFO - Calibrating LONZA on 2023-11-08 00:00:00.
2023-11-13 21:28:12,086 - yq - INFO - Calibrating SIKA on 2023-11-08 00:00:00.
2023-11-13 21:28:45,530 - yq - INFO - The S_0 for LONZA and SIKA are 334.4 and 226.5
2023-11-13 21:28:45,531 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 3 seconds
2023-11-13 21:28:45,545 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231108.csv
2023-11-13 21:28:45,545 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999999e+00  1.81177869e-01 -1.14693953e-06  5.25873736e-01
   1.37192174e-01]
 [ 9.67859606e+00  2.08054654e-02 -2.36917252e-01  4.06492595e-01
   3.79661923e-01]]
2023-11-13 21:28:45,546 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x28514a290>, Timestamp('2023-11-08 00:00:00')): 0.0h 1.0m 3s 915ms
2023-11-13 21:28:45,557 - yq - INFO - The log returns list for all assets is: [Date
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
                ...   
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
2023-11-08    0.009012
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
                ...   
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
2023-11-08    0.000442
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:28:45,563 - yq - INFO - rho_S1S2 is 0.553065240885675

2023-11-13 21:28:45,563 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55306524]
 [0.55306524 1.        ]]

2023-11-13 21:28:45,563 - yq - INFO - Simplified correlation matrix is:
[[1.         0.52587374 0.55306524 0.        ]
 [0.52587374 1.         0.         0.        ]
 [0.55306524 0.         1.         0.40649259]
 [0.         0.         0.40649259 1.        ]]

2023-11-13 21:28:45,564 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.52587374  0.85056265  0.          0.        ]
 [ 0.55306524 -0.34194129  0.7597335   0.        ]
 [ 0.          0.          0.53504629  0.84482274]]

2023-11-13 21:28:45,564 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x28514a290>): 0.0h 0.0m 0s 18ms
2023-11-13 21:28:45,579 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 21:28:45,606 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:28:45,610 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  338.571655  230.787385
1  323.107008  225.263519
2  316.543141  228.588557
3  303.108831  226.541295
4  297.294823  225.409706
2023-11-13 21:28:45,769 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  338.571655  230.787385
2023-11-10  323.107008  225.263519
2023-11-13  316.543141  228.588557
2023-11-14  303.108831  226.541295
2023-11-15  297.294823  225.409706
2023-11-13 21:28:45,894 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
...             ...      ...
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5

[63 rows x 2 columns]
2023-11-13 21:28:45,899 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-08  334.400000  226.500000
2023-11-09  338.571655  230.787385
2023-11-10  323.107008  225.263519
2023-11-13  316.543141  228.588557
2023-11-14  303.108831  226.541295
...                ...         ...
2024-07-24  269.330120  232.956061
2024-07-25  268.820257  233.816115
2024-07-26  273.687651  235.217985
2024-07-29  274.651532  235.001865
2024-07-30  261.047080  233.002379

[180 rows x 2 columns]
2023-11-13 21:28:46,098 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:28:46,098 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28514a290>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  338.571655  230.787385
2023-11-10  323.107008  225.263519
2023-11-13  316.543141  228.588557
2023-11-14  303.108831  226.541295
2023-11-15  297.294823  225.409706
...                ...         ...
2024-07-24  269.330120  232.956061
2024-07-25  268.820257  233.816115
2024-07-26  273.687651  235.217985
2024-07-29  274.651532  235.001865
2024-07-30  261.047080  233.002379

[179 rows x 2 columns], sim=0): 0.0h 0.0m 0s 325ms
2023-11-13 21:28:46,099 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 21:28:46,144 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:28:46,146 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  335.390737  222.034514
1  352.823563  223.380231
2  348.707509  223.618782
3  355.136407  235.202064
4  360.289130  233.519834
2023-11-13 21:28:46,294 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  335.390737  222.034514
2023-11-10  352.823563  223.380231
2023-11-13  348.707509  223.618782
2023-11-14  355.136407  235.202064
2023-11-15  360.289130  233.519834
2023-11-13 21:28:46,325 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
...             ...      ...
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5

[63 rows x 2 columns]
2023-11-13 21:28:46,329 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-08  334.400000  226.500000
2023-11-09  335.390737  222.034514
2023-11-10  352.823563  223.380231
2023-11-13  348.707509  223.618782
2023-11-14  355.136407  235.202064
...                ...         ...
2024-07-24  366.857585  188.941761
2024-07-25  367.592978  187.925599
2024-07-26  368.297875  190.351539
2024-07-29  367.035512  191.153583
2024-07-30  352.705317  186.886306

[180 rows x 2 columns]
2023-11-13 21:28:46,500 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:28:46,500 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28514a290>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  335.390737  222.034514
2023-11-10  352.823563  223.380231
2023-11-13  348.707509  223.618782
2023-11-14  355.136407  235.202064
2023-11-15  360.289130  233.519834
...                ...         ...
2024-07-24  366.857585  188.941761
2024-07-25  367.592978  187.925599
2024-07-26  368.297875  190.351539
2024-07-29  367.035512  191.153583
2024-07-30  352.705317  186.886306

[179 rows x 2 columns], sim=1): 0.0h 0.0m 0s 202ms
2023-11-13 21:28:46,501 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 21:28:46,525 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:28:46,527 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  338.204514  224.444257
1  327.651286  222.856368
2  335.392691  224.141212
3  340.497864  227.763457
4  340.036270  223.037046
2023-11-13 21:28:46,664 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  338.204514  224.444257
2023-11-10  327.651286  222.856368
2023-11-13  335.392691  224.141212
2023-11-14  340.497864  227.763457
2023-11-15  340.036270  223.037046
2023-11-13 21:28:46,693 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
...             ...      ...
2023-11-02    320.0    223.8
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5

[63 rows x 2 columns]
2023-11-13 21:28:46,696 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-08  334.400000  226.500000
2023-11-09  338.204514  224.444257
2023-11-10  327.651286  222.856368
2023-11-13  335.392691  224.141212
2023-11-14  340.497864  227.763457
...                ...         ...
2024-07-24  256.838058  214.048681
2024-07-25  252.159198  211.991548
2024-07-26  255.851532  213.248649
2024-07-29  254.179778  215.854312
2024-07-30  253.161697  215.630604

[180 rows x 2 columns]
2023-11-13 21:28:46,860 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:28:46,860 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x28514a290>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  338.204514  224.444257
2023-11-10  327.651286  222.856368
2023-11-13  335.392691  224.141212
2023-11-14  340.497864  227.763457
2023-11-15  340.036270  223.037046
...                ...         ...
2024-07-24  256.838058  214.048681
2024-07-25  252.159198  211.991548
2024-07-26  255.851532  213.248649
2024-07-29  254.179778  215.854312
2024-07-30  253.161697  215.630604

[179 rows x 2 columns], sim=2): 0.0h 0.0m 0s 193ms
2023-11-13 21:28:46,860 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x28514a290>, n_sim=3): 0.0h 1.0m 5s 230ms
2023-11-13 21:28:46,861 - yq - INFO - Pricing the product on 2023-11-09 00:00:00
2023-11-13 21:28:46,861 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:28:46,879 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:28:47,218 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-11-13 21:28:47,219 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231109.csv
2023-11-13 21:28:47,222 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231109/lonn_call.csv
2023-11-13 21:28:47,225 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     315  29.199997  31.831684  0.0175
1  0.101053     320  25.299988  31.102568  0.0175
2  0.101053     325  21.599991  30.327896  0.0175
3  0.101053     330  18.149998  29.569244  0.0175
4  0.101053     335  15.025000  28.936207  0.0175
2023-11-13 21:28:47,226 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231109/sika_call.csv
2023-11-13 21:28:47,229 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     190  39.575005  33.059349  0.0175
1  0.101053     195  34.674995  30.623409  0.0175
2  0.101053     200  29.875000  28.943167  0.0175
3  0.101053     210  20.724998  26.483250  0.0175
4  0.101053     220  12.725000  24.856747  0.0175
2023-11-13 21:28:47,235 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     315  29.199997  0.0175
1  0.101053     320  25.299988  0.0175
2  0.101053     325  21.599991  0.0175
3  0.101053     330  18.149998  0.0175
4  0.101053     335  15.025000  0.0175
   maturity  strike      price    rate
0  0.101053     190  39.575005  0.0175
1  0.101053     195  34.674995  0.0175
2  0.101053     200  29.875000  0.0175
3  0.101053     210  20.724998  0.0175
4  0.101053     220  12.725000  0.0175
2023-11-13 21:28:47,235 - yq - INFO - Calibrating LONZA on 2023-11-09 00:00:00.
2023-11-13 21:29:27,167 - yq - INFO - Calibrating SIKA on 2023-11-09 00:00:00.
2023-11-13 21:30:02,470 - yq - INFO - The S_0 for LONZA and SIKA are 339.2 and 229.4
2023-11-13 21:30:02,472 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 21:30:02,480 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/1.5/20231109.csv
2023-11-13 21:30:02,480 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.9332098   0.0178582  -0.20056325  0.47968509  0.28729655]
 [ 9.73868632  0.04016168 -0.26759691  0.37551892  0.42819631]]
2023-11-13 21:30:02,481 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284d09dd0>, Timestamp('2023-11-09 00:00:00')): 0.0h 1.0m 15s 263ms
2023-11-13 21:30:02,485 - yq - INFO - The log returns list for all assets is: [Date
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
                ...   
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
2023-11-08    0.009012
2023-11-09    0.014252
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
                ...   
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
2023-11-08    0.000442
2023-11-09    0.012722
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:30:02,492 - yq - INFO - rho_S1S2 is 0.5578749895424259

2023-11-13 21:30:02,492 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55787499]
 [0.55787499 1.        ]]

2023-11-13 21:30:02,492 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47968509 0.55787499 0.        ]
 [0.47968509 1.         0.         0.        ]
 [0.55787499 0.         1.         0.37551892]
 [0.         0.         0.37551892 1.        ]]

2023-11-13 21:30:02,493 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47968509  0.87744072  0.          0.        ]
 [ 0.55787499 -0.30498278  0.77185555  0.        ]
 [ 0.          0.          0.4865145   0.8736725 ]]

2023-11-13 21:30:02,493 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284d09dd0>): 0.0h 0.0m 0s 12ms
2023-11-13 21:30:02,497 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 21:30:02,513 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:30:02,515 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  335.174976  227.519936
1  323.421432  209.967491
2  309.255994  204.766144
3  302.972813  188.942644
4  313.222940  193.206720
2023-11-13 21:30:02,611 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  335.174976  227.519936
2023-11-13  323.421432  209.967491
2023-11-14  309.255994  204.766144
2023-11-15  302.972813  188.942644
2023-11-16  313.222940  193.206720
2023-11-13 21:30:02,666 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
...             ...      ...
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5
2023-11-09    339.2    229.4

[63 rows x 2 columns]
2023-11-13 21:30:02,670 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-09  339.200000  229.400000
2023-11-10  335.174976  227.519936
2023-11-13  323.421432  209.967491
2023-11-14  309.255994  204.766144
2023-11-15  302.972813  188.942644
...                ...         ...
2024-07-24  313.594976  174.690966
2024-07-25  309.652187  172.550655
2024-07-26  311.562466  172.044105
2024-07-29  312.489882  170.465859
2024-07-30  311.762252  171.193094

[179 rows x 2 columns]
2023-11-13 21:30:02,794 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:30:02,794 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284d09dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  335.174976  227.519936
2023-11-13  323.421432  209.967491
2023-11-14  309.255994  204.766144
2023-11-15  302.972813  188.942644
2023-11-16  313.222940  193.206720
...                ...         ...
2024-07-24  313.594976  174.690966
2024-07-25  309.652187  172.550655
2024-07-26  311.562466  172.044105
2024-07-29  312.489882  170.465859
2024-07-30  311.762252  171.193094

[178 rows x 2 columns], sim=0): 0.0h 0.0m 0s 180ms
2023-11-13 21:30:02,794 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 21:30:02,813 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:30:02,814 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  329.368595  234.859216
1  330.825082  238.984355
2  338.859470  241.642274
3  333.315656  246.340635
4  330.775834  247.995288
2023-11-13 21:30:02,934 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  329.368595  234.859216
2023-11-13  330.825082  238.984355
2023-11-14  338.859470  241.642274
2023-11-15  333.315656  246.340635
2023-11-16  330.775834  247.995288
2023-11-13 21:30:02,959 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
...             ...      ...
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5
2023-11-09    339.2    229.4

[63 rows x 2 columns]
2023-11-13 21:30:02,963 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-09  339.200000  229.400000
2023-11-10  329.368595  234.859216
2023-11-13  330.825082  238.984355
2023-11-14  338.859470  241.642274
2023-11-15  333.315656  246.340635
...                ...         ...
2024-07-24  251.057825  177.920590
2024-07-25  250.864455  182.613520
2024-07-26  250.325362  182.598253
2024-07-29  249.723517  181.405530
2024-07-30  252.778440  182.856658

[179 rows x 2 columns]
2023-11-13 21:30:03,109 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:30:03,109 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284d09dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  329.368595  234.859216
2023-11-13  330.825082  238.984355
2023-11-14  338.859470  241.642274
2023-11-15  333.315656  246.340635
2023-11-16  330.775834  247.995288
...                ...         ...
2024-07-24  251.057825  177.920590
2024-07-25  250.864455  182.613520
2024-07-26  250.325362  182.598253
2024-07-29  249.723517  181.405530
2024-07-30  252.778440  182.856658

[178 rows x 2 columns], sim=1): 0.0h 0.0m 0s 169ms
2023-11-13 21:30:03,109 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 21:30:03,132 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:30:03,133 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  352.245048  253.395681
1  352.294083  260.103582
2  350.457632  250.143706
3  348.731276  259.429155
4  360.458546  267.030273
2023-11-13 21:30:03,280 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  352.245048  253.395681
2023-11-13  352.294083  260.103582
2023-11-14  350.457632  250.143706
2023-11-15  348.731276  259.429155
2023-11-16  360.458546  267.030273
2023-11-13 21:30:03,307 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
...             ...      ...
2023-11-03    329.1    227.8
2023-11-06    331.4    225.0
2023-11-07    331.4    226.4
2023-11-08    334.4    226.5
2023-11-09    339.2    229.4

[63 rows x 2 columns]
2023-11-13 21:30:03,311 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-11-09  339.200000  229.400000
2023-11-10  352.245048  253.395681
2023-11-13  352.294083  260.103582
2023-11-14  350.457632  250.143706
2023-11-15  348.731276  259.429155
...                ...         ...
2024-07-24  355.478545  319.406143
2024-07-25  350.649710  313.685409
2024-07-26  352.288612  315.827563
2024-07-29  354.329947  316.526194
2024-07-30  349.796098  320.531778

[179 rows x 2 columns]
2023-11-13 21:30:03,484 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:30:03,484 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284d09dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  352.245048  253.395681
2023-11-13  352.294083  260.103582
2023-11-14  350.457632  250.143706
2023-11-15  348.731276  259.429155
2023-11-16  360.458546  267.030273
...                ...         ...
2024-07-24  355.478545  319.406143
2024-07-25  350.649710  313.685409
2024-07-26  352.288612  315.827563
2024-07-29  354.329947  316.526194
2024-07-30  349.796098  320.531778

[178 rows x 2 columns], sim=2): 0.0h 0.0m 0s 200ms
2023-11-13 21:30:03,484 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284d09dd0>, n_sim=3): 0.0h 1.0m 16s 269ms
2023-11-13 21:30:03,485 - yq - INFO - Simulated 3 paths for 49 days.
2023-11-13 21:30:03,485 - yq - INFO - Runtime of sim_price_period(start_date=Timestamp('2023-08-09 00:00:00'), end_date=Timestamp('2023-11-09 00:00:00'), hist_window=63, n_sim=3, plot=True, max_sigma=1.5, model='heston'): 1.0h 29.0m 25s 145ms
2023-11-13 21:30:03,485 - yq - INFO - Running grid search for hist_window: 63, n_sim: 3
2023-11-13 21:30:03,758 - yq - INFO - Pricing the product on 2023-08-09 00:00:00
2023-11-13 21:30:03,758 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:30:03,768 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:30:03,999 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-11-13 21:30:03,999 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230809.csv
2023-11-13 21:30:04,003 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/lonn_call.csv
2023-11-13 21:30:04,005 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     440  52.149994  27.330225  0.0175
1   0.10386     450  43.049988  25.649502  0.0175
2   0.10386     460  34.500000  24.389547  0.0175
3   0.10386     470  26.799995  23.625263  0.0175
4   0.10386     480  19.849991  22.715864  0.0175
2023-11-13 21:30:04,006 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/sika_call.csv
2023-11-13 21:30:04,008 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     220  48.050003  38.010380  0.0175
1   0.10386     230  38.400002  33.623005  0.0175
2   0.10386     240  29.074997  29.997280  0.0175
3   0.10386     250  20.525002  27.632607  0.0175
4   0.10386     260  13.275000  26.195461  0.0175
2023-11-13 21:30:04,014 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     440  52.149994  0.0175
1   0.10386     450  43.049988  0.0175
2   0.10386     460  34.500000  0.0175
3   0.10386     470  26.799995  0.0175
4   0.10386     480  19.849991  0.0175
   maturity  strike      price    rate
0   0.10386     220  48.050003  0.0175
1   0.10386     230  38.400002  0.0175
2   0.10386     240  29.074997  0.0175
3   0.10386     250  20.525002  0.0175
4   0.10386     260  13.275000  0.0175
2023-11-13 21:30:04,014 - yq - INFO - Calibrating LONZA on 2023-08-09 00:00:00.
2023-11-13 21:30:42,148 - yq - INFO - Calibrating SIKA on 2023-08-09 00:00:00.
2023-11-13 21:31:25,343 - yq - INFO - The S_0 for LONZA and SIKA are 489.0 and 265.5
2023-11-13 21:31:25,347 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 21 seconds
2023-11-13 21:31:25,356 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230809.csv
2023-11-13 21:31:25,356 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.75956989  0.02678923 -0.07057601  0.6543022   0.33032566]
 [ 6.65357053  0.01497973 -0.07558699  0.68045144  0.3247647 ]]
2023-11-13 21:31:25,361 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864299d0>, Timestamp('2023-08-09 00:00:00')): 0.0h 1.0m 21s 362ms
2023-11-13 21:31:25,369 - yq - INFO - The log returns list for all assets is: [Date
2023-05-11    0.019255
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
                ...   
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-11    0.011227
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
                ...   
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:31:25,372 - yq - INFO - rho_S1S2 is 0.4397426412287944

2023-11-13 21:31:25,372 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43974264]
 [0.43974264 1.        ]]

2023-11-13 21:31:25,372 - yq - INFO - Simplified correlation matrix is:
[[1.         0.6543022  0.43974264 0.        ]
 [0.6543022  1.         0.         0.        ]
 [0.43974264 0.         1.         0.68045144]
 [0.         0.         0.68045144 1.        ]]

2023-11-13 21:31:25,373 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.6543022   0.75623318  0.          0.        ]
 [ 0.43974264 -0.38047071  0.81355298  0.        ]
 [ 0.          0.          0.83639476  0.54812755]]

2023-11-13 21:31:25,373 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864299d0>): 0.0h 0.0m 0s 12ms
2023-11-13 21:31:25,384 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 21:31:25,411 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:31:25,415 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  500.497576  267.436352
1  492.279061  264.372878
2  483.131970  251.801755
3  483.531648  258.876017
4  480.245296  249.508523
2023-11-13 21:31:25,527 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  500.497576  267.436352
2023-08-11  492.279061  264.372878
2023-08-14  483.131970  251.801755
2023-08-15  483.531648  258.876017
2023-08-16  480.245296  249.508523
2023-11-13 21:31:25,634 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 21:31:25,638 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  500.497576  267.436352
2023-08-11  492.279061  264.372878
2023-08-14  483.131970  251.801755
2023-08-15  483.531648  258.876017
...                ...         ...
2024-07-24  429.549047  130.403125
2024-07-25  432.018819  131.370329
2024-07-26  433.062610  132.050213
2024-07-29  423.223327  131.618595
2024-07-30  426.111910  132.531055

[245 rows x 2 columns]
2023-11-13 21:31:25,776 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:31:25,776 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864299d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  500.497576  267.436352
2023-08-11  492.279061  264.372878
2023-08-14  483.131970  251.801755
2023-08-15  483.531648  258.876017
2023-08-16  480.245296  249.508523
...                ...         ...
2024-07-24  429.549047  130.403125
2024-07-25  432.018819  131.370329
2024-07-26  433.062610  132.050213
2024-07-29  423.223327  131.618595
2024-07-30  426.111910  132.531055

[244 rows x 2 columns], sim=0): 0.0h 0.0m 0s 244ms
2023-11-13 21:31:25,777 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 21:31:25,806 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:31:25,808 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  490.174424  264.756391
1  496.283797  256.579423
2  501.021910  266.392865
3  495.795605  262.184553
4  501.680374  257.217585
2023-11-13 21:31:25,947 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  490.174424  264.756391
2023-08-11  496.283797  256.579423
2023-08-14  501.021910  266.392865
2023-08-15  495.795605  262.184553
2023-08-16  501.680374  257.217585
2023-11-13 21:31:26,052 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 21:31:26,056 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  490.174424  264.756391
2023-08-11  496.283797  256.579423
2023-08-14  501.021910  266.392865
2023-08-15  495.795605  262.184553
...                ...         ...
2024-07-24  703.799343  382.014795
2024-07-25  712.698669  383.921427
2024-07-26  691.689493  382.265529
2024-07-29  687.284698  386.822495
2024-07-30  674.775874  381.955904

[245 rows x 2 columns]
2023-11-13 21:31:26,217 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:31:26,217 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864299d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  490.174424  264.756391
2023-08-11  496.283797  256.579423
2023-08-14  501.021910  266.392865
2023-08-15  495.795605  262.184553
2023-08-16  501.680374  257.217585
...                ...         ...
2024-07-24  703.799343  382.014795
2024-07-25  712.698669  383.921427
2024-07-26  691.689493  382.265529
2024-07-29  687.284698  386.822495
2024-07-30  674.775874  381.955904

[244 rows x 2 columns], sim=1): 0.0h 0.0m 0s 267ms
2023-11-13 21:31:26,218 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 21:31:26,253 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:31:26,255 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.921767  254.364622
1  464.288754  247.828444
2  433.593671  230.276665
3  433.852743  233.111318
4  454.874473  236.931697
2023-11-13 21:31:26,406 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  472.921767  254.364622
2023-08-11  464.288754  247.828444
2023-08-14  433.593671  230.276665
2023-08-15  433.852743  233.111318
2023-08-16  454.874473  236.931697
2023-11-13 21:31:26,590 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
...             ...      ...
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5

[63 rows x 2 columns]
2023-11-13 21:31:26,593 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-09  489.000000  265.500000
2023-08-10  472.921767  254.364622
2023-08-11  464.288754  247.828444
2023-08-14  433.593671  230.276665
2023-08-15  433.852743  233.111318
...                ...         ...
2024-07-24  445.420471  261.002115
2024-07-25  435.116739  258.687967
2024-07-26  430.466889  258.706440
2024-07-29  429.808281  258.727425
2024-07-30  438.724939  259.308160

[245 rows x 2 columns]
2023-11-13 21:31:26,751 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:31:26,752 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864299d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  472.921767  254.364622
2023-08-11  464.288754  247.828444
2023-08-14  433.593671  230.276665
2023-08-15  433.852743  233.111318
2023-08-16  454.874473  236.931697
...                ...         ...
2024-07-24  445.420471  261.002115
2024-07-25  435.116739  258.687967
2024-07-26  430.466889  258.706440
2024-07-29  429.808281  258.727425
2024-07-30  438.724939  259.308160

[244 rows x 2 columns], sim=2): 0.0h 0.0m 0s 341ms
2023-11-13 21:31:26,752 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864299d0>, n_sim=3): 0.0h 1.0m 22s 755ms
2023-11-13 21:31:26,752 - yq - INFO - Pricing the product on 2023-08-10 00:00:00
2023-11-13 21:31:26,752 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:31:26,762 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:31:27,067 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-11-13 21:31:27,068 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230810.csv
2023-11-13 21:31:27,072 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/lonn_call.csv
2023-11-13 21:31:27,075 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.699997  28.406391  0.0175
1  0.101053     460  42.599991  26.427944  0.0175
2  0.101053     470  34.000000  24.808001  0.0175
3  0.101053     480  28.599991  27.952068  0.0175
4  0.101053     490  19.499998  23.021019  0.0175
2023-11-13 21:31:27,075 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/sika_call.csv
2023-11-13 21:31:27,078 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     220  49.675003  37.533554  0.0175
1  0.101053     230  39.950005  33.262680  0.0175
2  0.101053     240  30.450005  29.446768  0.0175
3  0.101053     250  21.574997  26.823681  0.0175
4  0.101053     260  13.925000  25.314522  0.0175
2023-11-13 21:31:27,082 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.699997  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  34.000000  0.0175
3  0.101053     480  28.599991  0.0175
4  0.101053     490  19.499998  0.0175
   maturity  strike      price    rate
0  0.101053     220  49.675003  0.0175
1  0.101053     230  39.950005  0.0175
2  0.101053     240  30.450005  0.0175
3  0.101053     250  21.574997  0.0175
4  0.101053     260  13.925000  0.0175
2023-11-13 21:31:27,082 - yq - INFO - Calibrating LONZA on 2023-08-10 00:00:00.
2023-11-13 21:32:03,533 - yq - INFO - Calibrating SIKA on 2023-08-10 00:00:00.
2023-11-13 21:32:37,243 - yq - INFO - The S_0 for LONZA and SIKA are 498.1 and 268.3
2023-11-13 21:32:37,244 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 10 seconds
2023-11-13 21:32:37,257 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230810.csv
2023-11-13 21:32:37,258 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.83871959  0.0282519  -0.06848581  0.67491604  0.33315155]
 [ 8.95577031  0.01125099 -0.1229255   0.5390502   0.39046476]]
2023-11-13 21:32:37,259 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c814e10>, Timestamp('2023-08-10 00:00:00')): 0.0h 1.0m 10s 191ms
2023-11-13 21:32:37,263 - yq - INFO - The log returns list for all assets is: [Date
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
                ...   
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
                ...   
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:32:37,265 - yq - INFO - rho_S1S2 is 0.43912096394854827

2023-11-13 21:32:37,265 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43912096]
 [0.43912096 1.        ]]

2023-11-13 21:32:37,265 - yq - INFO - Simplified correlation matrix is:
[[1.         0.67491604 0.43912096 0.        ]
 [0.67491604 1.         0.         0.        ]
 [0.43912096 0.         1.         0.5390502 ]
 [0.         0.         0.5390502  1.        ]]

2023-11-13 21:32:37,266 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.67491604  0.73789453  0.          0.        ]
 [ 0.43912096 -0.40164247  0.80365173  0.        ]
 [ 0.          0.          0.67075099  0.74168262]]

2023-11-13 21:32:37,266 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c814e10>): 0.0h 0.0m 0s 7ms
2023-11-13 21:32:37,272 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 21:32:37,304 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:32:37,306 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  507.618812  259.649903
1  514.781781  257.876505
2  464.424562  245.660683
3  453.268764  254.127263
4  470.416078  261.718918
2023-11-13 21:32:37,452 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  507.618812  259.649903
2023-08-14  514.781781  257.876505
2023-08-15  464.424562  245.660683
2023-08-16  453.268764  254.127263
2023-08-17  470.416078  261.718918
2023-11-13 21:32:37,561 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 21:32:37,565 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  507.618812  259.649903
2023-08-14  514.781781  257.876505
2023-08-15  464.424562  245.660683
2023-08-16  453.268764  254.127263
...                ...         ...
2024-07-24  390.259066  156.237893
2024-07-25  393.217249  156.782622
2024-07-26  389.921445  157.294139
2024-07-29  387.150666  156.920587
2024-07-30  381.207186  157.048920

[244 rows x 2 columns]
2023-11-13 21:32:37,763 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:32:37,763 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c814e10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  507.618812  259.649903
2023-08-14  514.781781  257.876505
2023-08-15  464.424562  245.660683
2023-08-16  453.268764  254.127263
2023-08-17  470.416078  261.718918
...                ...         ...
2024-07-24  390.259066  156.237893
2024-07-25  393.217249  156.782622
2024-07-26  389.921445  157.294139
2024-07-29  387.150666  156.920587
2024-07-30  381.207186  157.048920

[243 rows x 2 columns], sim=0): 0.0h 0.0m 0s 306ms
2023-11-13 21:32:37,764 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 21:32:37,798 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:32:37,800 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  500.852284  258.295691
1  470.281753  253.832922
2  458.541424  264.293578
3  457.233370  256.554198
4  440.970619  251.745252
2023-11-13 21:32:37,947 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  500.852284  258.295691
2023-08-14  470.281753  253.832922
2023-08-15  458.541424  264.293578
2023-08-16  457.233370  256.554198
2023-08-17  440.970619  251.745252
2023-11-13 21:32:37,979 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 21:32:37,983 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  500.852284  258.295691
2023-08-14  470.281753  253.832922
2023-08-15  458.541424  264.293578
2023-08-16  457.233370  256.554198
...                ...         ...
2024-07-24  455.409529  197.858459
2024-07-25  465.279680  198.376520
2024-07-26  462.910632  198.298404
2024-07-29  462.256746  201.428014
2024-07-30  454.313589  199.467641

[244 rows x 2 columns]
2023-11-13 21:32:38,156 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:32:38,156 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c814e10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  500.852284  258.295691
2023-08-14  470.281753  253.832922
2023-08-15  458.541424  264.293578
2023-08-16  457.233370  256.554198
2023-08-17  440.970619  251.745252
...                ...         ...
2024-07-24  455.409529  197.858459
2024-07-25  465.279680  198.376520
2024-07-26  462.910632  198.298404
2024-07-29  462.256746  201.428014
2024-07-30  454.313589  199.467641

[243 rows x 2 columns], sim=1): 0.0h 0.0m 0s 205ms
2023-11-13 21:32:38,157 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 21:32:38,191 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:32:38,193 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  507.091405  284.099159
1  486.758763  268.470424
2  496.672791  275.914806
3  500.621262  273.193894
4  510.512011  274.414470
2023-11-13 21:32:38,336 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  507.091405  284.099159
2023-08-14  486.758763  268.470424
2023-08-15  496.672791  275.914806
2023-08-16  500.621262  273.193894
2023-08-17  510.512011  274.414470
2023-11-13 21:32:38,362 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
...             ...      ...
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3

[63 rows x 2 columns]
2023-11-13 21:32:38,366 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-10  498.100000  268.300000
2023-08-11  507.091405  284.099159
2023-08-14  486.758763  268.470424
2023-08-15  496.672791  275.914806
2023-08-16  500.621262  273.193894
...                ...         ...
2024-07-24  706.366259  282.823952
2024-07-25  713.489740  283.981030
2024-07-26  711.339177  285.450000
2024-07-29  725.774771  287.542903
2024-07-30  731.145016  287.248016

[244 rows x 2 columns]
2023-11-13 21:32:38,527 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:32:38,527 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c814e10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  507.091405  284.099159
2023-08-14  486.758763  268.470424
2023-08-15  496.672791  275.914806
2023-08-16  500.621262  273.193894
2023-08-17  510.512011  274.414470
...                ...         ...
2024-07-24  706.366259  282.823952
2024-07-25  713.489740  283.981030
2024-07-26  711.339177  285.450000
2024-07-29  725.774771  287.542903
2024-07-30  731.145016  287.248016

[243 rows x 2 columns], sim=2): 0.0h 0.0m 0s 187ms
2023-11-13 21:32:38,527 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c814e10>, n_sim=3): 0.0h 1.0m 11s 462ms
2023-11-13 21:32:38,527 - yq - INFO - Pricing the product on 2023-08-11 00:00:00
2023-11-13 21:32:38,527 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:32:38,540 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:32:38,858 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-11-13 21:32:38,859 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230811.csv
2023-11-13 21:32:38,863 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/lonn_call.csv
2023-11-13 21:32:38,866 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     450  51.399994  25.468338  0.0175
1  0.196491     460  43.399994  24.842302  0.0175
2  0.196491     470  35.899994  24.175629  0.0175
3  0.196491     480  29.149994  23.683537  0.0175
4  0.196491     490  23.199997  23.294483  0.0175
2023-11-13 21:32:38,867 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/sika_call.csv
2023-11-13 21:32:38,869 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     220  44.675003  31.911819  0.0175
1  0.196491     230  35.525002  29.347454  0.0175
2  0.196491     240  27.000000  27.414755  0.0175
3  0.196491     250  19.449997  26.059502  0.0175
4  0.196491     260  13.125000  24.996462  0.0175
2023-11-13 21:32:38,875 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.196491     450  51.399994  0.0175
1  0.196491     460  43.399994  0.0175
2  0.196491     470  35.899994  0.0175
3  0.196491     480  29.149994  0.0175
4  0.196491     490  23.199997  0.0175
   maturity  strike      price    rate
0  0.196491     220  44.675003  0.0175
1  0.196491     230  35.525002  0.0175
2  0.196491     240  27.000000  0.0175
3  0.196491     250  19.449997  0.0175
4  0.196491     260  13.125000  0.0175
2023-11-13 21:32:38,875 - yq - INFO - Calibrating LONZA on 2023-08-11 00:00:00.
2023-11-13 21:33:10,696 - yq - INFO - Calibrating SIKA on 2023-08-11 00:00:00.
2023-11-13 21:33:41,934 - yq - INFO - The S_0 for LONZA and SIKA are 494.9 and 262.8
2023-11-13 21:33:41,935 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 3 seconds
2023-11-13 21:33:41,947 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230811.csv
2023-11-13 21:33:41,947 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999999e+00  7.51382077e-02 -4.03188594e-11  2.61907351e+00
   1.39990090e-01]
 [ 9.95447834e+00  7.52047261e-02 -2.37096498e-03  9.99633737e+00
   3.59443502e-02]]
2023-11-13 21:33:41,948 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2852a9cd0>, Timestamp('2023-08-11 00:00:00')): 0.0h 1.0m 3s 90ms
2023-11-13 21:33:41,957 - yq - INFO - The log returns list for all assets is: [Date
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
                ...   
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
                ...   
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:33:41,959 - yq - INFO - rho_S1S2 is 0.4372111961971176

2023-11-13 21:33:41,960 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4372112]
 [0.4372112 1.       ]]

2023-11-13 21:33:41,960 - yq - INFO - Simplified correlation matrix is:
[[1.         2.61907351 0.4372112  0.        ]
 [2.61907351 1.         0.         0.        ]
 [0.4372112  0.         1.         9.99633737]
 [0.         0.         9.99633737 1.        ]]

2023-11-13 21:33:41,961 - yq - ERROR - Error during simulation on 2023-08-11 00:00:00: Matrix is not positive definite
2023-11-13 21:33:41,961 - yq - INFO - Pricing the product on 2023-08-14 00:00:00
2023-11-13 21:33:41,961 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:33:41,989 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:33:42,228 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-11-13 21:33:42,229 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230814.csv
2023-11-13 21:33:42,233 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/lonn_call.csv
2023-11-13 21:33:42,235 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     450  51.399994  25.468338  0.0175
1   0.18807     460  43.399994  24.842302  0.0175
2   0.18807     470  35.899994  24.175629  0.0175
3   0.18807     480  29.149994  23.683537  0.0175
4   0.18807     490  23.199997  23.294483  0.0175
2023-11-13 21:33:42,236 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/sika_call.csv
2023-11-13 21:33:42,238 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     220  44.675003  31.911819  0.0175
1   0.18807     230  35.525002  29.347454  0.0175
2   0.18807     240  27.000000  27.414755  0.0175
3   0.18807     250  19.449997  26.059502  0.0175
4   0.18807     260  13.125000  24.996462  0.0175
2023-11-13 21:33:42,241 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.18807     450  51.399994  0.0175
1   0.18807     460  43.399994  0.0175
2   0.18807     470  35.899994  0.0175
3   0.18807     480  29.149994  0.0175
4   0.18807     490  23.199997  0.0175
   maturity  strike      price    rate
0   0.18807     220  44.675003  0.0175
1   0.18807     230  35.525002  0.0175
2   0.18807     240  27.000000  0.0175
3   0.18807     250  19.449997  0.0175
4   0.18807     260  13.125000  0.0175
2023-11-13 21:33:42,241 - yq - INFO - Calibrating LONZA on 2023-08-14 00:00:00.
2023-11-13 21:34:21,957 - yq - INFO - Calibrating SIKA on 2023-08-14 00:00:00.
2023-11-13 21:34:58,126 - yq - INFO - The S_0 for LONZA and SIKA are 494.2 and 262.5
2023-11-13 21:34:58,127 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 21:34:58,143 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230814.csv
2023-11-13 21:34:58,143 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  8.19051239e-02 -3.47443329e-07  2.08875771e+00
   1.52811742e-01]
 [ 1.00000000e+01  6.98590349e-02 -1.54213309e-11  1.56358326e+00
   3.59470030e-01]]
2023-11-13 21:34:58,149 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x286442d90>, Timestamp('2023-08-14 00:00:00')): 0.0h 1.0m 15s 917ms
2023-11-13 21:34:58,164 - yq - INFO - The log returns list for all assets is: [Date
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
                ...   
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
                ...   
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:34:58,167 - yq - INFO - rho_S1S2 is 0.4415351262144186

2023-11-13 21:34:58,167 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44153513]
 [0.44153513 1.        ]]

2023-11-13 21:34:58,168 - yq - INFO - Simplified correlation matrix is:
[[1.         2.08875771 0.44153513 0.        ]
 [2.08875771 1.         0.         0.        ]
 [0.44153513 0.         1.         1.56358326]
 [0.         0.         1.56358326 1.        ]]

2023-11-13 21:34:58,169 - yq - ERROR - Error during simulation on 2023-08-14 00:00:00: Matrix is not positive definite
2023-11-13 21:34:58,169 - yq - INFO - Pricing the product on 2023-08-15 00:00:00
2023-11-13 21:34:58,169 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:34:58,205 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:34:58,436 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-11-13 21:34:58,437 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230815.csv
2023-11-13 21:34:58,443 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/lonn_call.csv
2023-11-13 21:34:58,445 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     440  55.374992  28.061256  0.0175
1  0.185263     450  47.000000  26.852697  0.0175
2  0.185263     460  39.199997  25.892950  0.0175
3  0.185263     470  32.699989  25.923019  0.0175
4  0.185263     480  24.799995  23.396318  0.0175
2023-11-13 21:34:58,447 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/sika_call.csv
2023-11-13 21:34:58,448 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     210  50.325005  34.053059  0.0175
1  0.185263     220  40.974998  31.394001  0.0175
2  0.185263     230  32.075005  29.231590  0.0175
3  0.185263     240  23.925003  27.594440  0.0175
4  0.185263     250  16.900002  26.497833  0.0175
2023-11-13 21:34:58,453 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.185263     440  55.374992  0.0175
1  0.185263     450  47.000000  0.0175
2  0.185263     460  39.199997  0.0175
3  0.185263     470  32.699989  0.0175
4  0.185263     480  24.799995  0.0175
   maturity  strike      price    rate
0  0.185263     210  50.325005  0.0175
1  0.185263     220  40.974998  0.0175
2  0.185263     230  32.075005  0.0175
3  0.185263     240  23.925003  0.0175
4  0.185263     250  16.900002  0.0175
2023-11-13 21:34:58,453 - yq - INFO - Calibrating LONZA on 2023-08-15 00:00:00.
2023-11-13 21:35:32,740 - yq - INFO - Calibrating SIKA on 2023-08-15 00:00:00.
2023-11-13 21:36:09,309 - yq - INFO - The S_0 for LONZA and SIKA are 487.9 and 258.1
2023-11-13 21:36:09,310 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 10 seconds
2023-11-13 21:36:09,330 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230815.csv
2023-11-13 21:36:09,330 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99730518e+00  8.36211587e-02 -3.92976395e-04  7.08476464e-01
   9.16363993e-02]
 [ 8.33121329e+00  1.32566151e-02 -9.03905177e-02  6.83490480e-01
   1.20202994e-01]]
2023-11-13 21:36:09,333 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f64c10>, Timestamp('2023-08-15 00:00:00')): 0.0h 1.0m 10s 896ms
2023-11-13 21:36:09,344 - yq - INFO - The log returns list for all assets is: [Date
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
                ...   
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
                ...   
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:36:09,347 - yq - INFO - rho_S1S2 is 0.4452426918206425

2023-11-13 21:36:09,347 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44524269]
 [0.44524269 1.        ]]

2023-11-13 21:36:09,347 - yq - INFO - Simplified correlation matrix is:
[[1.         0.70847646 0.44524269 0.        ]
 [0.70847646 1.         0.         0.        ]
 [0.44524269 0.         1.         0.68349048]
 [0.         0.         0.68349048 1.        ]]

2023-11-13 21:36:09,348 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.70847646  0.70573444  0.          0.        ]
 [ 0.44524269 -0.44697262  0.77587011  0.        ]
 [ 0.          0.          0.88093416  0.47323885]]

2023-11-13 21:36:09,348 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284f64c10>): 0.0h 0.0m 0s 15ms
2023-11-13 21:36:09,358 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 21:36:09,385 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:36:09,389 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.443924  262.249968
1  473.492378  255.204665
2  469.724966  257.754934
3  450.503919  244.182193
4  454.211792  241.318155
2023-11-13 21:36:09,520 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  479.443924  262.249968
2023-08-17  473.492378  255.204665
2023-08-18  469.724966  257.754934
2023-08-21  450.503919  244.182193
2023-08-22  454.211792  241.318155
2023-11-13 21:36:09,629 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
...             ...      ...
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1

[63 rows x 2 columns]
2023-11-13 21:36:09,633 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-15  487.900000  258.100000
2023-08-16  479.443924  262.249968
2023-08-17  473.492378  255.204665
2023-08-18  469.724966  257.754934
2023-08-21  450.503919  244.182193
...                ...         ...
2024-07-24  442.660049  193.433290
2024-07-25  435.062584  194.312097
2024-07-26  426.166140  191.563980
2024-07-29  421.985745  189.083798
2024-07-30  422.263423  189.240712

[241 rows x 2 columns]
2023-11-13 21:36:09,803 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:36:09,803 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f64c10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  479.443924  262.249968
2023-08-17  473.492378  255.204665
2023-08-18  469.724966  257.754934
2023-08-21  450.503919  244.182193
2023-08-22  454.211792  241.318155
...                ...         ...
2024-07-24  442.660049  193.433290
2024-07-25  435.062584  194.312097
2024-07-26  426.166140  191.563980
2024-07-29  421.985745  189.083798
2024-07-30  422.263423  189.240712

[240 rows x 2 columns], sim=0): 0.0h 0.0m 0s 278ms
2023-11-13 21:36:09,803 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 21:36:09,832 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:36:09,834 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  474.903731  243.743460
1  460.561002  239.496216
2  463.093404  241.504405
3  455.068377  241.183744
4  443.876276  235.567388
2023-11-13 21:36:09,962 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  474.903731  243.743460
2023-08-17  460.561002  239.496216
2023-08-18  463.093404  241.504405
2023-08-21  455.068377  241.183744
2023-08-22  443.876276  235.567388
2023-11-13 21:36:09,992 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
...             ...      ...
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1

[63 rows x 2 columns]
2023-11-13 21:36:09,996 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-15  487.900000  258.100000
2023-08-16  474.903731  243.743460
2023-08-17  460.561002  239.496216
2023-08-18  463.093404  241.504405
2023-08-21  455.068377  241.183744
...                ...         ...
2024-07-24  495.829875  208.034642
2024-07-25  500.108062  208.778251
2024-07-26  524.166508  210.324056
2024-07-29  515.771383  209.421749
2024-07-30  510.891714  209.131534

[241 rows x 2 columns]
2023-11-13 21:36:10,168 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:36:10,169 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f64c10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  474.903731  243.743460
2023-08-17  460.561002  239.496216
2023-08-18  463.093404  241.504405
2023-08-21  455.068377  241.183744
2023-08-22  443.876276  235.567388
...                ...         ...
2024-07-24  495.829875  208.034642
2024-07-25  500.108062  208.778251
2024-07-26  524.166508  210.324056
2024-07-29  515.771383  209.421749
2024-07-30  510.891714  209.131534

[240 rows x 2 columns], sim=1): 0.0h 0.0m 0s 203ms
2023-11-13 21:36:10,170 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 21:36:10,228 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:36:10,230 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  508.125254  262.506355
1  511.048378  259.258483
2  509.533798  257.437533
3  505.321647  254.393795
4  493.938122  247.581753
2023-11-13 21:36:10,379 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  508.125254  262.506355
2023-08-17  511.048378  259.258483
2023-08-18  509.533798  257.437533
2023-08-21  505.321647  254.393795
2023-08-22  493.938122  247.581753
2023-11-13 21:36:10,405 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
...             ...      ...
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1

[63 rows x 2 columns]
2023-11-13 21:36:10,409 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-15  487.900000  258.100000
2023-08-16  508.125254  262.506355
2023-08-17  511.048378  259.258483
2023-08-18  509.533798  257.437533
2023-08-21  505.321647  254.393795
...                ...         ...
2024-07-24  460.037412  263.468990
2024-07-25  451.219809  258.706017
2024-07-26  452.179897  260.137372
2024-07-29  447.048996  260.818181
2024-07-30  434.820144  257.667595

[241 rows x 2 columns]
2023-11-13 21:36:10,572 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:36:10,572 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284f64c10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  508.125254  262.506355
2023-08-17  511.048378  259.258483
2023-08-18  509.533798  257.437533
2023-08-21  505.321647  254.393795
2023-08-22  493.938122  247.581753
...                ...         ...
2024-07-24  460.037412  263.468990
2024-07-25  451.219809  258.706017
2024-07-26  452.179897  260.137372
2024-07-29  447.048996  260.818181
2024-07-30  434.820144  257.667595

[240 rows x 2 columns], sim=2): 0.0h 0.0m 0s 189ms
2023-11-13 21:36:10,572 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284f64c10>, n_sim=3): 0.0h 1.0m 12s 138ms
2023-11-13 21:36:10,572 - yq - INFO - Pricing the product on 2023-08-16 00:00:00
2023-11-13 21:36:10,572 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:36:10,589 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:36:10,884 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-11-13 21:36:10,885 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230816.csv
2023-11-13 21:36:10,891 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/lonn_call.csv
2023-11-13 21:36:10,894 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     430  55.974991  27.144444  0.0175
1  0.182456     440  47.599991  26.275923  0.0175
2  0.182456     450  39.799988  25.597614  0.0175
3  0.182456     460  32.649994  25.031048  0.0175
4  0.182456     470  26.224991  24.533737  0.0175
2023-11-13 21:36:10,895 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/sika_call.csv
2023-11-13 21:36:10,897 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     210  49.275002  34.904442  0.0175
1  0.182456     220  39.925003  31.884911  0.0175
2  0.182456     230  31.074997  29.593031  0.0175
3  0.182456     240  23.049995  27.989325  0.0175
4  0.182456     250  16.124998  26.773222  0.0175
2023-11-13 21:36:10,901 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.182456     430  55.974991  0.0175
1  0.182456     440  47.599991  0.0175
2  0.182456     450  39.799988  0.0175
3  0.182456     460  32.649994  0.0175
4  0.182456     470  26.224991  0.0175
   maturity  strike      price    rate
0  0.182456     210  49.275002  0.0175
1  0.182456     220  39.925003  0.0175
2  0.182456     230  31.074997  0.0175
3  0.182456     240  23.049995  0.0175
4  0.182456     250  16.124998  0.0175
2023-11-13 21:36:10,901 - yq - INFO - Calibrating LONZA on 2023-08-16 00:00:00.
2023-11-13 21:36:43,859 - yq - INFO - Calibrating SIKA on 2023-08-16 00:00:00.
2023-11-13 21:37:18,102 - yq - INFO - The S_0 for LONZA and SIKA are 479.8 and 257.4
2023-11-13 21:37:18,115 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 21:37:18,525 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230816.csv
2023-11-13 21:37:18,525 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.88824831  0.01002332 -0.12292127  0.69845575  0.11650168]
 [ 9.22557484  0.01069072 -0.0980356   0.66865969  0.1297414 ]]
2023-11-13 21:37:18,595 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x285126750>, Timestamp('2023-08-16 00:00:00')): 0.0h 1.0m 7s 709ms
2023-11-13 21:37:18,746 - yq - INFO - The log returns list for all assets is: [Date
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
                ...   
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
                ...   
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:37:18,757 - yq - INFO - rho_S1S2 is 0.44125457706800547

2023-11-13 21:37:18,758 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44125458]
 [0.44125458 1.        ]]

2023-11-13 21:37:18,758 - yq - INFO - Simplified correlation matrix is:
[[1.         0.69845575 0.44125458 0.        ]
 [0.69845575 1.         0.         0.        ]
 [0.44125458 0.         1.         0.66865969]
 [0.         0.         0.66865969 1.        ]]

2023-11-13 21:37:18,760 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.69845575  0.71565324  0.          0.        ]
 [ 0.44125458 -0.43065101  0.78729543  0.        ]
 [ 0.          0.          0.84931229  0.52789075]]

2023-11-13 21:37:18,760 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x285126750>): 0.0h 0.0m 0s 157ms
2023-11-13 21:37:18,777 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 21:37:18,800 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:37:18,805 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  497.232512  265.099614
1  504.340579  268.795288
2  502.042625  263.042422
3  506.612417  264.171259
4  498.081845  258.601276
2023-11-13 21:37:18,953 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  497.232512  265.099614
2023-08-18  504.340579  268.795288
2023-08-21  502.042625  263.042422
2023-08-22  506.612417  264.171259
2023-08-23  498.081845  258.601276
2023-11-13 21:37:19,101 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
...             ...      ...
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4

[63 rows x 2 columns]
2023-11-13 21:37:19,106 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-16  479.800000  257.400000
2023-08-17  497.232512  265.099614
2023-08-18  504.340579  268.795288
2023-08-21  502.042625  263.042422
2023-08-22  506.612417  264.171259
...                ...         ...
2024-07-24  480.289411  257.224669
2024-07-25  481.008731  257.410263
2024-07-26  486.497247  257.942178
2024-07-29  489.147455  258.500395
2024-07-30  492.706071  260.883595

[240 rows x 2 columns]
2023-11-13 21:37:19,256 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:37:19,256 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285126750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  497.232512  265.099614
2023-08-18  504.340579  268.795288
2023-08-21  502.042625  263.042422
2023-08-22  506.612417  264.171259
2023-08-23  498.081845  258.601276
...                ...         ...
2024-07-24  480.289411  257.224669
2024-07-25  481.008731  257.410263
2024-07-26  486.497247  257.942178
2024-07-29  489.147455  258.500395
2024-07-30  492.706071  260.883595

[239 rows x 2 columns], sim=0): 0.0h 0.0m 0s 296ms
2023-11-13 21:37:19,256 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 21:37:19,276 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:37:19,277 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.348095  260.929235
1  468.930847  253.598759
2  481.887671  262.806504
3  502.147156  269.199145
4  510.307537  267.000112
2023-11-13 21:37:19,375 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  491.348095  260.929235
2023-08-18  468.930847  253.598759
2023-08-21  481.887671  262.806504
2023-08-22  502.147156  269.199145
2023-08-23  510.307537  267.000112
2023-11-13 21:37:19,434 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
...             ...      ...
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4

[63 rows x 2 columns]
2023-11-13 21:37:19,438 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-16  479.800000  257.400000
2023-08-17  491.348095  260.929235
2023-08-18  468.930847  253.598759
2023-08-21  481.887671  262.806504
2023-08-22  502.147156  269.199145
...                ...         ...
2024-07-24  558.303830  232.294258
2024-07-25  554.664594  231.179189
2024-07-26  554.741292  231.206179
2024-07-29  555.181191  230.433788
2024-07-30  556.698077  230.168916

[240 rows x 2 columns]
2023-11-13 21:37:19,607 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:37:19,607 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285126750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  491.348095  260.929235
2023-08-18  468.930847  253.598759
2023-08-21  481.887671  262.806504
2023-08-22  502.147156  269.199145
2023-08-23  510.307537  267.000112
...                ...         ...
2024-07-24  558.303830  232.294258
2024-07-25  554.664594  231.179189
2024-07-26  554.741292  231.206179
2024-07-29  555.181191  230.433788
2024-07-30  556.698077  230.168916

[239 rows x 2 columns], sim=1): 0.0h 0.0m 0s 228ms
2023-11-13 21:37:19,608 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 21:37:19,638 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:37:19,640 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.812649  255.849281
1  479.812097  250.916455
2  490.268120  248.641735
3  508.383348  252.844974
4  521.678465  269.826523
2023-11-13 21:37:19,775 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  487.812649  255.849281
2023-08-18  479.812097  250.916455
2023-08-21  490.268120  248.641735
2023-08-22  508.383348  252.844974
2023-08-23  521.678465  269.826523
2023-11-13 21:37:19,806 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
...             ...      ...
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4

[63 rows x 2 columns]
2023-11-13 21:37:19,810 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-16  479.800000  257.400000
2023-08-17  487.812649  255.849281
2023-08-18  479.812097  250.916455
2023-08-21  490.268120  248.641735
2023-08-22  508.383348  252.844974
...                ...         ...
2024-07-24  544.089060  266.847380
2024-07-25  543.819034  267.578759
2024-07-26  544.522241  267.623023
2024-07-29  544.856677  269.747863
2024-07-30  542.687913  270.372222

[240 rows x 2 columns]
2023-11-13 21:37:19,993 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:37:19,994 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x285126750>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  487.812649  255.849281
2023-08-18  479.812097  250.916455
2023-08-21  490.268120  248.641735
2023-08-22  508.383348  252.844974
2023-08-23  521.678465  269.826523
...                ...         ...
2024-07-24  544.089060  266.847380
2024-07-25  543.819034  267.578759
2024-07-26  544.522241  267.623023
2024-07-29  544.856677  269.747863
2024-07-30  542.687913  270.372222

[239 rows x 2 columns], sim=2): 0.0h 0.0m 0s 214ms
2023-11-13 21:37:19,994 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x285126750>, n_sim=3): 0.0h 1.0m 9s 112ms
2023-11-13 21:37:19,996 - yq - INFO - Pricing the product on 2023-08-17 00:00:00
2023-11-13 21:37:19,997 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:37:20,086 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:37:20,380 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-11-13 21:37:20,384 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230817.csv
2023-11-13 21:37:20,390 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/lonn_call.csv
2023-11-13 21:37:20,393 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     430  50.399994  27.299341  0.0175
1  0.179649     440  42.250000  26.296572  0.0175
2  0.179649     450  34.750000  25.521204  0.0175
3  0.179649     460  27.949989  24.854713  0.0175
4  0.179649     470  21.949989  24.286530  0.0175
2023-11-13 21:37:20,394 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/sika_call.csv
2023-11-13 21:37:20,395 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     210  42.400002  33.117111  0.0175
1  0.179649     220  33.425003  30.933372  0.0175
2  0.179649     230  25.150002  29.240053  0.0175
3  0.179649     240  17.875000  27.899794  0.0175
4  0.179649     250  11.900000  26.879539  0.0175
2023-11-13 21:37:20,399 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.179649     430  50.399994  0.0175
1  0.179649     440  42.250000  0.0175
2  0.179649     450  34.750000  0.0175
3  0.179649     460  27.949989  0.0175
4  0.179649     470  21.949989  0.0175
   maturity  strike      price    rate
0  0.179649     210  42.400002  0.0175
1  0.179649     220  33.425003  0.0175
2  0.179649     230  25.150002  0.0175
3  0.179649     240  17.875000  0.0175
4  0.179649     250  11.900000  0.0175
2023-11-13 21:37:20,400 - yq - INFO - Calibrating LONZA on 2023-08-17 00:00:00.
2023-11-13 21:37:52,036 - yq - INFO - Calibrating SIKA on 2023-08-17 00:00:00.
2023-11-13 21:38:29,446 - yq - INFO - The S_0 for LONZA and SIKA are 473.2 and 250.6
2023-11-13 21:38:29,447 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 9 seconds
2023-11-13 21:38:29,459 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230817.csv
2023-11-13 21:38:29,459 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.51696907  0.01452208 -0.08640385  1.38376885  0.0591612 ]
 [ 9.20674903  0.0138948  -0.09281207  0.73739532  0.11671837]]
2023-11-13 21:38:29,461 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e45a650>, Timestamp('2023-08-17 00:00:00')): 0.0h 1.0m 9s 80ms
2023-11-13 21:38:29,470 - yq - INFO - The log returns list for all assets is: [Date
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
                ...   
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
                ...   
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:38:29,473 - yq - INFO - rho_S1S2 is 0.42663716309083205

2023-11-13 21:38:29,473 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42663716]
 [0.42663716 1.        ]]

2023-11-13 21:38:29,473 - yq - INFO - Simplified correlation matrix is:
[[1.         1.38376885 0.42663716 0.        ]
 [1.38376885 1.         0.         0.        ]
 [0.42663716 0.         1.         0.73739532]
 [0.         0.         0.73739532 1.        ]]

2023-11-13 21:38:29,474 - yq - ERROR - Error during simulation on 2023-08-17 00:00:00: Matrix is not positive definite
2023-11-13 21:38:29,474 - yq - INFO - Pricing the product on 2023-08-18 00:00:00
2023-11-13 21:38:29,474 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:38:29,501 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:38:29,749 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-11-13 21:38:29,752 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230818.csv
2023-11-13 21:38:29,756 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/lonn_call.csv
2023-11-13 21:38:29,757 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     430  53.599991  28.433285  0.0175
1  0.176842     440  45.049988  27.074509  0.0175
2  0.176842     450  37.099991  26.028452  0.0175
3  0.176842     460  29.824997  25.145454  0.0175
4  0.176842     470  23.349991  24.413734  0.0175
2023-11-13 21:38:29,758 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/sika_call.csv
2023-11-13 21:38:29,760 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  48.974998  36.800362  0.0175
1  0.176842     210  39.600006  33.488438  0.0175
2  0.176842     220  30.675003  30.802935  0.0175
3  0.176842     230  22.599998  29.016119  0.0175
4  0.176842     240  15.625000  27.617016  0.0175
2023-11-13 21:38:29,763 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     430  53.599991  0.0175
1  0.176842     440  45.049988  0.0175
2  0.176842     450  37.099991  0.0175
3  0.176842     460  29.824997  0.0175
4  0.176842     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.176842     200  48.974998  0.0175
1  0.176842     210  39.600006  0.0175
2  0.176842     220  30.675003  0.0175
3  0.176842     230  22.599998  0.0175
4  0.176842     240  15.625000  0.0175
2023-11-13 21:38:29,763 - yq - INFO - Calibrating LONZA on 2023-08-18 00:00:00.
2023-11-13 21:39:08,637 - yq - INFO - Calibrating SIKA on 2023-08-18 00:00:00.
2023-11-13 21:39:43,237 - yq - INFO - The S_0 for LONZA and SIKA are 471.9 and 247.5
2023-11-13 21:39:43,239 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 21:39:43,254 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230818.csv
2023-11-13 21:39:43,254 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.85958597  0.01362097 -0.08517612  0.48762552  0.21885408]
 [ 5.59398785  0.08272548 -0.14420462  8.15397279  0.04721251]]
2023-11-13 21:39:43,257 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284f714d0>, Timestamp('2023-08-18 00:00:00')): 0.0h 1.0m 13s 508ms
2023-11-13 21:39:43,269 - yq - INFO - The log returns list for all assets is: [Date
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
                ...   
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
                ...   
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:39:43,273 - yq - INFO - rho_S1S2 is 0.4247711739692134

2023-11-13 21:39:43,273 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42477117]
 [0.42477117 1.        ]]

2023-11-13 21:39:43,273 - yq - INFO - Simplified correlation matrix is:
[[1.         0.48762552 0.42477117 0.        ]
 [0.48762552 1.         0.         0.        ]
 [0.42477117 0.         1.         8.15397279]
 [0.         0.         8.15397279 1.        ]]

2023-11-13 21:39:43,274 - yq - ERROR - Error during simulation on 2023-08-18 00:00:00: Matrix is not positive definite
2023-11-13 21:39:43,274 - yq - INFO - Pricing the product on 2023-08-21 00:00:00
2023-11-13 21:39:43,275 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:39:43,299 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:39:43,549 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-11-13 21:39:43,549 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230821.csv
2023-11-13 21:39:43,553 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/lonn_call.csv
2023-11-13 21:39:43,555 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     430  53.599991  28.433285  0.0175
1  0.168421     440  45.049988  27.074509  0.0175
2  0.168421     450  37.099991  26.028452  0.0175
3  0.168421     460  29.824997  25.145454  0.0175
4  0.168421     470  23.349991  24.413734  0.0175
2023-11-13 21:39:43,556 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/sika_call.csv
2023-11-13 21:39:43,558 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.125008  36.494854  0.0175
1  0.168421     200  42.300003  34.223370  0.0175
2  0.168421     210  32.924995  30.578308  0.0175
3  0.168421     220  24.175003  27.988766  0.0175
4  0.168421     230  16.475006  26.213083  0.0175
2023-11-13 21:39:43,561 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     430  53.599991  0.0175
1  0.168421     440  45.049988  0.0175
2  0.168421     450  37.099991  0.0175
3  0.168421     460  29.824997  0.0175
4  0.168421     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.125008  0.0175
1  0.168421     200  42.300003  0.0175
2  0.168421     210  32.924995  0.0175
3  0.168421     220  24.175003  0.0175
4  0.168421     230  16.475006  0.0175
2023-11-13 21:39:43,561 - yq - INFO - Calibrating LONZA on 2023-08-21 00:00:00.
2023-11-13 21:40:21,622 - yq - INFO - Calibrating SIKA on 2023-08-21 00:00:00.
2023-11-13 21:40:59,011 - yq - INFO - The S_0 for LONZA and SIKA are 469.9 and 244.9
2023-11-13 21:40:59,015 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 21:40:59,027 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230821.csv
2023-11-13 21:40:59,027 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.57882395  0.01835066 -0.12797227  0.58575293  0.16157416]
 [ 4.49078206  0.02633417 -0.09770297  0.43190071  0.22792521]]
2023-11-13 21:40:59,033 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b21dd0>, Timestamp('2023-08-21 00:00:00')): 0.0h 1.0m 15s 483ms
2023-11-13 21:40:59,043 - yq - INFO - The log returns list for all assets is: [Date
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
                ...   
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
                ...   
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:40:59,048 - yq - INFO - rho_S1S2 is 0.4435422786799675

2023-11-13 21:40:59,048 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44354228]
 [0.44354228 1.        ]]

2023-11-13 21:40:59,048 - yq - INFO - Simplified correlation matrix is:
[[1.         0.58575293 0.44354228 0.        ]
 [0.58575293 1.         0.         0.        ]
 [0.44354228 0.         1.         0.43190071]
 [0.         0.         0.43190071 1.        ]]

2023-11-13 21:40:59,050 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.58575293  0.81048967  0.          0.        ]
 [ 0.44354228 -0.32055459  0.83696774  0.        ]
 [ 0.          0.          0.5160303   0.85657033]]

2023-11-13 21:40:59,050 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b21dd0>): 0.0h 0.0m 0s 16ms
2023-11-13 21:40:59,058 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 21:40:59,088 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:40:59,094 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  474.030293  232.052933
1  473.340267  242.221298
2  466.590363  231.015877
3  471.589879  237.061596
4  469.884744  247.617814
2023-11-13 21:40:59,230 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  474.030293  232.052933
2023-08-23  473.340267  242.221298
2023-08-24  466.590363  231.015877
2023-08-25  471.589879  237.061596
2023-08-28  469.884744  247.617814
2023-11-13 21:40:59,309 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
...             ...      ...
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9

[63 rows x 2 columns]
2023-11-13 21:40:59,313 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-21  469.900000  244.900000
2023-08-22  474.030293  232.052933
2023-08-23  473.340267  242.221298
2023-08-24  466.590363  231.015877
2023-08-25  471.589879  237.061596
...                ...         ...
2024-07-24  466.587404  360.486454
2024-07-25  466.470778  362.437326
2024-07-26  463.949886  363.202622
2024-07-29  468.550754  363.070982
2024-07-30  470.901759  360.610573

[237 rows x 2 columns]
2023-11-13 21:41:00,118 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:41:00,121 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b21dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  474.030293  232.052933
2023-08-23  473.340267  242.221298
2023-08-24  466.590363  231.015877
2023-08-25  471.589879  237.061596
2023-08-28  469.884744  247.617814
...                ...         ...
2024-07-24  466.587404  360.486454
2024-07-25  466.470778  362.437326
2024-07-26  463.949886  363.202622
2024-07-29  468.550754  363.070982
2024-07-30  470.901759  360.610573

[236 rows x 2 columns], sim=0): 0.0h 0.0m 0s 887ms
2023-11-13 21:41:00,122 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 21:41:00,149 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:41:00,151 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  468.840953  245.175852
1  473.902335  243.980605
2  475.933242  238.662726
3  488.027145  236.310701
4  491.173773  243.046996
2023-11-13 21:41:00,272 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  468.840953  245.175852
2023-08-23  473.902335  243.980605
2023-08-24  475.933242  238.662726
2023-08-25  488.027145  236.310701
2023-08-28  491.173773  243.046996
2023-11-13 21:41:00,298 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
...             ...      ...
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9

[63 rows x 2 columns]
2023-11-13 21:41:00,305 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-21  469.900000  244.900000
2023-08-22  468.840953  245.175852
2023-08-23  473.902335  243.980605
2023-08-24  475.933242  238.662726
2023-08-25  488.027145  236.310701
...                ...         ...
2024-07-24  555.898937  232.146493
2024-07-25  553.152170  233.837432
2024-07-26  557.484017  236.930795
2024-07-29  558.807049  235.822947
2024-07-30  557.390716  238.948290

[237 rows x 2 columns]
2023-11-13 21:41:00,443 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:41:00,443 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b21dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  468.840953  245.175852
2023-08-23  473.902335  243.980605
2023-08-24  475.933242  238.662726
2023-08-25  488.027145  236.310701
2023-08-28  491.173773  243.046996
...                ...         ...
2024-07-24  555.898937  232.146493
2024-07-25  553.152170  233.837432
2024-07-26  557.484017  236.930795
2024-07-29  558.807049  235.822947
2024-07-30  557.390716  238.948290

[236 rows x 2 columns], sim=1): 0.0h 0.0m 0s 167ms
2023-11-13 21:41:00,444 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 21:41:00,473 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:41:00,475 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  471.964421  249.396257
1  456.324081  256.668890
2  447.174792  250.332368
3  445.521423  247.363351
4  449.473589  244.558346
2023-11-13 21:41:00,604 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  471.964421  249.396257
2023-08-23  456.324081  256.668890
2023-08-24  447.174792  250.332368
2023-08-25  445.521423  247.363351
2023-08-28  449.473589  244.558346
2023-11-13 21:41:00,629 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
...             ...      ...
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9

[63 rows x 2 columns]
2023-11-13 21:41:00,632 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-21  469.900000  244.900000
2023-08-22  471.964421  249.396257
2023-08-23  456.324081  256.668890
2023-08-24  447.174792  250.332368
2023-08-25  445.521423  247.363351
...                ...         ...
2024-07-24  482.914609  297.915328
2024-07-25  489.369312  300.931997
2024-07-26  490.666369  299.499855
2024-07-29  489.257499  301.215268
2024-07-30  488.269919  300.307893

[237 rows x 2 columns]
2023-11-13 21:41:00,794 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:41:00,794 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b21dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  471.964421  249.396257
2023-08-23  456.324081  256.668890
2023-08-24  447.174792  250.332368
2023-08-25  445.521423  247.363351
2023-08-28  449.473589  244.558346
...                ...         ...
2024-07-24  482.914609  297.915328
2024-07-25  489.369312  300.931997
2024-07-26  490.666369  299.499855
2024-07-29  489.257499  301.215268
2024-07-30  488.269919  300.307893

[236 rows x 2 columns], sim=2): 0.0h 0.0m 0s 187ms
2023-11-13 21:41:00,794 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b21dd0>, n_sim=3): 0.0h 1.0m 17s 248ms
2023-11-13 21:41:00,794 - yq - INFO - Pricing the product on 2023-08-22 00:00:00
2023-11-13 21:41:00,795 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:41:00,809 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:41:01,121 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-11-13 21:41:01,122 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230822.csv
2023-11-13 21:41:01,129 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/lonn_call.csv
2023-11-13 21:41:01,131 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     430  53.599991  28.433285  0.0175
1  0.165614     440  45.049988  27.074509  0.0175
2  0.165614     450  37.099991  26.028452  0.0175
3  0.165614     460  29.824997  25.145454  0.0175
4  0.165614     470  23.349991  24.413734  0.0175
2023-11-13 21:41:01,133 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/sika_call.csv
2023-11-13 21:41:01,135 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     195  47.125008  36.494854  0.0175
1  0.165614     200  42.300003  34.223370  0.0175
2  0.165614     210  32.924995  30.578308  0.0175
3  0.165614     220  24.175003  27.988766  0.0175
4  0.165614     230  16.475006  26.213083  0.0175
2023-11-13 21:41:01,140 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     430  53.599991  0.0175
1  0.165614     440  45.049988  0.0175
2  0.165614     450  37.099991  0.0175
3  0.165614     460  29.824997  0.0175
4  0.165614     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.165614     195  47.125008  0.0175
1  0.165614     200  42.300003  0.0175
2  0.165614     210  32.924995  0.0175
3  0.165614     220  24.175003  0.0175
4  0.165614     230  16.475006  0.0175
2023-11-13 21:41:01,140 - yq - INFO - Calibrating LONZA on 2023-08-22 00:00:00.
2023-11-13 21:41:38,563 - yq - INFO - Calibrating SIKA on 2023-08-22 00:00:00.
2023-11-13 21:42:19,994 - yq - INFO - The S_0 for LONZA and SIKA are 469.1 and 245.1
2023-11-13 21:42:19,995 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 18 seconds
2023-11-13 21:42:20,018 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230822.csv
2023-11-13 21:42:20,018 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.83009948  0.0145563  -0.11145263  0.43831753  0.24187174]
 [ 3.30161742  0.02465187 -0.0922169   0.4256376   0.25351113]]
2023-11-13 21:42:20,023 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x13c4d5490>, Timestamp('2023-08-22 00:00:00')): 0.0h 1.0m 18s 901ms
2023-11-13 21:42:20,036 - yq - INFO - The log returns list for all assets is: [Date
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
                ...   
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
                ...   
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:42:20,039 - yq - INFO - rho_S1S2 is 0.4369426266185002

2023-11-13 21:42:20,040 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43694263]
 [0.43694263 1.        ]]

2023-11-13 21:42:20,040 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43831753 0.43694263 0.        ]
 [0.43831753 1.         0.         0.        ]
 [0.43694263 0.         1.         0.4256376 ]
 [0.         0.         0.4256376  1.        ]]

2023-11-13 21:42:20,041 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43831753  0.8988202   0.          0.        ]
 [ 0.43694263 -0.21307889  0.87388702  0.        ]
 [ 0.          0.          0.4870625   0.87336712]]

2023-11-13 21:42:20,041 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x13c4d5490>): 0.0h 0.0m 0s 17ms
2023-11-13 21:42:20,053 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 21:42:20,082 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:42:20,086 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.799088  257.469997
1  488.992973  248.870987
2  481.652855  239.087161
3  479.721921  229.752090
4  473.619303  227.939465
2023-11-13 21:42:20,271 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  484.799088  257.469997
2023-08-24  488.992973  248.870987
2023-08-25  481.652855  239.087161
2023-08-28  479.721921  229.752090
2023-08-29  473.619303  227.939465
2023-11-13 21:42:20,363 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 21:42:20,368 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  484.799088  257.469997
2023-08-24  488.992973  248.870987
2023-08-25  481.652855  239.087161
2023-08-28  479.721921  229.752090
...                ...         ...
2024-07-24  657.473896  282.508567
2024-07-25  649.738606  285.406082
2024-07-26  658.532228  290.127591
2024-07-29  657.915615  287.808627
2024-07-30  660.555785  286.225725

[236 rows x 2 columns]
2023-11-13 21:42:20,523 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:42:20,524 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c4d5490>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  484.799088  257.469997
2023-08-24  488.992973  248.870987
2023-08-25  481.652855  239.087161
2023-08-28  479.721921  229.752090
2023-08-29  473.619303  227.939465
...                ...         ...
2024-07-24  657.473896  282.508567
2024-07-25  649.738606  285.406082
2024-07-26  658.532228  290.127591
2024-07-29  657.915615  287.808627
2024-07-30  660.555785  286.225725

[235 rows x 2 columns], sim=0): 0.0h 0.0m 0s 247ms
2023-11-13 21:42:20,524 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 21:42:20,551 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:42:20,552 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  442.869356  246.181871
1  459.149337  240.093993
2  442.307868  238.194833
3  451.103832  236.582364
4  452.759281  247.610927
2023-11-13 21:42:20,688 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  442.869356  246.181871
2023-08-24  459.149337  240.093993
2023-08-25  442.307868  238.194833
2023-08-28  451.103832  236.582364
2023-08-29  452.759281  247.610927
2023-11-13 21:42:20,819 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 21:42:20,823 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  442.869356  246.181871
2023-08-24  459.149337  240.093993
2023-08-25  442.307868  238.194833
2023-08-28  451.103832  236.582364
...                ...         ...
2024-07-24  472.821921  428.721830
2024-07-25  478.125126  434.556279
2024-07-26  488.889305  446.804856
2024-07-29  489.227345  443.584791
2024-07-30  480.813102  430.801146

[236 rows x 2 columns]
2023-11-13 21:42:21,011 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:42:21,011 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c4d5490>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  442.869356  246.181871
2023-08-24  459.149337  240.093993
2023-08-25  442.307868  238.194833
2023-08-28  451.103832  236.582364
2023-08-29  452.759281  247.610927
...                ...         ...
2024-07-24  472.821921  428.721830
2024-07-25  478.125126  434.556279
2024-07-26  488.889305  446.804856
2024-07-29  489.227345  443.584791
2024-07-30  480.813102  430.801146

[235 rows x 2 columns], sim=1): 0.0h 0.0m 0s 317ms
2023-11-13 21:42:21,012 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 21:42:21,048 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:42:21,050 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  473.347206  239.833290
1  468.497286  241.523720
2  466.225497  240.326014
3  467.111701  240.222549
4  475.740088  247.059069
2023-11-13 21:42:21,208 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  473.347206  239.833290
2023-08-24  468.497286  241.523720
2023-08-25  466.225497  240.326014
2023-08-28  467.111701  240.222549
2023-08-29  475.740088  247.059069
2023-11-13 21:42:21,238 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
...             ...      ...
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1

[63 rows x 2 columns]
2023-11-13 21:42:21,241 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-22  469.100000  245.100000
2023-08-23  473.347206  239.833290
2023-08-24  468.497286  241.523720
2023-08-25  466.225497  240.326014
2023-08-28  467.111701  240.222549
...                ...         ...
2024-07-24  368.528781  237.675646
2024-07-25  367.545856  239.612908
2024-07-26  369.011391  239.554071
2024-07-29  370.639786  241.873652
2024-07-30  369.290050  236.365177

[236 rows x 2 columns]
2023-11-13 21:42:21,394 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:42:21,394 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x13c4d5490>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  473.347206  239.833290
2023-08-24  468.497286  241.523720
2023-08-25  466.225497  240.326014
2023-08-28  467.111701  240.222549
2023-08-29  475.740088  247.059069
...                ...         ...
2024-07-24  368.528781  237.675646
2024-07-25  367.545856  239.612908
2024-07-26  369.011391  239.554071
2024-07-29  370.639786  241.873652
2024-07-30  369.290050  236.365177

[235 rows x 2 columns], sim=2): 0.0h 0.0m 0s 182ms
2023-11-13 21:42:21,394 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x13c4d5490>, n_sim=3): 0.0h 1.0m 20s 275ms
2023-11-13 21:42:21,394 - yq - INFO - Pricing the product on 2023-08-23 00:00:00
2023-11-13 21:42:21,395 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:42:21,414 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:42:21,712 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-11-13 21:42:21,729 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230823.csv
2023-11-13 21:42:21,735 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/lonn_call.csv
2023-11-13 21:42:21,737 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     430  53.599991  28.433285  0.0175
1  0.162807     440  45.049988  27.074509  0.0175
2  0.162807     450  37.099991  26.028452  0.0175
3  0.162807     460  29.824997  25.145454  0.0175
4  0.162807     470  23.349991  24.413734  0.0175
2023-11-13 21:42:21,738 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/sika_call.csv
2023-11-13 21:42:21,740 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     195  47.125008  36.494854  0.0175
1  0.162807     200  42.300003  34.223370  0.0175
2  0.162807     210  32.924995  30.578308  0.0175
3  0.162807     220  24.175003  27.988766  0.0175
4  0.162807     230  16.475006  26.213083  0.0175
2023-11-13 21:42:21,744 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     430  53.599991  0.0175
1  0.162807     440  45.049988  0.0175
2  0.162807     450  37.099991  0.0175
3  0.162807     460  29.824997  0.0175
4  0.162807     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.162807     195  47.125008  0.0175
1  0.162807     200  42.300003  0.0175
2  0.162807     210  32.924995  0.0175
3  0.162807     220  24.175003  0.0175
4  0.162807     230  16.475006  0.0175
2023-11-13 21:42:21,744 - yq - INFO - Calibrating LONZA on 2023-08-23 00:00:00.
2023-11-13 21:43:06,912 - yq - INFO - Calibrating SIKA on 2023-08-23 00:00:00.
2023-11-13 21:43:48,979 - yq - INFO - The S_0 for LONZA and SIKA are 480.0 and 246.2
2023-11-13 21:43:48,989 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 27 seconds
2023-11-13 21:43:49,002 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230823.csv
2023-11-13 21:43:49,002 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.36714513  0.01666252 -0.12415455  0.45759583  0.22101437]
 [10.          0.06685689 -0.17700626  2.42059584  0.09710601]]
2023-11-13 21:43:49,004 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x11e6f7e90>, Timestamp('2023-08-23 00:00:00')): 0.0h 1.0m 27s 276ms
2023-11-13 21:43:49,017 - yq - INFO - The log returns list for all assets is: [Date
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
                ...   
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
                ...   
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:43:49,023 - yq - INFO - rho_S1S2 is 0.4371733468311143

2023-11-13 21:43:49,023 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43717335]
 [0.43717335 1.        ]]

2023-11-13 21:43:49,023 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45759583 0.43717335 0.        ]
 [0.45759583 1.         0.         0.        ]
 [0.43717335 0.         1.         2.42059584]
 [0.         0.         2.42059584 1.        ]]

2023-11-13 21:43:49,024 - yq - ERROR - Error during simulation on 2023-08-23 00:00:00: Matrix is not positive definite
2023-11-13 21:43:49,024 - yq - INFO - Pricing the product on 2023-08-24 00:00:00
2023-11-13 21:43:49,024 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:43:49,049 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:43:49,288 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-11-13 21:43:49,288 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230824.csv
2023-11-13 21:43:49,292 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/lonn_call.csv
2023-11-13 21:43:49,294 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     430  53.599991  28.433285  0.0175
1      0.16     440  45.049988  27.074509  0.0175
2      0.16     450  37.099991  26.028452  0.0175
3      0.16     460  29.824997  25.145454  0.0175
4      0.16     470  23.349991  24.413734  0.0175
2023-11-13 21:43:49,295 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/sika_call.csv
2023-11-13 21:43:49,297 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     195  47.125008  36.494854  0.0175
1      0.16     200  42.300003  34.223370  0.0175
2      0.16     210  32.924995  30.578308  0.0175
3      0.16     220  24.175003  27.988766  0.0175
4      0.16     230  16.475006  26.213083  0.0175
2023-11-13 21:43:49,300 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     430  53.599991  0.0175
1      0.16     440  45.049988  0.0175
2      0.16     450  37.099991  0.0175
3      0.16     460  29.824997  0.0175
4      0.16     470  23.349991  0.0175
   maturity  strike      price    rate
0      0.16     195  47.125008  0.0175
1      0.16     200  42.300003  0.0175
2      0.16     210  32.924995  0.0175
3      0.16     220  24.175003  0.0175
4      0.16     230  16.475006  0.0175
2023-11-13 21:43:49,301 - yq - INFO - Calibrating LONZA on 2023-08-24 00:00:00.
2023-11-13 21:44:26,735 - yq - INFO - Calibrating SIKA on 2023-08-24 00:00:00.
2023-11-13 21:45:00,424 - yq - INFO - The S_0 for LONZA and SIKA are 477.5 and 240.9
2023-11-13 21:45:00,425 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 11 seconds
2023-11-13 21:45:00,438 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230824.csv
2023-11-13 21:45:00,438 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.43353043  0.01004941 -0.13773554  0.43013013  0.26080301]
 [ 8.18645705  0.01062616 -0.11941598  0.44607919  0.26101057]]
2023-11-13 21:45:00,439 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284cd7b10>, Timestamp('2023-08-24 00:00:00')): 0.0h 1.0m 11s 152ms
2023-11-13 21:45:00,447 - yq - INFO - The log returns list for all assets is: [Date
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
                ...   
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
                ...   
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:45:00,450 - yq - INFO - rho_S1S2 is 0.42692214622823577

2023-11-13 21:45:00,450 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42692215]
 [0.42692215 1.        ]]

2023-11-13 21:45:00,450 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43013013 0.42692215 0.        ]
 [0.43013013 1.         0.         0.        ]
 [0.42692215 0.         1.         0.44607919]
 [0.         0.         0.44607919 1.        ]]

2023-11-13 21:45:00,451 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43013013  0.9027669   0.          0.        ]
 [ 0.42692215 -0.20341029  0.88111392  0.        ]
 [ 0.          0.          0.50626733  0.86237659]]

2023-11-13 21:45:00,451 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284cd7b10>): 0.0h 0.0m 0s 12ms
2023-11-13 21:45:00,461 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 21:45:00,485 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:45:00,487 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  504.616910  234.640999
1  511.518614  235.594910
2  509.258000  243.436654
3  527.880395  239.916155
4  526.831321  239.349773
2023-11-13 21:45:00,590 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  504.616910  234.640999
2023-08-28  511.518614  235.594910
2023-08-29  509.258000  243.436654
2023-08-30  527.880395  239.916155
2023-08-31  526.831321  239.349773
2023-11-13 21:45:00,661 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 21:45:00,664 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  504.616910  234.640999
2023-08-28  511.518614  235.594910
2023-08-29  509.258000  243.436654
2023-08-30  527.880395  239.916155
...                ...         ...
2024-07-24  523.432572  225.909470
2024-07-25  524.197088  225.924690
2024-07-26  518.528328  224.671103
2024-07-29  521.348506  221.660285
2024-07-30  527.713546  222.301803

[234 rows x 2 columns]
2023-11-13 21:45:00,807 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:45:00,807 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284cd7b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  504.616910  234.640999
2023-08-28  511.518614  235.594910
2023-08-29  509.258000  243.436654
2023-08-30  527.880395  239.916155
2023-08-31  526.831321  239.349773
...                ...         ...
2024-07-24  523.432572  225.909470
2024-07-25  524.197088  225.924690
2024-07-26  518.528328  224.671103
2024-07-29  521.348506  221.660285
2024-07-30  527.713546  222.301803

[233 rows x 2 columns], sim=0): 0.0h 0.0m 0s 211ms
2023-11-13 21:45:00,808 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 21:45:00,833 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:45:00,835 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  485.372817  247.366519
1  486.790470  243.976173
2  508.430412  243.035996
3  505.281350  258.278415
4  489.866270  260.453113
2023-11-13 21:45:00,955 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  485.372817  247.366519
2023-08-28  486.790470  243.976173
2023-08-29  508.430412  243.035996
2023-08-30  505.281350  258.278415
2023-08-31  489.866270  260.453113
2023-11-13 21:45:00,985 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 21:45:00,987 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  485.372817  247.366519
2023-08-28  486.790470  243.976173
2023-08-29  508.430412  243.035996
2023-08-30  505.281350  258.278415
...                ...         ...
2024-07-24  593.657611  278.449567
2024-07-25  592.121942  277.009139
2024-07-26  593.589477  278.396977
2024-07-29  592.407215  276.116436
2024-07-30  590.446446  275.980144

[234 rows x 2 columns]
2023-11-13 21:45:01,127 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:45:01,127 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284cd7b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  485.372817  247.366519
2023-08-28  486.790470  243.976173
2023-08-29  508.430412  243.035996
2023-08-30  505.281350  258.278415
2023-08-31  489.866270  260.453113
...                ...         ...
2024-07-24  593.657611  278.449567
2024-07-25  592.121942  277.009139
2024-07-26  593.589477  278.396977
2024-07-29  592.407215  276.116436
2024-07-30  590.446446  275.980144

[233 rows x 2 columns], sim=1): 0.0h 0.0m 0s 169ms
2023-11-13 21:45:01,128 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 21:45:01,158 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:45:01,160 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  492.130027  231.086708
1  473.816400  233.491010
2  496.537590  247.014897
3  465.378027  228.338025
4  475.798653  234.568594
2023-11-13 21:45:01,308 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  492.130027  231.086708
2023-08-28  473.816400  233.491010
2023-08-29  496.537590  247.014897
2023-08-30  465.378027  228.338025
2023-08-31  475.798653  234.568594
2023-11-13 21:45:01,341 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
...             ...      ...
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9

[63 rows x 2 columns]
2023-11-13 21:45:01,345 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-24  477.500000  240.900000
2023-08-25  492.130027  231.086708
2023-08-28  473.816400  233.491010
2023-08-29  496.537590  247.014897
2023-08-30  465.378027  228.338025
...                ...         ...
2024-07-24  559.599676  263.282372
2024-07-25  558.251246  265.405018
2024-07-26  562.878914  266.470770
2024-07-29  565.577487  269.704923
2024-07-30  569.107181  268.681559

[234 rows x 2 columns]
2023-11-13 21:45:01,533 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:45:01,533 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284cd7b10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  492.130027  231.086708
2023-08-28  473.816400  233.491010
2023-08-29  496.537590  247.014897
2023-08-30  465.378027  228.338025
2023-08-31  475.798653  234.568594
...                ...         ...
2024-07-24  559.599676  263.282372
2024-07-25  558.251246  265.405018
2024-07-26  562.878914  266.470770
2024-07-29  565.577487  269.704923
2024-07-30  569.107181  268.681559

[233 rows x 2 columns], sim=2): 0.0h 0.0m 0s 221ms
2023-11-13 21:45:01,533 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284cd7b10>, n_sim=3): 0.0h 1.0m 12s 248ms
2023-11-13 21:45:01,533 - yq - INFO - Pricing the product on 2023-08-25 00:00:00
2023-11-13 21:45:01,533 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:45:01,546 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:45:01,848 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-11-13 21:45:01,858 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230825.csv
2023-11-13 21:45:01,867 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/lonn_call.csv
2023-11-13 21:45:01,869 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     440  53.750000  27.479589  0.0175
1  0.157193     450  44.949997  26.013029  0.0175
2  0.157193     460  36.750000  24.936087  0.0175
3  0.157193     470  29.224991  24.031950  0.0175
4  0.157193     480  22.524994  23.274614  0.0175
2023-11-13 21:45:01,870 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/sika_call.csv
2023-11-13 21:45:01,872 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     195  46.399994  36.397018  0.0175
1  0.157193     200  41.574997  34.104519  0.0175
2  0.157193     210  32.174995  30.276834  0.0175
3  0.157193     220  23.375000  27.452997  0.0175
4  0.157193     230  15.724994  25.756443  0.0175
2023-11-13 21:45:01,877 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     440  53.750000  0.0175
1  0.157193     450  44.949997  0.0175
2  0.157193     460  36.750000  0.0175
3  0.157193     470  29.224991  0.0175
4  0.157193     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.157193     195  46.399994  0.0175
1  0.157193     200  41.574997  0.0175
2  0.157193     210  32.174995  0.0175
3  0.157193     220  23.375000  0.0175
4  0.157193     230  15.724994  0.0175
2023-11-13 21:45:01,877 - yq - INFO - Calibrating LONZA on 2023-08-25 00:00:00.
2023-11-13 21:45:36,663 - yq - INFO - Calibrating SIKA on 2023-08-25 00:00:00.
2023-11-13 21:46:13,928 - yq - INFO - The S_0 for LONZA and SIKA are 473.3 and 239.7
2023-11-13 21:46:13,929 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 21:46:13,946 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230825.csv
2023-11-13 21:46:13,946 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.05806052  0.02339717 -0.09873211  0.43215007  0.25902997]
 [ 0.29524768  0.17193864 -0.06787837  0.47134805  0.25460747]]
2023-11-13 21:46:13,949 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, Timestamp('2023-08-25 00:00:00')): 0.0h 1.0m 12s 91ms
2023-11-13 21:46:13,966 - yq - INFO - The log returns list for all assets is: [Date
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
                ...   
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
                ...   
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:46:13,967 - yq - INFO - rho_S1S2 is 0.4263512706844439

2023-11-13 21:46:13,967 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42635127]
 [0.42635127 1.        ]]

2023-11-13 21:46:13,968 - yq - INFO - Simplified correlation matrix is:
[[1.         0.43215007 0.42635127 0.        ]
 [0.43215007 1.         0.         0.        ]
 [0.42635127 0.         1.         0.47134805]
 [0.         0.         0.47134805 1.        ]]

2023-11-13 21:46:13,968 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.43215007  0.90180171  0.          0.        ]
 [ 0.42635127 -0.20431069  0.88118201  0.        ]
 [ 0.          0.          0.5349043   0.84491265]]

2023-11-13 21:46:13,968 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864978d0>): 0.0h 0.0m 0s 19ms
2023-11-13 21:46:13,977 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 21:46:14,000 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:46:14,005 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  486.874726  254.197715
1  487.891221  252.078035
2  490.223877  248.085391
3  493.395179  256.106995
4  476.583205  263.254699
2023-11-13 21:46:14,120 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  486.874726  254.197715
2023-08-29  487.891221  252.078035
2023-08-30  490.223877  248.085391
2023-08-31  493.395179  256.106995
2023-09-01  476.583205  263.254699
2023-11-13 21:46:14,249 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 21:46:14,255 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  486.874726  254.197715
2023-08-29  487.891221  252.078035
2023-08-30  490.223877  248.085391
2023-08-31  493.395179  256.106995
...                ...         ...
2024-07-24  573.516273  228.951961
2024-07-25  571.377923  232.204083
2024-07-26  569.820401  232.525645
2024-07-29  576.036606  228.772258
2024-07-30  580.131379  238.806973

[233 rows x 2 columns]
2023-11-13 21:46:14,392 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:46:14,392 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  486.874726  254.197715
2023-08-29  487.891221  252.078035
2023-08-30  490.223877  248.085391
2023-08-31  493.395179  256.106995
2023-09-01  476.583205  263.254699
...                ...         ...
2024-07-24  573.516273  228.951961
2024-07-25  571.377923  232.204083
2024-07-26  569.820401  232.525645
2024-07-29  576.036606  228.772258
2024-07-30  580.131379  238.806973

[232 rows x 2 columns], sim=0): 0.0h 0.0m 0s 267ms
2023-11-13 21:46:14,392 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 21:46:14,419 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:46:14,420 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  495.911269  250.479496
1  499.738546  243.965007
2  480.800186  242.346907
3  458.215169  238.028661
4  452.077339  236.940401
2023-11-13 21:46:14,538 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  495.911269  250.479496
2023-08-29  499.738546  243.965007
2023-08-30  480.800186  242.346907
2023-08-31  458.215169  238.028661
2023-09-01  452.077339  236.940401
2023-11-13 21:46:14,569 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 21:46:14,572 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  495.911269  250.479496
2023-08-29  499.738546  243.965007
2023-08-30  480.800186  242.346907
2023-08-31  458.215169  238.028661
...                ...         ...
2024-07-24  461.939900  150.037730
2024-07-25  464.358748  153.318479
2024-07-26  474.056078  157.074416
2024-07-29  474.745658  158.959604
2024-07-30  477.767047  160.420237

[233 rows x 2 columns]
2023-11-13 21:46:14,734 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:46:14,734 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  495.911269  250.479496
2023-08-29  499.738546  243.965007
2023-08-30  480.800186  242.346907
2023-08-31  458.215169  238.028661
2023-09-01  452.077339  236.940401
...                ...         ...
2024-07-24  461.939900  150.037730
2024-07-25  464.358748  153.318479
2024-07-26  474.056078  157.074416
2024-07-29  474.745658  158.959604
2024-07-30  477.767047  160.420237

[232 rows x 2 columns], sim=1): 0.0h 0.0m 0s 192ms
2023-11-13 21:46:14,735 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 21:46:14,768 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:46:14,770 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  438.199655  230.779149
1  428.703888  233.435737
2  406.141271  225.058084
3  390.670479  237.950711
4  381.854374  240.704266
2023-11-13 21:46:14,918 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  438.199655  230.779149
2023-08-29  428.703888  233.435737
2023-08-30  406.141271  225.058084
2023-08-31  390.670479  237.950711
2023-09-01  381.854374  240.704266
2023-11-13 21:46:14,946 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
...             ...      ...
2023-08-21    469.9    244.9
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7

[63 rows x 2 columns]
2023-11-13 21:46:14,949 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-25  473.300000  239.700000
2023-08-28  438.199655  230.779149
2023-08-29  428.703888  233.435737
2023-08-30  406.141271  225.058084
2023-08-31  390.670479  237.950711
...                ...         ...
2024-07-24  517.913938  153.071385
2024-07-25  524.846126  154.333870
2024-07-26  530.261664  164.426298
2024-07-29  526.544783  159.605366
2024-07-30  524.136308  161.319414

[233 rows x 2 columns]
2023-11-13 21:46:15,122 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:46:15,122 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  438.199655  230.779149
2023-08-29  428.703888  233.435737
2023-08-30  406.141271  225.058084
2023-08-31  390.670479  237.950711
2023-09-01  381.854374  240.704266
...                ...         ...
2024-07-24  517.913938  153.071385
2024-07-25  524.846126  154.333870
2024-07-26  530.261664  164.426298
2024-07-29  526.544783  159.605366
2024-07-30  524.136308  161.319414

[232 rows x 2 columns], sim=2): 0.0h 0.0m 0s 199ms
2023-11-13 21:46:15,122 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, n_sim=3): 0.0h 1.0m 13s 276ms
2023-11-13 21:46:15,123 - yq - INFO - Pricing the product on 2023-08-28 00:00:00
2023-11-13 21:46:15,123 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:46:15,134 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:46:15,422 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-11-13 21:46:15,423 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230828.csv
2023-11-13 21:46:15,429 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/lonn_call.csv
2023-11-13 21:46:15,431 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     440  53.750000  27.479589  0.0175
1  0.148772     450  44.949997  26.013029  0.0175
2  0.148772     460  36.750000  24.936087  0.0175
3  0.148772     470  29.224991  24.031950  0.0175
4  0.148772     480  22.524994  23.274614  0.0175
2023-11-13 21:46:15,433 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/sika_call.csv
2023-11-13 21:46:15,435 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     200  44.550003  33.966270  0.0175
1  0.148772     210  34.950005  29.767315  0.0175
2  0.148772     220  25.850006  26.848900  0.0175
3  0.148772     230  17.750000  25.146227  0.0175
4  0.148772     240  11.025000  23.833889  0.0175
2023-11-13 21:46:15,439 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     440  53.750000  0.0175
1  0.148772     450  44.949997  0.0175
2  0.148772     460  36.750000  0.0175
3  0.148772     470  29.224991  0.0175
4  0.148772     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.148772     200  44.550003  0.0175
1  0.148772     210  34.950005  0.0175
2  0.148772     220  25.850006  0.0175
3  0.148772     230  17.750000  0.0175
4  0.148772     240  11.025000  0.0175
2023-11-13 21:46:15,439 - yq - INFO - Calibrating LONZA on 2023-08-28 00:00:00.
2023-11-13 21:46:54,515 - yq - INFO - Calibrating SIKA on 2023-08-28 00:00:00.
2023-11-13 21:47:26,633 - yq - INFO - The S_0 for LONZA and SIKA are 475.5 and 242.6
2023-11-13 21:47:26,633 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 11 seconds
2023-11-13 21:47:26,643 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230828.csv
2023-11-13 21:47:26,644 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.00936808  0.02015386 -0.09091246  0.45682847  0.27736716]
 [ 0.55967406  0.18783516 -0.05540066  0.56922992  0.23400008]]
2023-11-13 21:47:26,646 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, Timestamp('2023-08-28 00:00:00')): 0.0h 1.0m 11s 223ms
2023-11-13 21:47:26,654 - yq - INFO - The log returns list for all assets is: [Date
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
                ...   
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
                ...   
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:47:26,656 - yq - INFO - rho_S1S2 is 0.4301092130230156

2023-11-13 21:47:26,656 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43010921]
 [0.43010921 1.        ]]

2023-11-13 21:47:26,656 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45682847 0.43010921 0.        ]
 [0.45682847 1.         0.         0.        ]
 [0.43010921 0.         1.         0.56922992]
 [0.         0.         0.56922992 1.        ]]

2023-11-13 21:47:26,657 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.45682847  0.8895548   0.          0.        ]
 [ 0.43010921 -0.22088143  0.87533848  0.        ]
 [ 0.          0.          0.65029691  0.75968014]]

2023-11-13 21:47:26,657 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x2864978d0>): 0.0h 0.0m 0s 12ms
2023-11-13 21:47:26,672 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 21:47:26,697 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:47:26,700 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  470.795831  239.290156
1  498.916997  254.233705
2  499.146094  250.945362
3  526.679310  260.684512
4  528.358011  258.639735
2023-11-13 21:47:26,807 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  470.795831  239.290156
2023-08-30  498.916997  254.233705
2023-08-31  499.146094  250.945362
2023-09-01  526.679310  260.684512
2023-09-04  528.358011  258.639735
2023-11-13 21:47:26,896 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 21:47:26,899 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  470.795831  239.290156
2023-08-30  498.916997  254.233705
2023-08-31  499.146094  250.945362
2023-09-01  526.679310  260.684512
...                ...         ...
2024-07-24  887.005616  416.860355
2024-07-25  881.001207  409.853847
2024-07-26  874.155433  392.859788
2024-07-29  872.987506  391.893358
2024-07-30  866.059228  385.346412

[232 rows x 2 columns]
2023-11-13 21:47:27,032 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:47:27,032 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  470.795831  239.290156
2023-08-30  498.916997  254.233705
2023-08-31  499.146094  250.945362
2023-09-01  526.679310  260.684512
2023-09-04  528.358011  258.639735
...                ...         ...
2024-07-24  887.005616  416.860355
2024-07-25  881.001207  409.853847
2024-07-26  874.155433  392.859788
2024-07-29  872.987506  391.893358
2024-07-30  866.059228  385.346412

[231 rows x 2 columns], sim=0): 0.0h 0.0m 0s 221ms
2023-11-13 21:47:27,032 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 21:47:27,056 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:47:27,057 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.986029  250.437988
1  475.462899  245.386818
2  464.034939  251.133073
3  454.479695  259.676214
4  449.112011  275.310035
2023-11-13 21:47:27,168 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  479.986029  250.437988
2023-08-30  475.462899  245.386818
2023-08-31  464.034939  251.133073
2023-09-01  454.479695  259.676214
2023-09-04  449.112011  275.310035
2023-11-13 21:47:27,191 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 21:47:27,194 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  479.986029  250.437988
2023-08-30  475.462899  245.386818
2023-08-31  464.034939  251.133073
2023-09-01  454.479695  259.676214
...                ...         ...
2024-07-24  469.450389  256.683477
2024-07-25  460.543308  255.135519
2024-07-26  453.101907  253.033947
2024-07-29  453.467745  260.424780
2024-07-30  463.741965  279.537822

[232 rows x 2 columns]
2023-11-13 21:47:27,343 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:47:27,344 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  479.986029  250.437988
2023-08-30  475.462899  245.386818
2023-08-31  464.034939  251.133073
2023-09-01  454.479695  259.676214
2023-09-04  449.112011  275.310035
...                ...         ...
2024-07-24  469.450389  256.683477
2024-07-25  460.543308  255.135519
2024-07-26  453.101907  253.033947
2024-07-29  453.467745  260.424780
2024-07-30  463.741965  279.537822

[231 rows x 2 columns], sim=1): 0.0h 0.0m 0s 173ms
2023-11-13 21:47:27,344 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 21:47:27,379 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:47:27,381 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  482.041126  244.134289
1  477.844853  237.065352
2  468.260624  237.046554
3  474.108279  240.580696
4  465.177671  236.917153
2023-11-13 21:47:27,946 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  482.041126  244.134289
2023-08-30  477.844853  237.065352
2023-08-31  468.260624  237.046554
2023-09-01  474.108279  240.580696
2023-09-04  465.177671  236.917153
2023-11-13 21:47:27,981 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
...             ...      ...
2023-08-22    469.1    245.1
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6

[63 rows x 2 columns]
2023-11-13 21:47:27,984 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-28  475.500000  242.600000
2023-08-29  482.041126  244.134289
2023-08-30  477.844853  237.065352
2023-08-31  468.260624  237.046554
2023-09-01  474.108279  240.580696
...                ...         ...
2024-07-24  385.256527  105.779134
2024-07-25  388.468353  106.452492
2024-07-26  399.997382  112.782901
2024-07-29  409.492204  119.015382
2024-07-30  409.527336  115.540783

[232 rows x 2 columns]
2023-11-13 21:47:28,120 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:47:28,120 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  482.041126  244.134289
2023-08-30  477.844853  237.065352
2023-08-31  468.260624  237.046554
2023-09-01  474.108279  240.580696
2023-09-04  465.177671  236.917153
...                ...         ...
2024-07-24  385.256527  105.779134
2024-07-25  388.468353  106.452492
2024-07-26  399.997382  112.782901
2024-07-29  409.492204  119.015382
2024-07-30  409.527336  115.540783

[231 rows x 2 columns], sim=2): 0.0h 0.0m 0s 170ms
2023-11-13 21:47:28,120 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x2864978d0>, n_sim=3): 0.0h 1.0m 12s 700ms
2023-11-13 21:47:28,120 - yq - INFO - Pricing the product on 2023-08-29 00:00:00
2023-11-13 21:47:28,120 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:47:28,129 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:47:28,385 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-11-13 21:47:28,386 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230829.csv
2023-11-13 21:47:28,390 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/lonn_call.csv
2023-11-13 21:47:28,392 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     440  53.750000  27.479589  0.0175
1  0.145965     450  44.949997  26.013029  0.0175
2  0.145965     460  36.750000  24.936087  0.0175
3  0.145965     470  29.224991  24.031950  0.0175
4  0.145965     480  22.524994  23.274614  0.0175
2023-11-13 21:47:28,393 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/sika_call.csv
2023-11-13 21:47:28,395 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     200  48.200005  35.602180  0.0175
1  0.145965     210  38.550003  31.489353  0.0175
2  0.145965     220  29.175003  27.868134  0.0175
3  0.145965     230  20.525002  25.417206  0.0175
4  0.145965     240  13.150000  23.884602  0.0175
2023-11-13 21:47:28,399 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     440  53.750000  0.0175
1  0.145965     450  44.949997  0.0175
2  0.145965     460  36.750000  0.0175
3  0.145965     470  29.224991  0.0175
4  0.145965     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.145965     200  48.200005  0.0175
1  0.145965     210  38.550003  0.0175
2  0.145965     220  29.175003  0.0175
3  0.145965     230  20.525002  0.0175
4  0.145965     240  13.150000  0.0175
2023-11-13 21:47:28,399 - yq - INFO - Calibrating LONZA on 2023-08-29 00:00:00.
2023-11-13 21:47:58,772 - yq - INFO - Calibrating SIKA on 2023-08-29 00:00:00.
2023-11-13 21:48:36,783 - yq - INFO - The S_0 for LONZA and SIKA are 479.9 and 246.0
2023-11-13 21:48:36,784 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 21:48:36,798 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230829.csv
2023-11-13 21:48:36,798 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.11829006  0.34637791 -0.06967515  0.47981272  0.26737679]
 [ 2.68049575  0.02844731 -0.0886022   0.45617216  0.29275748]]
2023-11-13 21:48:36,801 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14cb01850>, Timestamp('2023-08-29 00:00:00')): 0.0h 1.0m 8s 415ms
2023-11-13 21:48:36,815 - yq - INFO - The log returns list for all assets is: [Date
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
                ...   
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
                ...   
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:48:36,819 - yq - INFO - rho_S1S2 is 0.434975731220062

2023-11-13 21:48:36,819 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43497573]
 [0.43497573 1.        ]]

2023-11-13 21:48:36,820 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47981272 0.43497573 0.        ]
 [0.47981272 1.         0.         0.        ]
 [0.43497573 0.         1.         0.45617216]
 [0.         0.         0.45617216 1.        ]]

2023-11-13 21:48:36,821 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47981272  0.87737093  0.          0.        ]
 [ 0.43497573 -0.2378776   0.86845285  0.        ]
 [ 0.          0.          0.52526992  0.85093567]]

2023-11-13 21:48:36,821 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14cb01850>): 0.0h 0.0m 0s 20ms
2023-11-13 21:48:36,833 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 21:48:36,868 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:48:36,872 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.031777  243.669046
1  489.421286  242.789226
2  479.519306  235.108111
3  472.219244  225.756904
4  462.588587  221.825296
2023-11-13 21:48:37,022 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  479.031777  243.669046
2023-08-31  489.421286  242.789226
2023-09-01  479.519306  235.108111
2023-09-04  472.219244  225.756904
2023-09-05  462.588587  221.825296
2023-11-13 21:48:37,163 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 21:48:37,168 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  479.031777  243.669046
2023-08-31  489.421286  242.789226
2023-09-01  479.519306  235.108111
2023-09-04  472.219244  225.756904
...                ...         ...
2024-07-24  290.163791  136.305449
2024-07-25  308.225314  139.476726
2024-07-26  311.373142  138.746096
2024-07-29  310.859474  139.681922
2024-07-30  319.226544  142.902896

[231 rows x 2 columns]
2023-11-13 21:48:37,370 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:48:37,370 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14cb01850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  479.031777  243.669046
2023-08-31  489.421286  242.789226
2023-09-01  479.519306  235.108111
2023-09-04  472.219244  225.756904
2023-09-05  462.588587  221.825296
...                ...         ...
2024-07-24  290.163791  136.305449
2024-07-25  308.225314  139.476726
2024-07-26  311.373142  138.746096
2024-07-29  310.859474  139.681922
2024-07-30  319.226544  142.902896

[230 rows x 2 columns], sim=0): 0.0h 0.0m 0s 342ms
2023-11-13 21:48:37,372 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 21:48:37,402 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:48:37,404 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.395806  255.988226
1  498.257587  255.535246
2  469.905677  248.299029
3  453.586038  250.815901
4  443.112213  245.500228
2023-11-13 21:48:37,564 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  472.395806  255.988226
2023-08-31  498.257587  255.535246
2023-09-01  469.905677  248.299029
2023-09-04  453.586038  250.815901
2023-09-05  443.112213  245.500228
2023-11-13 21:48:37,609 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 21:48:37,613 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  472.395806  255.988226
2023-08-31  498.257587  255.535246
2023-09-01  469.905677  248.299029
2023-09-04  453.586038  250.815901
...                ...         ...
2024-07-24  270.586406  205.065751
2024-07-25  256.349810  201.373567
2024-07-26  253.113305  201.005487
2024-07-29  255.657741  205.187159
2024-07-30  236.342758  206.449480

[231 rows x 2 columns]
2023-11-13 21:48:37,809 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:48:37,810 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14cb01850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  472.395806  255.988226
2023-08-31  498.257587  255.535246
2023-09-01  469.905677  248.299029
2023-09-04  453.586038  250.815901
2023-09-05  443.112213  245.500228
...                ...         ...
2024-07-24  270.586406  205.065751
2024-07-25  256.349810  201.373567
2024-07-26  253.113305  201.005487
2024-07-29  255.657741  205.187159
2024-07-30  236.342758  206.449480

[230 rows x 2 columns], sim=1): 0.0h 0.0m 0s 243ms
2023-11-13 21:48:37,812 - yq - INFO - The adjusted S_0 is [479.9 246. ]
2023-11-13 21:48:37,862 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:48:37,865 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.951053  235.894504
1  450.627568  247.023176
2  472.140155  253.342452
3  466.171921  241.319300
4  448.523995  238.040720
2023-11-13 21:48:38,009 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  484.951053  235.894504
2023-08-31  450.627568  247.023176
2023-09-01  472.140155  253.342452
2023-09-04  466.171921  241.319300
2023-09-05  448.523995  238.040720
2023-11-13 21:48:38,037 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
...             ...      ...
2023-08-23    480.0    246.2
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0

[63 rows x 2 columns]
2023-11-13 21:48:38,040 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-29  479.900000  246.000000
2023-08-30  484.951053  235.894504
2023-08-31  450.627568  247.023176
2023-09-01  472.140155  253.342452
2023-09-04  466.171921  241.319300
...                ...         ...
2024-07-24  277.621628  345.526738
2024-07-25  290.965307  342.064611
2024-07-26  298.071041  345.255143
2024-07-29  308.374448  345.406941
2024-07-30  301.574328  347.817031

[231 rows x 2 columns]
2023-11-13 21:48:38,183 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:48:38,184 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14cb01850>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-30  484.951053  235.894504
2023-08-31  450.627568  247.023176
2023-09-01  472.140155  253.342452
2023-09-04  466.171921  241.319300
2023-09-05  448.523995  238.040720
...                ...         ...
2024-07-24  277.621628  345.526738
2024-07-25  290.965307  342.064611
2024-07-26  298.071041  345.255143
2024-07-29  308.374448  345.406941
2024-07-30  301.574328  347.817031

[230 rows x 2 columns], sim=2): 0.0h 0.0m 0s 171ms
2023-11-13 21:48:38,184 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14cb01850>, n_sim=3): 0.0h 1.0m 9s 801ms
2023-11-13 21:48:38,184 - yq - INFO - Pricing the product on 2023-08-30 00:00:00
2023-11-13 21:48:38,184 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:48:38,198 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:48:38,533 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-11-13 21:48:38,534 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230830.csv
2023-11-13 21:48:38,545 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/lonn_call.csv
2023-11-13 21:48:38,549 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     440  53.750000  27.479589  0.0175
1  0.143158     450  44.949997  26.013029  0.0175
2  0.143158     460  36.750000  24.936087  0.0175
3  0.143158     470  29.224991  24.031950  0.0175
4  0.143158     480  22.524994  23.274614  0.0175
2023-11-13 21:48:38,551 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/sika_call.csv
2023-11-13 21:48:38,557 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     200  48.200005  35.602180  0.0175
1  0.143158     210  38.550003  31.489353  0.0175
2  0.143158     220  29.175003  27.868134  0.0175
3  0.143158     230  20.525002  25.417206  0.0175
4  0.143158     240  13.150000  23.884602  0.0175
2023-11-13 21:48:38,565 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     440  53.750000  0.0175
1  0.143158     450  44.949997  0.0175
2  0.143158     460  36.750000  0.0175
3  0.143158     470  29.224991  0.0175
4  0.143158     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.143158     200  48.200005  0.0175
1  0.143158     210  38.550003  0.0175
2  0.143158     220  29.175003  0.0175
3  0.143158     230  20.525002  0.0175
4  0.143158     240  13.150000  0.0175
2023-11-13 21:48:38,565 - yq - INFO - Calibrating LONZA on 2023-08-30 00:00:00.
2023-11-13 21:49:14,903 - yq - INFO - Calibrating SIKA on 2023-08-30 00:00:00.
2023-11-13 21:49:51,042 - yq - INFO - The S_0 for LONZA and SIKA are 483.2 and 246.3
2023-11-13 21:49:51,042 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 21:49:51,067 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230830.csv
2023-11-13 21:49:51,067 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.02097624  1.60770907 -0.06148052  0.52325312  0.26283229]
 [ 2.27964412  0.03364944 -0.08766642  0.45740223  0.29750111]]
2023-11-13 21:49:51,069 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, Timestamp('2023-08-30 00:00:00')): 0.0h 1.0m 12s 536ms
2023-11-13 21:49:51,088 - yq - INFO - The log returns list for all assets is: [Date
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
                ...   
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
                ...   
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:49:51,092 - yq - INFO - rho_S1S2 is 0.4192264656802595

2023-11-13 21:49:51,093 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41922647]
 [0.41922647 1.        ]]

2023-11-13 21:49:51,093 - yq - INFO - Simplified correlation matrix is:
[[1.         0.52325312 0.41922647 0.        ]
 [0.52325312 1.         0.         0.        ]
 [0.41922647 0.         1.         0.45740223]
 [0.         0.         0.45740223 1.        ]]

2023-11-13 21:49:51,096 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.52325312  0.85217731  0.          0.        ]
 [ 0.41922647 -0.25741304  0.87062489  0.        ]
 [ 0.          0.          0.52537234  0.85087244]]

2023-11-13 21:49:51,096 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>): 0.0h 0.0m 0s 27ms
2023-11-13 21:49:51,106 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 21:49:51,129 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:49:51,137 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  471.076713  242.234313
1  483.166282  258.419817
2  480.773053  254.356628
3  487.028975  251.354385
4  484.156892  263.292179
2023-11-13 21:49:51,266 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  471.076713  242.234313
2023-09-01  483.166282  258.419817
2023-09-04  480.773053  254.356628
2023-09-05  487.028975  251.354385
2023-09-06  484.156892  263.292179
2023-11-13 21:49:51,454 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 21:49:51,456 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  471.076713  242.234313
2023-09-01  483.166282  258.419817
2023-09-04  480.773053  254.356628
2023-09-05  487.028975  251.354385
...                ...         ...
2024-07-24  665.222672  231.596147
2024-07-25  628.109678  232.686309
2024-07-26  620.483612  232.206907
2024-07-29  639.024869  231.410047
2024-07-30  648.690062  235.289444

[230 rows x 2 columns]
2023-11-13 21:49:51,587 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:49:51,587 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  471.076713  242.234313
2023-09-01  483.166282  258.419817
2023-09-04  480.773053  254.356628
2023-09-05  487.028975  251.354385
2023-09-06  484.156892  263.292179
...                ...         ...
2024-07-24  665.222672  231.596147
2024-07-25  628.109678  232.686309
2024-07-26  620.483612  232.206907
2024-07-29  639.024869  231.410047
2024-07-30  648.690062  235.289444

[229 rows x 2 columns], sim=0): 0.0h 0.0m 0s 317ms
2023-11-13 21:49:51,587 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 21:49:51,611 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:49:51,613 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  489.226235  242.814055
1  469.422269  252.182443
2  449.277725  248.488310
3  451.666057  253.731307
4  442.437921  260.257530
2023-11-13 21:49:51,732 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  489.226235  242.814055
2023-09-01  469.422269  252.182443
2023-09-04  449.277725  248.488310
2023-09-05  451.666057  253.731307
2023-09-06  442.437921  260.257530
2023-11-13 21:49:51,758 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 21:49:51,762 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  489.226235  242.814055
2023-09-01  469.422269  252.182443
2023-09-04  449.277725  248.488310
2023-09-05  451.666057  253.731307
...                ...         ...
2024-07-24  295.837775  146.872080
2024-07-25  276.902039  142.601687
2024-07-26  289.409176  146.534002
2024-07-29  283.681907  146.449329
2024-07-30  278.840899  145.754894

[230 rows x 2 columns]
2023-11-13 21:49:51,929 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:49:51,929 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  489.226235  242.814055
2023-09-01  469.422269  252.182443
2023-09-04  449.277725  248.488310
2023-09-05  451.666057  253.731307
2023-09-06  442.437921  260.257530
...                ...         ...
2024-07-24  295.837775  146.872080
2024-07-25  276.902039  142.601687
2024-07-26  289.409176  146.534002
2024-07-29  283.681907  146.449329
2024-07-30  278.840899  145.754894

[229 rows x 2 columns], sim=1): 0.0h 0.0m 0s 193ms
2023-11-13 21:49:51,930 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 21:49:51,960 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:49:51,962 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  491.360800  243.962346
1  470.028880  260.243047
2  497.053755  264.916766
3  473.576080  256.156416
4  452.437434  239.255285
2023-11-13 21:49:52,122 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  491.360800  243.962346
2023-09-01  470.028880  260.243047
2023-09-04  497.053755  264.916766
2023-09-05  473.576080  256.156416
2023-09-06  452.437434  239.255285
2023-11-13 21:49:52,156 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
...             ...      ...
2023-08-24    477.5    240.9
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3

[63 rows x 2 columns]
2023-11-13 21:49:52,161 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-30  483.200000  246.300000
2023-08-31  491.360800  243.962346
2023-09-01  470.028880  260.243047
2023-09-04  497.053755  264.916766
2023-09-05  473.576080  256.156416
...                ...         ...
2024-07-24  247.727508  209.900333
2024-07-25  239.462549  202.163374
2024-07-26  241.707902  204.716110
2024-07-29  240.315705  199.084967
2024-07-30  229.844958  197.607775

[230 rows x 2 columns]
2023-11-13 21:49:52,350 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:49:52,350 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  491.360800  243.962346
2023-09-01  470.028880  260.243047
2023-09-04  497.053755  264.916766
2023-09-05  473.576080  256.156416
2023-09-06  452.437434  239.255285
...                ...         ...
2024-07-24  247.727508  209.900333
2024-07-25  239.462549  202.163374
2024-07-26  241.707902  204.716110
2024-07-29  240.315705  199.084967
2024-07-30  229.844958  197.607775

[229 rows x 2 columns], sim=2): 0.0h 0.0m 0s 223ms
2023-11-13 21:49:52,350 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, n_sim=3): 0.0h 1.0m 13s 820ms
2023-11-13 21:49:52,350 - yq - INFO - Pricing the product on 2023-08-31 00:00:00
2023-11-13 21:49:52,350 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:49:52,362 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:49:52,701 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-11-13 21:49:52,704 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230831.csv
2023-11-13 21:49:52,708 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/lonn_call.csv
2023-11-13 21:49:52,711 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     440  53.750000  27.479589  0.0175
1  0.140351     450  44.949997  26.013029  0.0175
2  0.140351     460  36.750000  24.936087  0.0175
3  0.140351     470  29.224991  24.031950  0.0175
4  0.140351     480  22.524994  23.274614  0.0175
2023-11-13 21:49:52,714 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/sika_call.csv
2023-11-13 21:49:52,717 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     210  42.050003  28.883789  0.0175
1  0.140351     220  32.525002  26.351738  0.0175
2  0.140351     230  23.550003  24.511261  0.0175
3  0.140351     240  15.625000  23.255863  0.0175
4  0.140351     250   9.325000  22.476318  0.0175
2023-11-13 21:49:52,722 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     440  53.750000  0.0175
1  0.140351     450  44.949997  0.0175
2  0.140351     460  36.750000  0.0175
3  0.140351     470  29.224991  0.0175
4  0.140351     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.140351     210  42.050003  0.0175
1  0.140351     220  32.525002  0.0175
2  0.140351     230  23.550003  0.0175
3  0.140351     240  15.625000  0.0175
4  0.140351     250   9.325000  0.0175
2023-11-13 21:49:52,723 - yq - INFO - Calibrating LONZA on 2023-08-31 00:00:00.
2023-11-13 21:50:28,422 - yq - INFO - Calibrating SIKA on 2023-08-31 00:00:00.
2023-11-13 21:51:05,818 - yq - INFO - The S_0 for LONZA and SIKA are 488.9 and 250.4
2023-11-13 21:51:05,819 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 21:51:05,832 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230831.csv
2023-11-13 21:51:05,832 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.83197894  0.01761834 -0.10083044  0.45876084  0.29915382]
 [ 0.10981949  0.40922925 -0.05288653  0.58744791  0.24836943]]
2023-11-13 21:51:05,833 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, Timestamp('2023-08-31 00:00:00')): 0.0h 1.0m 13s 131ms
2023-11-13 21:51:05,841 - yq - INFO - The log returns list for all assets is: [Date
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
                ...   
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
                ...   
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:51:05,843 - yq - INFO - rho_S1S2 is 0.42699878448050116

2023-11-13 21:51:05,843 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42699878]
 [0.42699878 1.        ]]

2023-11-13 21:51:05,843 - yq - INFO - Simplified correlation matrix is:
[[1.         0.45876084 0.42699878 0.        ]
 [0.45876084 1.         0.         0.        ]
 [0.42699878 0.         1.         0.58744791]
 [0.         0.         0.58744791 1.        ]]

2023-11-13 21:51:05,844 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.45876084  0.88855979  0.          0.        ]
 [ 0.42699878 -0.22045823  0.87696648  0.        ]
 [ 0.          0.          0.66986359  0.74248419]]

2023-11-13 21:51:05,844 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>): 0.0h 0.0m 0s 11ms
2023-11-13 21:51:05,854 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 21:51:05,882 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:51:05,886 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  509.213868  251.564321
1  531.072585  251.683201
2  512.168167  249.831580
3  499.355071  248.305355
4  506.774073  248.607724
2023-11-13 21:51:06,010 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  509.213868  251.564321
2023-09-04  531.072585  251.683201
2023-09-05  512.168167  249.831580
2023-09-06  499.355071  248.305355
2023-09-07  506.774073  248.607724
2023-11-13 21:51:06,096 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 21:51:06,108 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  509.213868  251.564321
2023-09-04  531.072585  251.683201
2023-09-05  512.168167  249.831580
2023-09-06  499.355071  248.305355
...                ...         ...
2024-07-24  795.016187  281.088639
2024-07-25  799.139760  285.367050
2024-07-26  808.253167  294.737282
2024-07-29  800.660388  282.942567
2024-07-30  799.956414  287.789246

[229 rows x 2 columns]
2023-11-13 21:51:06,279 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:51:06,279 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  509.213868  251.564321
2023-09-04  531.072585  251.683201
2023-09-05  512.168167  249.831580
2023-09-06  499.355071  248.305355
2023-09-07  506.774073  248.607724
...                ...         ...
2024-07-24  795.016187  281.088639
2024-07-25  799.139760  285.367050
2024-07-26  808.253167  294.737282
2024-07-29  800.660388  282.942567
2024-07-30  799.956414  287.789246

[228 rows x 2 columns], sim=0): 0.0h 0.0m 0s 265ms
2023-11-13 21:51:06,280 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 21:51:06,305 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:51:06,307 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.115387  250.627028
1  471.593173  257.026353
2  472.267590  269.561542
3  448.446797  257.481184
4  427.738523  271.893265
2023-11-13 21:51:06,432 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  480.115387  250.627028
2023-09-04  471.593173  257.026353
2023-09-05  472.267590  269.561542
2023-09-06  448.446797  257.481184
2023-09-07  427.738523  271.893265
2023-11-13 21:51:06,465 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 21:51:06,468 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  480.115387  250.627028
2023-09-04  471.593173  257.026353
2023-09-05  472.267590  269.561542
2023-09-06  448.446797  257.481184
...                ...         ...
2024-07-24  421.591190  329.150013
2024-07-25  422.300332  324.893699
2024-07-26  418.686294  331.072543
2024-07-29  421.069419  324.742329
2024-07-30  416.516131  327.193130

[229 rows x 2 columns]
2023-11-13 21:51:06,638 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:51:06,639 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  480.115387  250.627028
2023-09-04  471.593173  257.026353
2023-09-05  472.267590  269.561542
2023-09-06  448.446797  257.481184
2023-09-07  427.738523  271.893265
...                ...         ...
2024-07-24  421.591190  329.150013
2024-07-25  422.300332  324.893699
2024-07-26  418.686294  331.072543
2024-07-29  421.069419  324.742329
2024-07-30  416.516131  327.193130

[228 rows x 2 columns], sim=1): 0.0h 0.0m 0s 202ms
2023-11-13 21:51:06,639 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 21:51:06,673 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:51:06,675 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  477.624348  258.817526
1  479.093741  258.098739
2  474.580103  257.971888
3  489.767360  269.100558
4  505.497079  271.682391
2023-11-13 21:51:06,825 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  477.624348  258.817526
2023-09-04  479.093741  258.098739
2023-09-05  474.580103  257.971888
2023-09-06  489.767360  269.100558
2023-09-07  505.497079  271.682391
2023-11-13 21:51:06,851 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
...             ...      ...
2023-08-25    473.3    239.7
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4

[63 rows x 2 columns]
2023-11-13 21:51:06,855 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-08-31  488.900000  250.400000
2023-09-01  477.624348  258.817526
2023-09-04  479.093741  258.098739
2023-09-05  474.580103  257.971888
2023-09-06  489.767360  269.100558
...                ...         ...
2024-07-24  525.603471  377.058532
2024-07-25  532.037101  384.446687
2024-07-26  526.986236  389.953422
2024-07-29  519.506024  364.452831
2024-07-30  513.384495  371.403893

[229 rows x 2 columns]
2023-11-13 21:51:07,031 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:51:07,031 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  477.624348  258.817526
2023-09-04  479.093741  258.098739
2023-09-05  474.580103  257.971888
2023-09-06  489.767360  269.100558
2023-09-07  505.497079  271.682391
...                ...         ...
2024-07-24  525.603471  377.058532
2024-07-25  532.037101  384.446687
2024-07-26  526.986236  389.953422
2024-07-29  519.506024  364.452831
2024-07-30  513.384495  371.403893

[228 rows x 2 columns], sim=2): 0.0h 0.0m 0s 202ms
2023-11-13 21:51:07,031 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e5b6dd0>, n_sim=3): 0.0h 1.0m 14s 333ms
2023-11-13 21:51:07,031 - yq - INFO - Pricing the product on 2023-09-01 00:00:00
2023-11-13 21:51:07,032 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:51:07,042 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:51:07,368 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-11-13 21:51:07,369 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230901.csv
2023-11-13 21:51:07,373 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/lonn_call.csv
2023-11-13 21:51:07,375 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     440  49.199997  29.907877  0.0175
1  0.137544     450  40.449997  27.950396  0.0175
2  0.137544     460  32.449997  26.641903  0.0175
3  0.137544     470  25.049995  25.297674  0.0175
4  0.137544     480  18.649996  24.305870  0.0175
2023-11-13 21:51:07,376 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/sika_call.csv
2023-11-13 21:51:07,378 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     200  48.399994  34.529781  0.0175
1  0.137544     210  38.724991  30.920095  0.0175
2  0.137544     220  29.299995  27.579824  0.0175
3  0.137544     230  20.625000  25.546993  0.0175
4  0.137544     240  13.125000  23.984301  0.0175
2023-11-13 21:51:07,383 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     440  49.199997  0.0175
1  0.137544     450  40.449997  0.0175
2  0.137544     460  32.449997  0.0175
3  0.137544     470  25.049995  0.0175
4  0.137544     480  18.649996  0.0175
   maturity  strike      price    rate
0  0.137544     200  48.399994  0.0175
1  0.137544     210  38.724991  0.0175
2  0.137544     220  29.299995  0.0175
3  0.137544     230  20.625000  0.0175
4  0.137544     240  13.125000  0.0175
2023-11-13 21:51:07,383 - yq - INFO - Calibrating LONZA on 2023-09-01 00:00:00.
2023-11-13 21:51:45,774 - yq - INFO - Calibrating SIKA on 2023-09-01 00:00:00.
2023-11-13 21:52:21,354 - yq - INFO - The S_0 for LONZA and SIKA are 492.5 and 247.0
2023-11-13 21:52:21,354 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 21:52:21,367 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230901.csv
2023-11-13 21:52:21,367 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.42179716  0.03224978 -0.0840552   0.47724659  0.29760057]
 [ 1.88823935  0.04178733 -0.08095524  0.48201133  0.29906154]]
2023-11-13 21:52:21,368 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284bda3d0>, Timestamp('2023-09-01 00:00:00')): 0.0h 1.0m 14s 0ms
2023-11-13 21:52:21,382 - yq - INFO - The log returns list for all assets is: [Date
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
                ...   
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
                ...   
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:52:21,384 - yq - INFO - rho_S1S2 is 0.4188302744380037

2023-11-13 21:52:21,384 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41883027]
 [0.41883027 1.        ]]

2023-11-13 21:52:21,384 - yq - INFO - Simplified correlation matrix is:
[[1.         0.47724659 0.41883027 0.        ]
 [0.47724659 1.         0.         0.        ]
 [0.41883027 0.         1.         0.48201133]
 [0.         0.         0.48201133 1.        ]]

2023-11-13 21:52:21,386 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.47724659  0.87876942  0.          0.        ]
 [ 0.41883027 -0.22746049  0.87911485  0.        ]
 [ 0.          0.          0.54829165  0.83628719]]

2023-11-13 21:52:21,386 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284bda3d0>): 0.0h 0.0m 0s 18ms
2023-11-13 21:52:21,397 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 21:52:21,423 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:52:21,427 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  470.829113  237.880596
1  484.470675  227.642745
2  464.605788  230.603929
3  457.340432  219.345035
4  461.214551  218.617487
2023-11-13 21:52:21,567 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  470.829113  237.880596
2023-09-05  484.470675  227.642745
2023-09-06  464.605788  230.603929
2023-09-07  457.340432  219.345035
2023-09-08  461.214551  218.617487
2023-11-13 21:52:21,661 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 21:52:21,665 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  470.829113  237.880596
2023-09-05  484.470675  227.642745
2023-09-06  464.605788  230.603929
2023-09-07  457.340432  219.345035
...                ...         ...
2024-07-24  314.325494  170.088274
2024-07-25  319.679423  168.052521
2024-07-26  307.713069  163.255752
2024-07-29  306.625854  162.026312
2024-07-30  309.244514  158.939959

[228 rows x 2 columns]
2023-11-13 21:52:21,813 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:52:21,813 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284bda3d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  470.829113  237.880596
2023-09-05  484.470675  227.642745
2023-09-06  464.605788  230.603929
2023-09-07  457.340432  219.345035
2023-09-08  461.214551  218.617487
...                ...         ...
2024-07-24  314.325494  170.088274
2024-07-25  319.679423  168.052521
2024-07-26  307.713069  163.255752
2024-07-29  306.625854  162.026312
2024-07-30  309.244514  158.939959

[227 rows x 2 columns], sim=0): 0.0h 0.0m 0s 241ms
2023-11-13 21:52:21,814 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 21:52:21,843 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:52:21,845 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  471.082063  231.551024
1  472.056689  248.645028
2  436.762643  244.717033
3  437.284135  255.272342
4  443.120459  263.198495
2023-11-13 21:52:21,987 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  471.082063  231.551024
2023-09-05  472.056689  248.645028
2023-09-06  436.762643  244.717033
2023-09-07  437.284135  255.272342
2023-09-08  443.120459  263.198495
2023-11-13 21:52:22,014 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 21:52:22,017 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  471.082063  231.551024
2023-09-05  472.056689  248.645028
2023-09-06  436.762643  244.717033
2023-09-07  437.284135  255.272342
...                ...         ...
2024-07-24  347.672582  165.885666
2024-07-25  348.914370  167.110907
2024-07-26  358.515580  167.963216
2024-07-29  360.159064  167.566785
2024-07-30  358.379748  166.923629

[228 rows x 2 columns]
2023-11-13 21:52:22,177 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:52:22,177 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284bda3d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  471.082063  231.551024
2023-09-05  472.056689  248.645028
2023-09-06  436.762643  244.717033
2023-09-07  437.284135  255.272342
2023-09-08  443.120459  263.198495
...                ...         ...
2024-07-24  347.672582  165.885666
2024-07-25  348.914370  167.110907
2024-07-26  358.515580  167.963216
2024-07-29  360.159064  167.566785
2024-07-30  358.379748  166.923629

[227 rows x 2 columns], sim=1): 0.0h 0.0m 0s 186ms
2023-11-13 21:52:22,178 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 21:52:22,212 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:52:22,214 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  465.701185  240.720213
1  488.080976  248.672736
2  469.837241  250.949939
3  450.638376  260.265114
4  456.299966  266.348516
2023-11-13 21:52:22,362 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  465.701185  240.720213
2023-09-05  488.080976  248.672736
2023-09-06  469.837241  250.949939
2023-09-07  450.638376  260.265114
2023-09-08  456.299966  266.348516
2023-11-13 21:52:22,389 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
...             ...      ...
2023-08-28    475.5    242.6
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0

[63 rows x 2 columns]
2023-11-13 21:52:22,393 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-01  492.500000  247.000000
2023-09-04  465.701185  240.720213
2023-09-05  488.080976  248.672736
2023-09-06  469.837241  250.949939
2023-09-07  450.638376  260.265114
...                ...         ...
2024-07-24  351.952294  205.503595
2024-07-25  344.871632  205.474671
2024-07-26  345.712209  205.496574
2024-07-29  349.247080  207.392946
2024-07-30  355.892447  203.619012

[228 rows x 2 columns]
2023-11-13 21:52:22,553 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:52:22,553 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284bda3d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  465.701185  240.720213
2023-09-05  488.080976  248.672736
2023-09-06  469.837241  250.949939
2023-09-07  450.638376  260.265114
2023-09-08  456.299966  266.348516
...                ...         ...
2024-07-24  351.952294  205.503595
2024-07-25  344.871632  205.474671
2024-07-26  345.712209  205.496574
2024-07-29  349.247080  207.392946
2024-07-30  355.892447  203.619012

[227 rows x 2 columns], sim=2): 0.0h 0.0m 0s 187ms
2023-11-13 21:52:22,553 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284bda3d0>, n_sim=3): 0.0h 1.0m 15s 187ms
2023-11-13 21:52:22,554 - yq - INFO - Pricing the product on 2023-09-04 00:00:00
2023-11-13 21:52:22,554 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:52:22,567 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:52:23,273 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-11-13 21:52:23,274 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230904.csv
2023-11-13 21:52:23,281 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/lonn_call.csv
2023-11-13 21:52:23,284 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     450  51.750000  30.906645  0.0175
1  0.129123     460  42.599991  28.382610  0.0175
2  0.129123     470  33.899994  26.205038  0.0175
3  0.129123     480  25.949997  24.541363  0.0175
4  0.129123     490  20.000000  24.976856  0.0175
2023-11-13 21:52:23,285 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/sika_call.csv
2023-11-13 21:52:23,289 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     200  48.399994  34.529781  0.0175
1  0.129123     210  38.724991  30.920095  0.0175
2  0.129123     220  29.299995  27.579824  0.0175
3  0.129123     230  20.625000  25.546993  0.0175
4  0.129123     240  13.125000  23.984301  0.0175
2023-11-13 21:52:23,293 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     450  51.750000  0.0175
1  0.129123     460  42.599991  0.0175
2  0.129123     470  33.899994  0.0175
3  0.129123     480  25.949997  0.0175
4  0.129123     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.129123     200  48.399994  0.0175
1  0.129123     210  38.724991  0.0175
2  0.129123     220  29.299995  0.0175
3  0.129123     230  20.625000  0.0175
4  0.129123     240  13.125000  0.0175
2023-11-13 21:52:23,293 - yq - INFO - Calibrating LONZA on 2023-09-04 00:00:00.
2023-11-13 21:52:56,800 - yq - INFO - Calibrating SIKA on 2023-09-04 00:00:00.
2023-11-13 21:53:34,746 - yq - INFO - The S_0 for LONZA and SIKA are 495.3 and 247.5
2023-11-13 21:53:34,748 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 11 seconds
2023-11-13 21:53:34,760 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230904.csv
2023-11-13 21:53:34,760 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.73593046  0.05125558 -0.0714188   0.54497668  0.29618186]
 [ 1.56553828  0.05365991 -0.07314687  0.53502499  0.30340304]]
2023-11-13 21:53:34,760 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, Timestamp('2023-09-04 00:00:00')): 0.0h 1.0m 11s 487ms
2023-11-13 21:53:34,771 - yq - INFO - The log returns list for all assets is: [Date
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
                ...   
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
                ...   
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:53:34,773 - yq - INFO - rho_S1S2 is 0.41812507172262614

2023-11-13 21:53:34,774 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41812507]
 [0.41812507 1.        ]]

2023-11-13 21:53:34,774 - yq - INFO - Simplified correlation matrix is:
[[1.         0.54497668 0.41812507 0.        ]
 [0.54497668 1.         0.         0.        ]
 [0.41812507 0.         1.         0.53502499]
 [0.         0.         0.53502499 1.        ]]

2023-11-13 21:53:34,775 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.54497668  0.8384512   0.          0.        ]
 [ 0.41812507 -0.27177301  0.86678189  0.        ]
 [ 0.          0.          0.61725446  0.78676358]]

2023-11-13 21:53:34,775 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e553b90>): 0.0h 0.0m 0s 14ms
2023-11-13 21:53:34,780 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 21:53:34,808 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:53:34,810 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  512.747194  254.930749
1  524.263992  248.560214
2  542.414377  259.709335
3  546.661617  272.358141
4  578.221190  276.949760
2023-11-13 21:53:34,931 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  512.747194  254.930749
2023-09-06  524.263992  248.560214
2023-09-07  542.414377  259.709335
2023-09-08  546.661617  272.358141
2023-09-11  578.221190  276.949760
2023-11-13 21:53:35,011 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 21:53:35,014 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  512.747194  254.930749
2023-09-06  524.263992  248.560214
2023-09-07  542.414377  259.709335
2023-09-08  546.661617  272.358141
...                ...         ...
2024-07-24  616.904767  255.227740
2024-07-25  618.379683  253.490812
2024-07-26  615.573691  250.621022
2024-07-29  612.848390  250.536094
2024-07-30  595.430136  257.428655

[227 rows x 2 columns]
2023-11-13 21:53:35,156 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:53:35,156 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  512.747194  254.930749
2023-09-06  524.263992  248.560214
2023-09-07  542.414377  259.709335
2023-09-08  546.661617  272.358141
2023-09-11  578.221190  276.949760
...                ...         ...
2024-07-24  616.904767  255.227740
2024-07-25  618.379683  253.490812
2024-07-26  615.573691  250.621022
2024-07-29  612.848390  250.536094
2024-07-30  595.430136  257.428655

[226 rows x 2 columns], sim=0): 0.0h 0.0m 0s 223ms
2023-11-13 21:53:35,157 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 21:53:35,182 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:53:35,184 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.291333  242.453447
1  497.580595  245.825701
2  492.147817  235.997126
3  499.955828  242.942656
4  467.930998  245.337398
2023-11-13 21:53:35,323 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  484.291333  242.453447
2023-09-06  497.580595  245.825701
2023-09-07  492.147817  235.997126
2023-09-08  499.955828  242.942656
2023-09-11  467.930998  245.337398
2023-11-13 21:53:35,348 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 21:53:35,351 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  484.291333  242.453447
2023-09-06  497.580595  245.825701
2023-09-07  492.147817  235.997126
2023-09-08  499.955828  242.942656
...                ...         ...
2024-07-24  290.080078  200.462973
2024-07-25  290.774649  199.964787
2024-07-26  292.143745  202.009208
2024-07-29  284.696041  204.394233
2024-07-30  288.195236  207.329003

[227 rows x 2 columns]
2023-11-13 21:53:35,524 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:53:35,524 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  484.291333  242.453447
2023-09-06  497.580595  245.825701
2023-09-07  492.147817  235.997126
2023-09-08  499.955828  242.942656
2023-09-11  467.930998  245.337398
...                ...         ...
2024-07-24  290.080078  200.462973
2024-07-25  290.774649  199.964787
2024-07-26  292.143745  202.009208
2024-07-29  284.696041  204.394233
2024-07-30  288.195236  207.329003

[226 rows x 2 columns], sim=1): 0.0h 0.0m 0s 198ms
2023-11-13 21:53:35,526 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 21:53:35,559 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:53:35,562 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  530.895146  252.020838
1  552.030545  253.463167
2  541.802277  258.981187
3  544.141973  260.336106
4  529.990342  247.445354
2023-11-13 21:53:35,715 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  530.895146  252.020838
2023-09-06  552.030545  253.463167
2023-09-07  541.802277  258.981187
2023-09-08  544.141973  260.336106
2023-09-11  529.990342  247.445354
2023-11-13 21:53:35,751 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
...             ...      ...
2023-08-29    479.9    246.0
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5

[63 rows x 2 columns]
2023-11-13 21:53:35,755 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-04  495.300000  247.500000
2023-09-05  530.895146  252.020838
2023-09-06  552.030545  253.463167
2023-09-07  541.802277  258.981187
2023-09-08  544.141973  260.336106
...                ...         ...
2024-07-24  480.726691   97.651842
2024-07-25  484.614568   99.162322
2024-07-26  490.336698   99.220637
2024-07-29  503.950553  101.385786
2024-07-30  489.578840   99.819767

[227 rows x 2 columns]
2023-11-13 21:53:35,953 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:53:35,954 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  530.895146  252.020838
2023-09-06  552.030545  253.463167
2023-09-07  541.802277  258.981187
2023-09-08  544.141973  260.336106
2023-09-11  529.990342  247.445354
...                ...         ...
2024-07-24  480.726691   97.651842
2024-07-25  484.614568   99.162322
2024-07-26  490.336698   99.220637
2024-07-29  503.950553  101.385786
2024-07-30  489.578840   99.819767

[226 rows x 2 columns], sim=2): 0.0h 0.0m 0s 234ms
2023-11-13 21:53:35,954 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, n_sim=3): 0.0h 1.0m 12s 683ms
2023-11-13 21:53:35,954 - yq - INFO - Pricing the product on 2023-09-05 00:00:00
2023-11-13 21:53:35,954 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:53:35,970 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:53:36,333 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-11-13 21:53:36,335 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230905.csv
2023-11-13 21:53:36,343 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/lonn_call.csv
2023-11-13 21:53:36,347 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     450  51.750000  30.906645  0.0175
1  0.126316     460  42.599991  28.382610  0.0175
2  0.126316     470  33.899994  26.205038  0.0175
3  0.126316     480  25.949997  24.541363  0.0175
4  0.126316     490  20.000000  24.976856  0.0175
2023-11-13 21:53:36,348 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/sika_call.csv
2023-11-13 21:53:36,351 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     195  47.824997  34.854164  0.0175
1  0.126316     200  43.025002  33.723049  0.0175
2  0.126316     210  33.425003  29.825727  0.0175
3  0.126316     220  24.275002  26.838257  0.0175
4  0.126316     230  16.150000  25.069353  0.0175
2023-11-13 21:53:36,358 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     450  51.750000  0.0175
1  0.126316     460  42.599991  0.0175
2  0.126316     470  33.899994  0.0175
3  0.126316     480  25.949997  0.0175
4  0.126316     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.126316     195  47.824997  0.0175
1  0.126316     200  43.025002  0.0175
2  0.126316     210  33.425003  0.0175
3  0.126316     220  24.275002  0.0175
4  0.126316     230  16.150000  0.0175
2023-11-13 21:53:36,358 - yq - INFO - Calibrating LONZA on 2023-09-05 00:00:00.
2023-11-13 21:54:16,569 - yq - INFO - Calibrating SIKA on 2023-09-05 00:00:00.
2023-11-13 21:54:52,298 - yq - INFO - The S_0 for LONZA and SIKA are 494.4 and 241.8
2023-11-13 21:54:52,299 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 21:54:52,314 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230905.csv
2023-11-13 21:54:52,314 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.7152219   0.03429091 -0.0757835   0.5470523   0.30539246]
 [ 1.2371744   0.0763125  -0.05873825  0.62319757  0.27988282]]
2023-11-13 21:54:52,317 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, Timestamp('2023-09-05 00:00:00')): 0.0h 1.0m 15s 984ms
2023-11-13 21:54:52,326 - yq - INFO - The log returns list for all assets is: [Date
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
                ...   
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
                ...   
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:54:52,328 - yq - INFO - rho_S1S2 is 0.41003852432556814

2023-11-13 21:54:52,328 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41003852]
 [0.41003852 1.        ]]

2023-11-13 21:54:52,329 - yq - INFO - Simplified correlation matrix is:
[[1.         0.5470523  0.41003852 0.        ]
 [0.5470523  1.         0.         0.        ]
 [0.41003852 0.         1.         0.62319757]
 [0.         0.         0.62319757 1.        ]]

2023-11-13 21:54:52,329 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.5470523   0.83709843  0.          0.        ]
 [ 0.41003852 -0.26796433  0.87181622  0.        ]
 [ 0.          0.          0.71482676  0.69930158]]

2023-11-13 21:54:52,329 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e553b90>): 0.0h 0.0m 0s 12ms
2023-11-13 21:54:52,340 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 21:54:52,365 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:54:52,369 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  502.956029  254.630274
1  502.563000  257.253915
2  496.957960  267.899996
3  507.430767  270.812321
4  500.797819  276.939812
2023-11-13 21:54:52,500 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  502.956029  254.630274
2023-09-07  502.563000  257.253915
2023-09-08  496.957960  267.899996
2023-09-11  507.430767  270.812321
2023-09-12  500.797819  276.939812
2023-11-13 21:54:52,656 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 21:54:52,659 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  502.956029  254.630274
2023-09-07  502.563000  257.253915
2023-09-08  496.957960  267.899996
2023-09-11  507.430767  270.812321
...                ...         ...
2024-07-24  319.056507  174.197001
2024-07-25  320.248773  173.068183
2024-07-26  321.005750  171.767940
2024-07-29  317.451939  170.873395
2024-07-30  306.413216  169.843860

[226 rows x 2 columns]
2023-11-13 21:54:52,804 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:54:52,805 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  502.956029  254.630274
2023-09-07  502.563000  257.253915
2023-09-08  496.957960  267.899996
2023-09-11  507.430767  270.812321
2023-09-12  500.797819  276.939812
...                ...         ...
2024-07-24  319.056507  174.197001
2024-07-25  320.248773  173.068183
2024-07-26  321.005750  171.767940
2024-07-29  317.451939  170.873395
2024-07-30  306.413216  169.843860

[225 rows x 2 columns], sim=0): 0.0h 0.0m 0s 297ms
2023-11-13 21:54:52,805 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 21:54:52,831 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:54:52,832 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  536.372331  241.700274
1  549.668802  237.715554
2  529.381968  246.347666
3  536.968861  260.530877
4  551.546593  267.929579
2023-11-13 21:54:52,962 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  536.372331  241.700274
2023-09-07  549.668802  237.715554
2023-09-08  529.381968  246.347666
2023-09-11  536.968861  260.530877
2023-09-12  551.546593  267.929579
2023-11-13 21:54:53,056 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 21:54:53,059 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  536.372331  241.700274
2023-09-07  549.668802  237.715554
2023-09-08  529.381968  246.347666
2023-09-11  536.968861  260.530877
...                ...         ...
2024-07-24  346.453218  245.749862
2024-07-25  345.252733  245.249321
2024-07-26  345.463798  250.825361
2024-07-29  340.916905  248.292876
2024-07-30  340.326920  248.143102

[226 rows x 2 columns]
2023-11-13 21:54:53,205 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:54:53,205 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  536.372331  241.700274
2023-09-07  549.668802  237.715554
2023-09-08  529.381968  246.347666
2023-09-11  536.968861  260.530877
2023-09-12  551.546593  267.929579
...                ...         ...
2024-07-24  346.453218  245.749862
2024-07-25  345.252733  245.249321
2024-07-26  345.463798  250.825361
2024-07-29  340.916905  248.292876
2024-07-30  340.326920  248.143102

[225 rows x 2 columns], sim=1): 0.0h 0.0m 0s 238ms
2023-11-13 21:54:53,206 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 21:54:53,234 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:54:53,236 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.350353  241.053439
1  500.723374  243.126489
2  513.415029  234.877514
3  493.586804  228.656953
4  478.532005  233.932201
2023-11-13 21:54:53,368 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  484.350353  241.053439
2023-09-07  500.723374  243.126489
2023-09-08  513.415029  234.877514
2023-09-11  493.586804  228.656953
2023-09-12  478.532005  233.932201
2023-11-13 21:54:53,391 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
...             ...      ...
2023-08-30    483.2    246.3
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8

[63 rows x 2 columns]
2023-11-13 21:54:53,394 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-05  494.400000  241.800000
2023-09-06  484.350353  241.053439
2023-09-07  500.723374  243.126489
2023-09-08  513.415029  234.877514
2023-09-11  493.586804  228.656953
...                ...         ...
2024-07-24  139.134715  164.346294
2024-07-25  140.484770  160.191788
2024-07-26  146.589902  154.371378
2024-07-29  148.125213  155.229369
2024-07-30  148.760649  156.124290

[226 rows x 2 columns]
2023-11-13 21:54:53,537 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:54:53,537 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  484.350353  241.053439
2023-09-07  500.723374  243.126489
2023-09-08  513.415029  234.877514
2023-09-11  493.586804  228.656953
2023-09-12  478.532005  233.932201
...                ...         ...
2024-07-24  139.134715  164.346294
2024-07-25  140.484770  160.191788
2024-07-26  146.589902  154.371378
2024-07-29  148.125213  155.229369
2024-07-30  148.760649  156.124290

[225 rows x 2 columns], sim=2): 0.0h 0.0m 0s 164ms
2023-11-13 21:54:53,537 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e553b90>, n_sim=3): 0.0h 1.0m 17s 207ms
2023-11-13 21:54:53,537 - yq - INFO - Pricing the product on 2023-09-06 00:00:00
2023-11-13 21:54:53,537 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:54:53,549 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:54:53,843 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-11-13 21:54:53,845 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230906.csv
2023-11-13 21:54:53,848 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/lonn_call.csv
2023-11-13 21:54:53,850 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     450  51.750000  30.906645  0.0175
1  0.123509     460  42.599991  28.382610  0.0175
2  0.123509     470  33.899994  26.205038  0.0175
3  0.123509     480  25.949997  24.541363  0.0175
4  0.123509     490  20.000000  24.976856  0.0175
2023-11-13 21:54:53,850 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/sika_call.csv
2023-11-13 21:54:53,852 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     200  46.400002  35.939377  0.0175
1  0.123509     210  36.725006  31.652964  0.0175
2  0.123509     220  27.350006  27.994894  0.0175
3  0.123509     230  18.775002  25.656116  0.0175
4  0.123509     240  11.525000  24.011927  0.0175
2023-11-13 21:54:53,856 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     450  51.750000  0.0175
1  0.123509     460  42.599991  0.0175
2  0.123509     470  33.899994  0.0175
3  0.123509     480  25.949997  0.0175
4  0.123509     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.123509     200  46.400002  0.0175
1  0.123509     210  36.725006  0.0175
2  0.123509     220  27.350006  0.0175
3  0.123509     230  18.775002  0.0175
4  0.123509     240  11.525000  0.0175
2023-11-13 21:54:53,857 - yq - INFO - Calibrating LONZA on 2023-09-06 00:00:00.
2023-11-13 21:55:33,590 - yq - INFO - Calibrating SIKA on 2023-09-06 00:00:00.
2023-11-13 21:56:11,612 - yq - INFO - The S_0 for LONZA and SIKA are 496.1 and 245.5
2023-11-13 21:56:11,615 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 17 seconds
2023-11-13 21:56:11,629 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230906.csv
2023-11-13 21:56:11,629 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.54818545  0.03881171 -0.06885822  0.58867146  0.2983556 ]
 [ 4.90909496  0.01830683 -0.09810289  0.49069106  0.33504995]]
2023-11-13 21:56:11,631 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x14e5a1d10>, Timestamp('2023-09-06 00:00:00')): 0.0h 1.0m 17s 787ms
2023-11-13 21:56:11,650 - yq - INFO - The log returns list for all assets is: [Date
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
                ...   
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
                ...   
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:56:11,652 - yq - INFO - rho_S1S2 is 0.39478894626329986

2023-11-13 21:56:11,652 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39478895]
 [0.39478895 1.        ]]

2023-11-13 21:56:11,652 - yq - INFO - Simplified correlation matrix is:
[[1.         0.58867146 0.39478895 0.        ]
 [0.58867146 1.         0.         0.        ]
 [0.39478895 0.         1.         0.49069106]
 [0.         0.         0.49069106 1.        ]]

2023-11-13 21:56:11,653 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.58867146  0.80837238  0.          0.        ]
 [ 0.39478895 -0.28749249  0.87263381  0.        ]
 [ 0.          0.          0.5623104   0.82692625]]

2023-11-13 21:56:11,653 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x14e5a1d10>): 0.0h 0.0m 0s 22ms
2023-11-13 21:56:11,661 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 21:56:11,684 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:56:11,687 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.081967  241.705551
1  497.094652  240.373243
2  503.278700  241.270309
3  501.432353  239.208686
4  491.163212  229.824479
2023-11-13 21:56:11,815 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  472.081967  241.705551
2023-09-08  497.094652  240.373243
2023-09-11  503.278700  241.270309
2023-09-12  501.432353  239.208686
2023-09-13  491.163212  229.824479
2023-11-13 21:56:11,890 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 21:56:11,894 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  472.081967  241.705551
2023-09-08  497.094652  240.373243
2023-09-11  503.278700  241.270309
2023-09-12  501.432353  239.208686
...                ...         ...
2024-07-24  270.149939  168.303388
2024-07-25  260.047215  164.433465
2024-07-26  253.314510  161.837217
2024-07-29  246.318200  161.826108
2024-07-30  241.877975  160.586033

[225 rows x 2 columns]
2023-11-13 21:56:12,032 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:56:12,032 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5a1d10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  472.081967  241.705551
2023-09-08  497.094652  240.373243
2023-09-11  503.278700  241.270309
2023-09-12  501.432353  239.208686
2023-09-13  491.163212  229.824479
...                ...         ...
2024-07-24  270.149939  168.303388
2024-07-25  260.047215  164.433465
2024-07-26  253.314510  161.837217
2024-07-29  246.318200  161.826108
2024-07-30  241.877975  160.586033

[224 rows x 2 columns], sim=0): 0.0h 0.0m 0s 214ms
2023-11-13 21:56:12,033 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 21:56:12,059 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:56:12,061 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  463.227225  231.317185
1  460.250443  232.825581
2  450.936557  214.225679
3  469.726969  205.189416
4  481.609991  200.476858
2023-11-13 21:56:12,195 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  463.227225  231.317185
2023-09-08  460.250443  232.825581
2023-09-11  450.936557  214.225679
2023-09-12  469.726969  205.189416
2023-09-13  481.609991  200.476858
2023-11-13 21:56:12,221 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 21:56:12,224 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  463.227225  231.317185
2023-09-08  460.250443  232.825581
2023-09-11  450.936557  214.225679
2023-09-12  469.726969  205.189416
...                ...         ...
2024-07-24  742.698783  190.036482
2024-07-25  723.218028  190.675880
2024-07-26  724.034339  188.717928
2024-07-29  745.104368  188.481351
2024-07-30  761.347289  188.371034

[225 rows x 2 columns]
2023-11-13 21:56:12,391 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:56:12,391 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5a1d10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  463.227225  231.317185
2023-09-08  460.250443  232.825581
2023-09-11  450.936557  214.225679
2023-09-12  469.726969  205.189416
2023-09-13  481.609991  200.476858
...                ...         ...
2024-07-24  742.698783  190.036482
2024-07-25  723.218028  190.675880
2024-07-26  724.034339  188.717928
2024-07-29  745.104368  188.481351
2024-07-30  761.347289  188.371034

[224 rows x 2 columns], sim=1): 0.0h 0.0m 0s 193ms
2023-11-13 21:56:12,392 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 21:56:12,425 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:56:12,427 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  525.578744  245.055585
1  500.355186  229.645860
2  503.670883  226.798377
3  521.761751  230.643653
4  516.923204  233.111079
2023-11-13 21:56:12,572 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  525.578744  245.055585
2023-09-08  500.355186  229.645860
2023-09-11  503.670883  226.798377
2023-09-12  521.761751  230.643653
2023-09-13  516.923204  233.111079
2023-11-13 21:56:12,595 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
...             ...      ...
2023-08-31    488.9    250.4
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5

[63 rows x 2 columns]
2023-11-13 21:56:12,598 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-06  496.100000  245.500000
2023-09-07  525.578744  245.055585
2023-09-08  500.355186  229.645860
2023-09-11  503.670883  226.798377
2023-09-12  521.761751  230.643653
...                ...         ...
2024-07-24  450.869556  216.707682
2024-07-25  448.849335  217.053721
2024-07-26  448.195281  219.186210
2024-07-29  454.629393  220.866549
2024-07-30  466.519376  223.957935

[225 rows x 2 columns]
2023-11-13 21:56:12,745 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:56:12,746 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x14e5a1d10>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  525.578744  245.055585
2023-09-08  500.355186  229.645860
2023-09-11  503.670883  226.798377
2023-09-12  521.761751  230.643653
2023-09-13  516.923204  233.111079
...                ...         ...
2024-07-24  450.869556  216.707682
2024-07-25  448.849335  217.053721
2024-07-26  448.195281  219.186210
2024-07-29  454.629393  220.866549
2024-07-30  466.519376  223.957935

[224 rows x 2 columns], sim=2): 0.0h 0.0m 0s 170ms
2023-11-13 21:56:12,746 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x14e5a1d10>, n_sim=3): 0.0h 1.0m 18s 904ms
2023-11-13 21:56:12,746 - yq - INFO - Pricing the product on 2023-09-07 00:00:00
2023-11-13 21:56:12,746 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:56:12,755 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:56:13,030 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-11-13 21:56:13,030 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230907.csv
2023-11-13 21:56:13,033 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/lonn_call.csv
2023-11-13 21:56:13,035 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     450  51.750000  30.906645  0.0175
1  0.120702     460  42.599991  28.382610  0.0175
2  0.120702     470  33.899994  26.205038  0.0175
3  0.120702     480  25.949997  24.541363  0.0175
4  0.120702     490  20.000000  24.976856  0.0175
2023-11-13 21:56:13,036 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/sika_call.csv
2023-11-13 21:56:13,038 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     200  50.349998  39.359463  0.0175
1  0.120702     210  40.625000  34.584309  0.0175
2  0.120702     220  31.100006  30.254286  0.0175
3  0.120702     230  22.099998  26.922087  0.0175
4  0.120702     240  14.300000  25.054329  0.0175
2023-11-13 21:56:13,041 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     450  51.750000  0.0175
1  0.120702     460  42.599991  0.0175
2  0.120702     470  33.899994  0.0175
3  0.120702     480  25.949997  0.0175
4  0.120702     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.120702     200  50.349998  0.0175
1  0.120702     210  40.625000  0.0175
2  0.120702     220  31.100006  0.0175
3  0.120702     230  22.099998  0.0175
4  0.120702     240  14.300000  0.0175
2023-11-13 21:56:13,041 - yq - INFO - Calibrating LONZA on 2023-09-07 00:00:00.
2023-11-13 21:56:47,018 - yq - INFO - Calibrating SIKA on 2023-09-07 00:00:00.
2023-11-13 21:57:25,612 - yq - INFO - The S_0 for LONZA and SIKA are 492.4 and 249.1
2023-11-13 21:57:25,613 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 21:57:25,624 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230907.csv
2023-11-13 21:57:25,624 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.94611832  0.01938556 -0.08899214  0.52857204  0.32799456]
 [ 1.52903293  0.06557072 -0.06045888  0.63342422  0.28733083]]
2023-11-13 21:57:25,625 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x284b838d0>, Timestamp('2023-09-07 00:00:00')): 0.0h 1.0m 12s 595ms
2023-11-13 21:57:25,637 - yq - INFO - The log returns list for all assets is: [Date
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
                ...   
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
                ...   
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 21:57:25,645 - yq - INFO - rho_S1S2 is 0.393484816904622

2023-11-13 21:57:25,645 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39348482]
 [0.39348482 1.        ]]

2023-11-13 21:57:25,645 - yq - INFO - Simplified correlation matrix is:
[[1.         0.52857204 0.39348482 0.        ]
 [0.52857204 1.         0.         0.        ]
 [0.39348482 0.         1.         0.63342422]
 [0.         0.         0.63342422 1.        ]]

2023-11-13 21:57:25,647 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [ 0.52857204  0.84888845  0.          0.        ]
 [ 0.39348482 -0.24500872  0.8860815   0.        ]
 [ 0.          0.          0.71485999  0.69926761]]

2023-11-13 21:57:25,647 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x284b838d0>): 0.0h 0.0m 0s 21ms
2023-11-13 21:57:25,658 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 21:57:25,686 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:57:25,690 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  501.183475  244.419354
1  475.917920  241.992985
2  468.876858  257.294137
3  458.192026  263.949459
4  477.473359  266.837870
2023-11-13 21:57:25,841 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  501.183475  244.419354
2023-09-11  475.917920  241.992985
2023-09-12  468.876858  257.294137
2023-09-13  458.192026  263.949459
2023-09-14  477.473359  266.837870
2023-11-13 21:57:25,954 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 21:57:25,959 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  501.183475  244.419354
2023-09-11  475.917920  241.992985
2023-09-12  468.876858  257.294137
2023-09-13  458.192026  263.949459
...                ...         ...
2024-07-24  495.041794  153.391645
2024-07-25  498.265653  155.196045
2024-07-26  502.536180  161.799270
2024-07-29  501.124855  161.567089
2024-07-30  496.154597  159.484731

[224 rows x 2 columns]
2023-11-13 21:57:26,144 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:57:26,144 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b838d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  501.183475  244.419354
2023-09-11  475.917920  241.992985
2023-09-12  468.876858  257.294137
2023-09-13  458.192026  263.949459
2023-09-14  477.473359  266.837870
...                ...         ...
2024-07-24  495.041794  153.391645
2024-07-25  498.265653  155.196045
2024-07-26  502.536180  161.799270
2024-07-29  501.124855  161.567089
2024-07-30  496.154597  159.484731

[223 rows x 2 columns], sim=0): 0.0h 0.0m 0s 299ms
2023-11-13 21:57:26,145 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 21:57:26,177 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:57:26,179 - yq - INFO - The simulated data for 1th iteration is:
     LONN.SE_0   SIKA.SE_0
0  488.401184  237.485217
1  491.325147  236.551052
2  495.394553  224.390242
3  486.728713  226.318701
4  499.545474  233.351769
2023-11-13 21:57:26,334 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  488.401184  237.485217
2023-09-11  491.325147  236.551052
2023-09-12  495.394553  224.390242
2023-09-13  486.728713  226.318701
2023-09-14  499.545474  233.351769
2023-11-13 21:57:26,367 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 21:57:26,372 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  488.401184  237.485217
2023-09-11  491.325147  236.551052
2023-09-12  495.394553  224.390242
2023-09-13  486.728713  226.318701
...                ...         ...
2024-07-24  542.927634  225.069642
2024-07-25  538.144124  224.082695
2024-07-26  539.536776  224.109629
2024-07-29  532.497987  221.872805
2024-07-30  533.181148  222.188710

[224 rows x 2 columns]
2023-11-13 21:57:26,548 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:57:26,548 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b838d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  488.401184  237.485217
2023-09-11  491.325147  236.551052
2023-09-12  495.394553  224.390242
2023-09-13  486.728713  226.318701
2023-09-14  499.545474  233.351769
...                ...         ...
2024-07-24  542.927634  225.069642
2024-07-25  538.144124  224.082695
2024-07-26  539.536776  224.109629
2024-07-29  532.497987  221.872805
2024-07-30  533.181148  222.188710

[223 rows x 2 columns], sim=1): 0.0h 0.0m 0s 210ms
2023-11-13 21:57:26,549 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 21:57:26,582 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 21:57:26,584 - yq - INFO - The simulated data for 2th iteration is:
     LONN.SE_0   SIKA.SE_0
0  460.561033  248.574591
1  474.234582  249.188712
2  490.952914  255.646159
3  465.365571  248.058702
4  469.786935  242.292063
2023-11-13 21:57:26,735 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  460.561033  248.574591
2023-09-11  474.234582  249.188712
2023-09-12  490.952914  255.646159
2023-09-13  465.365571  248.058702
2023-09-14  469.786935  242.292063
2023-11-13 21:57:26,764 - yq - INFO - The hist_data is
            LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
...             ...      ...
2023-09-01    492.5    247.0
2023-09-04    495.3    247.5
2023-09-05    494.4    241.8
2023-09-06    496.1    245.5
2023-09-07    492.4    249.1

[63 rows x 2 columns]
2023-11-13 21:57:26,769 - yq - INFO - The smooth path df is:
             LONN.SE_0   SIKA.SE_0
2023-09-07  492.400000  249.100000
2023-09-08  460.561033  248.574591
2023-09-11  474.234582  249.188712
2023-09-12  490.952914  255.646159
2023-09-13  465.365571  248.058702
...                ...         ...
2024-07-24  702.696009  183.642675
2024-07-25  698.407171  183.880648
2024-07-26  703.351087  188.946682
2024-07-29  707.253583  186.058577
2024-07-30  709.014259  184.255143

[224 rows x 2 columns]
2023-11-13 21:57:26,931 - yq - INFO - Path of 1 sim is plotted
2023-11-13 21:57:26,931 - yq - INFO - Runtime of plot_sim_path(<yq.scripts.heston.MultiHeston object at 0x284b838d0>, plot_hist=True, sim_data_comb=             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  460.561033  248.574591
2023-09-11  474.234582  249.188712
2023-09-12  490.952914  255.646159
2023-09-13  465.365571  248.058702
2023-09-14  469.786935  242.292063
...                ...         ...
2024-07-24  702.696009  183.642675
2024-07-25  698.407171  183.880648
2024-07-26  703.351087  188.946682
2024-07-29  707.253583  186.058577
2024-07-30  709.014259  184.255143

[223 rows x 2 columns], sim=2): 0.0h 0.0m 0s 192ms
2023-11-13 21:57:26,931 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x284b838d0>, n_sim=3): 0.0h 1.0m 13s 903ms
2023-11-13 21:57:26,932 - yq - INFO - Pricing the product on 2023-09-08 00:00:00
2023-11-13 21:57:26,932 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 21:57:26,942 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 21:57:27,242 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-11-13 21:57:27,243 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/10/20230908.csv
2023-11-13 21:57:27,249 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/lonn_call.csv
2023-11-13 21:57:27,253 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     450  51.750000  30.906645  0.0175
1  0.117895     460  42.599991  28.382610  0.0175
2  0.117895     470  33.899994  26.205038  0.0175
3  0.117895     480  25.949997  24.541363  0.0175
4  0.117895     490  20.000000  24.976856  0.0175
2023-11-13 21:57:27,254 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/sika_call.csv
2023-11-13 21:57:27,256 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     200  43.724991  38.051220  0.0175
1  0.117895     210  34.074997  32.932762  0.0175
2  0.117895     220  24.849991  29.042345  0.0175
3  0.117895     230  16.599998  26.669315  0.0175
4  0.117895     240   9.925000  25.268066  0.0175
2023-11-13 21:57:27,260 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     450  51.750000  0.0175
1  0.117895     460  42.599991  0.0175
2  0.117895     470  33.899994  0.0175
3  0.117895     480  25.949997  0.0175
4  0.117895     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.117895     200  43.724991  0.0175
1  0.117895     210  34.074997  0.0175
2  0.117895     220  24.849991  0.0175
3  0.117895     230  16.599998  0.0175
4  0.117895     240   9.925000  0.0175
2023-11-13 21:57:27,260 - yq - INFO - Calibrating LONZA on 2023-09-08 00:00:00.
