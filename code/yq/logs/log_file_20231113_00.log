2023-11-13 00:58:48,403 - yq - INFO - Pricing the product on 2023-08-09 00:00:00
2023-11-13 00:58:48,403 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 00:58:48,414 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 00:58:48,633 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2022-08-10    569.8    237.3
2022-08-11    584.0    246.3
2022-08-12    570.2    243.4
2022-08-15    569.6    247.6
2022-08-16    558.4    243.4
2023-11-13 00:58:48,643 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/lonn_call.csv
2023-11-13 00:58:48,646 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     440  52.149994  27.330225  0.0175
1   0.10386     450  43.049988  25.649502  0.0175
2   0.10386     460  34.500000  24.389547  0.0175
3   0.10386     470  26.799995  23.625263  0.0175
4   0.10386     480  19.849991  22.715864  0.0175
2023-11-13 00:58:48,647 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/sika_call.csv
2023-11-13 00:58:48,649 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     220  48.050003  38.010380  0.0175
1   0.10386     230  38.400002  33.623005  0.0175
2   0.10386     240  29.074997  29.997280  0.0175
3   0.10386     250  20.525002  27.632607  0.0175
4   0.10386     260  13.275000  26.195461  0.0175
2023-11-13 00:58:48,652 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     440  52.149994  0.0175
1   0.10386     450  43.049988  0.0175
2   0.10386     460  34.500000  0.0175
3   0.10386     470  26.799995  0.0175
4   0.10386     480  19.849991  0.0175
   maturity  strike      price    rate
0   0.10386     220  48.050003  0.0175
1   0.10386     230  38.400002  0.0175
2   0.10386     240  29.074997  0.0175
3   0.10386     250  20.525002  0.0175
4   0.10386     260  13.275000  0.0175
2023-11-13 00:58:48,653 - yq - INFO - Calibrating LONZA.
2023-11-13 00:58:53,152 - yq - INFO - Calibrating SIKA.
2023-11-13 00:58:57,837 - yq - INFO - The S_0 for LONZA and SIKA are 489.0 and 265.5
2023-11-13 00:58:57,837 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x16c5c3a90>
 <lmfit.minimizer.MinimizerResult object at 0x16c6c3d90>
2023-11-13 00:58:57,837 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 9 seconds
2023-11-13 00:58:57,837 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.54981195  0.12429417  0.06651262 -0.29351807  2.15034274]
 [ 4.65314851  0.14327446  0.12397803 -0.49566622  3.43812374]]
2023-11-13 00:58:57,845 - yq - INFO - The log returns list for all assets is: [Date
2022-08-11    0.024616
2022-08-12   -0.023914
2022-08-15   -0.001053
2022-08-16   -0.019859
2022-08-17    0.003932
                ...   
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
Name: LONN.SE, Length: 251, dtype: float64, Date
2022-08-11    0.037225
2022-08-12   -0.011844
2022-08-15    0.017108
2022-08-16   -0.017108
2022-08-17   -0.012402
                ...   
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
Name: SIKA.SE, Length: 251, dtype: float64]
2023-11-13 00:58:57,845 - yq - INFO - rho_S1S2 is 0.5700777401625888

2023-11-13 00:58:57,845 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.57007774]
 [0.57007774 1.        ]]

2023-11-13 00:58:57,845 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.29351807  0.57007774  0.        ]
 [-0.29351807  1.          0.          0.        ]
 [ 0.57007774  0.          1.         -0.49566622]
 [ 0.          0.         -0.49566622  1.        ]]

2023-11-13 00:58:57,846 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.29351807  0.95595352  0.          0.        ]
 [ 0.57007774  0.17503792  0.80272853  0.        ]
 [ 0.          0.         -0.61747677  0.78658912]]

2023-11-13 00:58:57,855 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 00:58:57,880 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 00:58:57,884 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  478.455194  235.390932
1  468.085656  252.494610
2  438.422167  248.449277
3  451.835015  194.243296
4  464.957139  180.764432
2023-11-13 00:58:57,989 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  478.455194  235.390932
2023-08-11  468.085656  252.494610
2023-08-14  438.422167  248.449277
2023-08-15  451.835015  194.243296
2023-08-16  464.957139  180.764432
2023-11-13 00:58:58,513 - yq - ERROR - Error during calibration on 2023-08-09 00:00:00: 'DataFrame' object has no attribute 'names'
2023-11-13 00:58:58,514 - yq - INFO - The elapsed time for 0 pricing dates is 0 minutes, 10 seconds
