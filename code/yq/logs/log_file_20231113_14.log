2023-11-13 14:56:49,241 - yq - INFO - Pricing the product on 2023-08-09 00:00:00
2023-11-13 14:56:49,241 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:56:49,249 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:56:49,467 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-11-13 14:56:49,468 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230809.csv
2023-11-13 14:56:49,470 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/lonn_call.csv
2023-11-13 14:56:49,472 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     440  52.149994  27.330225  0.0175
1   0.10386     450  43.049988  25.649502  0.0175
2   0.10386     460  34.500000  24.389547  0.0175
3   0.10386     470  26.799995  23.625263  0.0175
4   0.10386     480  19.849991  22.715864  0.0175
2023-11-13 14:56:49,473 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/sika_call.csv
2023-11-13 14:56:49,475 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     220  48.050003  38.010380  0.0175
1   0.10386     230  38.400002  33.623005  0.0175
2   0.10386     240  29.074997  29.997280  0.0175
3   0.10386     250  20.525002  27.632607  0.0175
4   0.10386     260  13.275000  26.195461  0.0175
2023-11-13 14:56:49,478 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     440  52.149994  0.0175
1   0.10386     450  43.049988  0.0175
2   0.10386     460  34.500000  0.0175
3   0.10386     470  26.799995  0.0175
4   0.10386     480  19.849991  0.0175
   maturity  strike      price    rate
0   0.10386     220  48.050003  0.0175
1   0.10386     230  38.400002  0.0175
2   0.10386     240  29.074997  0.0175
3   0.10386     250  20.525002  0.0175
4   0.10386     260  13.275000  0.0175
2023-11-13 14:56:49,478 - yq - INFO - Calibrating LONZA on 2023-08-09 00:00:00.
2023-11-13 14:56:54,140 - yq - INFO - Calibrating SIKA on 2023-08-09 00:00:00.
2023-11-13 14:56:58,922 - yq - INFO - The S_0 for LONZA and SIKA are 489.0 and 265.5
2023-11-13 14:56:58,922 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 9 seconds
2023-11-13 14:56:58,933 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230809.csv
2023-11-13 14:56:58,933 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.54979403  0.12429436  0.06651255 -0.2935179   2.1503365 ]
 [ 4.65314825  0.14327446  0.12397803 -0.49566621  3.43812361]]
2023-11-13 14:56:58,935 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bb9af50>, Timestamp('2023-08-09 00:00:00')): 0.0h 0.0m 9s 467ms
2023-11-13 14:56:58,937 - yq - INFO - The log returns list for all assets is: [Date
2023-05-11    0.019255
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
                ...   
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-11    0.011227
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
                ...   
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:56:58,937 - yq - INFO - rho_S1S2 is 0.4397426412287944

2023-11-13 14:56:58,937 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43974264]
 [0.43974264 1.        ]]

2023-11-13 14:56:58,937 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.2935179   0.43974264  0.        ]
 [-0.2935179   1.          0.          0.        ]
 [ 0.43974264  0.          1.         -0.49566621]
 [ 0.          0.         -0.49566621  1.        ]]

2023-11-13 14:56:58,938 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.2935179   0.95595358  0.          0.        ]
 [ 0.43974264  0.13501946  0.88791675  0.        ]
 [ 0.          0.         -0.55823501  0.82968288]]

2023-11-13 14:56:58,938 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bb9af50>): 0.0h 0.0m 0s 3ms
2023-11-13 14:56:58,940 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 14:56:58,963 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:56:58,965 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  434.668913  284.115279
1  455.625888  310.038320
2  410.180360  243.560054
3  461.053809  254.708656
4  434.104343  256.158489
2023-11-13 14:56:59,068 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  434.668913  284.115279
2023-08-11  455.625888  310.038320
2023-08-14  410.180360  243.560054
2023-08-15  461.053809  254.708656
2023-08-16  434.104343  256.158489
2023-11-13 14:56:59,069 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bb9af50>, n_sim=1): 0.0h 0.0m 9s 606ms
2023-11-13 14:56:59,070 - yq - INFO - Pricing the product on 2023-08-10 00:00:00
2023-11-13 14:56:59,070 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:56:59,076 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:56:59,315 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-11-13 14:56:59,316 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230810.csv
2023-11-13 14:56:59,317 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/lonn_call.csv
2023-11-13 14:56:59,318 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.699997  28.406391  0.0175
1  0.101053     460  42.599991  26.427944  0.0175
2  0.101053     470  34.000000  24.808001  0.0175
3  0.101053     480  28.599991  27.952068  0.0175
4  0.101053     490  19.499998  23.021019  0.0175
2023-11-13 14:56:59,319 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/sika_call.csv
2023-11-13 14:56:59,321 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     220  49.675003  37.533554  0.0175
1  0.101053     230  39.950005  33.262680  0.0175
2  0.101053     240  30.450005  29.446768  0.0175
3  0.101053     250  21.574997  26.823681  0.0175
4  0.101053     260  13.925000  25.314522  0.0175
2023-11-13 14:56:59,324 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.699997  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  34.000000  0.0175
3  0.101053     480  28.599991  0.0175
4  0.101053     490  19.499998  0.0175
   maturity  strike      price    rate
0  0.101053     220  49.675003  0.0175
1  0.101053     230  39.950005  0.0175
2  0.101053     240  30.450005  0.0175
3  0.101053     250  21.574997  0.0175
4  0.101053     260  13.925000  0.0175
2023-11-13 14:56:59,324 - yq - INFO - Calibrating LONZA on 2023-08-10 00:00:00.
2023-11-13 14:57:06,743 - yq - INFO - Calibrating SIKA on 2023-08-10 00:00:00.
2023-11-13 14:57:23,970 - yq - INFO - The S_0 for LONZA and SIKA are 498.1 and 268.3
2023-11-13 14:57:23,978 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 24 seconds
2023-11-13 14:57:24,457 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230810.csv
2023-11-13 14:57:24,457 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.80493217  0.1131859   0.0681332  -0.31277736  2.27836567]
 [ 5.7480545   0.11228403  0.09071398 -0.42236784  3.09515077]]
2023-11-13 14:57:24,742 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ff4f590>, Timestamp('2023-08-10 00:00:00')): 0.0h 0.0m 25s 427ms
2023-11-13 14:57:24,934 - yq - INFO - The log returns list for all assets is: [Date
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
                ...   
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
                ...   
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:57:24,944 - yq - INFO - rho_S1S2 is 0.43912096394854827

2023-11-13 14:57:24,946 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43912096]
 [0.43912096 1.        ]]

2023-11-13 14:57:24,947 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.31277736  0.43912096  0.        ]
 [-0.31277736  1.          0.          0.        ]
 [ 0.43912096  0.          1.         -0.42236784]
 [ 0.          0.         -0.42236784  1.        ]]

2023-11-13 14:57:24,956 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.31277736  0.94982647  0.          0.        ]
 [ 0.43912096  0.1446023   0.8867147   0.        ]
 [ 0.          0.         -0.4763289   0.87926718]]

2023-11-13 14:57:24,956 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ff4f590>): 0.0h 0.0m 0s 214ms
2023-11-13 14:57:25,110 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 14:57:25,155 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:57:25,163 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  477.460082  247.406714
1  572.595017  275.699915
2  573.224316  242.914660
3  664.380244  245.249800
4  730.146390  231.077028
2023-11-13 14:57:25,349 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  477.460082  247.406714
2023-08-14  572.595017  275.699915
2023-08-15  573.224316  242.914660
2023-08-16  664.380244  245.249800
2023-08-17  730.146390  231.077028
2023-11-13 14:57:25,351 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ff4f590>, n_sim=1): 0.0h 0.0m 26s 38ms
2023-11-13 14:57:25,352 - yq - INFO - Pricing the product on 2023-08-11 00:00:00
2023-11-13 14:57:25,352 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:57:25,360 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:57:25,648 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-11-13 14:57:25,649 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230811.csv
2023-11-13 14:57:25,685 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/lonn_call.csv
2023-11-13 14:57:25,687 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     450  51.399994  25.468338  0.0175
1  0.196491     460  43.399994  24.842302  0.0175
2  0.196491     470  35.899994  24.175629  0.0175
3  0.196491     480  29.149994  23.683537  0.0175
4  0.196491     490  23.199997  23.294483  0.0175
2023-11-13 14:57:25,690 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/sika_call.csv
2023-11-13 14:57:25,691 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     220  44.675003  31.911819  0.0175
1  0.196491     230  35.525002  29.347454  0.0175
2  0.196491     240  27.000000  27.414755  0.0175
3  0.196491     250  19.449997  26.059502  0.0175
4  0.196491     260  13.125000  24.996462  0.0175
2023-11-13 14:57:25,695 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.196491     450  51.399994  0.0175
1  0.196491     460  43.399994  0.0175
2  0.196491     470  35.899994  0.0175
3  0.196491     480  29.149994  0.0175
4  0.196491     490  23.199997  0.0175
   maturity  strike      price    rate
0  0.196491     220  44.675003  0.0175
1  0.196491     230  35.525002  0.0175
2  0.196491     240  27.000000  0.0175
3  0.196491     250  19.449997  0.0175
4  0.196491     260  13.125000  0.0175
2023-11-13 14:57:25,696 - yq - INFO - Calibrating LONZA on 2023-08-11 00:00:00.
2023-11-13 14:57:54,515 - yq - INFO - Calibrating SIKA on 2023-08-11 00:00:00.
2023-11-13 14:58:00,877 - yq - INFO - The S_0 for LONZA and SIKA are 494.9 and 262.8
2023-11-13 14:58:00,878 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 35 seconds
2023-11-13 14:58:00,886 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230811.csv
2023-11-13 14:58:00,886 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.8122278   0.07599699  0.08166239 -0.24813675  2.40455888]
 [ 0.01000375  0.01871287  0.07506273 -0.33254292  1.10347668]]
2023-11-13 14:58:00,887 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ff4f590>, Timestamp('2023-08-11 00:00:00')): 0.0h 0.0m 35s 238ms
2023-11-13 14:58:00,891 - yq - INFO - The log returns list for all assets is: [Date
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
                ...   
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
                ...   
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:58:00,891 - yq - INFO - rho_S1S2 is 0.4372111961971176

2023-11-13 14:58:00,891 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4372112]
 [0.4372112 1.       ]]

2023-11-13 14:58:00,891 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.24813675  0.4372112   0.        ]
 [-0.24813675  1.          0.          0.        ]
 [ 0.4372112   0.          1.         -0.33254292]
 [ 0.          0.         -0.33254292  1.        ]]

2023-11-13 14:58:00,892 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.24813675  0.96872501  0.          0.        ]
 [ 0.4372112   0.11199067  0.89235893  0.        ]
 [ 0.          0.         -0.37265601  0.92796956]]

2023-11-13 14:58:00,892 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ff4f590>): 0.0h 0.0m 0s 5ms
2023-11-13 14:58:00,896 - yq - INFO - The adjusted S_0 is [494.9 262.8]
2023-11-13 14:58:00,930 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:58:00,936 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  484.050895  261.679853
1  492.441103  291.115665
2  415.732149  290.638109
3  478.526926  308.770743
4  525.654054  343.344126
2023-11-13 14:58:01,085 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  484.050895  261.679853
2023-08-15  492.441103  291.115665
2023-08-16  415.732149  290.638109
2023-08-17  478.526926  308.770743
2023-08-18  525.654054  343.344126
2023-11-13 14:58:01,087 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ff4f590>, n_sim=1): 0.0h 0.0m 35s 441ms
2023-11-13 14:58:01,087 - yq - INFO - Pricing the product on 2023-08-14 00:00:00
2023-11-13 14:58:01,087 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:58:01,097 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:58:01,365 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-11-13 14:58:01,366 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230814.csv
2023-11-13 14:58:01,372 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/lonn_call.csv
2023-11-13 14:58:01,373 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     450  51.399994  25.468338  0.0175
1   0.18807     460  43.399994  24.842302  0.0175
2   0.18807     470  35.899994  24.175629  0.0175
3   0.18807     480  29.149994  23.683537  0.0175
4   0.18807     490  23.199997  23.294483  0.0175
2023-11-13 14:58:01,374 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/sika_call.csv
2023-11-13 14:58:01,377 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     220  44.675003  31.911819  0.0175
1   0.18807     230  35.525002  29.347454  0.0175
2   0.18807     240  27.000000  27.414755  0.0175
3   0.18807     250  19.449997  26.059502  0.0175
4   0.18807     260  13.125000  24.996462  0.0175
2023-11-13 14:58:01,380 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.18807     450  51.399994  0.0175
1   0.18807     460  43.399994  0.0175
2   0.18807     470  35.899994  0.0175
3   0.18807     480  29.149994  0.0175
4   0.18807     490  23.199997  0.0175
   maturity  strike      price    rate
0   0.18807     220  44.675003  0.0175
1   0.18807     230  35.525002  0.0175
2   0.18807     240  27.000000  0.0175
3   0.18807     250  19.449997  0.0175
4   0.18807     260  13.125000  0.0175
2023-11-13 14:58:01,381 - yq - INFO - Calibrating LONZA on 2023-08-14 00:00:00.
2023-11-13 14:58:06,913 - yq - INFO - Calibrating SIKA on 2023-08-14 00:00:00.
2023-11-13 14:58:19,392 - yq - INFO - The S_0 for LONZA and SIKA are 494.2 and 262.5
2023-11-13 14:58:19,393 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 18 seconds
2023-11-13 14:58:19,396 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230814.csv
2023-11-13 14:58:19,396 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.59046487  0.08046503  0.09301376 -0.28437094  2.54295711]
 [ 1.46921922  0.14386614  0.0871605  -0.43753345  1.91409322]]
2023-11-13 14:58:19,397 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a4f9790>, Timestamp('2023-08-14 00:00:00')): 0.0h 0.0m 18s 32ms
2023-11-13 14:58:19,399 - yq - INFO - The log returns list for all assets is: [Date
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
                ...   
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
                ...   
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:58:19,399 - yq - INFO - rho_S1S2 is 0.4415351262144186

2023-11-13 14:58:19,399 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44153513]
 [0.44153513 1.        ]]

2023-11-13 14:58:19,399 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.28437094  0.44153513  0.        ]
 [-0.28437094  1.          0.          0.        ]
 [ 0.44153513  0.          1.         -0.43753345]
 [ 0.          0.         -0.43753345  1.        ]]

2023-11-13 14:58:19,400 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.28437094  0.95871433  0.          0.        ]
 [ 0.44153513  0.13096681  0.88763417  0.        ]
 [ 0.          0.         -0.49292091  0.87007412]]

2023-11-13 14:58:19,400 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a4f9790>): 0.0h 0.0m 0s 3ms
2023-11-13 14:58:19,401 - yq - INFO - The adjusted S_0 is [494.2 262.5]
2023-11-13 14:58:19,426 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:58:19,428 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  475.394724  250.667240
1  390.007383  211.086748
2  327.783783  198.010804
3  363.635238  209.118018
4  329.449279  186.520014
2023-11-13 14:58:19,537 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  475.394724  250.667240
2023-08-16  390.007383  211.086748
2023-08-17  327.783783  198.010804
2023-08-18  363.635238  209.118018
2023-08-21  329.449279  186.520014
2023-11-13 14:58:19,539 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a4f9790>, n_sim=1): 0.0h 0.0m 18s 176ms
2023-11-13 14:58:19,540 - yq - INFO - Pricing the product on 2023-08-15 00:00:00
2023-11-13 14:58:19,540 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:58:19,546 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:58:19,790 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-11-13 14:58:19,791 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230815.csv
2023-11-13 14:58:19,792 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/lonn_call.csv
2023-11-13 14:58:19,794 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     440  55.374992  28.061256  0.0175
1  0.185263     450  47.000000  26.852697  0.0175
2  0.185263     460  39.199997  25.892950  0.0175
3  0.185263     470  32.699989  25.923019  0.0175
4  0.185263     480  24.799995  23.396318  0.0175
2023-11-13 14:58:19,795 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/sika_call.csv
2023-11-13 14:58:19,797 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     210  50.325005  34.053059  0.0175
1  0.185263     220  40.974998  31.394001  0.0175
2  0.185263     230  32.075005  29.231590  0.0175
3  0.185263     240  23.925003  27.594440  0.0175
4  0.185263     250  16.900002  26.497833  0.0175
2023-11-13 14:58:19,800 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.185263     440  55.374992  0.0175
1  0.185263     450  47.000000  0.0175
2  0.185263     460  39.199997  0.0175
3  0.185263     470  32.699989  0.0175
4  0.185263     480  24.799995  0.0175
   maturity  strike      price    rate
0  0.185263     210  50.325005  0.0175
1  0.185263     220  40.974998  0.0175
2  0.185263     230  32.075005  0.0175
3  0.185263     240  23.925003  0.0175
4  0.185263     250  16.900002  0.0175
2023-11-13 14:58:19,800 - yq - INFO - Calibrating LONZA on 2023-08-15 00:00:00.
2023-11-13 14:58:56,798 - yq - INFO - Calibrating SIKA on 2023-08-15 00:00:00.
2023-11-13 14:59:04,084 - yq - INFO - The S_0 for LONZA and SIKA are 487.9 and 258.1
2023-11-13 14:59:04,084 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 44 seconds
2023-11-13 14:59:04,092 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230815.csv
2023-11-13 14:59:04,092 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.01000116  0.02652828  0.06817171 -0.2697821   0.72618989]
 [ 1.3698446   0.16759344  0.09923003 -0.45831439  2.13871687]]
2023-11-13 14:59:04,093 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15a9cea50>, Timestamp('2023-08-15 00:00:00')): 0.0h 0.0m 44s 303ms
2023-11-13 14:59:04,104 - yq - INFO - The log returns list for all assets is: [Date
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
                ...   
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
                ...   
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:59:04,105 - yq - INFO - rho_S1S2 is 0.4452426918206425

2023-11-13 14:59:04,105 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44524269]
 [0.44524269 1.        ]]

2023-11-13 14:59:04,105 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.2697821   0.44524269  0.        ]
 [-0.2697821   1.          0.          0.        ]
 [ 0.44524269  0.          1.         -0.45831439]
 [ 0.          0.         -0.45831439  1.        ]]

2023-11-13 14:59:04,105 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.2697821   0.9629214   0.          0.        ]
 [ 0.44524269  0.12474383  0.88667803  0.        ]
 [ 0.          0.         -0.51688931  0.85605224]]

2023-11-13 14:59:04,106 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15a9cea50>): 0.0h 0.0m 0s 12ms
2023-11-13 14:59:04,114 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 14:59:04,139 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:59:04,147 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  465.696923  251.193977
1  500.310258  265.854448
2  506.136464  260.256749
3  528.346070  272.322523
4  471.243496  242.920051
2023-11-13 14:59:04,276 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  465.696923  251.193977
2023-08-17  500.310258  265.854448
2023-08-18  506.136464  260.256749
2023-08-21  528.346070  272.322523
2023-08-22  471.243496  242.920051
2023-11-13 14:59:04,277 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15a9cea50>, n_sim=1): 0.0h 0.0m 44s 489ms
2023-11-13 14:59:04,277 - yq - INFO - Pricing the product on 2023-08-16 00:00:00
2023-11-13 14:59:04,277 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:59:04,286 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:59:04,557 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-11-13 14:59:04,557 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230816.csv
2023-11-13 14:59:04,562 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/lonn_call.csv
2023-11-13 14:59:04,564 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     430  55.974991  27.144444  0.0175
1  0.182456     440  47.599991  26.275923  0.0175
2  0.182456     450  39.799988  25.597614  0.0175
3  0.182456     460  32.649994  25.031048  0.0175
4  0.182456     470  26.224991  24.533737  0.0175
2023-11-13 14:59:04,565 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/sika_call.csv
2023-11-13 14:59:04,568 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     210  49.275002  34.904442  0.0175
1  0.182456     220  39.925003  31.884911  0.0175
2  0.182456     230  31.074997  29.593031  0.0175
3  0.182456     240  23.049995  27.989325  0.0175
4  0.182456     250  16.124998  26.773222  0.0175
2023-11-13 14:59:04,571 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.182456     430  55.974991  0.0175
1  0.182456     440  47.599991  0.0175
2  0.182456     450  39.799988  0.0175
3  0.182456     460  32.649994  0.0175
4  0.182456     470  26.224991  0.0175
   maturity  strike      price    rate
0  0.182456     210  49.275002  0.0175
1  0.182456     220  39.925003  0.0175
2  0.182456     230  31.074997  0.0175
3  0.182456     240  23.049995  0.0175
4  0.182456     250  16.124998  0.0175
2023-11-13 14:59:04,572 - yq - INFO - Calibrating LONZA on 2023-08-16 00:00:00.
2023-11-13 14:59:13,808 - yq - INFO - Calibrating SIKA on 2023-08-16 00:00:00.
2023-11-13 14:59:22,355 - yq - INFO - The S_0 for LONZA and SIKA are 479.8 and 257.4
2023-11-13 14:59:22,356 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 17 seconds
2023-11-13 14:59:22,370 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230816.csv
2023-11-13 14:59:22,370 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.14327961  0.09964665  0.06993994 -0.27983826  1.20692232]
 [ 1.60136264  0.15471509  0.09528288 -0.43942842  2.17791818]]
2023-11-13 14:59:22,371 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ad19110>, Timestamp('2023-08-16 00:00:00')): 0.0h 0.0m 17s 814ms
2023-11-13 14:59:22,373 - yq - INFO - The log returns list for all assets is: [Date
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
                ...   
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
                ...   
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:59:22,374 - yq - INFO - rho_S1S2 is 0.44125457706800547

2023-11-13 14:59:22,374 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44125458]
 [0.44125458 1.        ]]

2023-11-13 14:59:22,374 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.27983826  0.44125458  0.        ]
 [-0.27983826  1.          0.          0.        ]
 [ 0.44125458  0.          1.         -0.43942842]
 [ 0.          0.         -0.43942842  1.        ]]

2023-11-13 14:59:22,374 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.27983826  0.96004716  0.          0.        ]
 [ 0.44125458  0.12861859  0.88811692  0.        ]
 [ 0.          0.         -0.49478668  0.86901446]]

2023-11-13 14:59:22,374 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ad19110>): 0.0h 0.0m 0s 4ms
2023-11-13 14:59:22,375 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 14:59:22,405 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:59:22,406 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  483.226809  223.503820
1  547.524641  273.015942
2  483.094105  224.264459
3  474.627906  270.378647
4  462.280099  261.437138
2023-11-13 14:59:22,532 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  483.226809  223.503820
2023-08-18  547.524641  273.015942
2023-08-21  483.094105  224.264459
2023-08-22  474.627906  270.378647
2023-08-23  462.280099  261.437138
2023-11-13 14:59:22,536 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ad19110>, n_sim=1): 0.0h 0.0m 17s 981ms
2023-11-13 14:59:22,537 - yq - INFO - Pricing the product on 2023-08-17 00:00:00
2023-11-13 14:59:22,537 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:59:22,550 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:59:22,839 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-11-13 14:59:22,840 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230817.csv
2023-11-13 14:59:22,844 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/lonn_call.csv
2023-11-13 14:59:22,848 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     430  50.399994  27.299341  0.0175
1  0.179649     440  42.250000  26.296572  0.0175
2  0.179649     450  34.750000  25.521204  0.0175
3  0.179649     460  27.949989  24.854713  0.0175
4  0.179649     470  21.949989  24.286530  0.0175
2023-11-13 14:59:22,849 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/sika_call.csv
2023-11-13 14:59:22,853 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     210  42.400002  33.117111  0.0175
1  0.179649     220  33.425003  30.933372  0.0175
2  0.179649     230  25.150002  29.240053  0.0175
3  0.179649     240  17.875000  27.899794  0.0175
4  0.179649     250  11.900000  26.879539  0.0175
2023-11-13 14:59:22,861 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.179649     430  50.399994  0.0175
1  0.179649     440  42.250000  0.0175
2  0.179649     450  34.750000  0.0175
3  0.179649     460  27.949989  0.0175
4  0.179649     470  21.949989  0.0175
   maturity  strike      price    rate
0  0.179649     210  42.400002  0.0175
1  0.179649     220  33.425003  0.0175
2  0.179649     230  25.150002  0.0175
3  0.179649     240  17.875000  0.0175
4  0.179649     250  11.900000  0.0175
2023-11-13 14:59:22,861 - yq - INFO - Calibrating LONZA on 2023-08-17 00:00:00.
2023-11-13 14:59:33,369 - yq - INFO - Calibrating SIKA on 2023-08-17 00:00:00.
2023-11-13 14:59:37,379 - yq - INFO - The S_0 for LONZA and SIKA are 473.2 and 250.6
2023-11-13 14:59:37,379 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 14:59:37,387 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230817.csv
2023-11-13 14:59:37,387 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.08468417  0.12717506  0.07250607 -0.34704905  1.67631283]
 [ 7.67887015  0.09073023  0.11332459 -0.36988337  3.05774786]]
2023-11-13 14:59:37,388 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16ac259d0>, Timestamp('2023-08-17 00:00:00')): 0.0h 0.0m 14s 548ms
2023-11-13 14:59:37,396 - yq - INFO - The log returns list for all assets is: [Date
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
                ...   
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
                ...   
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:59:37,397 - yq - INFO - rho_S1S2 is 0.42663716309083205

2023-11-13 14:59:37,397 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42663716]
 [0.42663716 1.        ]]

2023-11-13 14:59:37,397 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.34704905  0.42663716  0.        ]
 [-0.34704905  1.          0.          0.        ]
 [ 0.42663716  0.          1.         -0.36988337]
 [ 0.          0.         -0.36988337  1.        ]]

2023-11-13 14:59:37,397 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.34704905  0.93784698  0.          0.        ]
 [ 0.42663716  0.15787653  0.89053677  0.        ]
 [ 0.          0.         -0.41534879  0.90966224]]

2023-11-13 14:59:37,397 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16ac259d0>): 0.0h 0.0m 0s 9ms
2023-11-13 14:59:37,405 - yq - INFO - The adjusted S_0 is [473.2 250.6]
2023-11-13 14:59:37,434 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:59:37,440 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  397.630134  236.137173
1  370.378156  212.714340
2  436.225500  223.433557
3  390.148196  219.974556
4  339.471103  180.020477
2023-11-13 14:59:37,581 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  397.630134  236.137173
2023-08-21  370.378156  212.714340
2023-08-22  436.225500  223.433557
2023-08-23  390.148196  219.974556
2023-08-24  339.471103  180.020477
2023-11-13 14:59:37,583 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16ac259d0>, n_sim=1): 0.0h 0.0m 14s 746ms
2023-11-13 14:59:37,583 - yq - INFO - Pricing the product on 2023-08-18 00:00:00
2023-11-13 14:59:37,586 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:59:37,597 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:59:37,881 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-11-13 14:59:37,882 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230818.csv
2023-11-13 14:59:37,884 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/lonn_call.csv
2023-11-13 14:59:37,886 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     430  53.599991  28.433285  0.0175
1  0.176842     440  45.049988  27.074509  0.0175
2  0.176842     450  37.099991  26.028452  0.0175
3  0.176842     460  29.824997  25.145454  0.0175
4  0.176842     470  23.349991  24.413734  0.0175
2023-11-13 14:59:37,887 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/sika_call.csv
2023-11-13 14:59:37,890 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  48.974998  36.800362  0.0175
1  0.176842     210  39.600006  33.488438  0.0175
2  0.176842     220  30.675003  30.802935  0.0175
3  0.176842     230  22.599998  29.016119  0.0175
4  0.176842     240  15.625000  27.617016  0.0175
2023-11-13 14:59:37,894 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     430  53.599991  0.0175
1  0.176842     440  45.049988  0.0175
2  0.176842     450  37.099991  0.0175
3  0.176842     460  29.824997  0.0175
4  0.176842     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.176842     200  48.974998  0.0175
1  0.176842     210  39.600006  0.0175
2  0.176842     220  30.675003  0.0175
3  0.176842     230  22.599998  0.0175
4  0.176842     240  15.625000  0.0175
2023-11-13 14:59:37,894 - yq - INFO - Calibrating LONZA on 2023-08-18 00:00:00.
2023-11-13 14:59:59,888 - yq - INFO - Calibrating SIKA on 2023-08-18 00:00:00.
2023-11-13 15:00:15,426 - yq - INFO - The S_0 for LONZA and SIKA are 471.9 and 247.5
2023-11-13 15:00:15,427 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 37 seconds
2023-11-13 15:00:15,441 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230818.csv
2023-11-13 15:00:15,441 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.03579685  0.32151437  0.10069098 -0.55173302  2.25821506]
 [ 2.70646605  0.12109349  0.09485917 -0.41882456  2.09593566]]
2023-11-13 15:00:15,442 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a707190>, Timestamp('2023-08-18 00:00:00')): 0.0h 0.0m 37s 561ms
2023-11-13 15:00:15,445 - yq - INFO - The log returns list for all assets is: [Date
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
                ...   
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
                ...   
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:00:15,445 - yq - INFO - rho_S1S2 is 0.4247711739692134

2023-11-13 15:00:15,445 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42477117]
 [0.42477117 1.        ]]

2023-11-13 15:00:15,445 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.55173302  0.42477117  0.        ]
 [-0.55173302  1.          0.          0.        ]
 [ 0.42477117  0.          1.         -0.41882456]
 [ 0.          0.         -0.41882456  1.        ]]

2023-11-13 15:00:15,446 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.55173302  0.83402079  0.          0.        ]
 [ 0.42477117  0.28100053  0.86058594  0.        ]
 [ 0.          0.         -0.48667372  0.87358382]]

2023-11-13 15:00:15,446 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a707190>): 0.0h 0.0m 0s 3ms
2023-11-13 15:00:15,447 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 15:00:15,473 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:00:15,475 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  477.932125  229.057071
1  399.168142  200.632563
2  453.052638  218.814251
3  443.945936  228.793186
4  417.554869  267.069555
2023-11-13 15:00:15,605 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  477.932125  229.057071
2023-08-22  399.168142  200.632563
2023-08-23  453.052638  218.814251
2023-08-24  443.945936  228.793186
2023-08-25  417.554869  267.069555
2023-11-13 15:00:15,608 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a707190>, n_sim=1): 0.0h 0.0m 37s 730ms
2023-11-13 15:00:15,608 - yq - INFO - Pricing the product on 2023-08-21 00:00:00
2023-11-13 15:00:15,608 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:00:15,638 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:00:15,897 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-11-13 15:00:15,900 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230821.csv
2023-11-13 15:00:15,904 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/lonn_call.csv
2023-11-13 15:00:15,905 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     430  53.599991  28.433285  0.0175
1  0.168421     440  45.049988  27.074509  0.0175
2  0.168421     450  37.099991  26.028452  0.0175
3  0.168421     460  29.824997  25.145454  0.0175
4  0.168421     470  23.349991  24.413734  0.0175
2023-11-13 15:00:15,907 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/sika_call.csv
2023-11-13 15:00:15,909 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.125008  36.494854  0.0175
1  0.168421     200  42.300003  34.223370  0.0175
2  0.168421     210  32.924995  30.578308  0.0175
3  0.168421     220  24.175003  27.988766  0.0175
4  0.168421     230  16.475006  26.213083  0.0175
2023-11-13 15:00:15,914 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     430  53.599991  0.0175
1  0.168421     440  45.049988  0.0175
2  0.168421     450  37.099991  0.0175
3  0.168421     460  29.824997  0.0175
4  0.168421     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.125008  0.0175
1  0.168421     200  42.300003  0.0175
2  0.168421     210  32.924995  0.0175
3  0.168421     220  24.175003  0.0175
4  0.168421     230  16.475006  0.0175
2023-11-13 15:00:15,914 - yq - INFO - Calibrating LONZA on 2023-08-21 00:00:00.
2023-11-13 15:00:28,416 - yq - INFO - Calibrating SIKA on 2023-08-21 00:00:00.
2023-11-13 15:00:39,072 - yq - INFO - The S_0 for LONZA and SIKA are 469.9 and 244.9
2023-11-13 15:00:39,073 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 23 seconds
2023-11-13 15:00:39,076 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230821.csv
2023-11-13 15:00:39,076 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.54821314  0.60672968  0.1266407  -0.60368706  2.53493581]
 [ 3.99804464  0.05886582  0.0402568  -0.03484152  1.57288685]]
2023-11-13 15:00:39,077 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x10135a390>, Timestamp('2023-08-21 00:00:00')): 0.0h 0.0m 23s 180ms
2023-11-13 15:00:39,079 - yq - INFO - The log returns list for all assets is: [Date
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
                ...   
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
                ...   
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:00:39,080 - yq - INFO - rho_S1S2 is 0.4435422786799675

2023-11-13 15:00:39,080 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44354228]
 [0.44354228 1.        ]]

2023-11-13 15:00:39,080 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.60368706  0.44354228  0.        ]
 [-0.60368706  1.          0.          0.        ]
 [ 0.44354228  0.          1.         -0.03484152]
 [ 0.          0.         -0.03484152  1.        ]]

2023-11-13 15:00:39,080 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.60368706  0.79722138  0.          0.        ]
 [ 0.44354228  0.33586748  0.8309412   0.        ]
 [ 0.          0.         -0.04193019  0.99912054]]

2023-11-13 15:00:39,080 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x10135a390>): 0.0h 0.0m 0s 4ms
2023-11-13 15:00:39,082 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 15:00:39,115 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:00:39,117 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  441.321728  229.204674
1  492.197980  246.292193
2  497.444218  273.604203
3  449.982819  272.545041
4  407.427341  289.245053
2023-11-13 15:00:39,260 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  441.321728  229.204674
2023-08-23  492.197980  246.292193
2023-08-24  497.444218  273.604203
2023-08-25  449.982819  272.545041
2023-08-28  407.427341  289.245053
2023-11-13 15:00:39,261 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x10135a390>, n_sim=1): 0.0h 0.0m 23s 366ms
2023-11-13 15:00:39,262 - yq - INFO - Pricing the product on 2023-08-22 00:00:00
2023-11-13 15:00:39,262 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:00:39,269 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:00:39,528 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-11-13 15:00:39,529 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230822.csv
2023-11-13 15:00:39,531 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/lonn_call.csv
2023-11-13 15:00:39,533 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     430  53.599991  28.433285  0.0175
1  0.165614     440  45.049988  27.074509  0.0175
2  0.165614     450  37.099991  26.028452  0.0175
3  0.165614     460  29.824997  25.145454  0.0175
4  0.165614     470  23.349991  24.413734  0.0175
2023-11-13 15:00:39,535 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/sika_call.csv
2023-11-13 15:00:39,539 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     195  47.125008  36.494854  0.0175
1  0.165614     200  42.300003  34.223370  0.0175
2  0.165614     210  32.924995  30.578308  0.0175
3  0.165614     220  24.175003  27.988766  0.0175
4  0.165614     230  16.475006  26.213083  0.0175
2023-11-13 15:00:39,545 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     430  53.599991  0.0175
1  0.165614     440  45.049988  0.0175
2  0.165614     450  37.099991  0.0175
3  0.165614     460  29.824997  0.0175
4  0.165614     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.165614     195  47.125008  0.0175
1  0.165614     200  42.300003  0.0175
2  0.165614     210  32.924995  0.0175
3  0.165614     220  24.175003  0.0175
4  0.165614     230  16.475006  0.0175
2023-11-13 15:00:39,546 - yq - INFO - Calibrating LONZA on 2023-08-22 00:00:00.
2023-11-13 15:01:00,545 - yq - INFO - Calibrating SIKA on 2023-08-22 00:00:00.
2023-11-13 15:01:26,095 - yq - INFO - The S_0 for LONZA and SIKA are 469.1 and 245.1
2023-11-13 15:01:26,097 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 46 seconds
2023-11-13 15:01:26,125 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230822.csv
2023-11-13 15:01:26,125 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.3448354   0.95731111  0.13752573 -0.6221404   2.64349916]
 [ 4.22049449  0.05593758  0.04017748 -0.0104009   1.56429845]]
2023-11-13 15:01:26,126 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16b238ad0>, Timestamp('2023-08-22 00:00:00')): 0.0h 0.0m 46s 598ms
2023-11-13 15:01:26,148 - yq - INFO - The log returns list for all assets is: [Date
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
                ...   
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
                ...   
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:01:26,154 - yq - INFO - rho_S1S2 is 0.4369426266185002

2023-11-13 15:01:26,154 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43694263]
 [0.43694263 1.        ]]

2023-11-13 15:01:26,154 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.6221404   0.43694263  0.        ]
 [-0.6221404   1.          0.          0.        ]
 [ 0.43694263  0.          1.         -0.0104009 ]
 [ 0.          0.         -0.0104009   1.        ]]

2023-11-13 15:01:26,157 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.6221404   0.78290569  0.          0.        ]
 [ 0.43694263  0.34721891  0.82977116  0.        ]
 [ 0.          0.         -0.01253465  0.99992144]]

2023-11-13 15:01:26,157 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16b238ad0>): 0.0h 0.0m 0s 30ms
2023-11-13 15:01:26,180 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 15:01:26,218 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:01:26,232 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  450.256235  268.282089
1  449.747682  295.439755
2  445.374964  304.942542
3  455.400427  336.628033
4  378.090923  282.758638
2023-11-13 15:01:26,380 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  450.256235  268.282089
2023-08-24  449.747682  295.439755
2023-08-25  445.374964  304.942542
2023-08-28  455.400427  336.628033
2023-08-29  378.090923  282.758638
2023-11-13 15:01:26,382 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16b238ad0>, n_sim=1): 0.0h 0.0m 46s 859ms
2023-11-13 15:01:26,385 - yq - INFO - Pricing the product on 2023-08-23 00:00:00
2023-11-13 15:01:26,386 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:01:26,403 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:01:26,680 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-11-13 15:01:26,681 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230823.csv
2023-11-13 15:01:26,701 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/lonn_call.csv
2023-11-13 15:01:26,705 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     430  53.599991  28.433285  0.0175
1  0.162807     440  45.049988  27.074509  0.0175
2  0.162807     450  37.099991  26.028452  0.0175
3  0.162807     460  29.824997  25.145454  0.0175
4  0.162807     470  23.349991  24.413734  0.0175
2023-11-13 15:01:26,708 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/sika_call.csv
2023-11-13 15:01:26,713 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     195  47.125008  36.494854  0.0175
1  0.162807     200  42.300003  34.223370  0.0175
2  0.162807     210  32.924995  30.578308  0.0175
3  0.162807     220  24.175003  27.988766  0.0175
4  0.162807     230  16.475006  26.213083  0.0175
2023-11-13 15:01:26,718 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     430  53.599991  0.0175
1  0.162807     440  45.049988  0.0175
2  0.162807     450  37.099991  0.0175
3  0.162807     460  29.824997  0.0175
4  0.162807     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.162807     195  47.125008  0.0175
1  0.162807     200  42.300003  0.0175
2  0.162807     210  32.924995  0.0175
3  0.162807     220  24.175003  0.0175
4  0.162807     230  16.475006  0.0175
2023-11-13 15:01:26,720 - yq - INFO - Calibrating LONZA on 2023-08-23 00:00:00.
2023-11-13 15:01:38,760 - yq - INFO - Calibrating SIKA on 2023-08-23 00:00:00.
2023-11-13 15:02:16,648 - yq - INFO - The S_0 for LONZA and SIKA are 480.0 and 246.2
2023-11-13 15:02:16,648 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 49 seconds
2023-11-13 15:02:16,657 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230823.csv
2023-11-13 15:02:16,657 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.26159670e+00  8.63310587e-02  5.59912541e-02 -2.21580173e-01
   1.43519724e+00]
 [ 3.92533483e+00  5.43306255e-02  3.74355348e-02 -2.10943050e-04
   1.55893626e+00]]
2023-11-13 15:02:16,658 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x10135a390>, Timestamp('2023-08-23 00:00:00')): 0.0h 0.0m 49s 978ms
2023-11-13 15:02:16,684 - yq - INFO - The log returns list for all assets is: [Date
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
                ...   
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
                ...   
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:02:16,684 - yq - INFO - rho_S1S2 is 0.4371733468311143

2023-11-13 15:02:16,684 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43717335]
 [0.43717335 1.        ]]

2023-11-13 15:02:16,684 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.21580173e-01  4.37173347e-01  0.00000000e+00]
 [-2.21580173e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.37173347e-01  0.00000000e+00  1.00000000e+00 -2.10943050e-04]
 [ 0.00000000e+00  0.00000000e+00 -2.10943050e-04  1.00000000e+00]]

2023-11-13 15:02:16,685 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.21580173e-01  9.75142157e-01  0.00000000e+00  0.00000000e+00]
 [ 4.37173347e-01  9.93382811e-02  8.93874360e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.35987360e-04  9.99999972e-01]]

2023-11-13 15:02:16,685 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x10135a390>): 0.0h 0.0m 0s 27ms
2023-11-13 15:02:16,692 - yq - INFO - The adjusted S_0 is [480.  246.2]
2023-11-13 15:02:16,715 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:02:16,717 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  532.090503  247.039678
1  521.756923  272.567192
2  504.905550  279.357604
3  459.926825  254.506907
4  502.667086  259.961874
2023-11-13 15:02:16,857 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  532.090503  247.039678
2023-08-25  521.756923  272.567192
2023-08-28  504.905550  279.357604
2023-08-29  459.926825  254.506907
2023-08-30  502.667086  259.961874
2023-11-13 15:02:16,858 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x10135a390>, n_sim=1): 0.0h 0.0m 50s 182ms
2023-11-13 15:02:16,858 - yq - INFO - Pricing the product on 2023-08-24 00:00:00
2023-11-13 15:02:16,858 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:02:16,868 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:02:17,120 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-11-13 15:02:17,120 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230824.csv
2023-11-13 15:02:17,123 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/lonn_call.csv
2023-11-13 15:02:17,125 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     430  53.599991  28.433285  0.0175
1      0.16     440  45.049988  27.074509  0.0175
2      0.16     450  37.099991  26.028452  0.0175
3      0.16     460  29.824997  25.145454  0.0175
4      0.16     470  23.349991  24.413734  0.0175
2023-11-13 15:02:17,126 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/sika_call.csv
2023-11-13 15:02:17,129 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     195  47.125008  36.494854  0.0175
1      0.16     200  42.300003  34.223370  0.0175
2      0.16     210  32.924995  30.578308  0.0175
3      0.16     220  24.175003  27.988766  0.0175
4      0.16     230  16.475006  26.213083  0.0175
2023-11-13 15:02:17,133 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     430  53.599991  0.0175
1      0.16     440  45.049988  0.0175
2      0.16     450  37.099991  0.0175
3      0.16     460  29.824997  0.0175
4      0.16     470  23.349991  0.0175
   maturity  strike      price    rate
0      0.16     195  47.125008  0.0175
1      0.16     200  42.300003  0.0175
2      0.16     210  32.924995  0.0175
3      0.16     220  24.175003  0.0175
4      0.16     230  16.475006  0.0175
2023-11-13 15:02:17,133 - yq - INFO - Calibrating LONZA on 2023-08-24 00:00:00.
2023-11-13 15:02:23,469 - yq - INFO - Calibrating SIKA on 2023-08-24 00:00:00.
2023-11-13 15:02:37,762 - yq - INFO - The S_0 for LONZA and SIKA are 477.5 and 240.9
2023-11-13 15:02:37,766 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 20 seconds
2023-11-13 15:02:37,788 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230824.csv
2023-11-13 15:02:37,789 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.5380216   0.11393151  0.07270834 -0.35194933  1.70206327]
 [ 1.37453122  0.16904219  0.08993814 -0.435597    2.34955536]]
2023-11-13 15:02:37,791 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bb9af50>, Timestamp('2023-08-24 00:00:00')): 0.0h 0.0m 20s 671ms
2023-11-13 15:02:37,816 - yq - INFO - The log returns list for all assets is: [Date
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
                ...   
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
                ...   
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:02:37,818 - yq - INFO - rho_S1S2 is 0.42692214622823577

2023-11-13 15:02:37,818 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42692215]
 [0.42692215 1.        ]]

2023-11-13 15:02:37,819 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.35194933  0.42692215  0.        ]
 [-0.35194933  1.          0.          0.        ]
 [ 0.42692215  0.          1.         -0.435597  ]
 [ 0.          0.         -0.435597    1.        ]]

2023-11-13 15:02:37,819 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.35194933  0.93601905  0.          0.        ]
 [ 0.42692215  0.16052554  0.88992642  0.        ]
 [ 0.          0.         -0.48947529  0.87201717]]

2023-11-13 15:02:37,820 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bb9af50>): 0.0h 0.0m 0s 28ms
2023-11-13 15:02:37,857 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 15:02:37,920 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:02:37,928 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  493.757486  280.394776
1  458.496111  308.582504
2  418.714610  262.051053
3  392.126704  269.919485
4  381.800160  270.867225
2023-11-13 15:02:38,352 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  493.757486  280.394776
2023-08-28  458.496111  308.582504
2023-08-29  418.714610  262.051053
2023-08-30  392.126704  269.919485
2023-08-31  381.800160  270.867225
2023-11-13 15:02:38,359 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bb9af50>, n_sim=1): 0.0h 0.0m 21s 241ms
2023-11-13 15:02:38,385 - yq - INFO - Pricing the product on 2023-08-25 00:00:00
2023-11-13 15:02:38,389 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:02:38,447 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:02:39,137 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-11-13 15:02:39,143 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230825.csv
2023-11-13 15:02:39,151 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/lonn_call.csv
2023-11-13 15:02:39,157 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     440  53.750000  27.479589  0.0175
1  0.157193     450  44.949997  26.013029  0.0175
2  0.157193     460  36.750000  24.936087  0.0175
3  0.157193     470  29.224991  24.031950  0.0175
4  0.157193     480  22.524994  23.274614  0.0175
2023-11-13 15:02:39,159 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/sika_call.csv
2023-11-13 15:02:39,162 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     195  46.399994  36.397018  0.0175
1  0.157193     200  41.574997  34.104519  0.0175
2  0.157193     210  32.174995  30.276834  0.0175
3  0.157193     220  23.375000  27.452997  0.0175
4  0.157193     230  15.724994  25.756443  0.0175
2023-11-13 15:02:39,172 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     440  53.750000  0.0175
1  0.157193     450  44.949997  0.0175
2  0.157193     460  36.750000  0.0175
3  0.157193     470  29.224991  0.0175
4  0.157193     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.157193     195  46.399994  0.0175
1  0.157193     200  41.574997  0.0175
2  0.157193     210  32.174995  0.0175
3  0.157193     220  23.375000  0.0175
4  0.157193     230  15.724994  0.0175
2023-11-13 15:02:39,173 - yq - INFO - Calibrating LONZA on 2023-08-25 00:00:00.
2023-11-13 15:02:57,302 - yq - INFO - Calibrating SIKA on 2023-08-25 00:00:00.
2023-11-13 15:03:06,073 - yq - INFO - The S_0 for LONZA and SIKA are 473.3 and 239.7
2023-11-13 15:03:06,073 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 26 seconds
2023-11-13 15:03:06,079 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230825.csv
2023-11-13 15:03:06,079 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.0685223   9.99812984  0.21015669 -0.73282892  4.26178914]
 [ 8.05831201  0.09319665  0.09857777 -0.39718263  3.03758203]]
2023-11-13 15:03:06,085 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16ac08710>, Timestamp('2023-08-25 00:00:00')): 0.0h 0.0m 26s 945ms
2023-11-13 15:03:06,092 - yq - INFO - The log returns list for all assets is: [Date
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
                ...   
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
                ...   
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:03:06,093 - yq - INFO - rho_S1S2 is 0.4263512706844439

2023-11-13 15:03:06,093 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42635127]
 [0.42635127 1.        ]]

2023-11-13 15:03:06,094 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.73282892  0.42635127  0.        ]
 [-0.73282892  1.          0.          0.        ]
 [ 0.42635127  0.          1.         -0.39718263]
 [ 0.          0.         -0.39718263  1.        ]]

2023-11-13 15:03:06,094 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.73282892  0.68041294  0.          0.        ]
 [ 0.42635127  0.45919547  0.77933569  0.        ]
 [ 0.          0.         -0.50964255  0.86038623]]

2023-11-13 15:03:06,094 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16ac08710>): 0.0h 0.0m 0s 9ms
2023-11-13 15:03:06,100 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 15:03:06,124 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:03:06,128 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  532.120410  252.962759
1  500.682936  234.771048
2  648.108695  263.704285
3  570.425351  251.491721
4  621.520804  251.794636
2023-11-13 15:03:06,252 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  532.120410  252.962759
2023-08-29  500.682936  234.771048
2023-08-30  648.108695  263.704285
2023-08-31  570.425351  251.491721
2023-09-01  621.520804  251.794636
2023-11-13 15:03:06,255 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16ac08710>, n_sim=1): 0.0h 0.0m 27s 144ms
2023-11-13 15:03:06,255 - yq - INFO - Pricing the product on 2023-08-28 00:00:00
2023-11-13 15:03:06,255 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:03:06,266 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:03:06,521 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-11-13 15:03:06,521 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230828.csv
2023-11-13 15:03:06,524 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/lonn_call.csv
2023-11-13 15:03:06,526 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     440  53.750000  27.479589  0.0175
1  0.148772     450  44.949997  26.013029  0.0175
2  0.148772     460  36.750000  24.936087  0.0175
3  0.148772     470  29.224991  24.031950  0.0175
4  0.148772     480  22.524994  23.274614  0.0175
2023-11-13 15:03:06,528 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/sika_call.csv
2023-11-13 15:03:06,530 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     200  44.550003  33.966270  0.0175
1  0.148772     210  34.950005  29.767315  0.0175
2  0.148772     220  25.850006  26.848900  0.0175
3  0.148772     230  17.750000  25.146227  0.0175
4  0.148772     240  11.025000  23.833889  0.0175
2023-11-13 15:03:06,534 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     440  53.750000  0.0175
1  0.148772     450  44.949997  0.0175
2  0.148772     460  36.750000  0.0175
3  0.148772     470  29.224991  0.0175
4  0.148772     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.148772     200  44.550003  0.0175
1  0.148772     210  34.950005  0.0175
2  0.148772     220  25.850006  0.0175
3  0.148772     230  17.750000  0.0175
4  0.148772     240  11.025000  0.0175
2023-11-13 15:03:06,534 - yq - INFO - Calibrating LONZA on 2023-08-28 00:00:00.
2023-11-13 15:03:44,722 - yq - INFO - Calibrating SIKA on 2023-08-28 00:00:00.
2023-11-13 15:03:54,137 - yq - INFO - The S_0 for LONZA and SIKA are 475.5 and 242.6
2023-11-13 15:03:54,138 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 47 seconds
2023-11-13 15:03:54,141 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230828.csv
2023-11-13 15:03:54,141 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.13232091  3.94908168  0.18412924 -0.70792167  3.56676881]
 [ 1.21623309  0.2304323   0.09559093 -0.48326013  2.61572159]]
2023-11-13 15:03:54,142 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16ac08710>, Timestamp('2023-08-28 00:00:00')): 0.0h 0.0m 47s 621ms
2023-11-13 15:03:54,146 - yq - INFO - The log returns list for all assets is: [Date
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
                ...   
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
                ...   
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:03:54,146 - yq - INFO - rho_S1S2 is 0.4301092130230156

2023-11-13 15:03:54,147 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43010921]
 [0.43010921 1.        ]]

2023-11-13 15:03:54,147 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.70792167  0.43010921  0.        ]
 [-0.70792167  1.          0.          0.        ]
 [ 0.43010921  0.          1.         -0.48326013]
 [ 0.          0.         -0.48326013  1.        ]]

2023-11-13 15:03:54,147 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.70792167  0.70629095  0.          0.        ]
 [ 0.43010921  0.43110227  0.79319411  0.        ]
 [ 0.          0.         -0.60925835  0.79297179]]

2023-11-13 15:03:54,147 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16ac08710>): 0.0h 0.0m 0s 5ms
2023-11-13 15:03:54,151 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 15:03:54,175 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:03:54,177 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  408.227162  216.782290
1  354.049264  225.009375
2  346.418622  246.295757
3  325.914310  250.966838
4  230.087088  221.702168
2023-11-13 15:03:54,292 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  408.227162  216.782290
2023-08-30  354.049264  225.009375
2023-08-31  346.418622  246.295757
2023-09-01  325.914310  250.966838
2023-09-04  230.087088  221.702168
2023-11-13 15:03:54,293 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16ac08710>, n_sim=1): 0.0h 0.0m 47s 775ms
2023-11-13 15:03:54,294 - yq - INFO - Pricing the product on 2023-08-29 00:00:00
2023-11-13 15:03:54,294 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:03:54,307 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:03:54,568 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-11-13 15:03:54,568 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230829.csv
2023-11-13 15:03:54,572 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/lonn_call.csv
2023-11-13 15:03:54,574 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     440  53.750000  27.479589  0.0175
1  0.145965     450  44.949997  26.013029  0.0175
2  0.145965     460  36.750000  24.936087  0.0175
3  0.145965     470  29.224991  24.031950  0.0175
4  0.145965     480  22.524994  23.274614  0.0175
2023-11-13 15:03:54,576 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/sika_call.csv
2023-11-13 15:03:54,578 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     200  48.200005  35.602180  0.0175
1  0.145965     210  38.550003  31.489353  0.0175
2  0.145965     220  29.175003  27.868134  0.0175
3  0.145965     230  20.525002  25.417206  0.0175
4  0.145965     240  13.150000  23.884602  0.0175
2023-11-13 15:03:54,582 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     440  53.750000  0.0175
1  0.145965     450  44.949997  0.0175
2  0.145965     460  36.750000  0.0175
3  0.145965     470  29.224991  0.0175
4  0.145965     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.145965     200  48.200005  0.0175
1  0.145965     210  38.550003  0.0175
2  0.145965     220  29.175003  0.0175
3  0.145965     230  20.525002  0.0175
4  0.145965     240  13.150000  0.0175
2023-11-13 15:03:54,582 - yq - INFO - Calibrating LONZA on 2023-08-29 00:00:00.
2023-11-13 15:03:55,227 - yq - ERROR - Error during calibration on 2023-08-29: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:03:55,228 - yq - ERROR - Error during simulation on 2023-08-29 00:00:00: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:03:55,228 - yq - INFO - Pricing the product on 2023-08-30 00:00:00
2023-11-13 15:03:55,228 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:03:55,234 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:03:55,469 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-11-13 15:03:55,470 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230830.csv
2023-11-13 15:03:55,471 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/lonn_call.csv
2023-11-13 15:03:55,473 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     440  53.750000  27.479589  0.0175
1  0.143158     450  44.949997  26.013029  0.0175
2  0.143158     460  36.750000  24.936087  0.0175
3  0.143158     470  29.224991  24.031950  0.0175
4  0.143158     480  22.524994  23.274614  0.0175
2023-11-13 15:03:55,475 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/sika_call.csv
2023-11-13 15:03:55,477 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     200  48.200005  35.602180  0.0175
1  0.143158     210  38.550003  31.489353  0.0175
2  0.143158     220  29.175003  27.868134  0.0175
3  0.143158     230  20.525002  25.417206  0.0175
4  0.143158     240  13.150000  23.884602  0.0175
2023-11-13 15:03:55,481 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     440  53.750000  0.0175
1  0.143158     450  44.949997  0.0175
2  0.143158     460  36.750000  0.0175
3  0.143158     470  29.224991  0.0175
4  0.143158     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.143158     200  48.200005  0.0175
1  0.143158     210  38.550003  0.0175
2  0.143158     220  29.175003  0.0175
3  0.143158     230  20.525002  0.0175
4  0.143158     240  13.150000  0.0175
2023-11-13 15:03:55,481 - yq - INFO - Calibrating LONZA on 2023-08-30 00:00:00.
2023-11-13 15:04:04,110 - yq - INFO - Calibrating SIKA on 2023-08-30 00:00:00.
2023-11-13 15:04:11,892 - yq - INFO - The S_0 for LONZA and SIKA are 483.2 and 246.3
2023-11-13 15:04:11,894 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 16 seconds
2023-11-13 15:04:11,910 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230830.csv
2023-11-13 15:04:11,911 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.80136967  0.15347992  0.11133243 -0.5285648   2.87558317]
 [ 1.86080145  0.15358392  0.09181037 -0.46978719  2.381386  ]]
2023-11-13 15:04:11,918 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bbb0110>, Timestamp('2023-08-30 00:00:00')): 0.0h 0.0m 16s 449ms
2023-11-13 15:04:11,934 - yq - INFO - The log returns list for all assets is: [Date
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
                ...   
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
                ...   
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:04:11,935 - yq - INFO - rho_S1S2 is 0.4192264656802595

2023-11-13 15:04:11,935 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41922647]
 [0.41922647 1.        ]]

2023-11-13 15:04:11,935 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.5285648   0.41922647  0.        ]
 [-0.5285648   1.          0.          0.        ]
 [ 0.41922647  0.          1.         -0.46978719]
 [ 0.          0.         -0.46978719  1.        ]]

2023-11-13 15:04:11,935 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.5285648   0.84889296  0.          0.        ]
 [ 0.41922647  0.26103215  0.86954666  0.        ]
 [ 0.          0.         -0.5402668   0.84149378]]

2023-11-13 15:04:11,935 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bbb0110>): 0.0h 0.0m 0s 16ms
2023-11-13 15:04:11,938 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 15:04:11,962 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:04:11,965 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  497.403954  221.350566
1  521.352223  198.992104
2  573.438319  247.432121
3  573.445015  304.063905
4  523.585571  311.867422
2023-11-13 15:04:12,611 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  497.403954  221.350566
2023-09-01  521.352223  198.992104
2023-09-04  573.438319  247.432121
2023-09-05  573.445015  304.063905
2023-09-06  523.585571  311.867422
2023-11-13 15:04:12,613 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bbb0110>, n_sim=1): 0.0h 0.0m 17s 145ms
2023-11-13 15:04:12,613 - yq - INFO - Pricing the product on 2023-08-31 00:00:00
2023-11-13 15:04:12,613 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:04:12,630 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:04:13,155 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-11-13 15:04:13,156 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230831.csv
2023-11-13 15:04:13,158 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/lonn_call.csv
2023-11-13 15:04:13,160 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     440  53.750000  27.479589  0.0175
1  0.140351     450  44.949997  26.013029  0.0175
2  0.140351     460  36.750000  24.936087  0.0175
3  0.140351     470  29.224991  24.031950  0.0175
4  0.140351     480  22.524994  23.274614  0.0175
2023-11-13 15:04:13,162 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/sika_call.csv
2023-11-13 15:04:13,166 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     210  42.050003  28.883789  0.0175
1  0.140351     220  32.525002  26.351738  0.0175
2  0.140351     230  23.550003  24.511261  0.0175
3  0.140351     240  15.625000  23.255863  0.0175
4  0.140351     250   9.325000  22.476318  0.0175
2023-11-13 15:04:13,172 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     440  53.750000  0.0175
1  0.140351     450  44.949997  0.0175
2  0.140351     460  36.750000  0.0175
3  0.140351     470  29.224991  0.0175
4  0.140351     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.140351     210  42.050003  0.0175
1  0.140351     220  32.525002  0.0175
2  0.140351     230  23.550003  0.0175
3  0.140351     240  15.625000  0.0175
4  0.140351     250   9.325000  0.0175
2023-11-13 15:04:13,172 - yq - INFO - Calibrating LONZA on 2023-08-31 00:00:00.
2023-11-13 15:04:17,742 - yq - INFO - Calibrating SIKA on 2023-08-31 00:00:00.
2023-11-13 15:04:31,206 - yq - INFO - The S_0 for LONZA and SIKA are 488.9 and 250.4
2023-11-13 15:04:31,207 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 18 seconds
2023-11-13 15:04:31,221 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230831.csv
2023-11-13 15:04:31,221 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.28462603  0.08097303  0.06545346 -0.29282084  1.97786978]
 [ 8.06799201  0.09460242  0.09482753 -0.41860046  3.81429003]]
2023-11-13 15:04:31,225 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15a9c1190>, Timestamp('2023-08-31 00:00:00')): 0.0h 0.0m 18s 70ms
2023-11-13 15:04:31,240 - yq - INFO - The log returns list for all assets is: [Date
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
                ...   
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
                ...   
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:04:31,241 - yq - INFO - rho_S1S2 is 0.42699878448050116

2023-11-13 15:04:31,241 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42699878]
 [0.42699878 1.        ]]

2023-11-13 15:04:31,241 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.29282084  0.42699878  0.        ]
 [-0.29282084  1.          0.          0.        ]
 [ 0.42699878  0.          1.         -0.41860046]
 [ 0.          0.         -0.41860046  1.        ]]

2023-11-13 15:04:31,242 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.29282084  0.95616733  0.          0.        ]
 [ 0.42699878  0.13076596  0.89474706  0.        ]
 [ 0.          0.         -0.46784223  0.883812  ]]

2023-11-13 15:04:31,242 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15a9c1190>): 0.0h 0.0m 0s 17ms
2023-11-13 15:04:31,257 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 15:04:31,310 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:04:31,323 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  517.680628  269.026497
1  576.588250  250.316316
2  576.177702  288.063083
3  600.654431  247.398592
4  568.520243  209.563481
2023-11-13 15:04:31,566 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  517.680628  269.026497
2023-09-04  576.588250  250.316316
2023-09-05  576.177702  288.063083
2023-09-06  600.654431  247.398592
2023-09-07  568.520243  209.563481
2023-11-13 15:04:31,568 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15a9c1190>, n_sim=1): 0.0h 0.0m 18s 417ms
2023-11-13 15:04:31,569 - yq - INFO - Pricing the product on 2023-09-01 00:00:00
2023-11-13 15:04:31,569 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:04:31,593 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:04:31,931 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-11-13 15:04:31,935 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230901.csv
2023-11-13 15:04:31,939 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/lonn_call.csv
2023-11-13 15:04:31,949 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     440  49.199997  29.907877  0.0175
1  0.137544     450  40.449997  27.950396  0.0175
2  0.137544     460  32.449997  26.641903  0.0175
3  0.137544     470  25.049995  25.297674  0.0175
4  0.137544     480  18.649996  24.305870  0.0175
2023-11-13 15:04:31,953 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/sika_call.csv
2023-11-13 15:04:31,960 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     200  48.399994  34.529781  0.0175
1  0.137544     210  38.724991  30.920095  0.0175
2  0.137544     220  29.299995  27.579824  0.0175
3  0.137544     230  20.625000  25.546993  0.0175
4  0.137544     240  13.125000  23.984301  0.0175
2023-11-13 15:04:31,969 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     440  49.199997  0.0175
1  0.137544     450  40.449997  0.0175
2  0.137544     460  32.449997  0.0175
3  0.137544     470  25.049995  0.0175
4  0.137544     480  18.649996  0.0175
   maturity  strike      price    rate
0  0.137544     200  48.399994  0.0175
1  0.137544     210  38.724991  0.0175
2  0.137544     220  29.299995  0.0175
3  0.137544     230  20.625000  0.0175
4  0.137544     240  13.125000  0.0175
2023-11-13 15:04:31,969 - yq - INFO - Calibrating LONZA on 2023-09-01 00:00:00.
2023-11-13 15:05:12,249 - yq - INFO - Calibrating SIKA on 2023-09-01 00:00:00.
2023-11-13 15:05:21,204 - yq - INFO - The S_0 for LONZA and SIKA are 492.5 and 247.0
2023-11-13 15:05:21,205 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 49 seconds
2023-11-13 15:05:21,213 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230901.csv
2023-11-13 15:05:21,213 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.92050613e+00  7.41795235e-02  2.47592453e-02 -2.50567463e-06
   1.47231898e+00]
 [ 1.58762470e+00  1.97577559e-01  8.53580557e-02 -4.84672361e-01
   2.61347181e+00]]
2023-11-13 15:05:21,215 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15a8ee6d0>, Timestamp('2023-09-01 00:00:00')): 0.0h 0.0m 49s 283ms
2023-11-13 15:05:21,221 - yq - INFO - The log returns list for all assets is: [Date
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
                ...   
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
                ...   
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:05:21,222 - yq - INFO - rho_S1S2 is 0.4188302744380037

2023-11-13 15:05:21,223 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41883027]
 [0.41883027 1.        ]]

2023-11-13 15:05:21,223 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.50567463e-06  4.18830274e-01  0.00000000e+00]
 [-2.50567463e-06  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.18830274e-01  0.00000000e+00  1.00000000e+00 -4.84672361e-01]
 [ 0.00000000e+00  0.00000000e+00 -4.84672361e-01  1.00000000e+00]]

2023-11-13 15:05:21,223 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.50567463e-06  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.18830274e-01  1.04945239e-06  9.08064536e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -5.33742197e-01  8.45647247e-01]]

2023-11-13 15:05:21,224 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15a8ee6d0>): 0.0h 0.0m 0s 9ms
2023-11-13 15:05:21,239 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 15:05:21,277 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:05:21,280 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  434.568768  206.206434
1  382.596587  208.792047
2  404.445861  219.791472
3  433.229843  215.354813
4  458.839275  200.234756
2023-11-13 15:05:21,428 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  434.568768  206.206434
2023-09-05  382.596587  208.792047
2023-09-06  404.445861  219.791472
2023-09-07  433.229843  215.354813
2023-09-08  458.839275  200.234756
2023-11-13 15:05:21,430 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15a8ee6d0>, n_sim=1): 0.0h 0.0m 49s 503ms
2023-11-13 15:05:21,430 - yq - INFO - Pricing the product on 2023-09-04 00:00:00
2023-11-13 15:05:21,431 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:05:21,449 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:05:21,745 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-11-13 15:05:21,746 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230904.csv
2023-11-13 15:05:21,749 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/lonn_call.csv
2023-11-13 15:05:21,754 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     450  51.750000  30.906645  0.0175
1  0.129123     460  42.599991  28.382610  0.0175
2  0.129123     470  33.899994  26.205038  0.0175
3  0.129123     480  25.949997  24.541363  0.0175
4  0.129123     490  20.000000  24.976856  0.0175
2023-11-13 15:05:21,756 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/sika_call.csv
2023-11-13 15:05:21,760 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     200  48.399994  34.529781  0.0175
1  0.129123     210  38.724991  30.920095  0.0175
2  0.129123     220  29.299995  27.579824  0.0175
3  0.129123     230  20.625000  25.546993  0.0175
4  0.129123     240  13.125000  23.984301  0.0175
2023-11-13 15:05:21,767 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     450  51.750000  0.0175
1  0.129123     460  42.599991  0.0175
2  0.129123     470  33.899994  0.0175
3  0.129123     480  25.949997  0.0175
4  0.129123     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.129123     200  48.399994  0.0175
1  0.129123     210  38.724991  0.0175
2  0.129123     220  29.299995  0.0175
3  0.129123     230  20.625000  0.0175
4  0.129123     240  13.125000  0.0175
2023-11-13 15:05:21,768 - yq - INFO - Calibrating LONZA on 2023-09-04 00:00:00.
2023-11-13 15:05:28,944 - yq - INFO - Calibrating SIKA on 2023-09-04 00:00:00.
2023-11-13 15:05:42,539 - yq - INFO - The S_0 for LONZA and SIKA are 495.3 and 247.5
2023-11-13 15:05:42,539 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 20 seconds
2023-11-13 15:05:42,545 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230904.csv
2023-11-13 15:05:42,545 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.87517096  0.1895447   0.05008222 -0.45465488  1.85959647]
 [ 2.32997944  0.14210947  0.08684422 -0.44886112  2.67886128]]
2023-11-13 15:05:42,546 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bb9b550>, Timestamp('2023-09-04 00:00:00')): 0.0h 0.0m 20s 801ms
2023-11-13 15:05:42,548 - yq - INFO - The log returns list for all assets is: [Date
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
                ...   
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
                ...   
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:05:42,549 - yq - INFO - rho_S1S2 is 0.41812507172262614

2023-11-13 15:05:42,549 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41812507]
 [0.41812507 1.        ]]

2023-11-13 15:05:42,549 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.45465488  0.41812507  0.        ]
 [-0.45465488  1.          0.          0.        ]
 [ 0.41812507  0.          1.         -0.44886112]
 [ 0.          0.         -0.44886112  1.        ]]

2023-11-13 15:05:42,549 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.45465488  0.89066769  0.          0.        ]
 [ 0.41812507  0.2134383   0.88295839  0.        ]
 [ 0.          0.         -0.50836045  0.86114439]]

2023-11-13 15:05:42,549 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bb9b550>): 0.0h 0.0m 0s 3ms
2023-11-13 15:05:42,550 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 15:05:42,578 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:05:42,582 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  472.892245  202.116604
1  482.427627  199.809487
2  508.744207  216.456513
3  522.969160  247.268122
4  457.480082  269.982359
2023-11-13 15:05:42,704 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  472.892245  202.116604
2023-09-06  482.427627  199.809487
2023-09-07  508.744207  216.456513
2023-09-08  522.969160  247.268122
2023-09-11  457.480082  269.982359
2023-11-13 15:05:42,706 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bb9b550>, n_sim=1): 0.0h 0.0m 20s 964ms
2023-11-13 15:05:42,706 - yq - INFO - Pricing the product on 2023-09-05 00:00:00
2023-11-13 15:05:42,706 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:05:42,714 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:05:42,970 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-11-13 15:05:42,970 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230905.csv
2023-11-13 15:05:42,973 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/lonn_call.csv
2023-11-13 15:05:42,975 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     450  51.750000  30.906645  0.0175
1  0.126316     460  42.599991  28.382610  0.0175
2  0.126316     470  33.899994  26.205038  0.0175
3  0.126316     480  25.949997  24.541363  0.0175
4  0.126316     490  20.000000  24.976856  0.0175
2023-11-13 15:05:42,976 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/sika_call.csv
2023-11-13 15:05:42,978 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     195  47.824997  34.854164  0.0175
1  0.126316     200  43.025002  33.723049  0.0175
2  0.126316     210  33.425003  29.825727  0.0175
3  0.126316     220  24.275002  26.838257  0.0175
4  0.126316     230  16.150000  25.069353  0.0175
2023-11-13 15:05:42,982 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     450  51.750000  0.0175
1  0.126316     460  42.599991  0.0175
2  0.126316     470  33.899994  0.0175
3  0.126316     480  25.949997  0.0175
4  0.126316     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.126316     195  47.824997  0.0175
1  0.126316     200  43.025002  0.0175
2  0.126316     210  33.425003  0.0175
3  0.126316     220  24.275002  0.0175
4  0.126316     230  16.150000  0.0175
2023-11-13 15:05:42,982 - yq - INFO - Calibrating LONZA on 2023-09-05 00:00:00.
2023-11-13 15:05:56,748 - yq - INFO - Calibrating SIKA on 2023-09-05 00:00:00.
2023-11-13 15:06:10,625 - yq - INFO - The S_0 for LONZA and SIKA are 494.4 and 241.8
2023-11-13 15:06:10,626 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 27 seconds
2023-11-13 15:06:10,629 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230905.csv
2023-11-13 15:06:10,629 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.60669359  0.22562718  0.0578071  -0.49339263  1.98948113]
 [ 1.12161052  0.24317039  0.09256625 -0.47867625  2.88497127]]
2023-11-13 15:06:10,630 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>, Timestamp('2023-09-05 00:00:00')): 0.0h 0.0m 27s 660ms
2023-11-13 15:06:10,634 - yq - INFO - The log returns list for all assets is: [Date
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
                ...   
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
                ...   
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:06:10,634 - yq - INFO - rho_S1S2 is 0.41003852432556814

2023-11-13 15:06:10,634 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41003852]
 [0.41003852 1.        ]]

2023-11-13 15:06:10,634 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.49339263  0.41003852  0.        ]
 [-0.49339263  1.          0.          0.        ]
 [ 0.41003852  0.          1.         -0.47867625]
 [ 0.          0.         -0.47867625  1.        ]]

2023-11-13 15:06:10,635 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.49339263  0.86980671  0.          0.        ]
 [ 0.41003852  0.23259189  0.88191237  0.        ]
 [ 0.          0.         -0.54277077  0.83988088]]

2023-11-13 15:06:10,635 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>): 0.0h 0.0m 0s 5ms
2023-11-13 15:06:10,636 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 15:06:10,662 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:06:10,664 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  474.573121  243.891909
1  524.095125  208.907077
2  649.551730  222.309375
3  650.396667  234.210705
4  675.370055  188.872137
2023-11-13 15:06:10,800 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  474.573121  243.891909
2023-09-07  524.095125  208.907077
2023-09-08  649.551730  222.309375
2023-09-11  650.396667  234.210705
2023-09-12  675.370055  188.872137
2023-11-13 15:06:10,803 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>, n_sim=1): 0.0h 0.0m 27s 835ms
2023-11-13 15:06:10,803 - yq - INFO - Pricing the product on 2023-09-06 00:00:00
2023-11-13 15:06:10,803 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:06:10,811 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:06:11,119 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-11-13 15:06:11,119 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230906.csv
2023-11-13 15:06:11,122 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/lonn_call.csv
2023-11-13 15:06:11,125 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     450  51.750000  30.906645  0.0175
1  0.123509     460  42.599991  28.382610  0.0175
2  0.123509     470  33.899994  26.205038  0.0175
3  0.123509     480  25.949997  24.541363  0.0175
4  0.123509     490  20.000000  24.976856  0.0175
2023-11-13 15:06:11,127 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/sika_call.csv
2023-11-13 15:06:11,129 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     200  46.400002  35.939377  0.0175
1  0.123509     210  36.725006  31.652964  0.0175
2  0.123509     220  27.350006  27.994894  0.0175
3  0.123509     230  18.775002  25.656116  0.0175
4  0.123509     240  11.525000  24.011927  0.0175
2023-11-13 15:06:11,133 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     450  51.750000  0.0175
1  0.123509     460  42.599991  0.0175
2  0.123509     470  33.899994  0.0175
3  0.123509     480  25.949997  0.0175
4  0.123509     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.123509     200  46.400002  0.0175
1  0.123509     210  36.725006  0.0175
2  0.123509     220  27.350006  0.0175
3  0.123509     230  18.775002  0.0175
4  0.123509     240  11.525000  0.0175
2023-11-13 15:06:11,133 - yq - INFO - Calibrating LONZA on 2023-09-06 00:00:00.
2023-11-13 15:06:21,456 - yq - INFO - Calibrating SIKA on 2023-09-06 00:00:00.
2023-11-13 15:06:30,218 - yq - INFO - The S_0 for LONZA and SIKA are 496.1 and 245.5
2023-11-13 15:06:30,225 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 19 seconds
2023-11-13 15:06:30,233 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230906.csv
2023-11-13 15:06:30,233 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.43267625  0.14899429  0.04974271 -0.41762105  1.84188667]
 [ 2.6583054   0.13757316  0.08857627 -0.44785441  3.01405258]]
2023-11-13 15:06:30,238 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a487d90>, Timestamp('2023-09-06 00:00:00')): 0.0h 0.0m 19s 119ms
2023-11-13 15:06:30,251 - yq - INFO - The log returns list for all assets is: [Date
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
                ...   
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
                ...   
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:06:30,252 - yq - INFO - rho_S1S2 is 0.39478894626329986

2023-11-13 15:06:30,252 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39478895]
 [0.39478895 1.        ]]

2023-11-13 15:06:30,253 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.41762105  0.39478895  0.        ]
 [-0.41762105  1.          0.          0.        ]
 [ 0.39478895  0.          1.         -0.44785441]
 [ 0.          0.         -0.44785441  1.        ]]

2023-11-13 15:06:30,254 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.41762105  0.9086213   0.          0.        ]
 [ 0.39478895  0.18145313  0.90067555  0.        ]
 [ 0.          0.         -0.49724278  0.86761144]]

2023-11-13 15:06:30,254 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a487d90>): 0.0h 0.0m 0s 16ms
2023-11-13 15:06:30,259 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 15:06:30,290 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:06:30,292 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  522.633952  278.958360
1  517.222324  281.005823
2  494.233502  284.553176
3  553.210509  277.864598
4  506.043187  301.574162
2023-11-13 15:06:30,471 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  522.633952  278.958360
2023-09-08  517.222324  281.005823
2023-09-11  494.233502  284.553176
2023-09-12  553.210509  277.864598
2023-09-13  506.043187  301.574162
2023-11-13 15:06:30,473 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a487d90>, n_sim=1): 0.0h 0.0m 19s 357ms
2023-11-13 15:06:30,474 - yq - INFO - Pricing the product on 2023-09-07 00:00:00
2023-11-13 15:06:30,474 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:06:30,488 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:06:30,796 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-11-13 15:06:30,797 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230907.csv
2023-11-13 15:06:30,802 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/lonn_call.csv
2023-11-13 15:06:30,805 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     450  51.750000  30.906645  0.0175
1  0.120702     460  42.599991  28.382610  0.0175
2  0.120702     470  33.899994  26.205038  0.0175
3  0.120702     480  25.949997  24.541363  0.0175
4  0.120702     490  20.000000  24.976856  0.0175
2023-11-13 15:06:30,806 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/sika_call.csv
2023-11-13 15:06:30,808 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     200  50.349998  39.359463  0.0175
1  0.120702     210  40.625000  34.584309  0.0175
2  0.120702     220  31.100006  30.254286  0.0175
3  0.120702     230  22.099998  26.922087  0.0175
4  0.120702     240  14.300000  25.054329  0.0175
2023-11-13 15:06:30,812 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     450  51.750000  0.0175
1  0.120702     460  42.599991  0.0175
2  0.120702     470  33.899994  0.0175
3  0.120702     480  25.949997  0.0175
4  0.120702     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.120702     200  50.349998  0.0175
1  0.120702     210  40.625000  0.0175
2  0.120702     220  31.100006  0.0175
3  0.120702     230  22.099998  0.0175
4  0.120702     240  14.300000  0.0175
2023-11-13 15:06:30,813 - yq - INFO - Calibrating LONZA on 2023-09-07 00:00:00.
2023-11-13 15:07:09,391 - yq - INFO - Calibrating SIKA on 2023-09-07 00:00:00.
2023-11-13 15:07:24,458 - yq - INFO - The S_0 for LONZA and SIKA are 492.4 and 249.1
2023-11-13 15:07:24,459 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 53 seconds
2023-11-13 15:07:24,468 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230907.csv
2023-11-13 15:07:24,468 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.9959996   0.37446388  0.07693171 -0.56655686  2.27781362]
 [ 5.13689598  0.10245121  0.09466175 -0.40507402  3.15865199]]
2023-11-13 15:07:24,470 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15fd56550>, Timestamp('2023-09-07 00:00:00')): 0.0h 0.0m 53s 673ms
2023-11-13 15:07:24,484 - yq - INFO - The log returns list for all assets is: [Date
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
                ...   
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
                ...   
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:07:24,485 - yq - INFO - rho_S1S2 is 0.393484816904622

2023-11-13 15:07:24,485 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39348482]
 [0.39348482 1.        ]]

2023-11-13 15:07:24,485 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.56655686  0.39348482  0.        ]
 [-0.56655686  1.          0.          0.        ]
 [ 0.39348482  0.          1.         -0.40507402]
 [ 0.          0.         -0.40507402  1.        ]]

2023-11-13 15:07:24,486 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.56655686  0.82402265  0.          0.        ]
 [ 0.39348482  0.27054053  0.87862251  0.        ]
 [ 0.          0.         -0.46103305  0.88738296]]

2023-11-13 15:07:24,486 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15fd56550>): 0.0h 0.0m 0s 16ms
2023-11-13 15:07:24,510 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 15:07:24,538 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:07:24,543 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  527.184953  242.572291
1  475.652089  245.219153
2  512.767047  274.155342
3  521.134896  247.127103
4  452.554210  198.536610
2023-11-13 15:07:24,722 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  527.184953  242.572291
2023-09-11  475.652089  245.219153
2023-09-12  512.767047  274.155342
2023-09-13  521.134896  247.127103
2023-09-14  452.554210  198.536610
2023-11-13 15:07:24,724 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15fd56550>, n_sim=1): 0.0h 0.0m 53s 930ms
2023-11-13 15:07:24,724 - yq - INFO - Pricing the product on 2023-09-08 00:00:00
2023-11-13 15:07:24,724 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:07:24,735 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:07:25,026 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-11-13 15:07:25,028 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230908.csv
2023-11-13 15:07:25,033 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/lonn_call.csv
2023-11-13 15:07:25,036 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     450  51.750000  30.906645  0.0175
1  0.117895     460  42.599991  28.382610  0.0175
2  0.117895     470  33.899994  26.205038  0.0175
3  0.117895     480  25.949997  24.541363  0.0175
4  0.117895     490  20.000000  24.976856  0.0175
2023-11-13 15:07:25,038 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/sika_call.csv
2023-11-13 15:07:25,040 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     200  43.724991  38.051220  0.0175
1  0.117895     210  34.074997  32.932762  0.0175
2  0.117895     220  24.849991  29.042345  0.0175
3  0.117895     230  16.599998  26.669315  0.0175
4  0.117895     240   9.925000  25.268066  0.0175
2023-11-13 15:07:25,048 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     450  51.750000  0.0175
1  0.117895     460  42.599991  0.0175
2  0.117895     470  33.899994  0.0175
3  0.117895     480  25.949997  0.0175
4  0.117895     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.117895     200  43.724991  0.0175
1  0.117895     210  34.074997  0.0175
2  0.117895     220  24.849991  0.0175
3  0.117895     230  16.599998  0.0175
4  0.117895     240   9.925000  0.0175
2023-11-13 15:07:25,049 - yq - INFO - Calibrating LONZA on 2023-09-08 00:00:00.
2023-11-13 15:07:26,681 - yq - ERROR - Error during calibration on 2023-09-08: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:07:26,682 - yq - ERROR - Error during simulation on 2023-09-08 00:00:00: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:07:26,683 - yq - INFO - Pricing the product on 2023-09-11 00:00:00
2023-11-13 15:07:26,683 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:07:26,698 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:07:26,991 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-11-13 15:07:26,993 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230911.csv
2023-11-13 15:07:26,995 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/lonn_call.csv
2023-11-13 15:07:26,999 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     450  51.750000  30.906645  0.0175
1  0.109474     460  42.599991  28.382610  0.0175
2  0.109474     470  33.899994  26.205038  0.0175
3  0.109474     480  25.949997  24.541363  0.0175
4  0.109474     490  20.000000  24.976856  0.0175
2023-11-13 15:07:27,000 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/sika_call.csv
2023-11-13 15:07:27,003 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     200  45.050003  35.881733  0.0175
1  0.109474     210  35.325005  31.835203  0.0175
2  0.109474     220  25.974998  28.917973  0.0175
3  0.109474     230  17.424995  26.826229  0.0175
4  0.109474     240  10.424999  25.718927  0.0175
2023-11-13 15:07:27,007 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     450  51.750000  0.0175
1  0.109474     460  42.599991  0.0175
2  0.109474     470  33.899994  0.0175
3  0.109474     480  25.949997  0.0175
4  0.109474     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.109474     200  45.050003  0.0175
1  0.109474     210  35.325005  0.0175
2  0.109474     220  25.974998  0.0175
3  0.109474     230  17.424995  0.0175
4  0.109474     240  10.424999  0.0175
2023-11-13 15:07:27,008 - yq - INFO - Calibrating LONZA on 2023-09-11 00:00:00.
2023-11-13 15:07:40,747 - yq - INFO - Calibrating SIKA on 2023-09-11 00:00:00.
2023-11-13 15:08:27,889 - yq - INFO - The S_0 for LONZA and SIKA are 487.2 and 243.1
2023-11-13 15:08:27,894 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 15:08:27,924 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230911.csv
2023-11-13 15:08:27,925 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.04594407  9.98980856  0.14277816 -0.69109127  3.29038405]
 [ 9.99999995  0.15994867  0.08038301 -0.99999114  9.90383962]]
2023-11-13 15:08:27,929 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16ace6190>, Timestamp('2023-09-11 00:00:00')): 0.0h 1.0m 0s 936ms
2023-11-13 15:08:27,948 - yq - INFO - The log returns list for all assets is: [Date
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
                ...   
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
                ...   
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:08:27,950 - yq - INFO - rho_S1S2 is 0.3985701703055984

2023-11-13 15:08:27,951 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39857017]
 [0.39857017 1.        ]]

2023-11-13 15:08:27,951 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.69109127  0.39857017  0.        ]
 [-0.69109127  1.          0.          0.        ]
 [ 0.39857017  0.          1.         -0.99999114]
 [ 0.          0.         -0.99999114  1.        ]]

2023-11-13 15:08:27,956 - yq - ERROR - Error during simulation on 2023-09-11 00:00:00: Matrix is not positive definite
2023-11-13 15:08:27,958 - yq - INFO - Pricing the product on 2023-09-12 00:00:00
2023-11-13 15:08:27,958 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:08:27,988 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:08:28,241 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-11-13 15:08:28,242 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230912.csv
2023-11-13 15:08:28,245 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/lonn_call.csv
2023-11-13 15:08:28,247 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     450  51.750000  30.906645  0.0175
1  0.106667     460  42.599991  28.382610  0.0175
2  0.106667     470  33.899994  26.205038  0.0175
3  0.106667     480  25.949997  24.541363  0.0175
4  0.106667     490  20.000000  24.976856  0.0175
2023-11-13 15:08:28,249 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/sika_call.csv
2023-11-13 15:08:28,251 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     200  45.050003  35.881733  0.0175
1  0.106667     210  35.325005  31.835203  0.0175
2  0.106667     220  25.974998  28.917973  0.0175
3  0.106667     230  17.424995  26.826229  0.0175
4  0.106667     240  10.424999  25.718927  0.0175
2023-11-13 15:08:28,255 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     450  51.750000  0.0175
1  0.106667     460  42.599991  0.0175
2  0.106667     470  33.899994  0.0175
3  0.106667     480  25.949997  0.0175
4  0.106667     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.106667     200  45.050003  0.0175
1  0.106667     210  35.325005  0.0175
2  0.106667     220  25.974998  0.0175
3  0.106667     230  17.424995  0.0175
4  0.106667     240  10.424999  0.0175
2023-11-13 15:08:28,255 - yq - INFO - Calibrating LONZA on 2023-09-12 00:00:00.
2023-11-13 15:08:38,725 - yq - INFO - Calibrating SIKA on 2023-09-12 00:00:00.
2023-11-13 15:08:49,977 - yq - INFO - The S_0 for LONZA and SIKA are 484.7 and 237.6
2023-11-13 15:08:49,978 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 21 seconds
2023-11-13 15:08:50,000 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230912.csv
2023-11-13 15:08:50,000 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.05658928  9.99778681  0.17945262 -0.71998671  3.88394102]
 [ 0.12964454  5.95026913  0.25054447 -0.68144255  6.24353772]]
2023-11-13 15:08:50,002 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a6cf350>, Timestamp('2023-09-12 00:00:00')): 0.0h 0.0m 21s 761ms
2023-11-13 15:08:50,020 - yq - INFO - The log returns list for all assets is: [Date
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
                ...   
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
                ...   
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:08:50,021 - yq - INFO - rho_S1S2 is 0.39533637052647386

2023-11-13 15:08:50,021 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39533637]
 [0.39533637 1.        ]]

2023-11-13 15:08:50,021 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.71998671  0.39533637  0.        ]
 [-0.71998671  1.          0.          0.        ]
 [ 0.39533637  0.          1.         -0.68144255]
 [ 0.          0.         -0.68144255  1.        ]]

2023-11-13 15:08:50,022 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.71998671  0.69398785  0.          0.        ]
 [ 0.39533637  0.41014686  0.8218812   0.        ]
 [ 0.          0.         -0.82912536  0.55906274]]

2023-11-13 15:08:50,023 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a6cf350>): 0.0h 0.0m 0s 20ms
2023-11-13 15:08:50,041 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 15:08:50,089 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:08:50,097 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  476.222447  146.824753
1  396.088651  117.216087
2  469.786320  123.495512
3  470.402812  127.093874
4  529.102962  104.758216
2023-11-13 15:08:50,328 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  476.222447  146.824753
2023-09-14  396.088651  117.216087
2023-09-15  469.786320  123.495512
2023-09-18  470.402812  127.093874
2023-09-19  529.102962  104.758216
2023-11-13 15:08:50,332 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a6cf350>, n_sim=1): 0.0h 0.0m 22s 93ms
2023-11-13 15:08:50,332 - yq - INFO - Pricing the product on 2023-09-13 00:00:00
2023-11-13 15:08:50,332 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:08:50,341 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:08:50,621 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-11-13 15:08:50,621 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230913.csv
2023-11-13 15:08:50,631 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/lonn_call.csv
2023-11-13 15:08:50,633 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     450  51.750000  30.906645  0.0175
1   0.10386     460  42.599991  28.382610  0.0175
2   0.10386     470  33.899994  26.205038  0.0175
3   0.10386     480  25.949997  24.541363  0.0175
4   0.10386     490  20.000000  24.976856  0.0175
2023-11-13 15:08:50,635 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/sika_call.csv
2023-11-13 15:08:50,637 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     200  45.050003  35.881733  0.0175
1   0.10386     210  35.325005  31.835203  0.0175
2   0.10386     220  25.974998  28.917973  0.0175
3   0.10386     230  17.424995  26.826229  0.0175
4   0.10386     240  10.424999  25.718927  0.0175
2023-11-13 15:08:50,641 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     450  51.750000  0.0175
1   0.10386     460  42.599991  0.0175
2   0.10386     470  33.899994  0.0175
3   0.10386     480  25.949997  0.0175
4   0.10386     490  20.000000  0.0175
   maturity  strike      price    rate
0   0.10386     200  45.050003  0.0175
1   0.10386     210  35.325005  0.0175
2   0.10386     220  25.974998  0.0175
3   0.10386     230  17.424995  0.0175
4   0.10386     240  10.424999  0.0175
2023-11-13 15:08:50,641 - yq - INFO - Calibrating LONZA on 2023-09-13 00:00:00.
2023-11-13 15:09:05,473 - yq - INFO - Calibrating SIKA on 2023-09-13 00:00:00.
2023-11-13 15:09:40,057 - yq - INFO - The S_0 for LONZA and SIKA are 485.7 and 237.0
2023-11-13 15:09:40,059 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 49 seconds
2023-11-13 15:09:40,080 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230913.csv
2023-11-13 15:09:40,080 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.05159871  9.99992788  0.17255203 -0.71088646  3.73309236]
 [ 0.09954855  7.75277448  0.2723715  -0.68479822  6.40801192]]
2023-11-13 15:09:40,082 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>, Timestamp('2023-09-13 00:00:00')): 0.0h 0.0m 49s 461ms
2023-11-13 15:09:40,098 - yq - INFO - The log returns list for all assets is: [Date
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
                ...   
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
                ...   
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:09:40,099 - yq - INFO - rho_S1S2 is 0.39438142603735443

2023-11-13 15:09:40,100 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39438143]
 [0.39438143 1.        ]]

2023-11-13 15:09:40,100 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.71088646  0.39438143  0.        ]
 [-0.71088646  1.          0.          0.        ]
 [ 0.39438143  0.          1.         -0.68479822]
 [ 0.          0.         -0.68479822  1.        ]]

2023-11-13 15:09:40,100 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.71088646  0.70330679  0.          0.        ]
 [ 0.39438143  0.39863175  0.8279831   0.        ]
 [ 0.          0.         -0.82706787  0.56210208]]

2023-11-13 15:09:40,100 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>): 0.0h 0.0m 0s 18ms
2023-11-13 15:09:40,117 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 15:09:40,143 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:09:40,148 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  440.172236  199.609112
1  358.465704  157.880231
2  327.054362  140.199701
3  349.931141  161.275018
4  380.991613  151.818502
2023-11-13 15:09:40,323 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  440.172236  199.609112
2023-09-15  358.465704  157.880231
2023-09-18  327.054362  140.199701
2023-09-19  349.931141  161.275018
2023-09-20  380.991613  151.818502
2023-11-13 15:09:40,325 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>, n_sim=1): 0.0h 0.0m 49s 706ms
2023-11-13 15:09:40,326 - yq - INFO - Pricing the product on 2023-09-14 00:00:00
2023-11-13 15:09:40,326 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:09:40,338 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:09:40,636 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-11-13 15:09:40,639 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230914.csv
2023-11-13 15:09:40,645 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/lonn_call.csv
2023-11-13 15:09:40,648 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.750000  30.906645  0.0175
1  0.101053     460  42.599991  28.382610  0.0175
2  0.101053     470  33.899994  26.205038  0.0175
3  0.101053     480  25.949997  24.541363  0.0175
4  0.101053     490  20.000000  24.976856  0.0175
2023-11-13 15:09:40,649 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/sika_call.csv
2023-11-13 15:09:40,652 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     200  45.050003  35.881733  0.0175
1  0.101053     210  35.325005  31.835203  0.0175
2  0.101053     220  25.974998  28.917973  0.0175
3  0.101053     230  17.424995  26.826229  0.0175
4  0.101053     240  10.424999  25.718927  0.0175
2023-11-13 15:09:40,656 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.750000  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  33.899994  0.0175
3  0.101053     480  25.949997  0.0175
4  0.101053     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.101053     200  45.050003  0.0175
1  0.101053     210  35.325005  0.0175
2  0.101053     220  25.974998  0.0175
3  0.101053     230  17.424995  0.0175
4  0.101053     240  10.424999  0.0175
2023-11-13 15:09:40,657 - yq - INFO - Calibrating LONZA on 2023-09-14 00:00:00.
2023-11-13 15:09:54,935 - yq - INFO - Calibrating SIKA on 2023-09-14 00:00:00.
2023-11-13 15:10:07,875 - yq - INFO - The S_0 for LONZA and SIKA are 489.3 and 239.6
2023-11-13 15:10:07,875 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 27 seconds
2023-11-13 15:10:07,888 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230914.csv
2023-11-13 15:10:07,888 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.58631253  0.70964947  0.13311032 -0.65131214  3.08226411]
 [ 1.1002144   0.78049347  0.22403372 -0.65456795  6.51342437]]
2023-11-13 15:10:07,889 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15a9cd5d0>, Timestamp('2023-09-14 00:00:00')): 0.0h 0.0m 27s 253ms
2023-11-13 15:10:07,897 - yq - INFO - The log returns list for all assets is: [Date
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
                ...   
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
                ...   
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:10:07,897 - yq - INFO - rho_S1S2 is 0.3716418635153974

2023-11-13 15:10:07,898 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.37164186]
 [0.37164186 1.        ]]

2023-11-13 15:10:07,898 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.65131214  0.37164186  0.        ]
 [-0.65131214  1.          0.          0.        ]
 [ 0.37164186  0.          1.         -0.65456795]
 [ 0.          0.         -0.65456795  1.        ]]

2023-11-13 15:10:07,898 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.65131214  0.75880992  0.          0.        ]
 [ 0.37164186  0.31899275  0.87185203  0.        ]
 [ 0.          0.         -0.75077872  0.66055379]]

2023-11-13 15:10:07,898 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15a9cd5d0>): 0.0h 0.0m 0s 9ms
2023-11-13 15:10:07,910 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 15:10:07,932 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:10:07,935 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  478.909423  206.399057
1  443.152642  157.239797
2  543.745231  194.488672
3  447.514205  175.807847
4  450.918214  215.625641
2023-11-13 15:10:08,053 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  478.909423  206.399057
2023-09-18  443.152642  157.239797
2023-09-19  543.745231  194.488672
2023-09-20  447.514205  175.807847
2023-09-21  450.918214  215.625641
2023-11-13 15:10:08,055 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15a9cd5d0>, n_sim=1): 0.0h 0.0m 27s 422ms
2023-11-13 15:10:08,055 - yq - INFO - Pricing the product on 2023-09-15 00:00:00
2023-11-13 15:10:08,055 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:10:08,065 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:10:08,322 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-11-13 15:10:08,322 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230915.csv
2023-11-13 15:10:08,325 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/lonn_call.csv
2023-11-13 15:10:08,327 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     450  54.349991  27.144653  0.0175
1  0.176842     460  45.750000  25.683651  0.0175
2  0.176842     470  37.699997  24.490421  0.0175
3  0.176842     480  30.299988  23.477232  0.0175
4  0.176842     490  24.724998  23.905760  0.0175
2023-11-13 15:10:08,328 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/sika_call.csv
2023-11-13 15:10:08,330 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  45.949997  32.808395  0.0175
1  0.176842     210  36.525002  29.797209  0.0175
2  0.176842     220  27.599998  27.484951  0.0175
3  0.176842     230  19.599998  25.957216  0.0175
4  0.176842     240  12.900000  24.873652  0.0175
2023-11-13 15:10:08,333 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     450  54.349991  0.0175
1  0.176842     460  45.750000  0.0175
2  0.176842     470  37.699997  0.0175
3  0.176842     480  30.299988  0.0175
4  0.176842     490  24.724998  0.0175
   maturity  strike      price    rate
0  0.176842     200  45.949997  0.0175
1  0.176842     210  36.525002  0.0175
2  0.176842     220  27.599998  0.0175
3  0.176842     230  19.599998  0.0175
4  0.176842     240  12.900000  0.0175
2023-11-13 15:10:08,333 - yq - INFO - Calibrating LONZA on 2023-09-15 00:00:00.
2023-11-13 15:10:16,589 - yq - INFO - Calibrating SIKA on 2023-09-15 00:00:00.
2023-11-13 15:10:23,365 - yq - INFO - The S_0 for LONZA and SIKA are 497.4 and 244.5
2023-11-13 15:10:23,365 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 15 seconds
2023-11-13 15:10:23,375 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230915.csv
2023-11-13 15:10:23,375 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.45555697  0.08825226  0.06871416 -0.36756874  3.10144396]
 [ 0.03451394  9.97684635  0.0865848  -0.51912445  3.07179036]]
2023-11-13 15:10:23,376 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15fd56550>, Timestamp('2023-09-15 00:00:00')): 0.0h 0.0m 15s 54ms
2023-11-13 15:10:23,378 - yq - INFO - The log returns list for all assets is: [Date
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
                ...   
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
                ...   
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:10:23,378 - yq - INFO - rho_S1S2 is 0.34635011712471314

2023-11-13 15:10:23,378 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34635012]
 [0.34635012 1.        ]]

2023-11-13 15:10:23,378 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.36756874  0.34635012  0.        ]
 [-0.36756874  1.          0.          0.        ]
 [ 0.34635012  0.          1.         -0.51912445]
 [ 0.          0.         -0.51912445  1.        ]]

2023-11-13 15:10:23,379 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.36756874  0.92999636  0.          0.        ]
 [ 0.34635012  0.1368903   0.92806392  0.        ]
 [ 0.          0.         -0.55936282  0.82892294]]

2023-11-13 15:10:23,379 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15fd56550>): 0.0h 0.0m 0s 3ms
2023-11-13 15:10:23,379 - yq - INFO - The adjusted S_0 is [497.4 244.5]
2023-11-13 15:10:23,400 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:10:23,402 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  427.199034  251.205909
1  378.559280  266.689066
2  405.229975  274.121565
3  362.816181  296.477508
4  407.424464  252.108468
2023-11-13 15:10:23,512 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  427.199034  251.205909
2023-09-19  378.559280  266.689066
2023-09-20  405.229975  274.121565
2023-09-21  362.816181  296.477508
2023-09-22  407.424464  252.108468
2023-11-13 15:10:23,514 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15fd56550>, n_sim=1): 0.0h 0.0m 15s 194ms
2023-11-13 15:10:23,514 - yq - INFO - Pricing the product on 2023-09-18 00:00:00
2023-11-13 15:10:23,514 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:10:23,522 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:10:23,772 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-11-13 15:10:23,773 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230918.csv
2023-11-13 15:10:23,775 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/lonn_call.csv
2023-11-13 15:10:23,777 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     355  74.775002  39.310154  0.0175
1  0.168421     360  70.174995  38.171562  0.0175
2  0.168421     365  65.649994  37.127800  0.0175
3  0.168421     370  61.250000  36.262806  0.0175
4  0.168421     375  56.899994  35.364086  0.0175
2023-11-13 15:10:23,779 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/sika_call.csv
2023-11-13 15:10:23,781 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.924995  34.303944  0.0175
1  0.168421     200  43.125000  32.494976  0.0175
2  0.168421     210  33.849998  29.837637  0.0175
3  0.168421     220  25.175003  27.778664  0.0175
4  0.168421     230  17.549995  26.419285  0.0175
2023-11-13 15:10:23,785 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     355  74.775002  0.0175
1  0.168421     360  70.174995  0.0175
2  0.168421     365  65.649994  0.0175
3  0.168421     370  61.250000  0.0175
4  0.168421     375  56.899994  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.924995  0.0175
1  0.168421     200  43.125000  0.0175
2  0.168421     210  33.849998  0.0175
3  0.168421     220  25.175003  0.0175
4  0.168421     230  17.549995  0.0175
2023-11-13 15:10:23,785 - yq - INFO - Calibrating LONZA on 2023-09-18 00:00:00.
2023-11-13 15:11:01,146 - yq - INFO - Calibrating SIKA on 2023-09-18 00:00:00.
2023-11-13 15:11:09,250 - yq - INFO - The S_0 for LONZA and SIKA are 424.3 and 240.7
2023-11-13 15:11:09,251 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 45 seconds
2023-11-13 15:11:09,279 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230918.csv
2023-11-13 15:11:09,279 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000445e-02  1.00153700e-02  2.66294683e-01 -2.44903121e-06
   9.99936222e+00]
 [ 2.05460811e+00  1.31240280e-01  9.70274982e-02 -4.40298406e-01
   1.79166461e+00]]
2023-11-13 15:11:09,282 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15a982d90>, Timestamp('2023-09-18 00:00:00')): 0.0h 0.0m 45s 509ms
2023-11-13 15:11:09,336 - yq - INFO - The log returns list for all assets is: [Date
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
                ...   
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
                ...   
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:11:09,338 - yq - INFO - rho_S1S2 is 0.3253071051769591

2023-11-13 15:11:09,341 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32530711]
 [0.32530711 1.        ]]

2023-11-13 15:11:09,341 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.44903121e-06  3.25307105e-01  0.00000000e+00]
 [-2.44903121e-06  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.25307105e-01  0.00000000e+00  1.00000000e+00 -4.40298406e-01]
 [ 0.00000000e+00  0.00000000e+00 -4.40298406e-01  1.00000000e+00]]

2023-11-13 15:11:09,342 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.44903121e-06  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.25307105e-01  7.96687253e-07  9.45608422e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -4.65624455e-01  8.84982410e-01]]

2023-11-13 15:11:09,342 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15a982d90>): 0.0h 0.0m 0s 60ms
2023-11-13 15:11:09,358 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 15:11:09,400 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:11:09,408 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  659.274984  263.846861
1  647.514890  293.768148
2  655.553791  280.115146
3  686.019765  258.108662
4  799.615799  281.401376
2023-11-13 15:11:09,594 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  659.274984  263.846861
2023-09-20  647.514890  293.768148
2023-09-21  655.553791  280.115146
2023-09-22  686.019765  258.108662
2023-09-25  799.615799  281.401376
2023-11-13 15:11:09,602 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15a982d90>, n_sim=1): 0.0h 0.0m 45s 831ms
2023-11-13 15:11:09,607 - yq - INFO - Pricing the product on 2023-09-19 00:00:00
2023-11-13 15:11:09,608 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:11:09,658 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:11:10,086 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-11-13 15:11:10,097 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230919.csv
2023-11-13 15:11:10,109 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/lonn_call.csv
2023-11-13 15:11:10,112 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.165614     330  103.949997  37.879402  0.0175
1  0.165614     335   99.050003  36.874622  0.0175
2  0.165614     340   94.199997  36.165127  0.0175
3  0.165614     345   89.349998  35.303986  0.0175
4  0.165614     350   84.474998  34.169895  0.0175
2023-11-13 15:11:10,118 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/sika_call.csv
2023-11-13 15:11:10,121 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     190  40.974998  34.669617  0.0175
1  0.165614     195  36.275002  33.086273  0.0175
2  0.165614     200  31.699997  31.738745  0.0175
3  0.165614     210  23.075005  29.495777  0.0175
4  0.165614     220  15.625002  28.121016  0.0175
2023-11-13 15:11:10,126 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.165614     330  103.949997  0.0175
1  0.165614     335   99.050003  0.0175
2  0.165614     340   94.199997  0.0175
3  0.165614     345   89.349998  0.0175
4  0.165614     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.165614     190  40.974998  0.0175
1  0.165614     195  36.275002  0.0175
2  0.165614     200  31.699997  0.0175
3  0.165614     210  23.075005  0.0175
4  0.165614     220  15.625002  0.0175
2023-11-13 15:11:10,128 - yq - INFO - Calibrating LONZA on 2023-09-19 00:00:00.
2023-11-13 15:11:46,814 - yq - INFO - Calibrating SIKA on 2023-09-19 00:00:00.
2023-11-13 15:12:26,028 - yq - INFO - The S_0 for LONZA and SIKA are 430.1 and 239.1
2023-11-13 15:12:26,039 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 15:12:26,117 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230919.csv
2023-11-13 15:12:26,117 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.16384499e-02  9.00307648e-01  2.41785331e-01 -5.24092278e-04
   9.99999909e+00]
 [ 4.39631608e+00  5.50558963e-02  2.47353794e-02 -1.98390857e-07
   1.48847740e+00]]
2023-11-13 15:12:26,126 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>, Timestamp('2023-09-19 00:00:00')): 0.0h 1.0m 16s 39ms
2023-11-13 15:12:26,157 - yq - INFO - The log returns list for all assets is: [Date
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
                ...   
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
                ...   
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:12:26,168 - yq - INFO - rho_S1S2 is 0.31956964971684426

2023-11-13 15:12:26,168 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31956965]
 [0.31956965 1.        ]]

2023-11-13 15:12:26,169 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -5.24092278e-04  3.19569650e-01  0.00000000e+00]
 [-5.24092278e-04  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.19569650e-01  0.00000000e+00  1.00000000e+00 -1.98390857e-07]
 [ 0.00000000e+00  0.00000000e+00 -1.98390857e-07  1.00000000e+00]]

2023-11-13 15:12:26,170 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-5.24092278e-04  9.99999863e-01  0.00000000e+00  0.00000000e+00]
 [ 3.19569650e-01  1.67484009e-04  9.47562774e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.09369619e-07  1.00000000e+00]]

2023-11-13 15:12:26,170 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>): 0.0h 0.0m 0s 44ms
2023-11-13 15:12:26,195 - yq - INFO - The adjusted S_0 is [430.1 239.1]
2023-11-13 15:12:26,245 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:12:26,280 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  333.087175  267.528500
1  307.293180  274.543774
2  269.430245  268.838030
3  257.325455  279.312361
4  272.417406  262.836900
2023-11-13 15:12:26,698 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-20  333.087175  267.528500
2023-09-21  307.293180  274.543774
2023-09-22  269.430245  268.838030
2023-09-25  257.325455  279.312361
2023-09-26  272.417406  262.836900
2023-11-13 15:12:26,735 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>, n_sim=1): 0.0h 1.0m 16s 652ms
2023-11-13 15:12:26,778 - yq - INFO - Pricing the product on 2023-09-20 00:00:00
2023-11-13 15:12:26,787 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:12:26,999 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:12:27,420 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-11-13 15:12:27,430 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230920.csv
2023-11-13 15:12:27,491 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/lonn_call.csv
2023-11-13 15:12:27,497 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.162807     330  103.949997  37.879402  0.0175
1  0.162807     335   99.050003  36.874622  0.0175
2  0.162807     340   94.199997  36.165127  0.0175
3  0.162807     345   89.349998  35.303986  0.0175
4  0.162807     350   84.474998  34.169895  0.0175
2023-11-13 15:12:27,504 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/sika_call.csv
2023-11-13 15:12:27,520 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     190  40.974998  34.669617  0.0175
1  0.162807     195  36.275002  33.086273  0.0175
2  0.162807     200  31.699997  31.738745  0.0175
3  0.162807     210  23.075005  29.495777  0.0175
4  0.162807     220  15.625002  28.121016  0.0175
2023-11-13 15:12:27,525 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.162807     330  103.949997  0.0175
1  0.162807     335   99.050003  0.0175
2  0.162807     340   94.199997  0.0175
3  0.162807     345   89.349998  0.0175
4  0.162807     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.162807     190  40.974998  0.0175
1  0.162807     195  36.275002  0.0175
2  0.162807     200  31.699997  0.0175
3  0.162807     210  23.075005  0.0175
4  0.162807     220  15.625002  0.0175
2023-11-13 15:12:27,527 - yq - INFO - Calibrating LONZA on 2023-09-20 00:00:00.
2023-11-13 15:13:05,070 - yq - INFO - Calibrating SIKA on 2023-09-20 00:00:00.
2023-11-13 15:13:35,808 - yq - INFO - The S_0 for LONZA and SIKA are 440.7 and 242.8
2023-11-13 15:13:35,810 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 8 seconds
2023-11-13 15:13:35,881 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230920.csv
2023-11-13 15:13:35,881 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000002e-02  1.00050837e-02  2.05387085e-01 -5.95992495e-08
   9.99741851e+00]
 [ 8.61686034e+00  4.44674908e-02  1.00007857e-02 -2.91579325e-08
   2.58884793e+00]]
2023-11-13 15:13:35,896 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15a9d1a10>, Timestamp('2023-09-20 00:00:00')): 0.0h 1.0m 8s 475ms
2023-11-13 15:13:35,945 - yq - INFO - The log returns list for all assets is: [Date
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
                ...   
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
                ...   
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:13:35,946 - yq - INFO - rho_S1S2 is 0.3278432600606565

2023-11-13 15:13:35,947 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32784326]
 [0.32784326 1.        ]]

2023-11-13 15:13:35,948 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -5.95992495e-08  3.27843260e-01  0.00000000e+00]
 [-5.95992495e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.27843260e-01  0.00000000e+00  1.00000000e+00 -2.91579325e-08]
 [ 0.00000000e+00  0.00000000e+00 -2.91579325e-08  1.00000000e+00]]

2023-11-13 15:13:35,950 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-5.95992495e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.27843260e-01  1.95392123e-08  9.44732130e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.08637037e-08  1.00000000e+00]]

2023-11-13 15:13:35,950 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15a9d1a10>): 0.0h 0.0m 0s 53ms
2023-11-13 15:13:35,975 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 15:13:36,006 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:13:36,020 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  401.108946  285.319262
1  398.414387  291.168657
2  538.862430  292.874089
3  425.605862  271.354305
4  365.967008  256.152519
2023-11-13 15:13:36,238 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  401.108946  285.319262
2023-09-22  398.414387  291.168657
2023-09-25  538.862430  292.874089
2023-09-26  425.605862  271.354305
2023-09-27  365.967008  256.152519
2023-11-13 15:13:36,241 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15a9d1a10>, n_sim=1): 0.0h 1.0m 8s 824ms
2023-11-13 15:13:36,242 - yq - INFO - Pricing the product on 2023-09-21 00:00:00
2023-11-13 15:13:36,242 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:13:36,273 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:13:36,658 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-11-13 15:13:36,663 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230921.csv
2023-11-13 15:13:36,687 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/lonn_call.csv
2023-11-13 15:13:36,691 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0      0.16     330  103.949997  37.879402  0.0175
1      0.16     335   99.050003  36.874622  0.0175
2      0.16     340   94.199997  36.165127  0.0175
3      0.16     345   89.349998  35.303986  0.0175
4      0.16     350   84.474998  34.169895  0.0175
2023-11-13 15:13:36,702 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/sika_call.csv
2023-11-13 15:13:36,708 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     190  40.974998  34.669617  0.0175
1      0.16     195  36.275002  33.086273  0.0175
2      0.16     200  31.699997  31.738745  0.0175
3      0.16     210  23.075005  29.495777  0.0175
4      0.16     220  15.625002  28.121016  0.0175
2023-11-13 15:13:36,719 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0      0.16     330  103.949997  0.0175
1      0.16     335   99.050003  0.0175
2      0.16     340   94.199997  0.0175
3      0.16     345   89.349998  0.0175
4      0.16     350   84.474998  0.0175
   maturity  strike      price    rate
0      0.16     190  40.974998  0.0175
1      0.16     195  36.275002  0.0175
2      0.16     200  31.699997  0.0175
3      0.16     210  23.075005  0.0175
4      0.16     220  15.625002  0.0175
2023-11-13 15:13:36,719 - yq - INFO - Calibrating LONZA on 2023-09-21 00:00:00.
2023-11-13 15:14:13,266 - yq - INFO - Calibrating SIKA on 2023-09-21 00:00:00.
2023-11-13 15:14:52,035 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 239.9
2023-11-13 15:14:52,040 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 15:14:52,082 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230921.csv
2023-11-13 15:14:52,082 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00734929e-02  1.00000033e-02  2.61882379e-01 -2.56134274e-08
   9.99999918e+00]
 [ 9.51249903e+00  4.82091678e-02  1.87012132e-02 -1.95855732e-09
   2.40003296e+00]]
2023-11-13 15:14:52,088 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a476d90>, Timestamp('2023-09-21 00:00:00')): 0.0h 1.0m 15s 430ms
2023-11-13 15:14:52,112 - yq - INFO - The log returns list for all assets is: [Date
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
                ...   
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
                ...   
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:14:52,120 - yq - INFO - rho_S1S2 is 0.3430350360744496

2023-11-13 15:14:52,121 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34303504]
 [0.34303504 1.        ]]

2023-11-13 15:14:52,121 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.56134274e-08  3.43035036e-01  0.00000000e+00]
 [-2.56134274e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.43035036e-01  0.00000000e+00  1.00000000e+00 -1.95855732e-09]
 [ 0.00000000e+00  0.00000000e+00 -1.95855732e-09  1.00000000e+00]]

2023-11-13 15:14:52,122 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.56134274e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.43035036e-01  8.78630298e-09  9.39322609e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.08507418e-09  1.00000000e+00]]

2023-11-13 15:14:52,122 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a476d90>): 0.0h 0.0m 0s 33ms
2023-11-13 15:14:52,136 - yq - INFO - The adjusted S_0 is [426.3 239.9]
2023-11-13 15:14:52,157 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:14:52,164 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  374.675914  260.022639
1  401.778768  303.550826
2  397.816894  321.631585
3  351.874162  300.679057
4  447.818752  282.020234
2023-11-13 15:14:52,319 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  374.675914  260.022639
2023-09-25  401.778768  303.550826
2023-09-26  397.816894  321.631585
2023-09-27  351.874162  300.679057
2023-09-28  447.818752  282.020234
2023-11-13 15:14:52,326 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a476d90>, n_sim=1): 0.0h 1.0m 15s 673ms
2023-11-13 15:14:52,330 - yq - INFO - Pricing the product on 2023-09-22 00:00:00
2023-11-13 15:14:52,333 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:14:52,375 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:14:52,603 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-11-13 15:14:52,607 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230922.csv
2023-11-13 15:14:52,614 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/lonn_call.csv
2023-11-13 15:14:52,616 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.157193     330  103.949997  37.879402  0.0175
1  0.157193     335   99.050003  36.874622  0.0175
2  0.157193     340   94.199997  36.165127  0.0175
3  0.157193     345   89.349998  35.303986  0.0175
4  0.157193     350   84.474998  34.169895  0.0175
2023-11-13 15:14:52,619 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/sika_call.csv
2023-11-13 15:14:52,621 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     190  40.974998  34.669617  0.0175
1  0.157193     195  36.275002  33.086273  0.0175
2  0.157193     200  31.699997  31.738745  0.0175
3  0.157193     210  23.075005  29.495777  0.0175
4  0.157193     220  15.625002  28.121016  0.0175
2023-11-13 15:14:52,626 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.157193     330  103.949997  0.0175
1  0.157193     335   99.050003  0.0175
2  0.157193     340   94.199997  0.0175
3  0.157193     345   89.349998  0.0175
4  0.157193     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.157193     190  40.974998  0.0175
1  0.157193     195  36.275002  0.0175
2  0.157193     200  31.699997  0.0175
3  0.157193     210  23.075005  0.0175
4  0.157193     220  15.625002  0.0175
2023-11-13 15:14:52,626 - yq - INFO - Calibrating LONZA on 2023-09-22 00:00:00.
2023-11-13 15:15:26,849 - yq - INFO - Calibrating SIKA on 2023-09-22 00:00:00.
2023-11-13 15:15:47,733 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 236.7
2023-11-13 15:15:47,735 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 55 seconds
2023-11-13 15:15:47,815 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230922.csv
2023-11-13 15:15:47,815 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00005853e-02  6.57898761e-01  2.63296336e-01 -1.98175924e-06
   9.99999996e+00]
 [ 9.99999991e+00  5.27553606e-02  3.21306974e-02 -3.85066423e-11
   2.07335404e+00]]
2023-11-13 15:15:47,823 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>, Timestamp('2023-09-22 00:00:00')): 0.0h 0.0m 55s 220ms
2023-11-13 15:15:47,864 - yq - INFO - The log returns list for all assets is: [Date
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
                ...   
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
                ...   
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:15:47,866 - yq - INFO - rho_S1S2 is 0.3447849301023391

2023-11-13 15:15:47,867 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34478493]
 [0.34478493 1.        ]]

2023-11-13 15:15:47,867 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.98175924e-06  3.44784930e-01  0.00000000e+00]
 [-1.98175924e-06  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.44784930e-01  0.00000000e+00  1.00000000e+00 -3.85066423e-11]
 [ 0.00000000e+00  0.00000000e+00 -3.85066423e-11  1.00000000e+00]]

2023-11-13 15:15:47,867 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.98175924e-06  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.44784930e-01  6.83280721e-07  9.38681710e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -4.10220439e-11  1.00000000e+00]]

2023-11-13 15:15:47,867 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>): 0.0h 0.0m 0s 44ms
2023-11-13 15:15:47,887 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 15:15:47,914 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:15:47,924 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  486.551275  240.118780
1  533.048102  231.073536
2  633.790075  213.472363
3  587.086061  187.063821
4  679.670642  203.690144
2023-11-13 15:15:48,078 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  486.551275  240.118780
2023-09-26  533.048102  231.073536
2023-09-27  633.790075  213.472363
2023-09-28  587.086061  187.063821
2023-09-29  679.670642  203.690144
2023-11-13 15:15:48,081 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>, n_sim=1): 0.0h 0.0m 55s 480ms
2023-11-13 15:15:48,082 - yq - INFO - Pricing the product on 2023-09-25 00:00:00
2023-11-13 15:15:48,082 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:15:48,106 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:15:48,385 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-11-13 15:15:48,387 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230925.csv
2023-11-13 15:15:48,393 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/lonn_call.csv
2023-11-13 15:15:48,396 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.148772     330  103.949997  37.879402  0.0175
1  0.148772     335   99.050003  36.874622  0.0175
2  0.148772     340   94.199997  36.165127  0.0175
3  0.148772     345   89.349998  35.303986  0.0175
4  0.148772     350   84.474998  34.169895  0.0175
2023-11-13 15:15:48,398 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/sika_call.csv
2023-11-13 15:15:48,400 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     190  40.974998  34.669617  0.0175
1  0.148772     195  36.275002  33.086273  0.0175
2  0.148772     200  31.699997  31.738745  0.0175
3  0.148772     210  23.075005  29.495777  0.0175
4  0.148772     220  15.625002  28.121016  0.0175
2023-11-13 15:15:48,405 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.148772     330  103.949997  0.0175
1  0.148772     335   99.050003  0.0175
2  0.148772     340   94.199997  0.0175
3  0.148772     345   89.349998  0.0175
4  0.148772     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.148772     190  40.974998  0.0175
1  0.148772     195  36.275002  0.0175
2  0.148772     200  31.699997  0.0175
3  0.148772     210  23.075005  0.0175
4  0.148772     220  15.625002  0.0175
2023-11-13 15:15:48,405 - yq - INFO - Calibrating LONZA on 2023-09-25 00:00:00.
2023-11-13 15:15:56,617 - yq - INFO - Calibrating SIKA on 2023-09-25 00:00:00.
2023-11-13 15:15:57,488 - yq - ERROR - Error during calibration on 2023-09-25: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:15:57,490 - yq - ERROR - Error during simulation on 2023-09-25 00:00:00: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:15:57,492 - yq - INFO - Pricing the product on 2023-09-26 00:00:00
2023-11-13 15:15:57,493 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:15:57,531 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:15:57,848 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-11-13 15:15:57,849 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230926.csv
2023-11-13 15:15:57,851 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/lonn_call.csv
2023-11-13 15:15:57,868 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.145965     330  103.949997  37.879402  0.0175
1  0.145965     335   99.050003  36.874622  0.0175
2  0.145965     340   94.199997  36.165127  0.0175
3  0.145965     345   89.349998  35.303986  0.0175
4  0.145965     350   84.474998  34.169895  0.0175
2023-11-13 15:15:57,874 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/sika_call.csv
2023-11-13 15:15:57,877 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     190  40.974998  34.669617  0.0175
1  0.145965     195  36.275002  33.086273  0.0175
2  0.145965     200  31.699997  31.738745  0.0175
3  0.145965     210  23.075005  29.495777  0.0175
4  0.145965     220  15.625002  28.121016  0.0175
2023-11-13 15:15:57,881 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.145965     330  103.949997  0.0175
1  0.145965     335   99.050003  0.0175
2  0.145965     340   94.199997  0.0175
3  0.145965     345   89.349998  0.0175
4  0.145965     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.145965     190  40.974998  0.0175
1  0.145965     195  36.275002  0.0175
2  0.145965     200  31.699997  0.0175
3  0.145965     210  23.075005  0.0175
4  0.145965     220  15.625002  0.0175
2023-11-13 15:15:57,882 - yq - INFO - Calibrating LONZA on 2023-09-26 00:00:00.
2023-11-13 15:16:16,597 - yq - INFO - Calibrating SIKA on 2023-09-26 00:00:00.
2023-11-13 15:16:22,841 - yq - INFO - The S_0 for LONZA and SIKA are 432.4 and 229.3
2023-11-13 15:16:22,842 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 24 seconds
2023-11-13 15:16:22,850 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230926.csv
2023-11-13 15:16:22,850 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00217087e-02  1.07295355e-02  2.48147273e-01 -1.29642599e-08
   9.99999889e+00]
 [ 6.94663583e+00  1.02492276e-01  1.18296703e-01 -3.90890688e-01
   2.83698467e+00]]
2023-11-13 15:16:22,852 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a4ad450>, Timestamp('2023-09-26 00:00:00')): 0.0h 0.0m 25s 3ms
2023-11-13 15:16:22,860 - yq - INFO - The log returns list for all assets is: [Date
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
                ...   
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
                ...   
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:16:22,861 - yq - INFO - rho_S1S2 is 0.31739440250500167

2023-11-13 15:16:22,861 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3173944]
 [0.3173944 1.       ]]

2023-11-13 15:16:22,861 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.29642599e-08  3.17394403e-01  0.00000000e+00]
 [-1.29642599e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.17394403e-01  0.00000000e+00  1.00000000e+00 -3.90890688e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.90890688e-01  1.00000000e+00]]

2023-11-13 15:16:22,862 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.29642599e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.17394403e-01  4.11478352e-09  9.48293622e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -4.12204278e-01  9.11091451e-01]]

2023-11-13 15:16:22,862 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a4ad450>): 0.0h 0.0m 0s 10ms
2023-11-13 15:16:22,866 - yq - INFO - The adjusted S_0 is [432.4 229.3]
2023-11-13 15:16:22,888 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:16:22,894 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  342.130030  197.986479
1  411.255640  205.787924
2  393.392627  218.434637
3  295.396328  210.039030
4  146.129180  203.416032
2023-11-13 15:16:23,020 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-27  342.130030  197.986479
2023-09-28  411.255640  205.787924
2023-09-29  393.392627  218.434637
2023-10-02  295.396328  210.039030
2023-10-03  146.129180  203.416032
2023-11-13 15:16:23,028 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a4ad450>, n_sim=1): 0.0h 0.0m 25s 183ms
2023-11-13 15:16:23,028 - yq - INFO - Pricing the product on 2023-09-27 00:00:00
2023-11-13 15:16:23,028 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:16:23,052 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:16:23,329 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-11-13 15:16:23,331 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230927.csv
2023-11-13 15:16:23,333 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/lonn_call.csv
2023-11-13 15:16:23,335 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     330  94.199997  40.003845  0.0175
1  0.143158     335  89.349998  38.856865  0.0175
2  0.143158     340  84.474998  37.484390  0.0175
3  0.143158     345  79.674995  36.437531  0.0175
4  0.143158     350  74.899994  35.390190  0.0175
2023-11-13 15:16:23,337 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/sika_call.csv
2023-11-13 15:16:23,340 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     190  40.725006  34.669014  0.0175
1  0.143158     195  35.975006  32.756226  0.0175
2  0.143158     200  31.375000  31.349203  0.0175
3  0.143158     210  22.750000  29.253847  0.0175
4  0.143158     220  15.299999  27.923262  0.0175
2023-11-13 15:16:23,343 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     330  94.199997  0.0175
1  0.143158     335  89.349998  0.0175
2  0.143158     340  84.474998  0.0175
3  0.143158     345  79.674995  0.0175
4  0.143158     350  74.899994  0.0175
   maturity  strike      price    rate
0  0.143158     190  40.725006  0.0175
1  0.143158     195  35.975006  0.0175
2  0.143158     200  31.375000  0.0175
3  0.143158     210  22.750000  0.0175
4  0.143158     220  15.299999  0.0175
2023-11-13 15:16:23,344 - yq - INFO - Calibrating LONZA on 2023-09-27 00:00:00.
2023-11-13 15:17:04,392 - yq - INFO - Calibrating SIKA on 2023-09-27 00:00:00.
2023-11-13 15:17:09,759 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 229.4
2023-11-13 15:17:09,760 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 46 seconds
2023-11-13 15:17:09,784 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230927.csv
2023-11-13 15:17:09,784 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.16242844e-02  1.00000125e-02  2.66043572e-01 -1.29687816e-08
   9.99958896e+00]
 [ 7.96038210e+00  9.62132310e-02  1.11372342e-01 -3.56839188e-01
   2.97382310e+00]]
2023-11-13 15:17:09,786 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15abfef90>, Timestamp('2023-09-27 00:00:00')): 0.0h 0.0m 46s 457ms
2023-11-13 15:17:09,821 - yq - INFO - The log returns list for all assets is: [Date
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
                ...   
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
                ...   
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:17:09,827 - yq - INFO - rho_S1S2 is 0.29836281054554314

2023-11-13 15:17:09,827 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29836281]
 [0.29836281 1.        ]]

2023-11-13 15:17:09,828 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.29687816e-08  2.98362811e-01  0.00000000e+00]
 [-1.29687816e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98362811e-01  0.00000000e+00  1.00000000e+00 -3.56839188e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.56839188e-01  1.00000000e+00]]

2023-11-13 15:17:09,829 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.29687816e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98362811e-01  3.86940213e-09  9.54452531e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.73867926e-01  9.27481953e-01]]

2023-11-13 15:17:09,829 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15abfef90>): 0.0h 0.0m 0s 43ms
2023-11-13 15:17:09,849 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 15:17:09,875 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:17:09,882 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  531.697595  259.302783
1  442.157587  268.852974
2  462.387714  231.193115
3  572.169177  262.133566
4  489.975341  256.336667
2023-11-13 15:17:10,058 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  531.697595  259.302783
2023-09-29  442.157587  268.852974
2023-10-02  462.387714  231.193115
2023-10-03  572.169177  262.133566
2023-10-04  489.975341  256.336667
2023-11-13 15:17:10,064 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15abfef90>, n_sim=1): 0.0h 0.0m 46s 738ms
2023-11-13 15:17:10,066 - yq - INFO - Pricing the product on 2023-09-28 00:00:00
2023-11-13 15:17:10,067 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:17:10,112 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:17:10,345 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-11-13 15:17:10,347 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230928.csv
2023-11-13 15:17:10,350 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/lonn_call.csv
2023-11-13 15:17:10,352 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     330  93.750000  37.346252  0.0175
1  0.140351     335  88.875000  36.323925  0.0175
2  0.140351     340  84.074997  35.695438  0.0175
3  0.140351     345  79.250000  34.727436  0.0175
4  0.140351     350  74.449997  33.762619  0.0175
2023-11-13 15:17:10,354 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/sika_call.csv
2023-11-13 15:17:10,356 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     190  42.025002  35.140724  0.0175
1  0.140351     195  37.199997  32.796349  0.0175
2  0.140351     200  32.549995  31.354389  0.0175
3  0.140351     210  23.824997  29.419374  0.0175
4  0.140351     220  16.150002  27.958426  0.0175
2023-11-13 15:17:10,360 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     330  93.750000  0.0175
1  0.140351     335  88.875000  0.0175
2  0.140351     340  84.074997  0.0175
3  0.140351     345  79.250000  0.0175
4  0.140351     350  74.449997  0.0175
   maturity  strike      price    rate
0  0.140351     190  42.025002  0.0175
1  0.140351     195  37.199997  0.0175
2  0.140351     200  32.549995  0.0175
3  0.140351     210  23.824997  0.0175
4  0.140351     220  16.150002  0.0175
2023-11-13 15:17:10,360 - yq - INFO - Calibrating LONZA on 2023-09-28 00:00:00.
2023-11-13 15:17:41,976 - yq - INFO - Calibrating SIKA on 2023-09-28 00:00:00.
2023-11-13 15:17:47,502 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 230.9
2023-11-13 15:17:47,504 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 37 seconds
2023-11-13 15:17:47,508 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230928.csv
2023-11-13 15:17:47,508 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.03366692e-02  1.00000002e-02  2.65112360e-01 -1.48845630e-08
   9.99999999e+00]
 [ 7.59434464e+00  8.87724406e-02  1.02346039e-01 -3.31479297e-01
   2.34440496e+00]]
2023-11-13 15:17:47,509 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>, Timestamp('2023-09-28 00:00:00')): 0.0h 0.0m 37s 164ms
2023-11-13 15:17:47,514 - yq - INFO - The log returns list for all assets is: [Date
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
                ...   
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
                ...   
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:17:47,515 - yq - INFO - rho_S1S2 is 0.2985230229316591

2023-11-13 15:17:47,515 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29852302]
 [0.29852302 1.        ]]

2023-11-13 15:17:47,515 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.48845630e-08  2.98523023e-01  0.00000000e+00]
 [-1.48845630e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98523023e-01  0.00000000e+00  1.00000000e+00 -3.31479297e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.31479297e-01  1.00000000e+00]]

2023-11-13 15:17:47,515 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.48845630e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98523023e-01  4.44338475e-09  9.54402433e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.47316065e-01  9.37748128e-01]]

2023-11-13 15:17:47,515 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>): 0.0h 0.0m 0s 6ms
2023-11-13 15:17:47,517 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 15:17:47,549 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:17:47,565 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  357.686345  216.535343
1  362.473130  225.443678
2  421.416247  214.536671
3  274.155239  211.036050
4  372.362364  212.969201
2023-11-13 15:17:47,717 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  357.686345  216.535343
2023-10-02  362.473130  225.443678
2023-10-03  421.416247  214.536671
2023-10-04  274.155239  211.036050
2023-10-05  372.362364  212.969201
2023-11-13 15:17:47,719 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>, n_sim=1): 0.0h 0.0m 37s 375ms
2023-11-13 15:17:47,719 - yq - INFO - Pricing the product on 2023-09-29 00:00:00
2023-11-13 15:17:47,719 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:17:47,731 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:17:48,823 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-11-13 15:17:48,823 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230929.csv
2023-11-13 15:17:48,826 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/lonn_call.csv
2023-11-13 15:17:48,828 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     385  46.699997  31.922449  0.0175
1  0.137544     390  42.500000  31.159510  0.0175
2  0.137544     395  38.449997  30.474539  0.0175
3  0.137544     400  34.599991  29.921164  0.0175
4  0.137544     410  27.549995  29.105541  0.0175
2023-11-13 15:17:48,829 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/sika_call.csv
2023-11-13 15:17:48,831 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     190  44.299995  34.807804  0.0175
1  0.137544     195  39.499992  33.103973  0.0175
2  0.137544     200  34.825005  31.903854  0.0175
3  0.137544     210  25.750000  29.092791  0.0175
4  0.137544     220  17.599998  27.165337  0.0175
2023-11-13 15:17:48,835 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     385  46.699997  0.0175
1  0.137544     390  42.500000  0.0175
2  0.137544     395  38.449997  0.0175
3  0.137544     400  34.599991  0.0175
4  0.137544     410  27.549995  0.0175
   maturity  strike      price    rate
0  0.137544     190  44.299995  0.0175
1  0.137544     195  39.499992  0.0175
2  0.137544     200  34.825005  0.0175
3  0.137544     210  25.750000  0.0175
4  0.137544     220  17.599998  0.0175
2023-11-13 15:17:48,835 - yq - INFO - Calibrating LONZA on 2023-09-29 00:00:00.
2023-11-13 15:17:57,003 - yq - INFO - Calibrating SIKA on 2023-09-29 00:00:00.
2023-11-13 15:18:01,319 - yq - INFO - The S_0 for LONZA and SIKA are 425.6 and 233.1
2023-11-13 15:18:01,320 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 12 seconds
2023-11-13 15:18:01,327 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20230929.csv
2023-11-13 15:18:01,327 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.36996947  0.08227736  0.10547294 -0.31504413  1.6224474 ]
 [ 8.51636796  0.08712574  0.09969909 -0.35258521  2.41459374]]
2023-11-13 15:18:01,329 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>, Timestamp('2023-09-29 00:00:00')): 0.0h 0.0m 12s 506ms
2023-11-13 15:18:01,331 - yq - INFO - The log returns list for all assets is: [Date
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
                ...   
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
                ...   
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:18:01,332 - yq - INFO - rho_S1S2 is 0.3008224014480678

2023-11-13 15:18:01,332 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3008224]
 [0.3008224 1.       ]]

2023-11-13 15:18:01,332 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.31504413  0.3008224   0.        ]
 [-0.31504413  1.          0.          0.        ]
 [ 0.3008224   0.          1.         -0.35258521]
 [ 0.          0.         -0.35258521  1.        ]]

2023-11-13 15:18:01,332 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.31504413  0.94907702  0.          0.        ]
 [ 0.3008224   0.09985737  0.94843787  0.        ]
 [ 0.          0.         -0.37175361  0.92833143]]

2023-11-13 15:18:01,332 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>): 0.0h 0.0m 0s 3ms
2023-11-13 15:18:01,333 - yq - INFO - The adjusted S_0 is [425.6 233.1]
2023-11-13 15:18:01,352 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:18:01,354 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  450.084657  243.991533
1  394.540409  184.703660
2  360.080647  197.773018
3  327.218305  178.901663
4  307.917033  175.027191
2023-11-13 15:18:01,454 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  450.084657  243.991533
2023-10-03  394.540409  184.703660
2023-10-04  360.080647  197.773018
2023-10-05  327.218305  178.901663
2023-10-06  307.917033  175.027191
2023-11-13 15:18:01,455 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>, n_sim=1): 0.0h 0.0m 12s 635ms
2023-11-13 15:18:01,456 - yq - INFO - Pricing the product on 2023-10-02 00:00:00
2023-11-13 15:18:01,456 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:18:01,462 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:18:01,686 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-11-13 15:18:01,687 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231002.csv
2023-11-13 15:18:01,689 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/lonn_call.csv
2023-11-13 15:18:01,691 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     330  92.125000  38.267204  0.0175
1  0.129123     335  87.274994  37.364208  0.0175
2  0.129123     340  82.424995  36.316391  0.0175
3  0.129123     345  77.599998  35.300434  0.0175
4  0.129123     350  72.799995  34.286041  0.0175
2023-11-13 15:18:01,692 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/sika_call.csv
2023-11-13 15:18:01,693 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     190  40.525002  34.670864  0.0175
1  0.129123     195  35.775002  32.940758  0.0175
2  0.129123     200  31.099998  31.210375  0.0175
3  0.129123     210  22.375000  29.052795  0.0175
4  0.129123     220  14.799999  27.583376  0.0175
2023-11-13 15:18:01,696 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     330  92.125000  0.0175
1  0.129123     335  87.274994  0.0175
2  0.129123     340  82.424995  0.0175
3  0.129123     345  77.599998  0.0175
4  0.129123     350  72.799995  0.0175
   maturity  strike      price    rate
0  0.129123     190  40.525002  0.0175
1  0.129123     195  35.775002  0.0175
2  0.129123     200  31.099998  0.0175
3  0.129123     210  22.375000  0.0175
4  0.129123     220  14.799999  0.0175
2023-11-13 15:18:01,696 - yq - INFO - Calibrating LONZA on 2023-10-02 00:00:00.
2023-11-13 15:18:36,196 - yq - INFO - Calibrating SIKA on 2023-10-02 00:00:00.
2023-11-13 15:18:41,666 - yq - INFO - The S_0 for LONZA and SIKA are 420.5 and 230.0
2023-11-13 15:18:41,669 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 39 seconds
2023-11-13 15:18:41,703 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231002.csv
2023-11-13 15:18:41,703 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.81277283e-02  9.99957024e+00  2.36288956e-01 -5.21306527e-04
   9.99856747e+00]
 [ 6.80878056e+00  8.82598950e-02  9.95599984e-02 -3.34983536e-01
   2.27773864e+00]]
2023-11-13 15:18:41,712 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>, Timestamp('2023-10-02 00:00:00')): 0.0h 0.0m 40s 25ms
2023-11-13 15:18:41,740 - yq - INFO - The log returns list for all assets is: [Date
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
                ...   
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
                ...   
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:18:41,741 - yq - INFO - rho_S1S2 is 0.3032609493226555

2023-11-13 15:18:41,742 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30326095]
 [0.30326095 1.        ]]

2023-11-13 15:18:41,742 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -5.21306527e-04  3.03260949e-01  0.00000000e+00]
 [-5.21306527e-04  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.03260949e-01  0.00000000e+00  1.00000000e+00 -3.34983536e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.34983536e-01  1.00000000e+00]]

2023-11-13 15:18:41,742 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-5.21306527e-04  9.99999864e-01  0.00000000e+00  0.00000000e+00]
 [ 3.03260949e-01  1.58091934e-04  9.52907536e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.51538342e-01  9.36173485e-01]]

2023-11-13 15:18:41,742 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>): 0.0h 0.0m 0s 31ms
2023-11-13 15:18:41,758 - yq - INFO - The adjusted S_0 is [420.5 230. ]
2023-11-13 15:18:41,780 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:18:41,785 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  399.224789  258.002246
1  374.616034  273.359821
2  489.677477  282.138412
3  472.663427  249.272778
4  452.896015  259.956917
2023-11-13 15:18:41,957 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  399.224789  258.002246
2023-10-04  374.616034  273.359821
2023-10-05  489.677477  282.138412
2023-10-06  472.663427  249.272778
2023-10-09  452.896015  259.956917
2023-11-13 15:18:41,959 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a4f9cd0>, n_sim=1): 0.0h 0.0m 40s 274ms
2023-11-13 15:18:41,960 - yq - INFO - Pricing the product on 2023-10-03 00:00:00
2023-11-13 15:18:41,960 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:18:41,993 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:18:42,239 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-11-13 15:18:42,241 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231003.csv
2023-11-13 15:18:42,255 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/lonn_call.csv
2023-11-13 15:18:42,257 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     390  43.250000  28.592716  0.0175
1  0.126316     395  39.149994  28.422277  0.0175
2  0.126316     400  35.199997  28.211863  0.0175
3  0.126316     410  27.949997  27.952816  0.0175
4  0.126316     420  21.649994  27.830254  0.0175
2023-11-13 15:18:42,261 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/sika_call.csv
2023-11-13 15:18:42,262 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     165  68.550003  47.843029  0.0175
1  0.126316     170  63.600006  45.406399  0.0175
2  0.126316     175  58.699997  43.945614  0.0175
3  0.126316     180  53.800003  41.966976  0.0175
4  0.126316     185  48.925003  40.003117  0.0175
2023-11-13 15:18:42,267 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     390  43.250000  0.0175
1  0.126316     395  39.149994  0.0175
2  0.126316     400  35.199997  0.0175
3  0.126316     410  27.949997  0.0175
4  0.126316     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.126316     165  68.550003  0.0175
1  0.126316     170  63.600006  0.0175
2  0.126316     175  58.699997  0.0175
3  0.126316     180  53.800003  0.0175
4  0.126316     185  48.925003  0.0175
2023-11-13 15:18:42,267 - yq - INFO - Calibrating LONZA on 2023-10-03 00:00:00.
2023-11-13 15:19:23,869 - yq - INFO - Calibrating SIKA on 2023-10-03 00:00:00.
2023-11-13 15:19:38,608 - yq - INFO - The S_0 for LONZA and SIKA are 415.3 and 228.8
2023-11-13 15:19:38,609 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 56 seconds
2023-11-13 15:19:38,628 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231003.csv
2023-11-13 15:19:38,628 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.77877848e-02  8.31134695e+00  2.58594653e-01 -6.65452655e-01
   3.82205220e+00]
 [ 1.00000378e-02  3.04704780e-01  1.25966065e-01 -1.52990953e-11
   9.99994745e+00]]
2023-11-13 15:19:38,636 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bb9a350>, Timestamp('2023-10-03 00:00:00')): 0.0h 0.0m 56s 397ms
2023-11-13 15:19:38,654 - yq - INFO - The log returns list for all assets is: [Date
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
                ...   
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
                ...   
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:19:38,655 - yq - INFO - rho_S1S2 is 0.31225413567123667

2023-11-13 15:19:38,655 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31225414]
 [0.31225414 1.        ]]

2023-11-13 15:19:38,656 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.65452655e-01  3.12254136e-01  0.00000000e+00]
 [-6.65452655e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.12254136e-01  0.00000000e+00  1.00000000e+00 -1.52990953e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.52990953e-11  1.00000000e+00]]

2023-11-13 15:19:38,656 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.65452655e-01  7.46440060e-01  0.00000000e+00  0.00000000e+00]
 [ 3.12254136e-01  2.78375123e-01  9.08297663e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.68437022e-11  1.00000000e+00]]

2023-11-13 15:19:38,656 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bb9a350>): 0.0h 0.0m 0s 21ms
2023-11-13 15:19:38,668 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 15:19:38,690 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:19:38,694 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  456.691218  266.521575
1  461.058910  289.322625
2  485.179834  306.331363
3  517.306977  323.297581
4  609.350808  289.939659
2023-11-13 15:19:38,848 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  456.691218  266.521575
2023-10-05  461.058910  289.322625
2023-10-06  485.179834  306.331363
2023-10-09  517.306977  323.297581
2023-10-10  609.350808  289.939659
2023-11-13 15:19:38,852 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bb9a350>, n_sim=1): 0.0h 0.0m 56s 615ms
2023-11-13 15:19:38,852 - yq - INFO - Pricing the product on 2023-10-04 00:00:00
2023-11-13 15:19:38,852 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:19:38,865 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:19:39,117 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-11-13 15:19:39,118 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231004.csv
2023-11-13 15:19:39,122 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/lonn_call.csv
2023-11-13 15:19:39,124 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     390  43.250000  28.592716  0.0175
1  0.123509     395  39.149994  28.422277  0.0175
2  0.123509     400  35.199997  28.211863  0.0175
3  0.123509     410  27.949997  27.952816  0.0175
4  0.123509     420  21.649994  27.830254  0.0175
2023-11-13 15:19:39,126 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/sika_call.csv
2023-11-13 15:19:39,128 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     165  68.550003  47.843029  0.0175
1  0.123509     170  63.600006  45.406399  0.0175
2  0.123509     175  58.699997  43.945614  0.0175
3  0.123509     180  53.800003  41.966976  0.0175
4  0.123509     185  48.925003  40.003117  0.0175
2023-11-13 15:19:39,132 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     390  43.250000  0.0175
1  0.123509     395  39.149994  0.0175
2  0.123509     400  35.199997  0.0175
3  0.123509     410  27.949997  0.0175
4  0.123509     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.123509     165  68.550003  0.0175
1  0.123509     170  63.600006  0.0175
2  0.123509     175  58.699997  0.0175
3  0.123509     180  53.800003  0.0175
4  0.123509     185  48.925003  0.0175
2023-11-13 15:19:39,132 - yq - INFO - Calibrating LONZA on 2023-10-04 00:00:00.
2023-11-13 15:20:18,258 - yq - INFO - Calibrating SIKA on 2023-10-04 00:00:00.
2023-11-13 15:20:59,429 - yq - INFO - The S_0 for LONZA and SIKA are 415.9 and 230.2
2023-11-13 15:20:59,476 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 20 seconds
2023-11-13 15:20:59,800 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231004.csv
2023-11-13 15:20:59,800 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.03095565e-02  9.50918295e+00  2.57407026e-01 -6.61165067e-01
   3.83712809e+00]
 [ 1.00005005e-02  9.79388163e+00  1.06602526e-01 -4.70360733e-06
   9.99988352e+00]]
2023-11-13 15:20:59,819 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a476d90>, Timestamp('2023-10-04 00:00:00')): 0.0h 1.0m 20s 700ms
2023-11-13 15:20:59,939 - yq - INFO - The log returns list for all assets is: [Date
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
                ...   
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
                ...   
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:20:59,994 - yq - INFO - rho_S1S2 is 0.31305479158935823

2023-11-13 15:20:59,996 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31305479]
 [0.31305479 1.        ]]

2023-11-13 15:20:59,996 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.61165067e-01  3.13054792e-01  0.00000000e+00]
 [-6.61165067e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.13054792e-01  0.00000000e+00  1.00000000e+00 -4.70360733e-06]
 [ 0.00000000e+00  0.00000000e+00 -4.70360733e-06  1.00000000e+00]]

2023-11-13 15:21:00,005 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.61165067e-01  7.50240464e-01  0.00000000e+00  0.00000000e+00]
 [ 3.13054792e-01  2.75886069e-01  9.08781368e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -5.17573037e-06  1.00000000e+00]]

2023-11-13 15:21:00,005 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a476d90>): 0.0h 0.0m 0s 186ms
2023-11-13 15:21:00,068 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 15:21:00,096 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:21:00,107 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  387.886255  212.848486
1  324.143929  213.301959
2  369.799108  209.211867
3  358.952175  165.484910
4  391.632878  172.947580
2023-11-13 15:21:00,322 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  387.886255  212.848486
2023-10-06  324.143929  213.301959
2023-10-09  369.799108  209.211867
2023-10-10  358.952175  165.484910
2023-10-11  391.632878  172.947580
2023-11-13 15:21:00,332 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a476d90>, n_sim=1): 0.0h 1.0m 21s 217ms
2023-11-13 15:21:00,342 - yq - INFO - Pricing the product on 2023-10-05 00:00:00
2023-11-13 15:21:00,342 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:21:00,450 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:21:00,710 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-11-13 15:21:00,711 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231005.csv
2023-11-13 15:21:00,723 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/lonn_call.csv
2023-11-13 15:21:00,726 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     390  43.250000  28.592716  0.0175
1  0.120702     395  39.149994  28.422277  0.0175
2  0.120702     400  35.199997  28.211863  0.0175
3  0.120702     410  27.949997  27.952816  0.0175
4  0.120702     420  21.649994  27.830254  0.0175
2023-11-13 15:21:00,731 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/sika_call.csv
2023-11-13 15:21:00,734 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     165  68.550003  47.843029  0.0175
1  0.120702     170  63.600006  45.406399  0.0175
2  0.120702     175  58.699997  43.945614  0.0175
3  0.120702     180  53.800003  41.966976  0.0175
4  0.120702     185  48.925003  40.003117  0.0175
2023-11-13 15:21:00,738 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     390  43.250000  0.0175
1  0.120702     395  39.149994  0.0175
2  0.120702     400  35.199997  0.0175
3  0.120702     410  27.949997  0.0175
4  0.120702     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.120702     165  68.550003  0.0175
1  0.120702     170  63.600006  0.0175
2  0.120702     175  58.699997  0.0175
3  0.120702     180  53.800003  0.0175
4  0.120702     185  48.925003  0.0175
2023-11-13 15:21:00,740 - yq - INFO - Calibrating LONZA on 2023-10-05 00:00:00.
2023-11-13 15:21:28,540 - yq - INFO - Calibrating SIKA on 2023-10-05 00:00:00.
2023-11-13 15:22:02,831 - yq - INFO - The S_0 for LONZA and SIKA are 419.9 and 230.5
2023-11-13 15:22:02,832 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 2 seconds
2023-11-13 15:22:02,900 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231005.csv
2023-11-13 15:22:02,900 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.48164839e-01  7.12514092e-01  2.08799096e-01 -6.07292098e-01
   3.42256374e+00]
 [ 1.00070651e-02  1.49728539e-01  1.13929246e-01 -4.77600803e-09
   9.91355677e+00]]
2023-11-13 15:22:02,913 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a6cf350>, Timestamp('2023-10-05 00:00:00')): 0.0h 1.0m 2s 201ms
2023-11-13 15:22:02,972 - yq - INFO - The log returns list for all assets is: [Date
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
                ...   
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
                ...   
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:22:02,997 - yq - INFO - rho_S1S2 is 0.3118443849215505

2023-11-13 15:22:02,998 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31184438]
 [0.31184438 1.        ]]

2023-11-13 15:22:02,998 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.07292098e-01  3.11844385e-01  0.00000000e+00]
 [-6.07292098e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.11844385e-01  0.00000000e+00  1.00000000e+00 -4.77600803e-09]
 [ 0.00000000e+00  0.00000000e+00 -4.77600803e-09  1.00000000e+00]]

2023-11-13 15:22:02,999 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.07292098e-01  7.94478639e-01  0.00000000e+00  0.00000000e+00]
 [ 3.11844385e-01  2.38370954e-01  9.19745817e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -5.19274776e-09  1.00000000e+00]]

2023-11-13 15:22:02,999 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a6cf350>): 0.0h 0.0m 0s 86ms
2023-11-13 15:22:03,035 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 15:22:03,064 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:22:03,091 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  385.900432  233.151107
1  308.634065  198.061385
2  250.335225  214.327219
3  248.900245  199.613589
4  268.070318  214.793921
2023-11-13 15:22:03,309 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  385.900432  233.151107
2023-10-09  308.634065  198.061385
2023-10-10  250.335225  214.327219
2023-10-11  248.900245  199.613589
2023-10-12  268.070318  214.793921
2023-11-13 15:22:03,317 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a6cf350>, n_sim=1): 0.0h 1.0m 2s 609ms
2023-11-13 15:22:03,323 - yq - INFO - Pricing the product on 2023-10-06 00:00:00
2023-11-13 15:22:03,325 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:22:03,344 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:22:03,585 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-11-13 15:22:03,586 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231006.csv
2023-11-13 15:22:03,592 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/lonn_call.csv
2023-11-13 15:22:03,594 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     390  43.250000  28.592716  0.0175
1  0.117895     395  39.149994  28.422277  0.0175
2  0.117895     400  35.199997  28.211863  0.0175
3  0.117895     410  27.949997  27.952816  0.0175
4  0.117895     420  21.649994  27.830254  0.0175
2023-11-13 15:22:03,596 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/sika_call.csv
2023-11-13 15:22:03,598 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     165  68.550003  47.843029  0.0175
1  0.117895     170  63.600006  45.406399  0.0175
2  0.117895     175  58.699997  43.945614  0.0175
3  0.117895     180  53.800003  41.966976  0.0175
4  0.117895     185  48.925003  40.003117  0.0175
2023-11-13 15:22:03,606 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     390  43.250000  0.0175
1  0.117895     395  39.149994  0.0175
2  0.117895     400  35.199997  0.0175
3  0.117895     410  27.949997  0.0175
4  0.117895     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.117895     165  68.550003  0.0175
1  0.117895     170  63.600006  0.0175
2  0.117895     175  58.699997  0.0175
3  0.117895     180  53.800003  0.0175
4  0.117895     185  48.925003  0.0175
2023-11-13 15:22:03,607 - yq - INFO - Calibrating LONZA on 2023-10-06 00:00:00.
2023-11-13 15:22:10,625 - yq - INFO - Calibrating SIKA on 2023-10-06 00:00:00.
2023-11-13 15:22:47,263 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 233.3
2023-11-13 15:22:47,265 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 43 seconds
2023-11-13 15:22:47,284 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231006.csv
2023-11-13 15:22:47,284 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.91109513e+00  8.45079523e-02  1.11522103e-01 -2.81798931e-01
   2.54061863e+00]
 [ 1.00142173e-02  2.42488703e-01  9.89852438e-02 -1.54211088e-11
   9.99854499e+00]]
2023-11-13 15:22:47,290 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x10135a390>, Timestamp('2023-10-06 00:00:00')): 0.0h 0.0m 43s 705ms
2023-11-13 15:22:47,296 - yq - INFO - The log returns list for all assets is: [Date
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
                ...   
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
                ...   
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:22:47,297 - yq - INFO - rho_S1S2 is 0.3235675287624876

2023-11-13 15:22:47,297 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32356753]
 [0.32356753 1.        ]]

2023-11-13 15:22:47,297 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.81798931e-01  3.23567529e-01  0.00000000e+00]
 [-2.81798931e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.23567529e-01  0.00000000e+00  1.00000000e+00 -1.54211088e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.54211088e-11  1.00000000e+00]]

2023-11-13 15:22:47,298 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.81798931e-01  9.59473482e-01  0.00000000e+00  0.00000000e+00]
 [ 3.23567529e-01  9.50323126e-02  9.41420689e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.63806776e-11  1.00000000e+00]]

2023-11-13 15:22:47,298 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x10135a390>): 0.0h 0.0m 0s 8ms
2023-11-13 15:22:47,306 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 15:22:47,324 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:22:47,330 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  453.512487  260.699450
1  501.498135  256.430324
2  550.193961  299.008184
3  477.233311  247.105291
4  425.938766  370.611863
2023-11-13 15:22:47,451 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  453.512487  260.699450
2023-10-10  501.498135  256.430324
2023-10-11  550.193961  299.008184
2023-10-12  477.233311  247.105291
2023-10-13  425.938766  370.611863
2023-11-13 15:22:47,456 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x10135a390>, n_sim=1): 0.0h 0.0m 43s 873ms
2023-11-13 15:22:47,457 - yq - INFO - Pricing the product on 2023-10-09 00:00:00
2023-11-13 15:22:47,458 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:22:47,468 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:22:47,671 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-11-13 15:22:47,673 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231009.csv
2023-11-13 15:22:47,678 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/lonn_call.csv
2023-11-13 15:22:47,680 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     390  44.149994  31.775606  0.0175
1  0.109474     395  39.949997  31.077160  0.0175
2  0.109474     400  35.799995  30.202269  0.0175
3  0.109474     410  28.299995  29.217251  0.0175
4  0.109474     420  21.649994  28.378525  0.0175
2023-11-13 15:22:47,683 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/sika_call.csv
2023-11-13 15:22:47,684 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     165  68.550003  47.843029  0.0175
1  0.109474     170  63.600006  45.406399  0.0175
2  0.109474     175  58.699997  43.945614  0.0175
3  0.109474     180  53.800003  41.966976  0.0175
4  0.109474     185  48.925003  40.003117  0.0175
2023-11-13 15:22:47,688 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     390  44.149994  0.0175
1  0.109474     395  39.949997  0.0175
2  0.109474     400  35.799995  0.0175
3  0.109474     410  28.299995  0.0175
4  0.109474     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.109474     165  68.550003  0.0175
1  0.109474     170  63.600006  0.0175
2  0.109474     175  58.699997  0.0175
3  0.109474     180  53.800003  0.0175
4  0.109474     185  48.925003  0.0175
2023-11-13 15:22:47,688 - yq - INFO - Calibrating LONZA on 2023-10-09 00:00:00.
2023-11-13 15:22:53,244 - yq - INFO - Calibrating SIKA on 2023-10-09 00:00:00.
2023-11-13 15:23:14,627 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 228.5
2023-11-13 15:23:14,628 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 26 seconds
2023-11-13 15:23:14,642 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231009.csv
2023-11-13 15:23:14,642 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.85319618e+00  8.45299021e-02  1.11362167e-01 -2.86744385e-01
   2.11363563e+00]
 [ 1.00000039e-02  1.51776707e-02  1.38491351e-01 -1.92249643e-08
   9.99965414e+00]]
2023-11-13 15:23:14,643 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a705d90>, Timestamp('2023-10-09 00:00:00')): 0.0h 0.0m 26s 972ms
2023-11-13 15:23:14,650 - yq - INFO - The log returns list for all assets is: [Date
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
                ...   
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
                ...   
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:23:14,650 - yq - INFO - rho_S1S2 is 0.31656461932210594

2023-11-13 15:23:14,650 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31656462]
 [0.31656462 1.        ]]

2023-11-13 15:23:14,650 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.86744385e-01  3.16564619e-01  0.00000000e+00]
 [-2.86744385e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.16564619e-01  0.00000000e+00  1.00000000e+00 -1.92249643e-08]
 [ 0.00000000e+00  0.00000000e+00 -1.92249643e-08  1.00000000e+00]]

2023-11-13 15:23:14,651 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.86744385e-01  9.58007128e-01  0.00000000e+00  0.00000000e+00]
 [ 3.16564619e-01  9.47520372e-02  9.43826728e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.03691670e-08  1.00000000e+00]]

2023-11-13 15:23:14,651 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a705d90>): 0.0h 0.0m 0s 8ms
2023-11-13 15:23:14,661 - yq - INFO - The adjusted S_0 is [429.  228.5]
2023-11-13 15:23:14,680 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:23:14,688 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  428.558861  236.638671
1  403.284796  207.353718
2  398.711886  150.823303
3  432.556238  149.826407
4  407.485834  136.691550
2023-11-13 15:23:14,796 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  428.558861  236.638671
2023-10-11  403.284796  207.353718
2023-10-12  398.711886  150.823303
2023-10-13  432.556238  149.826407
2023-10-16  407.485834  136.691550
2023-11-13 15:23:14,805 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a705d90>, n_sim=1): 0.0h 0.0m 27s 136ms
2023-11-13 15:23:14,806 - yq - INFO - Pricing the product on 2023-10-10 00:00:00
2023-11-13 15:23:14,806 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:23:14,815 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:23:15,020 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-11-13 15:23:15,020 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231010.csv
2023-11-13 15:23:15,021 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/lonn_call.csv
2023-11-13 15:23:15,023 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     390  48.649994  32.976944  0.0175
1  0.106667     395  44.250000  32.010677  0.0175
2  0.106667     400  40.000000  31.187216  0.0175
3  0.106667     410  32.049988  29.919235  0.0175
4  0.106667     420  24.349998  27.869890  0.0175
2023-11-13 15:23:15,024 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/sika_call.csv
2023-11-13 15:23:15,025 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     165  70.900009  50.166050  0.0175
1  0.106667     170  65.925003  46.992657  0.0175
2  0.106667     175  60.974998  44.536556  0.0175
3  0.106667     180  56.100006  43.552261  0.0175
4  0.106667     185  51.150002  40.538616  0.0175
2023-11-13 15:23:15,029 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     390  48.649994  0.0175
1  0.106667     395  44.250000  0.0175
2  0.106667     400  40.000000  0.0175
3  0.106667     410  32.049988  0.0175
4  0.106667     420  24.349998  0.0175
   maturity  strike      price    rate
0  0.106667     165  70.900009  0.0175
1  0.106667     170  65.925003  0.0175
2  0.106667     175  60.974998  0.0175
3  0.106667     180  56.100006  0.0175
4  0.106667     185  51.150002  0.0175
2023-11-13 15:23:15,029 - yq - INFO - Calibrating LONZA on 2023-10-10 00:00:00.
2023-11-13 15:23:20,662 - yq - INFO - Calibrating SIKA on 2023-10-10 00:00:00.
2023-11-13 15:23:28,896 - yq - INFO - The S_0 for LONZA and SIKA are 434.1 and 235.1
2023-11-13 15:23:28,896 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 13 seconds
2023-11-13 15:23:28,900 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231010.csv
2023-11-13 15:23:28,900 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999926e+00  8.10375438e-02  1.32269586e-01 -2.23511868e-01
   3.33782368e+00]
 [ 1.00350085e-02  1.02534628e-02  1.01687582e-01 -1.67179330e-08
   1.00000000e+01]]
2023-11-13 15:23:28,902 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a72f1d0>, Timestamp('2023-10-10 00:00:00')): 0.0h 0.0m 13s 882ms
2023-11-13 15:23:28,908 - yq - INFO - The log returns list for all assets is: [Date
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
                ...   
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
                ...   
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:23:28,908 - yq - INFO - rho_S1S2 is 0.329649797605491

2023-11-13 15:23:28,908 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3296498]
 [0.3296498 1.       ]]

2023-11-13 15:23:28,908 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.23511868e-01  3.29649798e-01  0.00000000e+00]
 [-2.23511868e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.29649798e-01  0.00000000e+00  1.00000000e+00 -1.67179330e-08]
 [ 0.00000000e+00  0.00000000e+00 -1.67179330e-08  1.00000000e+00]]

2023-11-13 15:23:28,908 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.23511868e-01  9.74701208e-01  0.00000000e+00  0.00000000e+00]
 [ 3.29649798e-01  7.55930551e-02  9.41072102e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.77647738e-08  1.00000000e+00]]

2023-11-13 15:23:28,908 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a72f1d0>): 0.0h 0.0m 0s 6ms
2023-11-13 15:23:28,909 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 15:23:28,926 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:23:28,928 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  510.438189  213.668775
1  534.664688  247.447884
2  581.556108  255.888931
3  587.976475  331.785916
4  783.871501  355.933482
2023-11-13 15:23:29,032 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  510.438189  213.668775
2023-10-12  534.664688  247.447884
2023-10-13  581.556108  255.888931
2023-10-16  587.976475  331.785916
2023-10-17  783.871501  355.933482
2023-11-13 15:23:29,034 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a72f1d0>, n_sim=1): 0.0h 0.0m 14s 16ms
2023-11-13 15:23:29,034 - yq - INFO - Pricing the product on 2023-10-11 00:00:00
2023-11-13 15:23:29,034 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:23:29,041 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:23:29,240 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-11-13 15:23:29,240 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231011.csv
2023-11-13 15:23:29,241 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/lonn_call.csv
2023-11-13 15:23:29,243 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     390  45.899994  30.097866  0.0175
1   0.10386     395  41.549988  29.467657  0.0175
2   0.10386     400  37.349991  28.915565  0.0175
3   0.10386     410  29.499992  28.007881  0.0175
4   0.10386     420  22.549995  27.343821  0.0175
2023-11-13 15:23:29,244 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/sika_call.csv
2023-11-13 15:23:29,245 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     165  70.500008  51.139153  0.0175
1   0.10386     170  65.575005  49.437122  0.0175
2   0.10386     175  60.675003  47.853046  0.0175
3   0.10386     180  55.700005  44.278473  0.0175
4   0.10386     185  50.825005  42.488571  0.0175
2023-11-13 15:23:29,249 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     390  45.899994  0.0175
1   0.10386     395  41.549988  0.0175
2   0.10386     400  37.349991  0.0175
3   0.10386     410  29.499992  0.0175
4   0.10386     420  22.549995  0.0175
   maturity  strike      price    rate
0   0.10386     165  70.500008  0.0175
1   0.10386     170  65.575005  0.0175
2   0.10386     175  60.675003  0.0175
3   0.10386     180  55.700005  0.0175
4   0.10386     185  50.825005  0.0175
2023-11-13 15:23:29,249 - yq - INFO - Calibrating LONZA on 2023-10-11 00:00:00.
2023-11-13 15:23:43,561 - yq - INFO - Calibrating SIKA on 2023-10-11 00:00:00.
2023-11-13 15:24:27,047 - yq - INFO - The S_0 for LONZA and SIKA are 432.2 and 234.6
2023-11-13 15:24:27,048 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 57 seconds
2023-11-13 15:24:27,064 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231011.csv
2023-11-13 15:24:27,064 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  7.17351211e-02  1.01960057e-01 -2.00825943e-01
   2.16739367e+00]
 [ 1.03419627e-02  2.19771281e-02  9.72266403e-02 -9.60056926e-07
   1.00000000e+01]]
2023-11-13 15:24:27,066 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a487810>, Timestamp('2023-10-11 00:00:00')): 0.0h 0.0m 57s 826ms
2023-11-13 15:24:27,073 - yq - INFO - The log returns list for all assets is: [Date
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
                ...   
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
                ...   
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:24:27,074 - yq - INFO - rho_S1S2 is 0.3169791225970056

2023-11-13 15:24:27,074 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31697912]
 [0.31697912 1.        ]]

2023-11-13 15:24:27,074 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.00825943e-01  3.16979123e-01  0.00000000e+00]
 [-2.00825943e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.16979123e-01  0.00000000e+00  1.00000000e+00 -9.60056926e-07]
 [ 0.00000000e+00  0.00000000e+00 -9.60056926e-07  1.00000000e+00]]

2023-11-13 15:24:27,074 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.00825943e-01  9.79626940e-01  0.00000000e+00  0.00000000e+00]
 [ 3.16979123e-01  6.49815032e-02  9.46203805e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.01464074e-06  1.00000000e+00]]

2023-11-13 15:24:27,074 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a487810>): 0.0h 0.0m 0s 8ms
2023-11-13 15:24:27,081 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 15:24:27,099 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:24:27,101 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  405.022499  240.894551
1  413.082522  246.756888
2  390.406782  203.601714
3  329.610598  137.045169
4  315.941315  108.199042
2023-11-13 15:24:27,202 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  405.022499  240.894551
2023-10-13  413.082522  246.756888
2023-10-16  390.406782  203.601714
2023-10-17  329.610598  137.045169
2023-10-18  315.941315  108.199042
2023-11-13 15:24:27,204 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a487810>, n_sim=1): 0.0h 0.0m 57s 965ms
2023-11-13 15:24:27,204 - yq - INFO - Pricing the product on 2023-10-12 00:00:00
2023-11-13 15:24:27,204 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:24:27,215 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:24:27,452 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-11-13 15:24:27,453 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231012.csv
2023-11-13 15:24:27,454 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/lonn_call.csv
2023-11-13 15:24:27,456 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     390  45.700001  31.750900  0.0175
1  0.101053     395  41.299999  30.809237  0.0175
2  0.101053     400  37.099998  30.118776  0.0175
3  0.101053     410  29.200001  28.882235  0.0175
4  0.101053     420  22.299999  28.154430  0.0175
2023-11-13 15:24:27,458 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/sika_call.csv
2023-11-13 15:24:27,460 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     165  70.150002  50.219540  0.0175
1  0.101053     170  65.199997  48.034592  0.0175
2  0.101053     175  60.250000  45.546146  0.0175
3  0.101053     180  55.324989  43.450645  0.0175
4  0.101053     185  50.399994  40.996925  0.0175
2023-11-13 15:24:27,464 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     390  45.700001  0.0175
1  0.101053     395  41.299999  0.0175
2  0.101053     400  37.099998  0.0175
3  0.101053     410  29.200001  0.0175
4  0.101053     420  22.299999  0.0175
   maturity  strike      price    rate
0  0.101053     165  70.150002  0.0175
1  0.101053     170  65.199997  0.0175
2  0.101053     175  60.250000  0.0175
3  0.101053     180  55.324989  0.0175
4  0.101053     185  50.399994  0.0175
2023-11-13 15:24:27,464 - yq - INFO - Calibrating LONZA on 2023-10-12 00:00:00.
2023-11-13 15:24:35,764 - yq - INFO - Calibrating SIKA on 2023-10-12 00:00:00.
2023-11-13 15:25:18,911 - yq - INFO - The S_0 for LONZA and SIKA are 431.6 and 234.9
2023-11-13 15:25:18,913 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 51 seconds
2023-11-13 15:25:18,931 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231012.csv
2023-11-13 15:25:18,931 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  8.13538576e-02  1.19191514e-01 -2.31750905e-01
   3.25032119e+00]
 [ 1.13615442e-02  1.00019118e-02  9.43443944e-02 -1.54147806e-11
   9.92410527e+00]]
2023-11-13 15:25:18,934 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a002f50>, Timestamp('2023-10-12 00:00:00')): 0.0h 0.0m 51s 481ms
2023-11-13 15:25:18,951 - yq - INFO - The log returns list for all assets is: [Date
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
                ...   
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
                ...   
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:25:18,952 - yq - INFO - rho_S1S2 is 0.31851779552852644

2023-11-13 15:25:18,953 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3185178]
 [0.3185178 1.       ]]

2023-11-13 15:25:18,953 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.31750905e-01  3.18517796e-01  0.00000000e+00]
 [-2.31750905e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.18517796e-01  0.00000000e+00  1.00000000e+00 -1.54147806e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.54147806e-11  1.00000000e+00]]

2023-11-13 15:25:18,953 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.31750905e-01  9.72775163e-01  0.00000000e+00  0.00000000e+00]
 [ 3.18517796e-01  7.58826811e-02  9.44874718e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.63140999e-11  1.00000000e+00]]

2023-11-13 15:25:18,953 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a002f50>): 0.0h 0.0m 0s 19ms
2023-11-13 15:25:18,965 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 15:25:18,991 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:25:18,994 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  469.641300  275.992426
1  537.922960  221.839445
2  513.916976  216.446365
3  547.078614  188.217270
4  610.450986  252.745429
2023-11-13 15:25:19,139 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  469.641300  275.992426
2023-10-16  537.922960  221.839445
2023-10-17  513.916976  216.446365
2023-10-18  547.078614  188.217270
2023-10-19  610.450986  252.745429
2023-11-13 15:25:19,141 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a002f50>, n_sim=1): 0.0h 0.0m 51s 691ms
2023-11-13 15:25:19,142 - yq - INFO - Pricing the product on 2023-10-13 00:00:00
2023-11-13 15:25:19,142 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:25:19,152 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:25:19,435 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-11-13 15:25:19,436 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231013.csv
2023-11-13 15:25:19,441 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/lonn_call.csv
2023-11-13 15:25:19,444 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     380  45.500000  29.856724  0.0175
1  0.176842     385  41.500000  29.342726  0.0175
2  0.176842     390  37.599991  28.775595  0.0175
3  0.176842     395  33.949997  28.392563  0.0175
4  0.176842     400  30.474998  28.026896  0.0175
2023-11-13 15:25:19,445 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/sika_call.csv
2023-11-13 15:25:19,447 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     195  43.025002  35.105164  0.0175
1  0.176842     200  38.374992  33.525452  0.0175
2  0.176842     210  29.399994  30.622183  0.0175
3  0.176842     220  21.324997  28.788097  0.0175
4  0.176842     230  14.375000  27.261559  0.0175
2023-11-13 15:25:19,452 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     380  45.500000  0.0175
1  0.176842     385  41.500000  0.0175
2  0.176842     390  37.599991  0.0175
3  0.176842     395  33.949997  0.0175
4  0.176842     400  30.474998  0.0175
   maturity  strike      price    rate
0  0.176842     195  43.025002  0.0175
1  0.176842     200  38.374992  0.0175
2  0.176842     210  29.399994  0.0175
3  0.176842     220  21.324997  0.0175
4  0.176842     230  14.375000  0.0175
2023-11-13 15:25:19,452 - yq - INFO - Calibrating LONZA on 2023-10-13 00:00:00.
2023-11-13 15:25:56,554 - yq - INFO - Calibrating SIKA on 2023-10-13 00:00:00.
2023-11-13 15:26:00,313 - yq - INFO - The S_0 for LONZA and SIKA are 418.1 and 235.6
2023-11-13 15:26:00,314 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 40 seconds
2023-11-13 15:26:00,324 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231013.csv
2023-11-13 15:26:00,324 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.58700815  0.08572113  0.08041459 -0.3161849   0.84489353]
 [ 5.79432692  0.10401347  0.10751135 -0.38852665  2.68964194]]
2023-11-13 15:26:00,326 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x10135a390>, Timestamp('2023-10-13 00:00:00')): 0.0h 0.0m 40s 891ms
2023-11-13 15:26:00,337 - yq - INFO - The log returns list for all assets is: [Date
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
                ...   
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
                ...   
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:26:00,338 - yq - INFO - rho_S1S2 is 0.30846875512601135

2023-11-13 15:26:00,339 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30846876]
 [0.30846876 1.        ]]

2023-11-13 15:26:00,339 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.3161849   0.30846876  0.        ]
 [-0.3161849   1.          0.          0.        ]
 [ 0.30846876  0.          1.         -0.38852665]
 [ 0.          0.         -0.38852665  1.        ]]

2023-11-13 15:26:00,340 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.3161849   0.94869759  0.          0.        ]
 [ 0.30846876  0.10280743  0.94566255  0.        ]
 [ 0.          0.         -0.41085126  0.91170239]]

2023-11-13 15:26:00,340 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x10135a390>): 0.0h 0.0m 0s 14ms
2023-11-13 15:26:00,347 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 15:26:00,364 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:26:00,367 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  388.479666  221.801689
1  387.498167  254.923233
2  393.312494  234.887429
3  380.766278  242.748962
4  394.831847  213.846145
2023-11-13 15:26:00,474 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  388.479666  221.801689
2023-10-17  387.498167  254.923233
2023-10-18  393.312494  234.887429
2023-10-19  380.766278  242.748962
2023-10-20  394.831847  213.846145
2023-11-13 15:26:00,476 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x10135a390>, n_sim=1): 0.0h 0.0m 41s 44ms
2023-11-13 15:26:00,476 - yq - INFO - Pricing the product on 2023-10-16 00:00:00
2023-11-13 15:26:00,476 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:26:00,489 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:26:00,703 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-11-13 15:26:00,705 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231016.csv
2023-11-13 15:26:00,710 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/lonn_call.csv
2023-11-13 15:26:00,711 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     385  47.699997  29.411749  0.0175
1  0.168421     390  43.949997  29.572170  0.0175
2  0.168421     395  40.049995  29.142870  0.0175
3  0.168421     400  36.349991  28.814251  0.0175
4  0.168421     410  29.399994  28.098360  0.0175
2023-11-13 15:26:00,712 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/sika_call.csv
2023-11-13 15:26:00,714 - yq - INFO - Options data read is
    maturity  strike       price          IV    rate
0  0.168421      76  159.475006   99.122787  0.0175
1  0.168421      84  151.574997  100.150345  0.0175
2  0.168421      92  143.600006   91.919762  0.0175
3  0.168421     100  135.649994   86.183449  0.0175
4  0.168421     110  125.700005   78.469963  0.0175
2023-11-13 15:26:00,718 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     385  47.699997  0.0175
1  0.168421     390  43.949997  0.0175
2  0.168421     395  40.049995  0.0175
3  0.168421     400  36.349991  0.0175
4  0.168421     410  29.399994  0.0175
   maturity  strike       price    rate
0  0.168421      76  159.475006  0.0175
1  0.168421      84  151.574997  0.0175
2  0.168421      92  143.600006  0.0175
3  0.168421     100  135.649994  0.0175
4  0.168421     110  125.700005  0.0175
2023-11-13 15:26:00,718 - yq - INFO - Calibrating LONZA on 2023-10-16 00:00:00.
2023-11-13 15:26:11,596 - yq - INFO - Calibrating SIKA on 2023-10-16 00:00:00.
2023-11-13 15:26:28,758 - yq - INFO - The S_0 for LONZA and SIKA are 426.1 and 235.0
2023-11-13 15:26:28,761 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 28 seconds
2023-11-13 15:26:28,800 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231016.csv
2023-11-13 15:26:28,800 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.48271766e+00  5.42700417e-02  9.46130357e-02 -3.10340043e-01
   7.05537546e-01]
 [ 1.00125837e-02  1.23425567e-02  1.18927528e-01 -1.25906108e-09
   9.99999946e+00]]
2023-11-13 15:26:28,803 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>, Timestamp('2023-10-16 00:00:00')): 0.0h 0.0m 28s 100ms
2023-11-13 15:26:28,829 - yq - INFO - The log returns list for all assets is: [Date
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
                ...   
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
                ...   
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:26:28,829 - yq - INFO - rho_S1S2 is 0.3035652013170766

2023-11-13 15:26:28,830 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3035652]
 [0.3035652 1.       ]]

2023-11-13 15:26:28,830 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -3.10340043e-01  3.03565201e-01  0.00000000e+00]
 [-3.10340043e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.03565201e-01  0.00000000e+00  1.00000000e+00 -1.25906108e-09]
 [ 0.00000000e+00  0.00000000e+00 -1.25906108e-09  1.00000000e+00]]

2023-11-13 15:26:28,831 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-3.10340043e-01  9.50625614e-01  0.00000000e+00  0.00000000e+00]
 [ 3.03565201e-01  9.91015141e-02  9.47642896e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.32862398e-09  1.00000000e+00]]

2023-11-13 15:26:28,831 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>): 0.0h 0.0m 0s 27ms
2023-11-13 15:26:28,860 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 15:26:28,884 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:26:28,894 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  412.687140  266.764329
1  429.147392  230.228533
2  431.426451  294.939983
3  428.812289  335.298141
4  427.118213  399.810714
2023-11-13 15:26:29,081 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  412.687140  266.764329
2023-10-18  429.147392  230.228533
2023-10-19  431.426451  294.939983
2023-10-20  428.812289  335.298141
2023-10-23  427.118213  399.810714
2023-11-13 15:26:29,100 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ff4dd90>, n_sim=1): 0.0h 0.0m 28s 399ms
2023-11-13 15:26:29,101 - yq - INFO - Pricing the product on 2023-10-17 00:00:00
2023-11-13 15:26:29,102 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:26:29,160 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:26:29,480 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-11-13 15:26:29,481 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231017.csv
2023-11-13 15:26:29,484 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/lonn_call.csv
2023-11-13 15:26:29,486 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     335  30.549988  28.717325  0.0175
1  0.165614     340  27.049988  28.429321  0.0175
2  0.165614     345  23.749992  28.119053  0.0175
3  0.165614     350  20.750000  27.944704  0.0175
4  0.165614     355  21.599998  33.963181  0.0175
2023-11-13 15:26:29,488 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/sika_call.csv
2023-11-13 15:26:29,490 - yq - INFO - Options data read is
    maturity  strike       price           IV    rate
0  0.165614     0.1  223.100006  2292.225586  0.0175
1  0.165614    76.0  147.449997   106.440056  0.0175
2  0.165614    84.0  139.500000    99.310966  0.0175
3  0.165614    92.0  131.524994    90.756920  0.0175
4  0.165614   100.0  123.575005    84.469040  0.0175
2023-11-13 15:26:29,496 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     335  30.549988  0.0175
1  0.165614     340  27.049988  0.0175
2  0.165614     345  23.749992  0.0175
3  0.165614     350  20.750000  0.0175
4  0.165614     355  21.599998  0.0175
   maturity  strike       price    rate
0  0.165614     0.1  223.100006  0.0175
1  0.165614    76.0  147.449997  0.0175
2  0.165614    84.0  139.500000  0.0175
3  0.165614    92.0  131.524994  0.0175
4  0.165614   100.0  123.575005  0.0175
2023-11-13 15:26:29,496 - yq - INFO - Calibrating LONZA on 2023-10-17 00:00:00.
2023-11-13 15:26:37,331 - yq - INFO - Calibrating SIKA on 2023-10-17 00:00:00.
2023-11-13 15:27:09,510 - yq - INFO - The S_0 for LONZA and SIKA are 357.3 and 222.2
2023-11-13 15:27:09,531 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 40 seconds
2023-11-13 15:27:09,833 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231017.csv
2023-11-13 15:27:09,833 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.22224578e+00  4.82010818e-02  8.80875036e-02 -2.02468780e-01
   7.86237075e-01]
 [ 1.00019672e-02  5.66588133e-01  1.69889715e-01 -1.18597316e-06
   9.99999999e+00]]
2023-11-13 15:27:09,882 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16b397950>, Timestamp('2023-10-17 00:00:00')): 0.0h 0.0m 40s 399ms
2023-11-13 15:27:10,028 - yq - INFO - The log returns list for all assets is: [Date
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
                ...   
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
                ...   
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:27:10,049 - yq - INFO - rho_S1S2 is 0.4745605548224541

2023-11-13 15:27:10,050 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.47456055]
 [0.47456055 1.        ]]

2023-11-13 15:27:10,050 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.02468780e-01  4.74560555e-01  0.00000000e+00]
 [-2.02468780e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.74560555e-01  0.00000000e+00  1.00000000e+00 -1.18597316e-06]
 [ 0.00000000e+00  0.00000000e+00 -1.18597316e-06  1.00000000e+00]]

2023-11-13 15:27:10,052 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.02468780e-01  9.79288718e-01  0.00000000e+00  0.00000000e+00]
 [ 4.74560555e-01  9.81158008e-02  8.74737429e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.35580475e-06  1.00000000e+00]]

2023-11-13 15:27:10,052 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16b397950>): 0.0h 0.0m 0s 168ms
2023-11-13 15:27:10,118 - yq - INFO - The adjusted S_0 is [357.3 222.2]
2023-11-13 15:27:10,147 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:27:10,169 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  341.377850  201.776287
1  337.094160  205.580836
2  341.910916  148.624865
3  329.835027  143.405068
4  335.470219  108.464673
2023-11-13 15:27:10,418 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  341.377850  201.776287
2023-10-19  337.094160  205.580836
2023-10-20  341.910916  148.624865
2023-10-23  329.835027  143.405068
2023-10-24  335.470219  108.464673
2023-11-13 15:27:10,424 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16b397950>, n_sim=1): 0.0h 0.0m 40s 946ms
2023-11-13 15:27:10,426 - yq - INFO - Pricing the product on 2023-10-18 00:00:00
2023-11-13 15:27:10,431 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:27:10,485 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:27:10,728 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-11-13 15:27:10,742 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231018.csv
2023-11-13 15:27:10,798 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/lonn_call.csv
2023-11-13 15:27:10,800 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     320  31.299999  28.101810  0.0175
1  0.162807     325  27.500000  27.525820  0.0175
2  0.162807     330  24.950001  29.035944  0.0175
3  0.162807     335  21.875000  28.934927  0.0175
4  0.162807     340  19.049999  28.851625  0.0175
2023-11-13 15:27:10,809 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/sika_call.csv
2023-11-13 15:27:10,813 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     175  38.500000  38.528267  0.0175
1  0.162807     180  33.849998  36.588718  0.0175
2  0.162807     185  29.324997  34.833080  0.0175
3  0.162807     190  25.024994  33.522907  0.0175
4  0.162807     195  20.899994  32.112335  0.0175
2023-11-13 15:27:10,818 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     320  31.299999  0.0175
1  0.162807     325  27.500000  0.0175
2  0.162807     330  24.950001  0.0175
3  0.162807     335  21.875000  0.0175
4  0.162807     340  19.049999  0.0175
   maturity  strike      price    rate
0  0.162807     175  38.500000  0.0175
1  0.162807     180  33.849998  0.0175
2  0.162807     185  29.324997  0.0175
3  0.162807     190  25.024994  0.0175
4  0.162807     195  20.899994  0.0175
2023-11-13 15:27:10,818 - yq - INFO - Calibrating LONZA on 2023-10-18 00:00:00.
2023-11-13 15:27:47,869 - yq - INFO - Calibrating SIKA on 2023-10-18 00:00:00.
2023-11-13 15:28:28,309 - yq - INFO - The S_0 for LONZA and SIKA are 344.7 and 216.3
2023-11-13 15:28:28,324 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 17 seconds
2023-11-13 15:28:28,362 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231018.csv
2023-11-13 15:28:28,362 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.85144212e-02  5.01918769e+00  7.71814697e-02 -4.19274765e-01
   9.61508082e-01]
 [ 5.29819479e-01  2.25968719e-01  4.23831558e-02 -1.86420240e-03
   7.28661606e-01]]
2023-11-13 15:28:28,371 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16b397950>, Timestamp('2023-10-18 00:00:00')): 0.0h 1.0m 17s 642ms
2023-11-13 15:28:28,394 - yq - INFO - The log returns list for all assets is: [Date
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
                ...   
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
                ...   
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:28:28,399 - yq - INFO - rho_S1S2 is 0.5389646229379524

2023-11-13 15:28:28,399 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53896462]
 [0.53896462 1.        ]]

2023-11-13 15:28:28,399 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.41927477  0.53896462  0.        ]
 [-0.41927477  1.          0.          0.        ]
 [ 0.53896462  0.          1.         -0.0018642 ]
 [ 0.          0.         -0.0018642   1.        ]]

2023-11-13 15:28:28,403 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.41927477  0.90785939  0.          0.        ]
 [ 0.53896462  0.24890888  0.80471206  0.        ]
 [ 0.          0.         -0.00231661  0.99999732]]

2023-11-13 15:28:28,404 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16b397950>): 0.0h 0.0m 0s 33ms
2023-11-13 15:28:28,423 - yq - INFO - The adjusted S_0 is [344.7 216.3]
2023-11-13 15:28:28,442 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:28:28,452 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  378.917651  220.753566
1  402.538565  228.455640
2  394.536265  213.833436
3  388.498534  206.750593
4  352.675364  197.955498
2023-11-13 15:28:28,598 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  378.917651  220.753566
2023-10-20  402.538565  228.455640
2023-10-23  394.536265  213.833436
2023-10-24  388.498534  206.750593
2023-10-25  352.675364  197.955498
2023-11-13 15:28:28,604 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16b397950>, n_sim=1): 0.0h 1.0m 17s 879ms
2023-11-13 15:28:28,605 - yq - INFO - Pricing the product on 2023-10-19 00:00:00
2023-11-13 15:28:28,606 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:28:28,627 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:28:28,858 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-11-13 15:28:28,863 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231019.csv
2023-11-13 15:28:28,874 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/lonn_call.csv
2023-11-13 15:28:28,876 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     290  33.549995  38.621948  0.0175
1      0.16     295  29.849991  37.778728  0.0175
2      0.16     300  26.349991  36.993767  0.0175
3      0.16     305  23.099991  36.343693  0.0175
4      0.16     310  20.049995  35.675377  0.0175
2023-11-13 15:28:28,881 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/sika_call.csv
2023-11-13 15:28:28,883 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     175  38.500000  38.528267  0.0175
1      0.16     180  33.849998  36.588718  0.0175
2      0.16     185  29.324997  34.833080  0.0175
3      0.16     190  25.024994  33.522907  0.0175
4      0.16     195  20.899994  32.112335  0.0175
2023-11-13 15:28:28,888 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     290  33.549995  0.0175
1      0.16     295  29.849991  0.0175
2      0.16     300  26.349991  0.0175
3      0.16     305  23.099991  0.0175
4      0.16     310  20.049995  0.0175
   maturity  strike      price    rate
0      0.16     175  38.500000  0.0175
1      0.16     180  33.849998  0.0175
2      0.16     185  29.324997  0.0175
3      0.16     190  25.024994  0.0175
4      0.16     195  20.899994  0.0175
2023-11-13 15:28:28,888 - yq - INFO - Calibrating LONZA on 2023-10-19 00:00:00.
2023-11-13 15:29:02,139 - yq - INFO - Calibrating SIKA on 2023-10-19 00:00:00.
2023-11-13 15:29:42,627 - yq - INFO - The S_0 for LONZA and SIKA are 342.0 and 218.2
2023-11-13 15:29:42,632 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 13 seconds
2023-11-13 15:29:42,677 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231019.csv
2023-11-13 15:29:42,677 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.36375069e-01  4.65460385e-01  1.00000111e-02 -5.90779647e-11
   4.81844569e-02]
 [ 6.41758220e-01  2.11989261e-01  3.47648636e-02 -1.11118437e-06
   8.17099618e-01]]
2023-11-13 15:29:42,685 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16b397950>, Timestamp('2023-10-19 00:00:00')): 0.0h 1.0m 13s 826ms
2023-11-13 15:29:42,714 - yq - INFO - The log returns list for all assets is: [Date
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
                ...   
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
                ...   
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:29:42,719 - yq - INFO - rho_S1S2 is 0.5362086169973319

2023-11-13 15:29:42,720 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53620862]
 [0.53620862 1.        ]]

2023-11-13 15:29:42,720 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -5.90779647e-11  5.36208617e-01  0.00000000e+00]
 [-5.90779647e-11  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.36208617e-01  0.00000000e+00  1.00000000e+00 -1.11118437e-06]
 [ 0.00000000e+00  0.00000000e+00 -1.11118437e-06  1.00000000e+00]]

2023-11-13 15:29:42,721 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-5.90779647e-11  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.36208617e-01  3.16781138e-11  8.44085493e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.31643581e-06  1.00000000e+00]]

2023-11-13 15:29:42,721 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16b397950>): 0.0h 0.0m 0s 36ms
2023-11-13 15:29:42,737 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 15:29:42,773 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:29:42,779 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  351.241035  230.249096
1  348.305317  246.981468
2  348.848575  253.791514
3  350.678256  255.734981
4  356.915621  262.789572
2023-11-13 15:29:42,896 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  351.241035  230.249096
2023-10-23  348.305317  246.981468
2023-10-24  348.848575  253.791514
2023-10-25  350.678256  255.734981
2023-10-26  356.915621  262.789572
2023-11-13 15:29:42,899 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16b397950>, n_sim=1): 0.0h 1.0m 14s 43ms
2023-11-13 15:29:42,900 - yq - INFO - Pricing the product on 2023-10-20 00:00:00
2023-11-13 15:29:42,900 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:29:42,910 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:29:43,113 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-11-13 15:29:43,114 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231020.csv
2023-11-13 15:29:43,121 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/lonn_call.csv
2023-11-13 15:29:43,122 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     290  33.549995  38.621948  0.0175
1  0.157193     295  29.849991  37.778728  0.0175
2  0.157193     300  26.349991  36.993767  0.0175
3  0.157193     305  23.099991  36.343693  0.0175
4  0.157193     310  20.049995  35.675377  0.0175
2023-11-13 15:29:43,123 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/sika_call.csv
2023-11-13 15:29:43,125 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     175  38.500000  38.528267  0.0175
1  0.157193     180  33.849998  36.588718  0.0175
2  0.157193     185  29.324997  34.833080  0.0175
3  0.157193     190  25.024994  33.522907  0.0175
4  0.157193     195  20.899994  32.112335  0.0175
2023-11-13 15:29:43,129 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     290  33.549995  0.0175
1  0.157193     295  29.849991  0.0175
2  0.157193     300  26.349991  0.0175
3  0.157193     305  23.099991  0.0175
4  0.157193     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.157193     175  38.500000  0.0175
1  0.157193     180  33.849998  0.0175
2  0.157193     185  29.324997  0.0175
3  0.157193     190  25.024994  0.0175
4  0.157193     195  20.899994  0.0175
2023-11-13 15:29:43,129 - yq - INFO - Calibrating LONZA on 2023-10-20 00:00:00.
2023-11-13 15:30:19,896 - yq - INFO - Calibrating SIKA on 2023-10-20 00:00:00.
2023-11-13 15:30:26,760 - yq - INFO - The S_0 for LONZA and SIKA are 332.9 and 217.0
2023-11-13 15:30:26,765 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 43 seconds
2023-11-13 15:30:26,775 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231020.csv
2023-11-13 15:30:26,776 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.98374467e+00  7.61855839e-02  1.43927602e-02 -4.35639113e-04
   3.59251109e+00]
 [ 1.63814653e-02  5.33389442e+00  4.21172076e-02 -3.16315862e-11
   7.01343428e-01]]
2023-11-13 15:30:26,777 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15fd3e710>, Timestamp('2023-10-20 00:00:00')): 0.0h 0.0m 43s 664ms
2023-11-13 15:30:26,786 - yq - INFO - The log returns list for all assets is: [Date
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
                ...   
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
                ...   
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:30:26,787 - yq - INFO - rho_S1S2 is 0.5283653584747795

2023-11-13 15:30:26,787 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52836536]
 [0.52836536 1.        ]]

2023-11-13 15:30:26,788 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -4.35639113e-04  5.28365358e-01  0.00000000e+00]
 [-4.35639113e-04  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28365358e-01  0.00000000e+00  1.00000000e+00 -3.16315862e-11]
 [ 0.00000000e+00  0.00000000e+00 -3.16315862e-11  1.00000000e+00]]

2023-11-13 15:30:26,788 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-4.35639113e-04  9.99999905e-01  0.00000000e+00  0.00000000e+00]
 [ 5.28365358e-01  2.30176638e-04  8.49017076e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.72567138e-11  1.00000000e+00]]

2023-11-13 15:30:26,788 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15fd3e710>): 0.0h 0.0m 0s 11ms
2023-11-13 15:30:26,798 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 15:30:26,816 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:30:26,823 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  334.915618  200.740345
1  385.709492  175.603341
2  396.115871  186.429764
3  335.573517  182.548518
4  342.836154  172.859939
2023-11-13 15:30:26,929 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  334.915618  200.740345
2023-10-24  385.709492  175.603341
2023-10-25  396.115871  186.429764
2023-10-26  335.573517  182.548518
2023-10-27  342.836154  172.859939
2023-11-13 15:30:26,930 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15fd3e710>, n_sim=1): 0.0h 0.0m 43s 819ms
2023-11-13 15:30:26,930 - yq - INFO - Pricing the product on 2023-10-23 00:00:00
2023-11-13 15:30:26,931 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:30:26,937 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:30:27,148 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-11-13 15:30:27,148 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231023.csv
2023-11-13 15:30:27,151 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/lonn_call.csv
2023-11-13 15:30:27,153 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     290  33.549995  38.621948  0.0175
1  0.148772     295  29.849991  37.778728  0.0175
2  0.148772     300  26.349991  36.993767  0.0175
3  0.148772     305  23.099991  36.343693  0.0175
4  0.148772     310  20.049995  35.675377  0.0175
2023-11-13 15:30:27,154 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/sika_call.csv
2023-11-13 15:30:27,156 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     175  38.500000  38.528267  0.0175
1  0.148772     180  33.849998  36.588718  0.0175
2  0.148772     185  29.324997  34.833080  0.0175
3  0.148772     190  25.024994  33.522907  0.0175
4  0.148772     195  20.899994  32.112335  0.0175
2023-11-13 15:30:27,161 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     290  33.549995  0.0175
1  0.148772     295  29.849991  0.0175
2  0.148772     300  26.349991  0.0175
3  0.148772     305  23.099991  0.0175
4  0.148772     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.148772     175  38.500000  0.0175
1  0.148772     180  33.849998  0.0175
2  0.148772     185  29.324997  0.0175
3  0.148772     190  25.024994  0.0175
4  0.148772     195  20.899994  0.0175
2023-11-13 15:30:27,161 - yq - INFO - Calibrating LONZA on 2023-10-23 00:00:00.
2023-11-13 15:31:11,624 - yq - INFO - Calibrating SIKA on 2023-10-23 00:00:00.
2023-11-13 15:31:55,431 - yq - INFO - The S_0 for LONZA and SIKA are 327.6 and 215.9
2023-11-13 15:31:55,438 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 28 seconds
2023-11-13 15:31:55,542 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231023.csv
2023-11-13 15:31:55,543 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.75422620e-02  3.09176905e+00  2.87221980e-02 -3.98335512e-07
   4.22649761e-01]
 [ 5.78926353e-01  1.71690417e-01  5.16304359e-02 -1.07354424e-05
   7.38259622e-01]]
2023-11-13 15:31:55,556 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>, Timestamp('2023-10-23 00:00:00')): 0.0h 1.0m 28s 408ms
2023-11-13 15:31:55,610 - yq - INFO - The log returns list for all assets is: [Date
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
                ...   
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
                ...   
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:31:55,614 - yq - INFO - rho_S1S2 is 0.5283126864034193

2023-11-13 15:31:55,614 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52831269]
 [0.52831269 1.        ]]

2023-11-13 15:31:55,615 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -3.98335512e-07  5.28312686e-01  0.00000000e+00]
 [-3.98335512e-07  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28312686e-01  0.00000000e+00  1.00000000e+00 -1.07354424e-05]
 [ 0.00000000e+00  0.00000000e+00 -1.07354424e-05  1.00000000e+00]]

2023-11-13 15:31:55,615 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-3.98335512e-07  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28312686e-01  2.10445704e-07  8.49049884e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.26440656e-05  1.00000000e+00]]

2023-11-13 15:31:55,615 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>): 0.0h 0.0m 0s 59ms
2023-11-13 15:31:55,635 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 15:31:55,653 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:31:55,658 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  333.040718  210.017104
1  331.050741  223.629477
2  327.859388  213.509593
3  302.261749  199.029839
4  311.192577  212.671901
2023-11-13 15:31:55,781 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  333.040718  210.017104
2023-10-25  331.050741  223.629477
2023-10-26  327.859388  213.509593
2023-10-27  302.261749  199.029839
2023-10-30  311.192577  212.671901
2023-11-13 15:31:55,784 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15ac6ad50>, n_sim=1): 0.0h 1.0m 28s 638ms
2023-11-13 15:31:55,784 - yq - INFO - Pricing the product on 2023-10-24 00:00:00
2023-11-13 15:31:55,785 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:31:55,805 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:31:56,010 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-11-13 15:31:56,013 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231024.csv
2023-11-13 15:31:56,023 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/lonn_call.csv
2023-11-13 15:31:56,025 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     290  33.549995  38.621948  0.0175
1  0.145965     295  29.849991  37.778728  0.0175
2  0.145965     300  26.349991  36.993767  0.0175
3  0.145965     305  23.099991  36.343693  0.0175
4  0.145965     310  20.049995  35.675377  0.0175
2023-11-13 15:31:56,026 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/sika_call.csv
2023-11-13 15:31:56,030 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     175  38.500000  38.528267  0.0175
1  0.145965     180  33.849998  36.588718  0.0175
2  0.145965     185  29.324997  34.833080  0.0175
3  0.145965     190  25.024994  33.522907  0.0175
4  0.145965     195  20.899994  32.112335  0.0175
2023-11-13 15:31:56,033 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     290  33.549995  0.0175
1  0.145965     295  29.849991  0.0175
2  0.145965     300  26.349991  0.0175
3  0.145965     305  23.099991  0.0175
4  0.145965     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.145965     175  38.500000  0.0175
1  0.145965     180  33.849998  0.0175
2  0.145965     185  29.324997  0.0175
3  0.145965     190  25.024994  0.0175
4  0.145965     195  20.899994  0.0175
2023-11-13 15:31:56,033 - yq - INFO - Calibrating LONZA on 2023-10-24 00:00:00.
2023-11-13 15:31:57,777 - yq - ERROR - Error during calibration on 2023-10-24: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:31:57,778 - yq - ERROR - Error during simulation on 2023-10-24 00:00:00: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:31:57,778 - yq - INFO - Pricing the product on 2023-10-25 00:00:00
2023-11-13 15:31:57,778 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:31:57,787 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:31:57,994 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-11-13 15:31:57,995 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231025.csv
2023-11-13 15:31:57,996 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/lonn_call.csv
2023-11-13 15:31:57,998 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     290  33.549995  38.621948  0.0175
1  0.143158     295  29.849991  37.778728  0.0175
2  0.143158     300  26.349991  36.993767  0.0175
3  0.143158     305  23.099991  36.343693  0.0175
4  0.143158     310  20.049995  35.675377  0.0175
2023-11-13 15:31:58,002 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/sika_call.csv
2023-11-13 15:31:58,004 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     175  38.500000  38.528267  0.0175
1  0.143158     180  33.849998  36.588718  0.0175
2  0.143158     185  29.324997  34.833080  0.0175
3  0.143158     190  25.024994  33.522907  0.0175
4  0.143158     195  20.899994  32.112335  0.0175
2023-11-13 15:31:58,008 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     290  33.549995  0.0175
1  0.143158     295  29.849991  0.0175
2  0.143158     300  26.349991  0.0175
3  0.143158     305  23.099991  0.0175
4  0.143158     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.143158     175  38.500000  0.0175
1  0.143158     180  33.849998  0.0175
2  0.143158     185  29.324997  0.0175
3  0.143158     190  25.024994  0.0175
4  0.143158     195  20.899994  0.0175
2023-11-13 15:31:58,008 - yq - INFO - Calibrating LONZA on 2023-10-25 00:00:00.
2023-11-13 15:32:05,424 - yq - INFO - Calibrating SIKA on 2023-10-25 00:00:00.
2023-11-13 15:32:06,053 - yq - ERROR - Error during calibration on 2023-10-25: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:32:06,053 - yq - ERROR - Error during simulation on 2023-10-25 00:00:00: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 15:32:06,053 - yq - INFO - Pricing the product on 2023-10-26 00:00:00
2023-11-13 15:32:06,054 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:32:06,126 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:32:06,342 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-11-13 15:32:06,359 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231026.csv
2023-11-13 15:32:06,375 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/lonn_call.csv
2023-11-13 15:32:06,376 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     295  30.500000  38.355637  0.0175
1  0.140351     300  26.950001  37.520493  0.0175
2  0.140351     305  23.625000  36.776703  0.0175
3  0.140351     310  20.549999  36.132118  0.0175
4  0.140351     315  17.725000  35.556763  0.0175
2023-11-13 15:32:06,379 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/sika_call.csv
2023-11-13 15:32:06,380 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     175  38.699997  38.509201  0.0175
1  0.140351     180  34.050003  36.681973  0.0175
2  0.140351     185  29.500000  34.874573  0.0175
3  0.140351     190  25.125000  33.306301  0.0175
4  0.140351     195  21.000000  32.032856  0.0175
2023-11-13 15:32:06,385 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     295  30.500000  0.0175
1  0.140351     300  26.950001  0.0175
2  0.140351     305  23.625000  0.0175
3  0.140351     310  20.549999  0.0175
4  0.140351     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.140351     175  38.699997  0.0175
1  0.140351     180  34.050003  0.0175
2  0.140351     185  29.500000  0.0175
3  0.140351     190  25.125000  0.0175
4  0.140351     195  21.000000  0.0175
2023-11-13 15:32:06,386 - yq - INFO - Calibrating LONZA on 2023-10-26 00:00:00.
2023-11-13 15:32:16,581 - yq - INFO - Calibrating SIKA on 2023-10-26 00:00:00.
2023-11-13 15:32:23,052 - yq - INFO - The S_0 for LONZA and SIKA are 315.9 and 211.2
2023-11-13 15:32:23,055 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 16 seconds
2023-11-13 15:32:23,071 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231026.csv
2023-11-13 15:32:23,071 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999784  0.14362501  0.21169144 -0.33109451  3.95789844]
 [ 0.01495779  9.99832683  0.10863129 -0.45546211  1.52705619]]
2023-11-13 15:32:23,073 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a476d90>, Timestamp('2023-10-26 00:00:00')): 0.0h 0.0m 16s 730ms
2023-11-13 15:32:23,083 - yq - INFO - The log returns list for all assets is: [Date
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
                ...   
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
                ...   
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:32:23,085 - yq - INFO - rho_S1S2 is 0.5325842602953332

2023-11-13 15:32:23,085 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53258426]
 [0.53258426 1.        ]]

2023-11-13 15:32:23,085 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.33109451  0.53258426  0.        ]
 [-0.33109451  1.          0.          0.        ]
 [ 0.53258426  0.          1.         -0.45546211]
 [ 0.          0.         -0.45546211  1.        ]]

2023-11-13 15:32:23,086 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.33109451  0.9435976   0.          0.        ]
 [ 0.53258426  0.18687598  0.82548857  0.        ]
 [ 0.          0.         -0.55174853  0.83401052]]

2023-11-13 15:32:23,086 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a476d90>): 0.0h 0.0m 0s 13ms
2023-11-13 15:32:23,100 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 15:32:23,122 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:32:23,127 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  345.183842  185.976603
1  372.904386  200.286826
2  316.492351  196.574200
3  267.810589  194.697886
4  286.234193  192.761449
2023-11-13 15:32:23,259 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  345.183842  185.976603
2023-10-30  372.904386  200.286826
2023-10-31  316.492351  196.574200
2023-11-01  267.810589  194.697886
2023-11-02  286.234193  192.761449
2023-11-13 15:32:23,263 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a476d90>, n_sim=1): 0.0h 0.0m 16s 923ms
2023-11-13 15:32:23,263 - yq - INFO - Pricing the product on 2023-10-27 00:00:00
2023-11-13 15:32:23,263 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:32:23,279 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:32:23,538 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-11-13 15:32:23,539 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231027.csv
2023-11-13 15:32:23,543 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/lonn_call.csv
2023-11-13 15:32:23,545 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     290  33.500000  40.410904  0.0175
1  0.137544     295  29.999992  39.955196  0.0175
2  0.137544     300  26.499992  39.053944  0.0175
3  0.137544     305  23.249992  38.304703  0.0175
4  0.137544     310  20.199997  37.549683  0.0175
2023-11-13 15:32:23,548 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/sika_call.csv
2023-11-13 15:32:23,550 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     180  36.075005  37.532513  0.0175
1  0.137544     185  31.500000  35.868580  0.0175
2  0.137544     190  26.974998  33.822449  0.0175
3  0.137544     195  22.725006  32.429932  0.0175
4  0.137544     200  18.700005  31.064346  0.0175
2023-11-13 15:32:23,553 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     290  33.500000  0.0175
1  0.137544     295  29.999992  0.0175
2  0.137544     300  26.499992  0.0175
3  0.137544     305  23.249992  0.0175
4  0.137544     310  20.199997  0.0175
   maturity  strike      price    rate
0  0.137544     180  36.075005  0.0175
1  0.137544     185  31.500000  0.0175
2  0.137544     190  26.974998  0.0175
3  0.137544     195  22.725006  0.0175
4  0.137544     200  18.700005  0.0175
2023-11-13 15:32:23,553 - yq - INFO - Calibrating LONZA on 2023-10-27 00:00:00.
2023-11-13 15:32:48,552 - yq - INFO - Calibrating SIKA on 2023-10-27 00:00:00.
2023-11-13 15:32:56,934 - yq - INFO - The S_0 for LONZA and SIKA are 314.6 and 214.1
2023-11-13 15:32:56,937 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 33 seconds
2023-11-13 15:32:56,951 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231027.csv
2023-11-13 15:32:56,952 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999999  0.15064611  0.23542488 -0.3144717   4.04992   ]
 [ 2.9248911   0.1512944   0.10467205 -0.4062779   2.19943125]]
2023-11-13 15:32:56,953 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bbb0110>, Timestamp('2023-10-27 00:00:00')): 0.0h 0.0m 33s 414ms
2023-11-13 15:32:56,963 - yq - INFO - The log returns list for all assets is: [Date
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
                ...   
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
                ...   
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:32:56,964 - yq - INFO - rho_S1S2 is 0.5300127356410798

2023-11-13 15:32:56,964 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53001274]
 [0.53001274 1.        ]]

2023-11-13 15:32:56,964 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.3144717   0.53001274  0.        ]
 [-0.3144717   1.          0.          0.        ]
 [ 0.53001274  0.          1.         -0.4062779 ]
 [ 0.          0.         -0.4062779   1.        ]]

2023-11-13 15:32:56,964 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.3144717   0.94926685  0.          0.        ]
 [ 0.53001274  0.17558183  0.82961287  0.        ]
 [ 0.          0.         -0.48971986  0.87187984]]

2023-11-13 15:32:56,964 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bbb0110>): 0.0h 0.0m 0s 12ms
2023-11-13 15:32:56,977 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 15:32:56,996 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:32:56,999 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  324.222967  212.750488
1  279.043824  179.798887
2  232.517548  155.694653
3  266.247594  156.088078
4  245.335885  141.950959
2023-11-13 15:32:57,110 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  324.222967  212.750488
2023-10-31  279.043824  179.798887
2023-11-01  232.517548  155.694653
2023-11-02  266.247594  156.088078
2023-11-03  245.335885  141.950959
2023-11-13 15:32:57,112 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bbb0110>, n_sim=1): 0.0h 0.0m 33s 579ms
2023-11-13 15:32:57,112 - yq - INFO - Pricing the product on 2023-10-30 00:00:00
2023-11-13 15:32:57,112 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:32:57,121 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:32:58,114 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-11-13 15:32:58,114 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231030.csv
2023-11-13 15:32:58,117 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/lonn_call.csv
2023-11-13 15:32:58,118 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     295  29.500000  35.865021  0.0175
1  0.129123     300  26.974991  37.865707  0.0175
2  0.129123     305  22.500000  34.535404  0.0175
3  0.129123     310  18.049999  30.977629  0.0175
4  0.129123     315  16.500000  33.432877  0.0175
2023-11-13 15:32:58,119 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/sika_call.csv
2023-11-13 15:32:58,121 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     180  37.825005  35.644909  0.0175
1  0.129123     185  33.150002  34.194305  0.0175
2  0.129123     190  28.525002  32.353138  0.0175
3  0.129123     195  24.099998  30.941946  0.0175
4  0.129123     200  19.925003  29.785938  0.0175
2023-11-13 15:32:58,124 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     295  29.500000  0.0175
1  0.129123     300  26.974991  0.0175
2  0.129123     305  22.500000  0.0175
3  0.129123     310  18.049999  0.0175
4  0.129123     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.129123     180  37.825005  0.0175
1  0.129123     185  33.150002  0.0175
2  0.129123     190  28.525002  0.0175
3  0.129123     195  24.099998  0.0175
4  0.129123     200  19.925003  0.0175
2023-11-13 15:32:58,124 - yq - INFO - Calibrating LONZA on 2023-10-30 00:00:00.
2023-11-13 15:33:09,801 - yq - INFO - Calibrating SIKA on 2023-10-30 00:00:00.
2023-11-13 15:33:18,345 - yq - INFO - The S_0 for LONZA and SIKA are 311.5 and 214.1
2023-11-13 15:33:18,348 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 20 seconds
2023-11-13 15:33:18,386 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231030.csv
2023-11-13 15:33:18,388 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999998  0.2435532   0.43599959 -0.46860056  9.06938051]
 [ 1.42807854  0.30862582  0.13960123 -0.54873619  2.70208783]]
2023-11-13 15:33:18,398 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15bb9ad50>, Timestamp('2023-10-30 00:00:00')): 0.0h 0.0m 20s 284ms
2023-11-13 15:33:18,412 - yq - INFO - The log returns list for all assets is: [Date
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
                ...   
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
                ...   
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:33:18,414 - yq - INFO - rho_S1S2 is 0.5288989583914336

2023-11-13 15:33:18,415 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52889896]
 [0.52889896 1.        ]]

2023-11-13 15:33:18,416 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.46860056  0.52889896  0.        ]
 [-0.46860056  1.          0.          0.        ]
 [ 0.52889896  0.          1.         -0.54873619]
 [ 0.          0.         -0.54873619  1.        ]]

2023-11-13 15:33:18,417 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.46860056  0.88341016  0.          0.        ]
 [ 0.52889896  0.28055184  0.80097226  0.        ]
 [ 0.          0.         -0.68508763  0.72846066]]

2023-11-13 15:33:18,418 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15bb9ad50>): 0.0h 0.0m 0s 19ms
2023-11-13 15:33:18,472 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 15:33:18,535 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:33:18,537 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  280.686321  202.738925
1  320.428187  197.629576
2  240.512720  187.264616
3  250.433689  202.564026
4  318.285976  250.571228
2023-11-13 15:33:18,781 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  280.686321  202.738925
2023-11-01  320.428187  197.629576
2023-11-02  240.512720  187.264616
2023-11-03  250.433689  202.564026
2023-11-06  318.285976  250.571228
2023-11-13 15:33:18,791 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15bb9ad50>, n_sim=1): 0.0h 0.0m 20s 679ms
2023-11-13 15:33:18,792 - yq - INFO - Pricing the product on 2023-10-31 00:00:00
2023-11-13 15:33:18,793 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:33:18,839 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:33:19,266 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-11-13 15:33:19,268 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231031.csv
2023-11-13 15:33:19,273 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/lonn_call.csv
2023-11-13 15:33:19,277 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     295  29.500000  35.865021  0.0175
1  0.126316     300  26.974991  37.865707  0.0175
2  0.126316     305  22.500000  34.535404  0.0175
3  0.126316     310  18.049999  30.977629  0.0175
4  0.126316     315  16.500000  33.432877  0.0175
2023-11-13 15:33:19,279 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/sika_call.csv
2023-11-13 15:33:19,282 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     180  37.825005  35.644909  0.0175
1  0.126316     185  33.150002  34.194305  0.0175
2  0.126316     190  28.525002  32.353138  0.0175
3  0.126316     195  24.099998  30.941946  0.0175
4  0.126316     200  19.925003  29.785938  0.0175
2023-11-13 15:33:19,287 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     295  29.500000  0.0175
1  0.126316     300  26.974991  0.0175
2  0.126316     305  22.500000  0.0175
3  0.126316     310  18.049999  0.0175
4  0.126316     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.126316     180  37.825005  0.0175
1  0.126316     185  33.150002  0.0175
2  0.126316     190  28.525002  0.0175
3  0.126316     195  24.099998  0.0175
4  0.126316     200  19.925003  0.0175
2023-11-13 15:33:19,287 - yq - INFO - Calibrating LONZA on 2023-10-31 00:00:00.
2023-11-13 15:33:28,369 - yq - INFO - Calibrating SIKA on 2023-10-31 00:00:00.
2023-11-13 15:33:33,587 - yq - INFO - The S_0 for LONZA and SIKA are 316.8 and 216.9
2023-11-13 15:33:33,588 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 15:33:33,593 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231031.csv
2023-11-13 15:33:33,593 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999173  0.13078966  0.19275388 -0.23120513  3.96208041]
 [ 4.15419579  0.11303008  0.0883531  -0.32223362  2.06703174]]
2023-11-13 15:33:33,594 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x16a1cf8d0>, Timestamp('2023-10-31 00:00:00')): 0.0h 0.0m 14s 328ms
2023-11-13 15:33:33,600 - yq - INFO - The log returns list for all assets is: [Date
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
                ...   
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
                ...   
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:33:33,601 - yq - INFO - rho_S1S2 is 0.5513577730599765

2023-11-13 15:33:33,601 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55135777]
 [0.55135777 1.        ]]

2023-11-13 15:33:33,601 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.23120513  0.55135777  0.        ]
 [-0.23120513  1.          0.          0.        ]
 [ 0.55135777  0.          1.         -0.32223362]
 [ 0.          0.         -0.32223362  1.        ]]

2023-11-13 15:33:33,601 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.23120513  0.97290503  0.          0.        ]
 [ 0.55135777  0.13102692  0.82391538  0.        ]
 [ 0.          0.         -0.39110038  0.92034803]]

2023-11-13 15:33:33,601 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x16a1cf8d0>): 0.0h 0.0m 0s 7ms
2023-11-13 15:33:33,608 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 15:33:33,633 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:33:33,639 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  309.550995  242.783268
1  263.330846  228.726708
2  286.251459  246.449313
3  343.942892  253.254258
4  296.020116  202.705168
2023-11-13 15:33:33,756 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  309.550995  242.783268
2023-11-02  263.330846  228.726708
2023-11-03  286.251459  246.449313
2023-11-06  343.942892  253.254258
2023-11-07  296.020116  202.705168
2023-11-13 15:33:33,758 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x16a1cf8d0>, n_sim=1): 0.0h 0.0m 14s 502ms
2023-11-13 15:33:33,758 - yq - INFO - Pricing the product on 2023-11-01 00:00:00
2023-11-13 15:33:33,758 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:33:33,767 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:33:33,996 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-11-13 15:33:33,996 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231101.csv
2023-11-13 15:33:33,998 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/lonn_call.csv
2023-11-13 15:33:34,000 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     295  31.399994  37.997524  0.0175
1  0.123509     300  27.949997  37.785522  0.0175
2  0.123509     305  24.399994  36.817703  0.0175
3  0.123509     310  21.099991  35.968155  0.0175
4  0.123509     315  18.049999  35.185196  0.0175
2023-11-13 15:33:34,002 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/sika_call.csv
2023-11-13 15:33:34,003 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     180  37.175003  36.303440  0.0175
1  0.123509     185  32.424995  34.078827  0.0175
2  0.123509     190  27.874992  32.687176  0.0175
3  0.123509     195  23.425003  30.999638  0.0175
4  0.123509     200  19.175003  29.390894  0.0175
2023-11-13 15:33:34,007 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     295  31.399994  0.0175
1  0.123509     300  27.949997  0.0175
2  0.123509     305  24.399994  0.0175
3  0.123509     310  21.099991  0.0175
4  0.123509     315  18.049999  0.0175
   maturity  strike      price    rate
0  0.123509     180  37.175003  0.0175
1  0.123509     185  32.424995  0.0175
2  0.123509     190  27.874992  0.0175
3  0.123509     195  23.425003  0.0175
4  0.123509     200  19.175003  0.0175
2023-11-13 15:33:34,007 - yq - INFO - Calibrating LONZA on 2023-11-01 00:00:00.
2023-11-13 15:33:43,430 - yq - INFO - Calibrating SIKA on 2023-11-01 00:00:00.
2023-11-13 15:33:48,855 - yq - INFO - The S_0 for LONZA and SIKA are 318.6 and 215.2
2023-11-13 15:33:48,856 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 15:33:48,862 - yq - INFO - Parameters saved successfully to /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231101.csv
2023-11-13 15:33:48,862 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999919  0.14432692  0.18520207 -0.32948611  3.6163853 ]
 [ 2.86417831  0.16079591  0.10071613 -0.43085801  2.3430553 ]]
2023-11-13 15:33:48,869 - yq - INFO - Runtime of calibrate(<yq.scripts.heston.MultiHeston object at 0x15fd3e710>, Timestamp('2023-11-01 00:00:00')): 0.0h 0.0m 14s 873ms
2023-11-13 15:33:48,880 - yq - INFO - The log returns list for all assets is: [Date
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
                ...   
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
                ...   
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 15:33:48,883 - yq - INFO - rho_S1S2 is 0.5625703773759996

2023-11-13 15:33:48,884 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.56257038]
 [0.56257038 1.        ]]

2023-11-13 15:33:48,884 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.32948611  0.56257038  0.        ]
 [-0.32948611  1.          0.          0.        ]
 [ 0.56257038  0.          1.         -0.43085801]
 [ 0.          0.         -0.43085801  1.        ]]

2023-11-13 15:33:48,886 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.32948611  0.94416042  0.          0.        ]
 [ 0.56257038  0.19632164  0.80310173  0.        ]
 [ 0.          0.         -0.53649245  0.84390512]]

2023-11-13 15:33:48,886 - yq - INFO - Runtime of calc_L_lower(<yq.scripts.heston.MultiHeston object at 0x15fd3e710>): 0.0h 0.0m 0s 17ms
2023-11-13 15:33:48,891 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 15:33:48,925 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 15:33:48,932 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  303.369935  211.449362
1  260.039449  210.913889
2  261.911719  226.068503
3  272.609370  219.628167
4  268.129011  208.912284
2023-11-13 15:33:49,073 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  303.369935  211.449362
2023-11-03  260.039449  210.913889
2023-11-06  261.911719  226.068503
2023-11-07  272.609370  219.628167
2023-11-08  268.129011  208.912284
2023-11-13 15:33:49,076 - yq - INFO - Runtime of sim_n_path(<yq.scripts.heston.MultiHeston object at 0x15fd3e710>, n_sim=1): 0.0h 0.0m 15s 82ms
2023-11-13 15:33:49,076 - yq - INFO - Pricing the product on 2023-11-02 00:00:00
2023-11-13 15:33:49,077 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 15:33:49,089 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 15:33:49,308 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-11-13 15:33:49,309 - yq - ERROR - File not found: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/yq/scripts/hparams/20231102.csv
2023-11-13 15:33:49,314 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/lonn_call.csv
2023-11-13 15:33:49,316 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     295  32.000000  37.357304  0.0175
1  0.120702     300  28.099991  36.198601  0.0175
2  0.120702     305  25.149994  36.973526  0.0175
3  0.120702     310  21.624992  35.745502  0.0175
4  0.120702     315  17.849997  33.472771  0.0175
2023-11-13 15:33:49,317 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/sika_call.csv
2023-11-13 15:33:49,319 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     185  39.800003  34.830147  0.0175
1  0.120702     190  35.099991  33.827091  0.0175
2  0.120702     195  30.449997  32.338520  0.0175
3  0.120702     200  25.949997  31.015888  0.0175
4  0.120702     210  17.550003  28.456898  0.0175
2023-11-13 15:33:49,323 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     295  32.000000  0.0175
1  0.120702     300  28.099991  0.0175
2  0.120702     305  25.149994  0.0175
3  0.120702     310  21.624992  0.0175
4  0.120702     315  17.849997  0.0175
   maturity  strike      price    rate
0  0.120702     185  39.800003  0.0175
1  0.120702     190  35.099991  0.0175
2  0.120702     195  30.449997  0.0175
3  0.120702     200  25.949997  0.0175
4  0.120702     210  17.550003  0.0175
2023-11-13 15:33:49,323 - yq - INFO - Calibrating LONZA on 2023-11-02 00:00:00.
