2023-11-13 12:55:11,821 - yq - INFO - Pricing the product on 2023-08-09 00:00:00
2023-11-13 12:55:11,822 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:55:11,830 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:55:12,031 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-10    565.8    248.0
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-11-13 12:55:12,034 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/lonn_call.csv
2023-11-13 12:55:12,035 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     440  52.149994  27.330225  0.0175
1   0.10386     450  43.049988  25.649502  0.0175
2   0.10386     460  34.500000  24.389547  0.0175
3   0.10386     470  26.799995  23.625263  0.0175
4   0.10386     480  19.849991  22.715864  0.0175
2023-11-13 12:55:12,036 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230809/sika_call.csv
2023-11-13 12:55:12,038 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     220  48.050003  38.010380  0.0175
1   0.10386     230  38.400002  33.623005  0.0175
2   0.10386     240  29.074997  29.997280  0.0175
3   0.10386     250  20.525002  27.632607  0.0175
4   0.10386     260  13.275000  26.195461  0.0175
2023-11-13 12:55:12,041 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     440  52.149994  0.0175
1   0.10386     450  43.049988  0.0175
2   0.10386     460  34.500000  0.0175
3   0.10386     470  26.799995  0.0175
4   0.10386     480  19.849991  0.0175
   maturity  strike      price    rate
0   0.10386     220  48.050003  0.0175
1   0.10386     230  38.400002  0.0175
2   0.10386     240  29.074997  0.0175
3   0.10386     250  20.525002  0.0175
4   0.10386     260  13.275000  0.0175
2023-11-13 12:55:12,041 - yq - INFO - Calibrating LONZA.
2023-11-13 12:55:15,781 - yq - INFO - Calibrating SIKA.
2023-11-13 12:55:19,703 - yq - INFO - The S_0 for LONZA and SIKA are 489.0 and 265.5
2023-11-13 12:55:19,703 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176af9a90>
 <lmfit.minimizer.MinimizerResult object at 0x176af0490>
2023-11-13 12:55:19,703 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 7 seconds
2023-11-13 12:55:19,703 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.5498055   0.12429423  0.06651259 -0.29351801  2.15034049]
 [ 4.65314862  0.14327447  0.12397803 -0.49566623  3.4381239 ]]
2023-11-13 12:55:19,704 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 7s 672ms
2023-11-13 12:55:19,708 - yq - INFO - The log returns list for all assets is: [Date
2023-05-11    0.019255
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
                ...   
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-11    0.011227
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
                ...   
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:55:19,709 - yq - INFO - rho_S1S2 is 0.4397426412287944

2023-11-13 12:55:19,709 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43974264]
 [0.43974264 1.        ]]

2023-11-13 12:55:19,709 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.29351801  0.43974264  0.        ]
 [-0.29351801  1.          0.          0.        ]
 [ 0.43974264  0.          1.         -0.49566623]
 [ 0.          0.         -0.49566623  1.        ]]

2023-11-13 12:55:19,709 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.29351801  0.95595354  0.          0.        ]
 [ 0.43974264  0.13501952  0.88791674  0.        ]
 [ 0.          0.         -0.55823503  0.82968286]]

2023-11-13 12:55:19,709 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 12:55:19,711 - yq - INFO - The adjusted S_0 is [489.  265.5]
2023-11-13 12:55:19,731 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:55:19,732 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  486.864478  340.599593
1  458.686912  329.937937
2  426.962405  357.227380
3  458.235926  449.384337
4  521.024468  524.539556
2023-11-13 12:55:19,817 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-10  486.864478  340.599593
2023-08-11  458.686912  329.937937
2023-08-14  426.962405  357.227380
2023-08-15  458.235926  449.384337
2023-08-16  521.024468  524.539556
2023-11-13 12:55:19,819 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 7s 791ms
2023-11-13 12:55:19,819 - yq - INFO - Pricing the product on 2023-08-10 00:00:00
2023-11-13 12:55:19,819 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:55:19,827 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:55:20,042 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-11    576.8    250.8
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-11-13 12:55:20,044 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/lonn_call.csv
2023-11-13 12:55:20,050 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.699997  28.406391  0.0175
1  0.101053     460  42.599991  26.427944  0.0175
2  0.101053     470  34.000000  24.808001  0.0175
3  0.101053     480  28.599991  27.952068  0.0175
4  0.101053     490  19.499998  23.021019  0.0175
2023-11-13 12:55:20,052 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230810/sika_call.csv
2023-11-13 12:55:20,055 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     220  49.675003  37.533554  0.0175
1  0.101053     230  39.950005  33.262680  0.0175
2  0.101053     240  30.450005  29.446768  0.0175
3  0.101053     250  21.574997  26.823681  0.0175
4  0.101053     260  13.925000  25.314522  0.0175
2023-11-13 12:55:20,061 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.699997  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  34.000000  0.0175
3  0.101053     480  28.599991  0.0175
4  0.101053     490  19.499998  0.0175
   maturity  strike      price    rate
0  0.101053     220  49.675003  0.0175
1  0.101053     230  39.950005  0.0175
2  0.101053     240  30.450005  0.0175
3  0.101053     250  21.574997  0.0175
4  0.101053     260  13.925000  0.0175
2023-11-13 12:55:20,061 - yq - INFO - Calibrating LONZA.
2023-11-13 12:55:26,193 - yq - INFO - Calibrating SIKA.
2023-11-13 12:55:42,019 - yq - INFO - The S_0 for LONZA and SIKA are 498.1 and 268.3
2023-11-13 12:55:42,020 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b2c7d0>
 <lmfit.minimizer.MinimizerResult object at 0x176af2410>
2023-11-13 12:55:42,020 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 21 seconds
2023-11-13 12:55:42,020 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.80493199  0.1131859   0.0681332  -0.31277735  2.27836557]
 [ 5.74805469  0.11228402  0.09071398 -0.42236782  3.0951506 ]]
2023-11-13 12:55:42,021 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 21s 978ms
2023-11-13 12:55:42,025 - yq - INFO - The log returns list for all assets is: [Date
2023-05-12   -0.003821
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
                ...   
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-12    0.000797
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
                ...   
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:55:42,025 - yq - INFO - rho_S1S2 is 0.43912096394854827

2023-11-13 12:55:42,025 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43912096]
 [0.43912096 1.        ]]

2023-11-13 12:55:42,025 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.31277735  0.43912096  0.        ]
 [-0.31277735  1.          0.          0.        ]
 [ 0.43912096  0.          1.         -0.42236782]
 [ 0.          0.         -0.42236782  1.        ]]

2023-11-13 12:55:42,025 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.31277735  0.94982647  0.          0.        ]
 [ 0.43912096  0.1446023   0.8867147   0.        ]
 [ 0.          0.         -0.47632888  0.87926719]]

2023-11-13 12:55:42,025 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 12:55:42,026 - yq - INFO - The adjusted S_0 is [498.1 268.3]
2023-11-13 12:55:42,046 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:55:42,048 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  543.610800  296.582317
1  512.848321  284.081210
2  497.210563  266.754840
3  431.918579  228.755891
4  472.823734  236.909372
2023-11-13 12:55:42,139 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-11  543.610800  296.582317
2023-08-14  512.848321  284.081210
2023-08-15  497.210563  266.754840
2023-08-16  431.918579  228.755891
2023-08-17  472.823734  236.909372
2023-11-13 12:55:42,140 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 22s 100ms
2023-11-13 12:55:42,141 - yq - INFO - Pricing the product on 2023-08-11 00:00:00
2023-11-13 12:55:42,141 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:55:42,151 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:55:42,340 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-12    574.6    251.0
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-11-13 12:55:42,341 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/lonn_call.csv
2023-11-13 12:55:42,342 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     450  51.399994  25.468338  0.0175
1  0.196491     460  43.399994  24.842302  0.0175
2  0.196491     470  35.899994  24.175629  0.0175
3  0.196491     480  29.149994  23.683537  0.0175
4  0.196491     490  23.199997  23.294483  0.0175
2023-11-13 12:55:42,343 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230811/sika_call.csv
2023-11-13 12:55:42,345 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.196491     220  44.675003  31.911819  0.0175
1  0.196491     230  35.525002  29.347454  0.0175
2  0.196491     240  27.000000  27.414755  0.0175
3  0.196491     250  19.449997  26.059502  0.0175
4  0.196491     260  13.125000  24.996462  0.0175
2023-11-13 12:55:42,347 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.196491     450  51.399994  0.0175
1  0.196491     460  43.399994  0.0175
2  0.196491     470  35.899994  0.0175
3  0.196491     480  29.149994  0.0175
4  0.196491     490  23.199997  0.0175
   maturity  strike      price    rate
0  0.196491     220  44.675003  0.0175
1  0.196491     230  35.525002  0.0175
2  0.196491     240  27.000000  0.0175
3  0.196491     250  19.449997  0.0175
4  0.196491     260  13.125000  0.0175
2023-11-13 12:55:42,348 - yq - INFO - Calibrating LONZA.
2023-11-13 12:55:46,977 - yq - INFO - Calibrating SIKA.
2023-11-13 12:55:52,891 - yq - INFO - The S_0 for LONZA and SIKA are 494.9 and 262.8
2023-11-13 12:55:52,891 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b32b90>
 <lmfit.minimizer.MinimizerResult object at 0x176b33190>
2023-11-13 12:55:52,891 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 10 seconds
2023-11-13 12:55:52,891 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.01009698  6.38527016  0.06490687 -0.26798899  1.20777378]
 [ 0.01000378  0.01871465  0.07506272 -0.33254289  1.10347661]]
2023-11-13 12:55:52,892 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 10s 552ms
2023-11-13 12:55:52,896 - yq - INFO - The log returns list for all assets is: [Date
2023-05-15    0.016912
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
                ...   
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-15   -0.000797
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
                ...   
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:55:52,896 - yq - INFO - rho_S1S2 is 0.4372111961971176

2023-11-13 12:55:52,896 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.4372112]
 [0.4372112 1.       ]]

2023-11-13 12:55:52,896 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.26798899  0.4372112   0.        ]
 [-0.26798899  1.          0.          0.        ]
 [ 0.4372112   0.          1.         -0.33254289]
 [ 0.          0.         -0.33254289  1.        ]]

2023-11-13 12:55:52,896 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.26798899  0.96342198  0.          0.        ]
 [ 0.4372112   0.12161627  0.89109812  0.        ]
 [ 0.          0.         -0.37318324  0.92775765]]

2023-11-13 12:55:52,897 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 12:55:52,898 - yq - INFO - The adjusted S_0 is [494.9 262.8]
2023-11-13 12:55:52,918 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:55:52,925 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  508.600336  248.812537
1  516.995907  236.384007
2  487.289401  232.894472
3  512.779611  244.841120
4  542.180536  255.471004
2023-11-13 12:55:53,020 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-14  508.600336  248.812537
2023-08-15  516.995907  236.384007
2023-08-16  487.289401  232.894472
2023-08-17  512.779611  244.841120
2023-08-18  542.180536  255.471004
2023-11-13 12:55:53,023 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 10s 684ms
2023-11-13 12:55:53,023 - yq - INFO - Pricing the product on 2023-08-14 00:00:00
2023-11-13 12:55:53,023 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:55:53,030 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:55:53,243 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-15    584.4    250.8
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-11-13 12:55:53,247 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/lonn_call.csv
2023-11-13 12:55:53,249 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     450  51.399994  25.468338  0.0175
1   0.18807     460  43.399994  24.842302  0.0175
2   0.18807     470  35.899994  24.175629  0.0175
3   0.18807     480  29.149994  23.683537  0.0175
4   0.18807     490  23.199997  23.294483  0.0175
2023-11-13 12:55:53,251 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230814/sika_call.csv
2023-11-13 12:55:53,252 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.18807     220  44.675003  31.911819  0.0175
1   0.18807     230  35.525002  29.347454  0.0175
2   0.18807     240  27.000000  27.414755  0.0175
3   0.18807     250  19.449997  26.059502  0.0175
4   0.18807     260  13.125000  24.996462  0.0175
2023-11-13 12:55:53,256 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.18807     450  51.399994  0.0175
1   0.18807     460  43.399994  0.0175
2   0.18807     470  35.899994  0.0175
3   0.18807     480  29.149994  0.0175
4   0.18807     490  23.199997  0.0175
   maturity  strike      price    rate
0   0.18807     220  44.675003  0.0175
1   0.18807     230  35.525002  0.0175
2   0.18807     240  27.000000  0.0175
3   0.18807     250  19.449997  0.0175
4   0.18807     260  13.125000  0.0175
2023-11-13 12:55:53,257 - yq - INFO - Calibrating LONZA.
2023-11-13 12:55:58,195 - yq - INFO - Calibrating SIKA.
2023-11-13 12:56:07,689 - yq - INFO - The S_0 for LONZA and SIKA are 494.2 and 262.5
2023-11-13 12:56:07,689 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176aecc10>
 <lmfit.minimizer.MinimizerResult object at 0x176aede10>
2023-11-13 12:56:07,689 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 12:56:07,689 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.58879382  0.08046755  0.09300556 -0.28437059  2.54242852]
 [ 1.47950479  0.14358173  0.08717245 -0.43752687  1.91709804]]
2023-11-13 12:56:07,690 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 14s 447ms
2023-11-13 12:56:07,692 - yq - INFO - The log returns list for all assets is: [Date
2023-05-16   -0.004459
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
                ...   
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-16    0.003185
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
                ...   
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:56:07,692 - yq - INFO - rho_S1S2 is 0.4415351262144186

2023-11-13 12:56:07,693 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44153513]
 [0.44153513 1.        ]]

2023-11-13 12:56:07,693 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.28437059  0.44153513  0.        ]
 [-0.28437059  1.          0.          0.        ]
 [ 0.44153513  0.          1.         -0.43752687]
 [ 0.          0.         -0.43752687  1.        ]]

2023-11-13 12:56:07,693 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.28437059  0.95871444  0.          0.        ]
 [ 0.44153513  0.13096664  0.8876342   0.        ]
 [ 0.          0.         -0.49291349  0.87007833]]

2023-11-13 12:56:07,693 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 3ms
2023-11-13 12:56:07,697 - yq - INFO - The adjusted S_0 is [494.2 262.5]
2023-11-13 12:56:07,716 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:56:07,717 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  504.856044  284.429658
1  446.687708  275.327461
2  445.690055  277.969010
3  573.668829  308.413116
4  474.328021  245.549040
2023-11-13 12:56:07,801 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-15  504.856044  284.429658
2023-08-16  446.687708  275.327461
2023-08-17  445.690055  277.969010
2023-08-18  573.668829  308.413116
2023-08-21  474.328021  245.549040
2023-11-13 12:56:07,802 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 14s 561ms
2023-11-13 12:56:07,803 - yq - INFO - Pricing the product on 2023-08-15 00:00:00
2023-11-13 12:56:07,803 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:56:07,809 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:56:08,003 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-16    581.8    251.6
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-11-13 12:56:08,005 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/lonn_call.csv
2023-11-13 12:56:08,006 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     440  55.374992  28.061256  0.0175
1  0.185263     450  47.000000  26.852697  0.0175
2  0.185263     460  39.199997  25.892950  0.0175
3  0.185263     470  32.699989  25.923019  0.0175
4  0.185263     480  24.799995  23.396318  0.0175
2023-11-13 12:56:08,007 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230815/sika_call.csv
2023-11-13 12:56:08,008 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.185263     210  50.325005  34.053059  0.0175
1  0.185263     220  40.974998  31.394001  0.0175
2  0.185263     230  32.075005  29.231590  0.0175
3  0.185263     240  23.925003  27.594440  0.0175
4  0.185263     250  16.900002  26.497833  0.0175
2023-11-13 12:56:08,011 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.185263     440  55.374992  0.0175
1  0.185263     450  47.000000  0.0175
2  0.185263     460  39.199997  0.0175
3  0.185263     470  32.699989  0.0175
4  0.185263     480  24.799995  0.0175
   maturity  strike      price    rate
0  0.185263     210  50.325005  0.0175
1  0.185263     220  40.974998  0.0175
2  0.185263     230  32.075005  0.0175
3  0.185263     240  23.925003  0.0175
4  0.185263     250  16.900002  0.0175
2023-11-13 12:56:08,011 - yq - INFO - Calibrating LONZA.
2023-11-13 12:57:02,397 - yq - INFO - Calibrating SIKA.
2023-11-13 12:57:08,456 - yq - INFO - The S_0 for LONZA and SIKA are 487.9 and 258.1
2023-11-13 12:57:08,457 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b2e7d0>
 <lmfit.minimizer.MinimizerResult object at 0x176b32990>
2023-11-13 12:57:08,457 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 0 seconds
2023-11-13 12:57:08,457 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.0100001   0.02813946  0.06817101 -0.26980812  0.72622467]
 [ 1.3698437   0.16759348  0.09923003 -0.4583144   2.13871659]]
2023-11-13 12:57:08,461 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 0s 458ms
2023-11-13 12:57:08,486 - yq - INFO - The log returns list for all assets is: [Date
2023-05-17   -0.028240
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
                ...   
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-17   -0.008782
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
                ...   
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:57:08,487 - yq - INFO - rho_S1S2 is 0.4452426918206425

2023-11-13 12:57:08,487 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44524269]
 [0.44524269 1.        ]]

2023-11-13 12:57:08,487 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.26980812  0.44524269  0.        ]
 [-0.26980812  1.          0.          0.        ]
 [ 0.44524269  0.          1.         -0.4583144 ]
 [ 0.          0.         -0.4583144   1.        ]]

2023-11-13 12:57:08,487 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.26980812  0.96291411  0.          0.        ]
 [ 0.44524269  0.12475681  0.8866762   0.        ]
 [ 0.          0.         -0.51689038  0.8560516 ]]

2023-11-13 12:57:08,488 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 27ms
2023-11-13 12:57:08,501 - yq - INFO - The adjusted S_0 is [487.9 258.1]
2023-11-13 12:57:08,524 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:57:08,527 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  466.245810  232.432588
1  436.754920  224.575619
2  405.228747  206.843855
3  421.433238  197.605573
4  396.680771  165.498140
2023-11-13 12:57:08,632 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-16  466.245810  232.432588
2023-08-17  436.754920  224.575619
2023-08-18  405.228747  206.843855
2023-08-21  421.433238  197.605573
2023-08-22  396.680771  165.498140
2023-11-13 12:57:08,635 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 0s 633ms
2023-11-13 12:57:08,635 - yq - INFO - Pricing the product on 2023-08-16 00:00:00
2023-11-13 12:57:08,635 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:57:08,642 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:57:08,836 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-17    565.6    249.4
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-11-13 12:57:08,843 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/lonn_call.csv
2023-11-13 12:57:08,845 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     430  55.974991  27.144444  0.0175
1  0.182456     440  47.599991  26.275923  0.0175
2  0.182456     450  39.799988  25.597614  0.0175
3  0.182456     460  32.649994  25.031048  0.0175
4  0.182456     470  26.224991  24.533737  0.0175
2023-11-13 12:57:08,846 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230816/sika_call.csv
2023-11-13 12:57:08,848 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.182456     210  49.275002  34.904442  0.0175
1  0.182456     220  39.925003  31.884911  0.0175
2  0.182456     230  31.074997  29.593031  0.0175
3  0.182456     240  23.049995  27.989325  0.0175
4  0.182456     250  16.124998  26.773222  0.0175
2023-11-13 12:57:08,851 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.182456     430  55.974991  0.0175
1  0.182456     440  47.599991  0.0175
2  0.182456     450  39.799988  0.0175
3  0.182456     460  32.649994  0.0175
4  0.182456     470  26.224991  0.0175
   maturity  strike      price    rate
0  0.182456     210  49.275002  0.0175
1  0.182456     220  39.925003  0.0175
2  0.182456     230  31.074997  0.0175
3  0.182456     240  23.049995  0.0175
4  0.182456     250  16.124998  0.0175
2023-11-13 12:57:08,852 - yq - INFO - Calibrating LONZA.
2023-11-13 12:57:16,331 - yq - INFO - Calibrating SIKA.
2023-11-13 12:57:23,084 - yq - INFO - The S_0 for LONZA and SIKA are 479.8 and 257.4
2023-11-13 12:57:23,084 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b371d0>
 <lmfit.minimizer.MinimizerResult object at 0x176ac3650>
2023-11-13 12:57:23,084 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 12:57:23,084 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.14219196  0.09966233  0.06993775 -0.27984195  1.20674641]
 [ 1.60136239  0.1547151   0.09528288 -0.43942843  2.17791816]]
2023-11-13 12:57:23,087 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 14s 251ms
2023-11-13 12:57:23,097 - yq - INFO - The log returns list for all assets is: [Date
2023-05-19    0.021687
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
                ...   
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-19    0.030796
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
                ...   
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:57:23,098 - yq - INFO - rho_S1S2 is 0.44125457706800547

2023-11-13 12:57:23,098 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44125458]
 [0.44125458 1.        ]]

2023-11-13 12:57:23,098 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.27984195  0.44125458  0.        ]
 [-0.27984195  1.          0.          0.        ]
 [ 0.44125458  0.          1.         -0.43942843]
 [ 0.          0.         -0.43942843  1.        ]]

2023-11-13 12:57:23,098 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.27984195  0.96004608  0.          0.        ]
 [ 0.44125458  0.12862043  0.88811665  0.        ]
 [ 0.          0.         -0.49478684  0.86901437]]

2023-11-13 12:57:23,098 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 12ms
2023-11-13 12:57:23,112 - yq - INFO - The adjusted S_0 is [479.8 257.4]
2023-11-13 12:57:23,134 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:57:23,137 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  488.537591  266.410089
1  516.178207  273.795236
2  487.671539  272.113479
3  444.929493  265.471336
4  454.115151  285.484194
2023-11-13 12:57:23,241 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-17  488.537591  266.410089
2023-08-18  516.178207  273.795236
2023-08-21  487.671539  272.113479
2023-08-22  444.929493  265.471336
2023-08-23  454.115151  285.484194
2023-11-13 12:57:23,244 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 14s 410ms
2023-11-13 12:57:23,244 - yq - INFO - Pricing the product on 2023-08-17 00:00:00
2023-11-13 12:57:23,244 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:57:23,258 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:57:23,457 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-19    578.0    257.2
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-11-13 12:57:23,460 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/lonn_call.csv
2023-11-13 12:57:23,462 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     430  50.399994  27.299341  0.0175
1  0.179649     440  42.250000  26.296572  0.0175
2  0.179649     450  34.750000  25.521204  0.0175
3  0.179649     460  27.949989  24.854713  0.0175
4  0.179649     470  21.949989  24.286530  0.0175
2023-11-13 12:57:23,462 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230817/sika_call.csv
2023-11-13 12:57:23,464 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.179649     210  42.400002  33.117111  0.0175
1  0.179649     220  33.425003  30.933372  0.0175
2  0.179649     230  25.150002  29.240053  0.0175
3  0.179649     240  17.875000  27.899794  0.0175
4  0.179649     250  11.900000  26.879539  0.0175
2023-11-13 12:57:23,467 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.179649     430  50.399994  0.0175
1  0.179649     440  42.250000  0.0175
2  0.179649     450  34.750000  0.0175
3  0.179649     460  27.949989  0.0175
4  0.179649     470  21.949989  0.0175
   maturity  strike      price    rate
0  0.179649     210  42.400002  0.0175
1  0.179649     220  33.425003  0.0175
2  0.179649     230  25.150002  0.0175
3  0.179649     240  17.875000  0.0175
4  0.179649     250  11.900000  0.0175
2023-11-13 12:57:23,467 - yq - INFO - Calibrating LONZA.
2023-11-13 12:57:30,501 - yq - INFO - Calibrating SIKA.
2023-11-13 12:57:33,336 - yq - INFO - The S_0 for LONZA and SIKA are 473.2 and 250.6
2023-11-13 12:57:33,336 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a63090>
 <lmfit.minimizer.MinimizerResult object at 0x176b22250>
2023-11-13 12:57:33,337 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 9 seconds
2023-11-13 12:57:33,337 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.08374658  0.12720708  0.07250361 -0.34708398  1.67618245]
 [ 7.67887093  0.09073023  0.1133246  -0.36988337  3.0577481 ]]
2023-11-13 12:57:33,337 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 9s 879ms
2023-11-13 12:57:33,347 - yq - INFO - The log returns list for all assets is: [Date
2023-05-22   -0.001385
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
                ...   
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-22   -0.001167
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
                ...   
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:57:33,347 - yq - INFO - rho_S1S2 is 0.42663716309083205

2023-11-13 12:57:33,347 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42663716]
 [0.42663716 1.        ]]

2023-11-13 12:57:33,347 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.34708398  0.42663716  0.        ]
 [-0.34708398  1.          0.          0.        ]
 [ 0.42663716  0.          1.         -0.36988337]
 [ 0.          0.         -0.36988337  1.        ]]

2023-11-13 12:57:33,347 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.34708398  0.93783405  0.          0.        ]
 [ 0.42663716  0.15789459  0.89053356  0.        ]
 [ 0.          0.         -0.41535028  0.90966155]]

2023-11-13 12:57:33,347 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 10ms
2023-11-13 12:57:33,348 - yq - INFO - The adjusted S_0 is [473.2 250.6]
2023-11-13 12:57:33,367 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:57:33,368 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  466.205492  267.945442
1  476.557755  273.400897
2  506.548238  275.938835
3  473.522770  276.255533
4  498.920813  259.334224
2023-11-13 12:57:33,453 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-18  466.205492  267.945442
2023-08-21  476.557755  273.400897
2023-08-22  506.548238  275.938835
2023-08-23  473.522770  276.255533
2023-08-24  498.920813  259.334224
2023-11-13 12:57:33,456 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 10s 0ms
2023-11-13 12:57:33,457 - yq - INFO - Pricing the product on 2023-08-18 00:00:00
2023-11-13 12:57:33,457 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:57:33,464 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:57:33,662 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-22    577.2    256.9
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-11-13 12:57:33,666 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/lonn_call.csv
2023-11-13 12:57:33,667 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     430  53.599991  28.433285  0.0175
1  0.176842     440  45.049988  27.074509  0.0175
2  0.176842     450  37.099991  26.028452  0.0175
3  0.176842     460  29.824997  25.145454  0.0175
4  0.176842     470  23.349991  24.413734  0.0175
2023-11-13 12:57:33,670 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230818/sika_call.csv
2023-11-13 12:57:33,672 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  48.974998  36.800362  0.0175
1  0.176842     210  39.600006  33.488438  0.0175
2  0.176842     220  30.675003  30.802935  0.0175
3  0.176842     230  22.599998  29.016119  0.0175
4  0.176842     240  15.625000  27.617016  0.0175
2023-11-13 12:57:33,675 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     430  53.599991  0.0175
1  0.176842     440  45.049988  0.0175
2  0.176842     450  37.099991  0.0175
3  0.176842     460  29.824997  0.0175
4  0.176842     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.176842     200  48.974998  0.0175
1  0.176842     210  39.600006  0.0175
2  0.176842     220  30.675003  0.0175
3  0.176842     230  22.599998  0.0175
4  0.176842     240  15.625000  0.0175
2023-11-13 12:57:33,675 - yq - INFO - Calibrating LONZA.
2023-11-13 12:57:47,214 - yq - INFO - Calibrating SIKA.
2023-11-13 12:57:57,856 - yq - INFO - The S_0 for LONZA and SIKA are 471.9 and 247.5
2023-11-13 12:57:57,857 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b33990>
 <lmfit.minimizer.MinimizerResult object at 0x1769f9f10>
2023-11-13 12:57:57,857 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 24 seconds
2023-11-13 12:57:57,857 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.0303444   0.32255405  0.10065397 -0.55173478  2.25578851]
 [ 2.70535643  0.1210996   0.09485734 -0.41882443  2.09561979]]
2023-11-13 12:57:57,858 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 24s 194ms
2023-11-13 12:57:57,860 - yq - INFO - The log returns list for all assets is: [Date
2023-05-23    0.005529
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
                ...   
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-23   -0.026426
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
                ...   
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:57:57,861 - yq - INFO - rho_S1S2 is 0.4247711739692134

2023-11-13 12:57:57,861 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42477117]
 [0.42477117 1.        ]]

2023-11-13 12:57:57,861 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.55173478  0.42477117  0.        ]
 [-0.55173478  1.          0.          0.        ]
 [ 0.42477117  0.          1.         -0.41882443]
 [ 0.          0.         -0.41882443  1.        ]]

2023-11-13 12:57:57,861 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.55173478  0.83401962  0.          0.        ]
 [ 0.42477117  0.28100182  0.86058551  0.        ]
 [ 0.          0.         -0.48667381  0.87358377]]

2023-11-13 12:57:57,861 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 3ms
2023-11-13 12:57:57,864 - yq - INFO - The adjusted S_0 is [471.9 247.5]
2023-11-13 12:57:57,883 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:57:57,884 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.246911  231.834287
1  443.154738  220.355914
2  423.518310  192.844447
3  397.989152  197.088102
4  411.908659  189.640429
2023-11-13 12:57:57,971 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-21  487.246911  231.834287
2023-08-22  443.154738  220.355914
2023-08-23  423.518310  192.844447
2023-08-24  397.989152  197.088102
2023-08-25  411.908659  189.640429
2023-11-13 12:57:57,973 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 24s 312ms
2023-11-13 12:57:57,977 - yq - INFO - Pricing the product on 2023-08-21 00:00:00
2023-11-13 12:57:57,977 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:57:57,984 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:57:58,181 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-23    580.4    250.2
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-11-13 12:57:58,182 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/lonn_call.csv
2023-11-13 12:57:58,184 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     430  53.599991  28.433285  0.0175
1  0.168421     440  45.049988  27.074509  0.0175
2  0.168421     450  37.099991  26.028452  0.0175
3  0.168421     460  29.824997  25.145454  0.0175
4  0.168421     470  23.349991  24.413734  0.0175
2023-11-13 12:57:58,185 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230821/sika_call.csv
2023-11-13 12:57:58,186 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.125008  36.494854  0.0175
1  0.168421     200  42.300003  34.223370  0.0175
2  0.168421     210  32.924995  30.578308  0.0175
3  0.168421     220  24.175003  27.988766  0.0175
4  0.168421     230  16.475006  26.213083  0.0175
2023-11-13 12:57:58,189 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     430  53.599991  0.0175
1  0.168421     440  45.049988  0.0175
2  0.168421     450  37.099991  0.0175
3  0.168421     460  29.824997  0.0175
4  0.168421     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.125008  0.0175
1  0.168421     200  42.300003  0.0175
2  0.168421     210  32.924995  0.0175
3  0.168421     220  24.175003  0.0175
4  0.168421     230  16.475006  0.0175
2023-11-13 12:57:58,189 - yq - INFO - Calibrating LONZA.
2023-11-13 12:58:07,666 - yq - INFO - Calibrating SIKA.
2023-11-13 12:58:15,616 - yq - INFO - The S_0 for LONZA and SIKA are 469.9 and 244.9
2023-11-13 12:58:15,616 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176af0490>
 <lmfit.minimizer.MinimizerResult object at 0x176b360d0>
2023-11-13 12:58:15,616 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 17 seconds
2023-11-13 12:58:15,616 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.54806386  0.60685292  0.1266391  -0.60368733  2.53485366]
 [ 3.99400151  0.05887365  0.04026072 -0.03487572  1.5723212 ]]
2023-11-13 12:58:15,617 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 17s 436ms
2023-11-13 12:58:15,624 - yq - INFO - The log returns list for all assets is: [Date
2023-05-24   -0.029728
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
                ...   
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-24   -0.011658
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
                ...   
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:58:15,625 - yq - INFO - rho_S1S2 is 0.4435422786799675

2023-11-13 12:58:15,625 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.44354228]
 [0.44354228 1.        ]]

2023-11-13 12:58:15,625 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.60368733  0.44354228  0.        ]
 [-0.60368733  1.          0.          0.        ]
 [ 0.44354228  0.          1.         -0.03487572]
 [ 0.          0.         -0.03487572  1.        ]]

2023-11-13 12:58:15,625 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.60368733  0.79722118  0.          0.        ]
 [ 0.44354228  0.33586771  0.83094111  0.        ]
 [ 0.          0.         -0.04197135  0.99911881]]

2023-11-13 12:58:15,625 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 8ms
2023-11-13 12:58:15,626 - yq - INFO - The adjusted S_0 is [469.9 244.9]
2023-11-13 12:58:15,646 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:58:15,647 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  495.379505  224.630395
1  602.462378  237.654774
2  545.633409  234.811415
3  535.174198  198.109713
4  526.794192  216.087110
2023-11-13 12:58:15,735 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-22  495.379505  224.630395
2023-08-23  602.462378  237.654774
2023-08-24  545.633409  234.811415
2023-08-25  535.174198  198.109713
2023-08-28  526.794192  216.087110
2023-11-13 12:58:15,736 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 17s 556ms
2023-11-13 12:58:15,736 - yq - INFO - Pricing the product on 2023-08-22 00:00:00
2023-11-13 12:58:15,736 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:58:15,744 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:58:15,934 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-24    563.4    247.3
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-11-13 12:58:15,936 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/lonn_call.csv
2023-11-13 12:58:15,938 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     430  53.599991  28.433285  0.0175
1  0.165614     440  45.049988  27.074509  0.0175
2  0.165614     450  37.099991  26.028452  0.0175
3  0.165614     460  29.824997  25.145454  0.0175
4  0.165614     470  23.349991  24.413734  0.0175
2023-11-13 12:58:15,939 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230822/sika_call.csv
2023-11-13 12:58:15,940 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     195  47.125008  36.494854  0.0175
1  0.165614     200  42.300003  34.223370  0.0175
2  0.165614     210  32.924995  30.578308  0.0175
3  0.165614     220  24.175003  27.988766  0.0175
4  0.165614     230  16.475006  26.213083  0.0175
2023-11-13 12:58:15,942 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     430  53.599991  0.0175
1  0.165614     440  45.049988  0.0175
2  0.165614     450  37.099991  0.0175
3  0.165614     460  29.824997  0.0175
4  0.165614     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.165614     195  47.125008  0.0175
1  0.165614     200  42.300003  0.0175
2  0.165614     210  32.924995  0.0175
3  0.165614     220  24.175003  0.0175
4  0.165614     230  16.475006  0.0175
2023-11-13 12:58:15,943 - yq - INFO - Calibrating LONZA.
2023-11-13 12:58:30,488 - yq - INFO - Calibrating SIKA.
2023-11-13 12:58:44,949 - yq - INFO - The S_0 for LONZA and SIKA are 469.1 and 245.1
2023-11-13 12:58:44,950 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b21190>
 <lmfit.minimizer.MinimizerResult object at 0x176b17dd0>
2023-11-13 12:58:44,950 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 29 seconds
2023-11-13 12:58:44,950 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.34465709  0.95773285  0.13752389 -0.62214186  2.64340945]
 [ 4.23924664  0.05592991  0.04017412 -0.01067552  1.56775269]]
2023-11-13 12:58:44,950 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 29s 16ms
2023-11-13 12:58:44,960 - yq - INFO - The log returns list for all assets is: [Date
2023-05-25    0.002836
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
                ...   
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-25   -0.001214
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
                ...   
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 12:58:44,961 - yq - INFO - rho_S1S2 is 0.4369426266185002

2023-11-13 12:58:44,961 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43694263]
 [0.43694263 1.        ]]

2023-11-13 12:58:44,961 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.62214186  0.43694263  0.        ]
 [-0.62214186  1.          0.          0.        ]
 [ 0.43694263  0.          1.         -0.01067552]
 [ 0.          0.         -0.01067552  1.        ]]

2023-11-13 12:58:44,961 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.62214186  0.78290453  0.          0.        ]
 [ 0.43694263  0.34722024  0.8297706   0.        ]
 [ 0.          0.         -0.01286562  0.99991723]]

2023-11-13 12:58:44,961 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 10ms
2023-11-13 12:58:44,962 - yq - INFO - The adjusted S_0 is [469.1 245.1]
2023-11-13 12:58:44,980 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 12:58:44,982 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  416.949598  203.877039
1  435.944125  179.223167
2  418.418245  187.322524
3  358.521082  191.486248
4  432.774239  208.187093
2023-11-13 12:58:45,066 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-23  416.949598  203.877039
2023-08-24  435.944125  179.223167
2023-08-25  418.418245  187.322524
2023-08-28  358.521082  191.486248
2023-08-29  432.774239  208.187093
2023-11-13 12:58:45,067 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 29s 134ms
2023-11-13 12:58:45,067 - yq - INFO - Pricing the product on 2023-08-23 00:00:00
2023-11-13 12:58:45,067 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 12:58:45,072 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 12:58:45,261 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-25    565.0    247.0
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-11-13 12:58:45,264 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/lonn_call.csv
2023-11-13 12:58:45,265 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     430  53.599991  28.433285  0.0175
1  0.162807     440  45.049988  27.074509  0.0175
2  0.162807     450  37.099991  26.028452  0.0175
3  0.162807     460  29.824997  25.145454  0.0175
4  0.162807     470  23.349991  24.413734  0.0175
2023-11-13 12:58:45,266 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230823/sika_call.csv
2023-11-13 12:58:45,267 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     195  47.125008  36.494854  0.0175
1  0.162807     200  42.300003  34.223370  0.0175
2  0.162807     210  32.924995  30.578308  0.0175
3  0.162807     220  24.175003  27.988766  0.0175
4  0.162807     230  16.475006  26.213083  0.0175
2023-11-13 12:58:45,270 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     430  53.599991  0.0175
1  0.162807     440  45.049988  0.0175
2  0.162807     450  37.099991  0.0175
3  0.162807     460  29.824997  0.0175
4  0.162807     470  23.349991  0.0175
   maturity  strike      price    rate
0  0.162807     195  47.125008  0.0175
1  0.162807     200  42.300003  0.0175
2  0.162807     210  32.924995  0.0175
3  0.162807     220  24.175003  0.0175
4  0.162807     230  16.475006  0.0175
2023-11-13 12:58:45,270 - yq - INFO - Calibrating LONZA.
2023-11-13 12:58:54,356 - yq - INFO - Calibrating SIKA.
2023-11-13 13:00:01,158 - yq - INFO - The S_0 for LONZA and SIKA are 480.0 and 246.2
2023-11-13 13:00:01,159 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b0cb90>
 <lmfit.minimizer.MinimizerResult object at 0x176ab1fd0>
2023-11-13 13:00:01,159 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 15 seconds
2023-11-13 13:00:01,159 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.26190667e+00  8.63305036e-02  5.59901674e-02 -2.21578642e-01
   1.43520272e+00]
 [ 4.60103045e+00  5.32918278e-02  3.71832019e-02 -8.48837389e-09
   1.66830517e+00]]
2023-11-13 13:00:01,161 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 15s 900ms
2023-11-13 13:00:01,178 - yq - INFO - The log returns list for all assets is: [Date
2023-05-26    0.012313
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
                ...   
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-26    0.018055
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
                ...   
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:00:01,178 - yq - INFO - rho_S1S2 is 0.4371733468311143

2023-11-13 13:00:01,178 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43717335]
 [0.43717335 1.        ]]

2023-11-13 13:00:01,178 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.21578642e-01  4.37173347e-01  0.00000000e+00]
 [-2.21578642e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.37173347e-01  0.00000000e+00  1.00000000e+00 -8.48837389e-09]
 [ 0.00000000e+00  0.00000000e+00 -8.48837389e-09  1.00000000e+00]]

2023-11-13 13:00:01,179 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.21578642e-01  9.75142505e-01  0.00000000e+00  0.00000000e+00]
 [ 4.37173347e-01  9.93375592e-02  8.93874440e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -9.49615910e-09  1.00000000e+00]]

2023-11-13 13:00:01,179 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 17ms
2023-11-13 13:00:01,185 - yq - INFO - The adjusted S_0 is [480.  246.2]
2023-11-13 13:00:01,205 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:00:01,208 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  448.624245  262.632606
1  448.782523  270.897487
2  458.233225  282.615215
3  419.760860  288.063414
4  453.536104  302.898772
2023-11-13 13:00:01,307 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-24  448.624245  262.632606
2023-08-25  448.782523  270.897487
2023-08-28  458.233225  282.615215
2023-08-29  419.760860  288.063414
2023-08-30  453.536104  302.898772
2023-11-13 13:00:01,309 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 16s 50ms
2023-11-13 13:00:01,309 - yq - INFO - Pricing the product on 2023-08-24 00:00:00
2023-11-13 13:00:01,309 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:00:01,322 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:00:01,535 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-26    572.0    251.5
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-11-13 13:00:01,543 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/lonn_call.csv
2023-11-13 13:00:01,545 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     430  53.599991  28.433285  0.0175
1      0.16     440  45.049988  27.074509  0.0175
2      0.16     450  37.099991  26.028452  0.0175
3      0.16     460  29.824997  25.145454  0.0175
4      0.16     470  23.349991  24.413734  0.0175
2023-11-13 13:00:01,547 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230824/sika_call.csv
2023-11-13 13:00:01,549 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     195  47.125008  36.494854  0.0175
1      0.16     200  42.300003  34.223370  0.0175
2      0.16     210  32.924995  30.578308  0.0175
3      0.16     220  24.175003  27.988766  0.0175
4      0.16     230  16.475006  26.213083  0.0175
2023-11-13 13:00:01,552 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     430  53.599991  0.0175
1      0.16     440  45.049988  0.0175
2      0.16     450  37.099991  0.0175
3      0.16     460  29.824997  0.0175
4      0.16     470  23.349991  0.0175
   maturity  strike      price    rate
0      0.16     195  47.125008  0.0175
1      0.16     200  42.300003  0.0175
2      0.16     210  32.924995  0.0175
3      0.16     220  24.175003  0.0175
4      0.16     230  16.475006  0.0175
2023-11-13 13:00:01,552 - yq - INFO - Calibrating LONZA.
2023-11-13 13:00:05,973 - yq - INFO - Calibrating SIKA.
2023-11-13 13:00:13,566 - yq - INFO - The S_0 for LONZA and SIKA are 477.5 and 240.9
2023-11-13 13:00:13,567 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b53990>
 <lmfit.minimizer.MinimizerResult object at 0x176b31950>
2023-11-13 13:00:13,567 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 12 seconds
2023-11-13 13:00:13,567 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.53762543  0.11393743  0.07270738 -0.35194995  1.70197433]
 [ 1.37507401  0.16902833  0.08993412 -0.43558731  2.3496372 ]]
2023-11-13 13:00:13,570 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 12s 33ms
2023-11-13 13:00:13,574 - yq - INFO - The log returns list for all assets is: [Date
2023-05-30   -0.009132
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
                ...   
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-30   -0.008786
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
                ...   
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:00:13,575 - yq - INFO - rho_S1S2 is 0.42692214622823577

2023-11-13 13:00:13,575 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42692215]
 [0.42692215 1.        ]]

2023-11-13 13:00:13,575 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.35194995  0.42692215  0.        ]
 [-0.35194995  1.          0.          0.        ]
 [ 0.42692215  0.          1.         -0.43558731]
 [ 0.          0.         -0.43558731  1.        ]]

2023-11-13 13:00:13,575 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.35194995  0.93601882  0.          0.        ]
 [ 0.42692215  0.16052586  0.88992636  0.        ]
 [ 0.          0.         -0.48946445  0.87202325]]

2023-11-13 13:00:13,575 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 13:00:13,576 - yq - INFO - The adjusted S_0 is [477.5 240.9]
2023-11-13 13:00:13,597 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:00:13,598 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  480.318041  266.764370
1  492.176288  268.224533
2  500.352862  269.894112
3  501.526891  269.045319
4  498.107943  251.147352
2023-11-13 13:00:13,696 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-25  480.318041  266.764370
2023-08-28  492.176288  268.224533
2023-08-29  500.352862  269.894112
2023-08-30  501.526891  269.045319
2023-08-31  498.107943  251.147352
2023-11-13 13:00:13,697 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 12s 164ms
2023-11-13 13:00:13,698 - yq - INFO - Pricing the product on 2023-08-25 00:00:00
2023-11-13 13:00:13,698 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:00:13,704 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:00:13,916 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-30    566.8    249.3
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-11-13 13:00:13,917 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/lonn_call.csv
2023-11-13 13:00:13,919 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     440  53.750000  27.479589  0.0175
1  0.157193     450  44.949997  26.013029  0.0175
2  0.157193     460  36.750000  24.936087  0.0175
3  0.157193     470  29.224991  24.031950  0.0175
4  0.157193     480  22.524994  23.274614  0.0175
2023-11-13 13:00:13,920 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230825/sika_call.csv
2023-11-13 13:00:13,922 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     195  46.399994  36.397018  0.0175
1  0.157193     200  41.574997  34.104519  0.0175
2  0.157193     210  32.174995  30.276834  0.0175
3  0.157193     220  23.375000  27.452997  0.0175
4  0.157193     230  15.724994  25.756443  0.0175
2023-11-13 13:00:13,925 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     440  53.750000  0.0175
1  0.157193     450  44.949997  0.0175
2  0.157193     460  36.750000  0.0175
3  0.157193     470  29.224991  0.0175
4  0.157193     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.157193     195  46.399994  0.0175
1  0.157193     200  41.574997  0.0175
2  0.157193     210  32.174995  0.0175
3  0.157193     220  23.375000  0.0175
4  0.157193     230  15.724994  0.0175
2023-11-13 13:00:13,926 - yq - INFO - Calibrating LONZA.
2023-11-13 13:00:26,048 - yq - INFO - Calibrating SIKA.
2023-11-13 13:00:33,118 - yq - INFO - The S_0 for LONZA and SIKA are 473.3 and 239.7
2023-11-13 13:00:33,119 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ba31d0>
 <lmfit.minimizer.MinimizerResult object at 0x176b313d0>
2023-11-13 13:00:33,119 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 19 seconds
2023-11-13 13:00:33,119 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.06851606  9.99904551  0.21015685 -0.73282914  4.26179387]
 [ 8.05830584  0.09319665  0.09857777 -0.39718266  3.03758095]]
2023-11-13 13:00:33,119 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 19s 203ms
2023-11-13 13:00:33,129 - yq - INFO - The log returns list for all assets is: [Date
2023-05-31    0.004577
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
                ...   
2023-08-21   -0.004247
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-05-31   -0.003617
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
                ...   
2023-08-21   -0.010561
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:00:33,129 - yq - INFO - rho_S1S2 is 0.4263512706844439

2023-11-13 13:00:33,129 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42635127]
 [0.42635127 1.        ]]

2023-11-13 13:00:33,129 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.73282914  0.42635127  0.        ]
 [-0.73282914  1.          0.          0.        ]
 [ 0.42635127  0.          1.         -0.39718266]
 [ 0.          0.         -0.39718266  1.        ]]

2023-11-13 13:00:33,129 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.73282914  0.68041271  0.          0.        ]
 [ 0.42635127  0.45919577  0.77933551  0.        ]
 [ 0.          0.         -0.50964271  0.86038614]]

2023-11-13 13:00:33,129 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 10ms
2023-11-13 13:00:33,131 - yq - INFO - The adjusted S_0 is [473.3 239.7]
2023-11-13 13:00:33,152 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:00:33,155 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  354.301113  233.956601
1  360.257977  216.260716
2  290.856261  218.032022
3  301.599422  239.424827
4  325.079679  256.684352
2023-11-13 13:00:33,250 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-28  354.301113  233.956601
2023-08-29  360.257977  216.260716
2023-08-30  290.856261  218.032022
2023-08-31  301.599422  239.424827
2023-09-01  325.079679  256.684352
2023-11-13 13:00:33,252 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 19s 338ms
2023-11-13 13:00:33,252 - yq - INFO - Pricing the product on 2023-08-28 00:00:00
2023-11-13 13:00:33,252 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:00:33,263 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:00:33,464 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-05-31    569.4    248.4
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-11-13 13:00:33,466 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/lonn_call.csv
2023-11-13 13:00:33,468 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     440  53.750000  27.479589  0.0175
1  0.148772     450  44.949997  26.013029  0.0175
2  0.148772     460  36.750000  24.936087  0.0175
3  0.148772     470  29.224991  24.031950  0.0175
4  0.148772     480  22.524994  23.274614  0.0175
2023-11-13 13:00:33,469 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230828/sika_call.csv
2023-11-13 13:00:33,470 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     200  44.550003  33.966270  0.0175
1  0.148772     210  34.950005  29.767315  0.0175
2  0.148772     220  25.850006  26.848900  0.0175
3  0.148772     230  17.750000  25.146227  0.0175
4  0.148772     240  11.025000  23.833889  0.0175
2023-11-13 13:00:33,474 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     440  53.750000  0.0175
1  0.148772     450  44.949997  0.0175
2  0.148772     460  36.750000  0.0175
3  0.148772     470  29.224991  0.0175
4  0.148772     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.148772     200  44.550003  0.0175
1  0.148772     210  34.950005  0.0175
2  0.148772     220  25.850006  0.0175
3  0.148772     230  17.750000  0.0175
4  0.148772     240  11.025000  0.0175
2023-11-13 13:00:33,474 - yq - INFO - Calibrating LONZA.
2023-11-13 13:01:14,814 - yq - INFO - Calibrating SIKA.
2023-11-13 13:01:23,360 - yq - INFO - The S_0 for LONZA and SIKA are 475.5 and 242.6
2023-11-13 13:01:23,361 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b22f50>
 <lmfit.minimizer.MinimizerResult object at 0x176b47c90>
2023-11-13 13:01:23,361 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 49 seconds
2023-11-13 13:01:23,361 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.1770489   3.00899483  0.18491732 -0.70757391  3.60161507]
 [ 1.21623271  0.23043236  0.09559093 -0.48326016  2.61572167]]
2023-11-13 13:01:23,364 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 49s 900ms
2023-11-13 13:01:23,376 - yq - INFO - The log returns list for all assets is: [Date
2023-06-01    0.011177
2023-06-02    0.018924
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
                ...   
2023-08-22   -0.001704
2023-08-23    0.022970
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-01    0.001609
2023-06-02    0.027747
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
                ...   
2023-08-22    0.000816
2023-08-23    0.004478
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:01:23,376 - yq - INFO - rho_S1S2 is 0.4301092130230156

2023-11-13 13:01:23,376 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.43010921]
 [0.43010921 1.        ]]

2023-11-13 13:01:23,376 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.70757391  0.43010921  0.        ]
 [-0.70757391  1.          0.          0.        ]
 [ 0.43010921  0.          1.         -0.48326016]
 [ 0.          0.         -0.48326016  1.        ]]

2023-11-13 13:01:23,377 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.70757391  0.70663935  0.          0.        ]
 [ 0.43010921  0.43067805  0.79342453  0.        ]
 [ 0.          0.         -0.60908145  0.79310768]]

2023-11-13 13:01:23,377 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 13ms
2023-11-13 13:01:23,393 - yq - INFO - The adjusted S_0 is [475.5 242.6]
2023-11-13 13:01:23,417 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:01:23,425 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  479.556967  207.011715
1  500.673208  226.994190
2  382.702462  219.198468
3  390.228203  227.257906
4  441.456568  256.434642
2023-11-13 13:01:23,557 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-29  479.556967  207.011715
2023-08-30  500.673208  226.994190
2023-08-31  382.702462  219.198468
2023-09-01  390.228203  227.257906
2023-09-04  441.456568  256.434642
2023-11-13 13:01:23,560 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 50s 98ms
2023-11-13 13:01:23,560 - yq - INFO - Pricing the product on 2023-08-29 00:00:00
2023-11-13 13:01:23,560 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:01:23,571 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:01:23,854 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-01    575.8    248.8
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-11-13 13:01:23,858 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/lonn_call.csv
2023-11-13 13:01:23,860 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     440  53.750000  27.479589  0.0175
1  0.145965     450  44.949997  26.013029  0.0175
2  0.145965     460  36.750000  24.936087  0.0175
3  0.145965     470  29.224991  24.031950  0.0175
4  0.145965     480  22.524994  23.274614  0.0175
2023-11-13 13:01:23,861 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230829/sika_call.csv
2023-11-13 13:01:23,864 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     200  48.200005  35.602180  0.0175
1  0.145965     210  38.550003  31.489353  0.0175
2  0.145965     220  29.175003  27.868134  0.0175
3  0.145965     230  20.525002  25.417206  0.0175
4  0.145965     240  13.150000  23.884602  0.0175
2023-11-13 13:01:23,868 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     440  53.750000  0.0175
1  0.145965     450  44.949997  0.0175
2  0.145965     460  36.750000  0.0175
3  0.145965     470  29.224991  0.0175
4  0.145965     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.145965     200  48.200005  0.0175
1  0.145965     210  38.550003  0.0175
2  0.145965     220  29.175003  0.0175
3  0.145965     230  20.525002  0.0175
4  0.145965     240  13.150000  0.0175
2023-11-13 13:01:23,868 - yq - INFO - Calibrating LONZA.
2023-11-13 13:01:24,738 - yq - WARNING - Error during calibration on 2023-08-29: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:01:24,739 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 0 seconds
2023-11-13 13:01:24,743 - yq - ERROR - Error during calibration on 2023-08-29 00:00:00: cannot access local variable 'lonn_result' where it is not associated with a value
2023-11-13 13:01:24,743 - yq - INFO - Pricing the product on 2023-08-30 00:00:00
2023-11-13 13:01:24,746 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:01:24,778 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:01:25,120 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-02    586.8    255.8
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-11-13 13:01:25,122 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/lonn_call.csv
2023-11-13 13:01:25,125 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     440  53.750000  27.479589  0.0175
1  0.143158     450  44.949997  26.013029  0.0175
2  0.143158     460  36.750000  24.936087  0.0175
3  0.143158     470  29.224991  24.031950  0.0175
4  0.143158     480  22.524994  23.274614  0.0175
2023-11-13 13:01:25,127 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230830/sika_call.csv
2023-11-13 13:01:25,131 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     200  48.200005  35.602180  0.0175
1  0.143158     210  38.550003  31.489353  0.0175
2  0.143158     220  29.175003  27.868134  0.0175
3  0.143158     230  20.525002  25.417206  0.0175
4  0.143158     240  13.150000  23.884602  0.0175
2023-11-13 13:01:25,137 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     440  53.750000  0.0175
1  0.143158     450  44.949997  0.0175
2  0.143158     460  36.750000  0.0175
3  0.143158     470  29.224991  0.0175
4  0.143158     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.143158     200  48.200005  0.0175
1  0.143158     210  38.550003  0.0175
2  0.143158     220  29.175003  0.0175
3  0.143158     230  20.525002  0.0175
4  0.143158     240  13.150000  0.0175
2023-11-13 13:01:25,137 - yq - INFO - Calibrating LONZA.
2023-11-13 13:01:34,548 - yq - INFO - Calibrating SIKA.
2023-11-13 13:01:39,916 - yq - INFO - The S_0 for LONZA and SIKA are 483.2 and 246.3
2023-11-13 13:01:39,916 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a638d0>
 <lmfit.minimizer.MinimizerResult object at 0x176b61590>
2023-11-13 13:01:39,916 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 13:01:39,916 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.80135514  0.15348007  0.11133234 -0.52856481  2.87557774]
 [ 1.86073021  0.1535846   0.09181032 -0.46978658  2.38135815]]
2023-11-13 13:01:39,920 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 14s 799ms
2023-11-13 13:01:39,937 - yq - INFO - The log returns list for all assets is: [Date
2023-06-05   -0.016842
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
                ...   
2023-08-24   -0.005222
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-05   -0.001173
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
                ...   
2023-08-24   -0.021762
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:01:39,937 - yq - INFO - rho_S1S2 is 0.4192264656802595

2023-11-13 13:01:39,938 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41922647]
 [0.41922647 1.        ]]

2023-11-13 13:01:39,938 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.52856481  0.41922647  0.        ]
 [-0.52856481  1.          0.          0.        ]
 [ 0.41922647  0.          1.         -0.46978658]
 [ 0.          0.         -0.46978658  1.        ]]

2023-11-13 13:01:39,938 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.52856481  0.84889295  0.          0.        ]
 [ 0.41922647  0.26103216  0.86954665  0.        ]
 [ 0.          0.         -0.5402661   0.84149423]]

2023-11-13 13:01:39,938 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 18ms
2023-11-13 13:01:39,947 - yq - INFO - The adjusted S_0 is [483.2 246.3]
2023-11-13 13:01:39,969 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:01:39,977 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  424.310145  205.196095
1  502.447171  253.297944
2  471.024601  266.702434
3  459.569979  253.258512
4  520.684278  240.919887
2023-11-13 13:01:40,092 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-08-31  424.310145  205.196095
2023-09-01  502.447171  253.297944
2023-09-04  471.024601  266.702434
2023-09-05  459.569979  253.258512
2023-09-06  520.684278  240.919887
2023-11-13 13:01:40,095 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 14s 977ms
2023-11-13 13:01:40,095 - yq - INFO - Pricing the product on 2023-08-31 00:00:00
2023-11-13 13:01:40,095 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:01:40,107 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:01:40,360 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-05    577.0    255.5
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-11-13 13:01:40,364 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/lonn_call.csv
2023-11-13 13:01:40,366 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     440  53.750000  27.479589  0.0175
1  0.140351     450  44.949997  26.013029  0.0175
2  0.140351     460  36.750000  24.936087  0.0175
3  0.140351     470  29.224991  24.031950  0.0175
4  0.140351     480  22.524994  23.274614  0.0175
2023-11-13 13:01:40,367 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230831/sika_call.csv
2023-11-13 13:01:40,369 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     210  42.050003  28.883789  0.0175
1  0.140351     220  32.525002  26.351738  0.0175
2  0.140351     230  23.550003  24.511261  0.0175
3  0.140351     240  15.625000  23.255863  0.0175
4  0.140351     250   9.325000  22.476318  0.0175
2023-11-13 13:01:40,372 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     440  53.750000  0.0175
1  0.140351     450  44.949997  0.0175
2  0.140351     460  36.750000  0.0175
3  0.140351     470  29.224991  0.0175
4  0.140351     480  22.524994  0.0175
   maturity  strike      price    rate
0  0.140351     210  42.050003  0.0175
1  0.140351     220  32.525002  0.0175
2  0.140351     230  23.550003  0.0175
3  0.140351     240  15.625000  0.0175
4  0.140351     250   9.325000  0.0175
2023-11-13 13:01:40,373 - yq - INFO - Calibrating LONZA.
2023-11-13 13:01:44,058 - yq - INFO - Calibrating SIKA.
2023-11-13 13:01:53,660 - yq - INFO - The S_0 for LONZA and SIKA are 488.9 and 250.4
2023-11-13 13:01:53,660 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a27c90>
 <lmfit.minimizer.MinimizerResult object at 0x176b2c550>
2023-11-13 13:01:53,660 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 13 seconds
2023-11-13 13:01:53,660 - yq - INFO - The calibrated params_list_Heston is:
 [[ 6.2846256   0.08097303  0.06545346 -0.29282084  1.9778697 ]
 [ 8.06877453  0.09460137  0.09482723 -0.4185949   3.81444478]]
2023-11-13 13:01:53,661 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 13s 301ms
2023-11-13 13:01:53,664 - yq - INFO - The log returns list for all assets is: [Date
2023-06-06    0.035414
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
                ...   
2023-08-25   -0.008835
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-06    0.005854
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
                ...   
2023-08-25   -0.004994
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:01:53,664 - yq - INFO - rho_S1S2 is 0.42699878448050116

2023-11-13 13:01:53,665 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.42699878]
 [0.42699878 1.        ]]

2023-11-13 13:01:53,665 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.29282084  0.42699878  0.        ]
 [-0.29282084  1.          0.          0.        ]
 [ 0.42699878  0.          1.         -0.4185949 ]
 [ 0.          0.         -0.4185949   1.        ]]

2023-11-13 13:01:53,665 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.29282084  0.95616733  0.          0.        ]
 [ 0.42699878  0.13076596  0.89474706  0.        ]
 [ 0.          0.         -0.46783601  0.88381529]]

2023-11-13 13:01:53,665 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 4ms
2023-11-13 13:01:53,666 - yq - INFO - The adjusted S_0 is [488.9 250.4]
2023-11-13 13:01:53,686 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:01:53,687 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  570.691904  260.500445
1  600.672369  256.203990
2  598.253478  267.034193
3  514.670858  283.010916
4  521.726824  326.994743
2023-11-13 13:01:53,795 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-01  570.691904  260.500445
2023-09-04  600.672369  256.203990
2023-09-05  598.253478  267.034193
2023-09-06  514.670858  283.010916
2023-09-07  521.726824  326.994743
2023-11-13 13:01:53,797 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 13s 440ms
2023-11-13 13:01:53,797 - yq - INFO - Pricing the product on 2023-09-01 00:00:00
2023-11-13 13:01:53,797 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:01:53,820 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:01:54,143 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-06    597.8    257.0
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-11-13 13:01:54,145 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/lonn_call.csv
2023-11-13 13:01:54,147 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     440  49.199997  29.907877  0.0175
1  0.137544     450  40.449997  27.950396  0.0175
2  0.137544     460  32.449997  26.641903  0.0175
3  0.137544     470  25.049995  25.297674  0.0175
4  0.137544     480  18.649996  24.305870  0.0175
2023-11-13 13:01:54,148 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230901/sika_call.csv
2023-11-13 13:01:54,149 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     200  48.399994  34.529781  0.0175
1  0.137544     210  38.724991  30.920095  0.0175
2  0.137544     220  29.299995  27.579824  0.0175
3  0.137544     230  20.625000  25.546993  0.0175
4  0.137544     240  13.125000  23.984301  0.0175
2023-11-13 13:01:54,153 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     440  49.199997  0.0175
1  0.137544     450  40.449997  0.0175
2  0.137544     460  32.449997  0.0175
3  0.137544     470  25.049995  0.0175
4  0.137544     480  18.649996  0.0175
   maturity  strike      price    rate
0  0.137544     200  48.399994  0.0175
1  0.137544     210  38.724991  0.0175
2  0.137544     220  29.299995  0.0175
3  0.137544     230  20.625000  0.0175
4  0.137544     240  13.125000  0.0175
2023-11-13 13:01:54,153 - yq - INFO - Calibrating LONZA.
2023-11-13 13:04:14,412 - yq - INFO - Calibrating SIKA.
2023-11-13 13:04:21,522 - yq - INFO - The S_0 for LONZA and SIKA are 492.5 and 247.0
2023-11-13 13:04:21,523 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b71890>
 <lmfit.minimizer.MinimizerResult object at 0x176b39150>
2023-11-13 13:04:21,523 - yq - INFO - The elapsed time for 2 calibration is 2 minutes, 27 seconds
2023-11-13 13:04:21,523 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.82238059e+00  6.85063178e-02  2.43414856e-02 -7.06039027e-09
   1.59810382e+00]
 [ 1.58763303e+00  1.97577240e-01  8.53580515e-02 -4.84672389e-01
   2.61347506e+00]]
2023-11-13 13:04:21,527 - yq - INFO - Runtime of calibrate: 0.0h 2.0m 27s 384ms
2023-11-13 13:04:21,551 - yq - INFO - The log returns list for all assets is: [Date
2023-06-07   -0.025069
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
                ...   
2023-08-28    0.004637
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-07   -0.005854
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
                ...   
2023-08-28    0.012026
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:04:21,556 - yq - INFO - rho_S1S2 is 0.4188302744380037

2023-11-13 13:04:21,557 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41883027]
 [0.41883027 1.        ]]

2023-11-13 13:04:21,557 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -7.06039027e-09  4.18830274e-01  0.00000000e+00]
 [-7.06039027e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.18830274e-01  0.00000000e+00  1.00000000e+00 -4.84672389e-01]
 [ 0.00000000e+00  0.00000000e+00 -4.84672389e-01  1.00000000e+00]]

2023-11-13 13:04:21,558 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-7.06039027e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.18830274e-01  2.95710520e-09  9.08064536e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -5.33742228e-01  8.45647228e-01]]

2023-11-13 13:04:21,558 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 31ms
2023-11-13 13:04:21,579 - yq - INFO - The adjusted S_0 is [492.5 247. ]
2023-11-13 13:04:21,603 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:04:21,608 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  458.962580  264.479701
1  447.141164  222.775982
2  480.664812  256.245577
3  520.758517  257.708756
4  618.488814  263.398167
2023-11-13 13:04:21,742 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-04  458.962580  264.479701
2023-09-05  447.141164  222.775982
2023-09-06  480.664812  256.245577
2023-09-07  520.758517  257.708756
2023-09-08  618.488814  263.398167
2023-11-13 13:04:21,746 - yq - INFO - Runtime of sim_n_path: 0.0h 2.0m 27s 605ms
2023-11-13 13:04:21,747 - yq - INFO - Pricing the product on 2023-09-04 00:00:00
2023-11-13 13:04:21,747 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:04:21,769 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:04:22,526 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-07    583.0    255.5
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-11-13 13:04:22,531 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/lonn_call.csv
2023-11-13 13:04:22,532 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     450  51.750000  30.906645  0.0175
1  0.129123     460  42.599991  28.382610  0.0175
2  0.129123     470  33.899994  26.205038  0.0175
3  0.129123     480  25.949997  24.541363  0.0175
4  0.129123     490  20.000000  24.976856  0.0175
2023-11-13 13:04:22,533 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230904/sika_call.csv
2023-11-13 13:04:22,534 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     200  48.399994  34.529781  0.0175
1  0.129123     210  38.724991  30.920095  0.0175
2  0.129123     220  29.299995  27.579824  0.0175
3  0.129123     230  20.625000  25.546993  0.0175
4  0.129123     240  13.125000  23.984301  0.0175
2023-11-13 13:04:22,537 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     450  51.750000  0.0175
1  0.129123     460  42.599991  0.0175
2  0.129123     470  33.899994  0.0175
3  0.129123     480  25.949997  0.0175
4  0.129123     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.129123     200  48.399994  0.0175
1  0.129123     210  38.724991  0.0175
2  0.129123     220  29.299995  0.0175
3  0.129123     230  20.625000  0.0175
4  0.129123     240  13.125000  0.0175
2023-11-13 13:04:22,537 - yq - INFO - Calibrating LONZA.
2023-11-13 13:04:28,364 - yq - INFO - Calibrating SIKA.
2023-11-13 13:04:39,769 - yq - INFO - The S_0 for LONZA and SIKA are 495.3 and 247.5
2023-11-13 13:04:39,769 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176af49d0>
 <lmfit.minimizer.MinimizerResult object at 0x176b2ec90>
2023-11-13 13:04:39,769 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 17 seconds
2023-11-13 13:04:39,769 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.87524424  0.18954065  0.05008228 -0.45465496  1.8596154 ]
 [ 2.3274444   0.14209635  0.08683745 -0.44879454  2.67747498]]
2023-11-13 13:04:39,773 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 17s 247ms
2023-11-13 13:04:39,780 - yq - INFO - The log returns list for all assets is: [Date
2023-06-08   -0.008613
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
                ...   
2023-08-29    0.009211
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-08   -0.007859
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
                ...   
2023-08-29    0.013918
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:04:39,781 - yq - INFO - rho_S1S2 is 0.41812507172262614

2023-11-13 13:04:39,781 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41812507]
 [0.41812507 1.        ]]

2023-11-13 13:04:39,781 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.45465496  0.41812507  0.        ]
 [-0.45465496  1.          0.          0.        ]
 [ 0.41812507  0.          1.         -0.44879454]
 [ 0.          0.         -0.44879454  1.        ]]

2023-11-13 13:04:39,781 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.45465496  0.89066765  0.          0.        ]
 [ 0.41812507  0.21343836  0.88295838  0.        ]
 [ 0.          0.         -0.50828505  0.86118889]]

2023-11-13 13:04:39,781 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 7ms
2023-11-13 13:04:39,782 - yq - INFO - The adjusted S_0 is [495.3 247.5]
2023-11-13 13:04:39,805 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:04:39,807 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  494.155572  301.976708
1  450.053341  336.214336
2  460.500837  380.131301
3  436.915107  323.526594
4  375.926154  343.187312
2023-11-13 13:04:39,915 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-05  494.155572  301.976708
2023-09-06  450.053341  336.214336
2023-09-07  460.500837  380.131301
2023-09-08  436.915107  323.526594
2023-09-11  375.926154  343.187312
2023-11-13 13:04:39,917 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 17s 393ms
2023-11-13 13:04:39,917 - yq - INFO - Pricing the product on 2023-09-05 00:00:00
2023-11-13 13:04:39,917 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:04:39,925 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:04:40,165 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-08    578.0    253.5
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-11-13 13:04:40,166 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/lonn_call.csv
2023-11-13 13:04:40,167 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     450  51.750000  30.906645  0.0175
1  0.126316     460  42.599991  28.382610  0.0175
2  0.126316     470  33.899994  26.205038  0.0175
3  0.126316     480  25.949997  24.541363  0.0175
4  0.126316     490  20.000000  24.976856  0.0175
2023-11-13 13:04:40,168 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230905/sika_call.csv
2023-11-13 13:04:40,170 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     195  47.824997  34.854164  0.0175
1  0.126316     200  43.025002  33.723049  0.0175
2  0.126316     210  33.425003  29.825727  0.0175
3  0.126316     220  24.275002  26.838257  0.0175
4  0.126316     230  16.150000  25.069353  0.0175
2023-11-13 13:04:40,173 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     450  51.750000  0.0175
1  0.126316     460  42.599991  0.0175
2  0.126316     470  33.899994  0.0175
3  0.126316     480  25.949997  0.0175
4  0.126316     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.126316     195  47.824997  0.0175
1  0.126316     200  43.025002  0.0175
2  0.126316     210  33.425003  0.0175
3  0.126316     220  24.275002  0.0175
4  0.126316     230  16.150000  0.0175
2023-11-13 13:04:40,173 - yq - INFO - Calibrating LONZA.
2023-11-13 13:04:55,141 - yq - INFO - Calibrating SIKA.
2023-11-13 13:05:07,603 - yq - INFO - The S_0 for LONZA and SIKA are 494.4 and 241.8
2023-11-13 13:05:07,604 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b41e90>
 <lmfit.minimizer.MinimizerResult object at 0x176af8fd0>
2023-11-13 13:05:07,604 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 27 seconds
2023-11-13 13:05:07,604 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.60146742  0.22604072  0.05779864 -0.49337802  1.98788132]
 [ 1.12167233  0.24316623  0.0925665  -0.47867768  2.88501387]]
2023-11-13 13:05:07,610 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 27s 445ms
2023-11-13 13:05:07,638 - yq - INFO - The log returns list for all assets is: [Date
2023-06-09   -0.026650
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
                ...   
2023-08-30    0.006853
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-09   -0.023549
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
                ...   
2023-08-30    0.001219
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:05:07,638 - yq - INFO - rho_S1S2 is 0.41003852432556814

2023-11-13 13:05:07,639 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.41003852]
 [0.41003852 1.        ]]

2023-11-13 13:05:07,639 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.49337802  0.41003852  0.        ]
 [-0.49337802  1.          0.          0.        ]
 [ 0.41003852  0.          1.         -0.47867768]
 [ 0.          0.         -0.47867768  1.        ]]

2023-11-13 13:05:07,639 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.49337802  0.869815    0.          0.        ]
 [ 0.41003852  0.23258279  0.88191477  0.        ]
 [ 0.          0.         -0.54277091  0.83988079]]

2023-11-13 13:05:07,639 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 30ms
2023-11-13 13:05:07,648 - yq - INFO - The adjusted S_0 is [494.4 241.8]
2023-11-13 13:05:07,670 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:05:07,674 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  487.126192  246.440922
1  429.032940  210.518869
2  425.566290  202.362252
3  458.062087  237.050537
4  515.670348  249.200126
2023-11-13 13:05:07,797 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-06  487.126192  246.440922
2023-09-07  429.032940  210.518869
2023-09-08  425.566290  202.362252
2023-09-11  458.062087  237.050537
2023-09-12  515.670348  249.200126
2023-11-13 13:05:07,802 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 27s 639ms
2023-11-13 13:05:07,803 - yq - INFO - Pricing the product on 2023-09-06 00:00:00
2023-11-13 13:05:07,803 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:05:07,819 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:05:08,055 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-09    562.8    247.6
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-11-13 13:05:08,062 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/lonn_call.csv
2023-11-13 13:05:08,064 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     450  51.750000  30.906645  0.0175
1  0.123509     460  42.599991  28.382610  0.0175
2  0.123509     470  33.899994  26.205038  0.0175
3  0.123509     480  25.949997  24.541363  0.0175
4  0.123509     490  20.000000  24.976856  0.0175
2023-11-13 13:05:08,065 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230906/sika_call.csv
2023-11-13 13:05:08,067 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     200  46.400002  35.939377  0.0175
1  0.123509     210  36.725006  31.652964  0.0175
2  0.123509     220  27.350006  27.994894  0.0175
3  0.123509     230  18.775002  25.656116  0.0175
4  0.123509     240  11.525000  24.011927  0.0175
2023-11-13 13:05:08,070 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     450  51.750000  0.0175
1  0.123509     460  42.599991  0.0175
2  0.123509     470  33.899994  0.0175
3  0.123509     480  25.949997  0.0175
4  0.123509     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.123509     200  46.400002  0.0175
1  0.123509     210  36.725006  0.0175
2  0.123509     220  27.350006  0.0175
3  0.123509     230  18.775002  0.0175
4  0.123509     240  11.525000  0.0175
2023-11-13 13:05:08,070 - yq - INFO - Calibrating LONZA.
2023-11-13 13:05:16,467 - yq - INFO - Calibrating SIKA.
2023-11-13 13:05:25,887 - yq - INFO - The S_0 for LONZA and SIKA are 496.1 and 245.5
2023-11-13 13:05:25,887 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b24c10>
 <lmfit.minimizer.MinimizerResult object at 0x176ac1310>
2023-11-13 13:05:25,887 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 17 seconds
2023-11-13 13:05:25,887 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.43300281  0.14898374  0.0497429  -0.41762105  1.84195806]
 [ 2.66470866  0.13755699  0.08857327 -0.44788038  3.01645706]]
2023-11-13 13:05:25,888 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 17s 833ms
2023-11-13 13:05:25,895 - yq - INFO - The log returns list for all assets is: [Date
2023-06-12   -0.001778
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
                ...   
2023-08-31    0.011727
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-12    0.022365
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
                ...   
2023-08-31    0.016509
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:05:25,896 - yq - INFO - rho_S1S2 is 0.39478894626329986

2023-11-13 13:05:25,896 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39478895]
 [0.39478895 1.        ]]

2023-11-13 13:05:25,896 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.41762105  0.39478895  0.        ]
 [-0.41762105  1.          0.          0.        ]
 [ 0.39478895  0.          1.         -0.44788038]
 [ 0.          0.         -0.44788038  1.        ]]

2023-11-13 13:05:25,896 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.41762105  0.9086213   0.          0.        ]
 [ 0.39478895  0.18145312  0.90067555  0.        ]
 [ 0.          0.         -0.49727161  0.86759492]]

2023-11-13 13:05:25,896 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 8ms
2023-11-13 13:05:25,898 - yq - INFO - The adjusted S_0 is [496.1 245.5]
2023-11-13 13:05:25,921 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:05:25,924 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  504.507899  230.559258
1  569.001336  209.458527
2  524.065001  167.645985
3  503.300252  144.191581
4  503.426018  146.927816
2023-11-13 13:05:26,045 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-07  504.507899  230.559258
2023-09-08  569.001336  209.458527
2023-09-11  524.065001  167.645985
2023-09-12  503.300252  144.191581
2023-09-13  503.426018  146.927816
2023-11-13 13:05:26,047 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 17s 994ms
2023-11-13 13:05:26,047 - yq - INFO - Pricing the product on 2023-09-07 00:00:00
2023-11-13 13:05:26,047 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:05:26,056 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:05:26,307 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-12    561.8    253.2
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-11-13 13:05:26,308 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/lonn_call.csv
2023-11-13 13:05:26,310 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     450  51.750000  30.906645  0.0175
1  0.120702     460  42.599991  28.382610  0.0175
2  0.120702     470  33.899994  26.205038  0.0175
3  0.120702     480  25.949997  24.541363  0.0175
4  0.120702     490  20.000000  24.976856  0.0175
2023-11-13 13:05:26,311 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230907/sika_call.csv
2023-11-13 13:05:26,313 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     200  50.349998  39.359463  0.0175
1  0.120702     210  40.625000  34.584309  0.0175
2  0.120702     220  31.100006  30.254286  0.0175
3  0.120702     230  22.099998  26.922087  0.0175
4  0.120702     240  14.300000  25.054329  0.0175
2023-11-13 13:05:26,316 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     450  51.750000  0.0175
1  0.120702     460  42.599991  0.0175
2  0.120702     470  33.899994  0.0175
3  0.120702     480  25.949997  0.0175
4  0.120702     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.120702     200  50.349998  0.0175
1  0.120702     210  40.625000  0.0175
2  0.120702     220  31.100006  0.0175
3  0.120702     230  22.099998  0.0175
4  0.120702     240  14.300000  0.0175
2023-11-13 13:05:26,316 - yq - INFO - Calibrating LONZA.
2023-11-13 13:05:47,983 - yq - INFO - Calibrating SIKA.
2023-11-13 13:05:58,333 - yq - INFO - The S_0 for LONZA and SIKA are 492.4 and 249.1
2023-11-13 13:05:58,334 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ba0410>
 <lmfit.minimizer.MinimizerResult object at 0x176b22750>
2023-11-13 13:05:58,334 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 32 seconds
2023-11-13 13:05:58,334 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.99756846  0.37409749  0.07693913 -0.56657034  2.27854399]
 [ 5.1368971   0.10245121  0.09466176 -0.40507403  3.15865242]]
2023-11-13 13:05:58,335 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 32s 28ms
2023-11-13 13:05:58,346 - yq - INFO - The log returns list for all assets is: [Date
2023-06-13    0.006034
2023-06-14    0.006701
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
                ...   
2023-09-01    0.007336
2023-09-04    0.005669
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-13    0.017616
2023-06-14    0.007731
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
                ...   
2023-09-01   -0.013671
2023-09-04    0.002022
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:05:58,346 - yq - INFO - rho_S1S2 is 0.393484816904622

2023-11-13 13:05:58,346 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39348482]
 [0.39348482 1.        ]]

2023-11-13 13:05:58,346 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.56657034  0.39348482  0.        ]
 [-0.56657034  1.          0.          0.        ]
 [ 0.39348482  0.          1.         -0.40507403]
 [ 0.          0.         -0.40507403  1.        ]]

2023-11-13 13:05:58,346 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.56657034  0.82401338  0.          0.        ]
 [ 0.39348482  0.27055001  0.87861959  0.        ]
 [ 0.          0.         -0.4610346   0.88738216]]

2023-11-13 13:05:58,346 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 12ms
2023-11-13 13:05:58,347 - yq - INFO - The adjusted S_0 is [492.4 249.1]
2023-11-13 13:05:58,370 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:05:58,372 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  520.905084  327.339923
1  489.094866  276.723994
2  552.706313  263.277455
3  618.991987  252.765216
4  561.337968  273.207694
2023-11-13 13:05:58,479 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-08  520.905084  327.339923
2023-09-11  489.094866  276.723994
2023-09-12  552.706313  263.277455
2023-09-13  618.991987  252.765216
2023-09-14  561.337968  273.207694
2023-11-13 13:05:58,481 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 32s 176ms
2023-11-13 13:05:58,482 - yq - INFO - Pricing the product on 2023-09-08 00:00:00
2023-11-13 13:05:58,482 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:05:58,488 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:05:58,741 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-13    565.2    257.7
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-11-13 13:05:58,743 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/lonn_call.csv
2023-11-13 13:05:58,745 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     450  51.750000  30.906645  0.0175
1  0.117895     460  42.599991  28.382610  0.0175
2  0.117895     470  33.899994  26.205038  0.0175
3  0.117895     480  25.949997  24.541363  0.0175
4  0.117895     490  20.000000  24.976856  0.0175
2023-11-13 13:05:58,746 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230908/sika_call.csv
2023-11-13 13:05:58,748 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     200  43.724991  38.051220  0.0175
1  0.117895     210  34.074997  32.932762  0.0175
2  0.117895     220  24.849991  29.042345  0.0175
3  0.117895     230  16.599998  26.669315  0.0175
4  0.117895     240   9.925000  25.268066  0.0175
2023-11-13 13:05:58,751 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     450  51.750000  0.0175
1  0.117895     460  42.599991  0.0175
2  0.117895     470  33.899994  0.0175
3  0.117895     480  25.949997  0.0175
4  0.117895     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.117895     200  43.724991  0.0175
1  0.117895     210  34.074997  0.0175
2  0.117895     220  24.849991  0.0175
3  0.117895     230  16.599998  0.0175
4  0.117895     240   9.925000  0.0175
2023-11-13 13:05:58,751 - yq - INFO - Calibrating LONZA.
2023-11-13 13:05:59,922 - yq - WARNING - Error during calibration on 2023-09-08: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:05:59,923 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 1 seconds
2023-11-13 13:05:59,923 - yq - ERROR - Error during calibration on 2023-09-08 00:00:00: cannot access local variable 'lonn_result' where it is not associated with a value
2023-11-13 13:05:59,923 - yq - INFO - Pricing the product on 2023-09-11 00:00:00
2023-11-13 13:05:59,923 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:05:59,928 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:06:00,169 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-14    569.0    259.7
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-11-13 13:06:00,170 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/lonn_call.csv
2023-11-13 13:06:00,172 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     450  51.750000  30.906645  0.0175
1  0.109474     460  42.599991  28.382610  0.0175
2  0.109474     470  33.899994  26.205038  0.0175
3  0.109474     480  25.949997  24.541363  0.0175
4  0.109474     490  20.000000  24.976856  0.0175
2023-11-13 13:06:00,172 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230911/sika_call.csv
2023-11-13 13:06:00,174 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     200  45.050003  35.881733  0.0175
1  0.109474     210  35.325005  31.835203  0.0175
2  0.109474     220  25.974998  28.917973  0.0175
3  0.109474     230  17.424995  26.826229  0.0175
4  0.109474     240  10.424999  25.718927  0.0175
2023-11-13 13:06:00,178 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     450  51.750000  0.0175
1  0.109474     460  42.599991  0.0175
2  0.109474     470  33.899994  0.0175
3  0.109474     480  25.949997  0.0175
4  0.109474     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.109474     200  45.050003  0.0175
1  0.109474     210  35.325005  0.0175
2  0.109474     220  25.974998  0.0175
3  0.109474     230  17.424995  0.0175
4  0.109474     240  10.424999  0.0175
2023-11-13 13:06:00,178 - yq - INFO - Calibrating LONZA.
2023-11-13 13:06:11,980 - yq - INFO - Calibrating SIKA.
2023-11-13 13:09:06,511 - yq - INFO - The S_0 for LONZA and SIKA are 487.2 and 243.1
2023-11-13 13:09:06,513 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b53b90>
 <lmfit.minimizer.MinimizerResult object at 0x176aff750>
2023-11-13 13:09:06,513 - yq - INFO - The elapsed time for 2 calibration is 3 minutes, 6 seconds
2023-11-13 13:09:06,513 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.04594046  9.99055061  0.14277813 -0.6910913   3.29038198]
 [ 9.99999997  0.03565677  0.03568532 -1.          2.28577209]]
2023-11-13 13:09:06,517 - yq - INFO - Runtime of calibrate: 0.0h 3.0m 6s 348ms
2023-11-13 13:09:06,534 - yq - INFO - The log returns list for all assets is: [Date
2023-06-15   -0.007763
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
                ...   
2023-09-05   -0.001819
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-15   -0.006180
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
                ...   
2023-09-05   -0.023300
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:09:06,535 - yq - INFO - rho_S1S2 is 0.3985701703055984

2023-11-13 13:09:06,535 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39857017]
 [0.39857017 1.        ]]

2023-11-13 13:09:06,535 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.6910913   0.39857017  0.        ]
 [-0.6910913   1.          0.          0.        ]
 [ 0.39857017  0.          1.         -1.        ]
 [ 0.          0.         -1.          1.        ]]

2023-11-13 13:09:06,536 - yq - ERROR - Error during calibration on 2023-09-11 00:00:00: Matrix is not positive definite
2023-11-13 13:09:06,536 - yq - INFO - Pricing the product on 2023-09-12 00:00:00
2023-11-13 13:09:06,536 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:09:06,557 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:09:06,775 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-15    564.6    258.1
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-11-13 13:09:06,782 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/lonn_call.csv
2023-11-13 13:09:06,784 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     450  51.750000  30.906645  0.0175
1  0.106667     460  42.599991  28.382610  0.0175
2  0.106667     470  33.899994  26.205038  0.0175
3  0.106667     480  25.949997  24.541363  0.0175
4  0.106667     490  20.000000  24.976856  0.0175
2023-11-13 13:09:06,785 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230912/sika_call.csv
2023-11-13 13:09:06,787 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     200  45.050003  35.881733  0.0175
1  0.106667     210  35.325005  31.835203  0.0175
2  0.106667     220  25.974998  28.917973  0.0175
3  0.106667     230  17.424995  26.826229  0.0175
4  0.106667     240  10.424999  25.718927  0.0175
2023-11-13 13:09:06,790 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     450  51.750000  0.0175
1  0.106667     460  42.599991  0.0175
2  0.106667     470  33.899994  0.0175
3  0.106667     480  25.949997  0.0175
4  0.106667     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.106667     200  45.050003  0.0175
1  0.106667     210  35.325005  0.0175
2  0.106667     220  25.974998  0.0175
3  0.106667     230  17.424995  0.0175
4  0.106667     240  10.424999  0.0175
2023-11-13 13:09:06,790 - yq - INFO - Calibrating LONZA.
2023-11-13 13:09:14,346 - yq - INFO - Calibrating SIKA.
2023-11-13 13:09:22,174 - yq - INFO - The S_0 for LONZA and SIKA are 484.7 and 237.6
2023-11-13 13:09:22,174 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b53990>
 <lmfit.minimizer.MinimizerResult object at 0x176af9a50>
2023-11-13 13:09:22,174 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 15 seconds
2023-11-13 13:09:22,174 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.05668493  9.9986522   0.17959398 -0.7201208   3.88923925]
 [ 0.13272876  5.83738294  0.25064284 -0.68154652  6.25444501]]
2023-11-13 13:09:22,175 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 15s 400ms
2023-11-13 13:09:22,182 - yq - INFO - The log returns list for all assets is: [Date
2023-06-16    0.005299
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
                ...   
2023-09-06    0.003433
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-16    0.001549
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
                ...   
2023-09-06    0.015186
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:09:22,183 - yq - INFO - rho_S1S2 is 0.39533637052647386

2023-11-13 13:09:22,183 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39533637]
 [0.39533637 1.        ]]

2023-11-13 13:09:22,183 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.7201208   0.39533637  0.        ]
 [-0.7201208   1.          0.          0.        ]
 [ 0.39533637  0.          1.         -0.68154652]
 [ 0.          0.         -0.68154652  1.        ]]

2023-11-13 13:09:22,183 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.7201208   0.69384872  0.          0.        ]
 [ 0.39533637  0.4103055   0.82180202  0.        ]
 [ 0.          0.         -0.82933177  0.55875649]]

2023-11-13 13:09:22,183 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 8ms
2023-11-13 13:09:22,186 - yq - INFO - The adjusted S_0 is [484.7 237.6]
2023-11-13 13:09:22,205 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:09:22,206 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  527.415481  205.005207
1  522.281013  212.400592
2  619.280641  224.098183
3  623.202775  193.345878
4  628.138576  171.380074
2023-11-13 13:09:22,299 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-13  527.415481  205.005207
2023-09-14  522.281013  212.400592
2023-09-15  619.280641  224.098183
2023-09-18  623.202775  193.345878
2023-09-19  628.138576  171.380074
2023-11-13 13:09:22,301 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 15s 530ms
2023-11-13 13:09:22,301 - yq - INFO - Pricing the product on 2023-09-13 00:00:00
2023-11-13 13:09:22,301 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:09:22,308 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:09:22,505 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-16    567.6    258.5
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-11-13 13:09:22,506 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/lonn_call.csv
2023-11-13 13:09:22,508 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     450  51.750000  30.906645  0.0175
1   0.10386     460  42.599991  28.382610  0.0175
2   0.10386     470  33.899994  26.205038  0.0175
3   0.10386     480  25.949997  24.541363  0.0175
4   0.10386     490  20.000000  24.976856  0.0175
2023-11-13 13:09:22,508 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230913/sika_call.csv
2023-11-13 13:09:22,510 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     200  45.050003  35.881733  0.0175
1   0.10386     210  35.325005  31.835203  0.0175
2   0.10386     220  25.974998  28.917973  0.0175
3   0.10386     230  17.424995  26.826229  0.0175
4   0.10386     240  10.424999  25.718927  0.0175
2023-11-13 13:09:22,512 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     450  51.750000  0.0175
1   0.10386     460  42.599991  0.0175
2   0.10386     470  33.899994  0.0175
3   0.10386     480  25.949997  0.0175
4   0.10386     490  20.000000  0.0175
   maturity  strike      price    rate
0   0.10386     200  45.050003  0.0175
1   0.10386     210  35.325005  0.0175
2   0.10386     220  25.974998  0.0175
3   0.10386     230  17.424995  0.0175
4   0.10386     240  10.424999  0.0175
2023-11-13 13:09:22,513 - yq - INFO - Calibrating LONZA.
2023-11-13 13:09:31,465 - yq - INFO - Calibrating SIKA.
2023-11-13 13:09:58,675 - yq - INFO - The S_0 for LONZA and SIKA are 485.7 and 237.0
2023-11-13 13:09:58,676 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ac3910>
 <lmfit.minimizer.MinimizerResult object at 0x176bb2510>
2023-11-13 13:09:58,676 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 36 seconds
2023-11-13 13:09:58,676 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.05159899  9.99991331  0.17255206 -0.71088648  3.73309346]
 [ 0.09443379  8.16665221  0.27242038 -0.68490977  6.40810209]]
2023-11-13 13:09:58,680 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 36s 175ms
2023-11-13 13:09:58,694 - yq - INFO - The log returns list for all assets is: [Date
2023-06-19   -0.033319
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
                ...   
2023-09-07   -0.007486
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-19   -0.028248
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
                ...   
2023-09-07    0.014557
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:09:58,697 - yq - INFO - rho_S1S2 is 0.39438142603735443

2023-11-13 13:09:58,698 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.39438143]
 [0.39438143 1.        ]]

2023-11-13 13:09:58,698 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.71088648  0.39438143  0.        ]
 [-0.71088648  1.          0.          0.        ]
 [ 0.39438143  0.          1.         -0.68490977]
 [ 0.          0.         -0.68490977  1.        ]]

2023-11-13 13:09:58,698 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.71088648  0.70330677  0.          0.        ]
 [ 0.39438143  0.39863177  0.82798309  0.        ]
 [ 0.          0.         -0.8272026   0.56190378]]

2023-11-13 13:09:58,698 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 18ms
2023-11-13 13:09:58,707 - yq - INFO - The adjusted S_0 is [485.7 237. ]
2023-11-13 13:09:58,730 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:09:58,733 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  570.566611  211.736121
1  607.734384  208.649875
2  552.841436  198.008424
3  548.771808  207.327266
4  596.272664  196.041175
2023-11-13 13:09:58,855 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-14  570.566611  211.736121
2023-09-15  607.734384  208.649875
2023-09-18  552.841436  198.008424
2023-09-19  548.771808  207.327266
2023-09-20  596.272664  196.041175
2023-11-13 13:09:58,857 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 36s 353ms
2023-11-13 13:09:58,857 - yq - INFO - Pricing the product on 2023-09-14 00:00:00
2023-11-13 13:09:58,857 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:09:58,871 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:09:59,141 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-19    549.0    251.3
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-11-13 13:09:59,145 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/lonn_call.csv
2023-11-13 13:09:59,147 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     450  51.750000  30.906645  0.0175
1  0.101053     460  42.599991  28.382610  0.0175
2  0.101053     470  33.899994  26.205038  0.0175
3  0.101053     480  25.949997  24.541363  0.0175
4  0.101053     490  20.000000  24.976856  0.0175
2023-11-13 13:09:59,149 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230914/sika_call.csv
2023-11-13 13:09:59,152 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     200  45.050003  35.881733  0.0175
1  0.101053     210  35.325005  31.835203  0.0175
2  0.101053     220  25.974998  28.917973  0.0175
3  0.101053     230  17.424995  26.826229  0.0175
4  0.101053     240  10.424999  25.718927  0.0175
2023-11-13 13:09:59,155 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     450  51.750000  0.0175
1  0.101053     460  42.599991  0.0175
2  0.101053     470  33.899994  0.0175
3  0.101053     480  25.949997  0.0175
4  0.101053     490  20.000000  0.0175
   maturity  strike      price    rate
0  0.101053     200  45.050003  0.0175
1  0.101053     210  35.325005  0.0175
2  0.101053     220  25.974998  0.0175
3  0.101053     230  17.424995  0.0175
4  0.101053     240  10.424999  0.0175
2023-11-13 13:09:59,156 - yq - INFO - Calibrating LONZA.
2023-11-13 13:10:11,466 - yq - INFO - Calibrating SIKA.
2023-11-13 13:10:20,529 - yq - INFO - The S_0 for LONZA and SIKA are 489.3 and 239.6
2023-11-13 13:10:20,530 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b13590>
 <lmfit.minimizer.MinimizerResult object at 0x176b36c90>
2023-11-13 13:10:20,530 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 21 seconds
2023-11-13 13:10:20,530 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.58180159  0.71366847  0.13305957 -0.65128815  3.07924741]
 [ 1.10667138  0.77729704  0.22404732 -0.65451438  6.5174984 ]]
2023-11-13 13:10:20,530 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 21s 389ms
2023-11-13 13:10:20,543 - yq - INFO - The log returns list for all assets is: [Date
2023-06-20   -0.032207
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
                ...   
2023-09-08   -0.017620
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-20   -0.037710
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
                ...   
2023-09-08   -0.026440
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:10:20,543 - yq - INFO - rho_S1S2 is 0.3716418635153974

2023-11-13 13:10:20,543 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.37164186]
 [0.37164186 1.        ]]

2023-11-13 13:10:20,543 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.65128815  0.37164186  0.        ]
 [-0.65128815  1.          0.          0.        ]
 [ 0.37164186  0.          1.         -0.65451438]
 [ 0.          0.         -0.65451438  1.        ]]

2023-11-13 13:10:20,543 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.65128815  0.75883051  0.          0.        ]
 [ 0.37164186  0.31897234  0.87185949  0.        ]
 [ 0.          0.         -0.75071084  0.66063093]]

2023-11-13 13:10:20,543 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 13ms
2023-11-13 13:10:20,544 - yq - INFO - The adjusted S_0 is [489.3 239.6]
2023-11-13 13:10:20,567 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:10:20,568 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  416.304461  194.899986
1  393.614973  215.021551
2  362.730138  184.633547
3  319.035822  148.555007
4  342.148289  201.931642
2023-11-13 13:10:20,680 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-15  416.304461  194.899986
2023-09-18  393.614973  215.021551
2023-09-19  362.730138  184.633547
2023-09-20  319.035822  148.555007
2023-09-21  342.148289  201.931642
2023-11-13 13:10:20,683 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 21s 544ms
2023-11-13 13:10:20,683 - yq - INFO - Pricing the product on 2023-09-15 00:00:00
2023-11-13 13:10:20,683 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:10:20,697 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:10:20,943 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-20    531.6    242.0
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-11-13 13:10:20,947 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/lonn_call.csv
2023-11-13 13:10:20,949 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     450  54.349991  27.144653  0.0175
1  0.176842     460  45.750000  25.683651  0.0175
2  0.176842     470  37.699997  24.490421  0.0175
3  0.176842     480  30.299988  23.477232  0.0175
4  0.176842     490  24.724998  23.905760  0.0175
2023-11-13 13:10:20,950 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230915/sika_call.csv
2023-11-13 13:10:20,952 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     200  45.949997  32.808395  0.0175
1  0.176842     210  36.525002  29.797209  0.0175
2  0.176842     220  27.599998  27.484951  0.0175
3  0.176842     230  19.599998  25.957216  0.0175
4  0.176842     240  12.900000  24.873652  0.0175
2023-11-13 13:10:20,956 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     450  54.349991  0.0175
1  0.176842     460  45.750000  0.0175
2  0.176842     470  37.699997  0.0175
3  0.176842     480  30.299988  0.0175
4  0.176842     490  24.724998  0.0175
   maturity  strike      price    rate
0  0.176842     200  45.949997  0.0175
1  0.176842     210  36.525002  0.0175
2  0.176842     220  27.599998  0.0175
3  0.176842     230  19.599998  0.0175
4  0.176842     240  12.900000  0.0175
2023-11-13 13:10:20,956 - yq - INFO - Calibrating LONZA.
2023-11-13 13:10:28,943 - yq - INFO - Calibrating SIKA.
2023-11-13 13:10:35,349 - yq - INFO - The S_0 for LONZA and SIKA are 497.4 and 244.5
2023-11-13 13:10:35,355 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b2c710>
 <lmfit.minimizer.MinimizerResult object at 0x176b8d610>
2023-11-13 13:10:35,355 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 13:10:35,355 - yq - INFO - The calibrated params_list_Heston is:
 [[ 8.45557802  0.08825222  0.0687142  -0.36756872  3.10144891]
 [ 0.03450569  9.98071754  0.08658592 -0.51914372  3.07204131]]
2023-11-13 13:10:35,356 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 14s 413ms
2023-11-13 13:10:35,359 - yq - INFO - The log returns list for all assets is: [Date
2023-06-21   -0.006416
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
                ...   
2023-09-11    0.007003
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-21   -0.019613
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
                ...   
2023-09-11    0.002059
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:10:35,359 - yq - INFO - rho_S1S2 is 0.34635011712471314

2023-11-13 13:10:35,359 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34635012]
 [0.34635012 1.        ]]

2023-11-13 13:10:35,359 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.36756872  0.34635012  0.        ]
 [-0.36756872  1.          0.          0.        ]
 [ 0.34635012  0.          1.         -0.51914372]
 [ 0.          0.         -0.51914372  1.        ]]

2023-11-13 13:10:35,359 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.36756872  0.92999636  0.          0.        ]
 [ 0.34635012  0.13689029  0.92806392  0.        ]
 [ 0.          0.         -0.55938358  0.82890893]]

2023-11-13 13:10:35,359 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 4ms
2023-11-13 13:10:35,360 - yq - INFO - The adjusted S_0 is [497.4 244.5]
2023-11-13 13:10:35,378 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:10:35,380 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  541.509195  265.976720
1  476.111948  262.873457
2  424.271406  205.539543
3  340.725345  194.736143
4  302.412737  167.040420
2023-11-13 13:10:35,475 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-18  541.509195  265.976720
2023-09-19  476.111948  262.873457
2023-09-20  424.271406  205.539543
2023-09-21  340.725345  194.736143
2023-09-22  302.412737  167.040420
2023-11-13 13:10:35,476 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 14s 535ms
2023-11-13 13:10:35,476 - yq - INFO - Pricing the product on 2023-09-18 00:00:00
2023-11-13 13:10:35,476 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:10:35,485 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:10:35,706 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-21    528.2    237.3
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-11-13 13:10:35,709 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/lonn_call.csv
2023-11-13 13:10:35,710 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     355  74.775002  39.310154  0.0175
1  0.168421     360  70.174995  38.171562  0.0175
2  0.168421     365  65.649994  37.127800  0.0175
3  0.168421     370  61.250000  36.262806  0.0175
4  0.168421     375  56.899994  35.364086  0.0175
2023-11-13 13:10:35,711 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230918/sika_call.csv
2023-11-13 13:10:35,713 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     195  47.924995  34.303944  0.0175
1  0.168421     200  43.125000  32.494976  0.0175
2  0.168421     210  33.849998  29.837637  0.0175
3  0.168421     220  25.175003  27.778664  0.0175
4  0.168421     230  17.549995  26.419285  0.0175
2023-11-13 13:10:35,716 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     355  74.775002  0.0175
1  0.168421     360  70.174995  0.0175
2  0.168421     365  65.649994  0.0175
3  0.168421     370  61.250000  0.0175
4  0.168421     375  56.899994  0.0175
   maturity  strike      price    rate
0  0.168421     195  47.924995  0.0175
1  0.168421     200  43.125000  0.0175
2  0.168421     210  33.849998  0.0175
3  0.168421     220  25.175003  0.0175
4  0.168421     230  17.549995  0.0175
2023-11-13 13:10:35,716 - yq - INFO - Calibrating LONZA.
2023-11-13 13:11:59,638 - yq - INFO - Calibrating SIKA.
2023-11-13 13:12:05,992 - yq - INFO - The S_0 for LONZA and SIKA are 424.3 and 240.7
2023-11-13 13:12:05,992 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a27b10>
 <lmfit.minimizer.MinimizerResult object at 0x176a79510>
2023-11-13 13:12:05,992 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 30 seconds
2023-11-13 13:12:05,992 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000646e-02  3.35791729e-02  2.66272307e-01 -1.54171120e-11
   9.99937560e+00]
 [ 2.05460803e+00  1.31240283e-01  9.70274987e-02 -4.40298411e-01
   1.79166462e+00]]
2023-11-13 13:12:05,995 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 30s 288ms
2023-11-13 13:12:06,006 - yq - INFO - The log returns list for all assets is: [Date
2023-06-22   -0.002274
2023-06-23    0.005299
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
                ...   
2023-09-12   -0.005145
2023-09-13    0.002061
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-22    0.001684
2023-06-23    0.011711
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
                ...   
2023-09-12   -0.022884
2023-09-13   -0.002528
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:12:06,007 - yq - INFO - rho_S1S2 is 0.3253071051769591

2023-11-13 13:12:06,007 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32530711]
 [0.32530711 1.        ]]

2023-11-13 13:12:06,007 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.54171120e-11  3.25307105e-01  0.00000000e+00]
 [-1.54171120e-11  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.25307105e-01  0.00000000e+00  1.00000000e+00 -4.40298411e-01]
 [ 0.00000000e+00  0.00000000e+00 -4.40298411e-01  1.00000000e+00]]

2023-11-13 13:12:06,007 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.54171120e-11  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.25307105e-01  5.01529609e-12  9.45608422e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -4.65624460e-01  8.84982408e-01]]

2023-11-13 13:12:06,007 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 12ms
2023-11-13 13:12:06,015 - yq - INFO - The adjusted S_0 is [424.3 240.7]
2023-11-13 13:12:06,036 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:12:06,039 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  341.291164  218.857406
1  417.373850  195.773156
2  402.072219  213.765097
3  392.600103  206.064823
4  436.889005  226.185773
2023-11-13 13:12:06,138 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-19  341.291164  218.857406
2023-09-20  417.373850  195.773156
2023-09-21  402.072219  213.765097
2023-09-22  392.600103  206.064823
2023-09-25  436.889005  226.185773
2023-11-13 13:12:06,140 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 30s 436ms
2023-11-13 13:12:06,142 - yq - INFO - Pricing the product on 2023-09-19 00:00:00
2023-11-13 13:12:06,142 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:12:06,154 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:12:06,362 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-22    527.0    237.7
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-11-13 13:12:06,366 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/lonn_call.csv
2023-11-13 13:12:06,367 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.165614     330  103.949997  37.879402  0.0175
1  0.165614     335   99.050003  36.874622  0.0175
2  0.165614     340   94.199997  36.165127  0.0175
3  0.165614     345   89.349998  35.303986  0.0175
4  0.165614     350   84.474998  34.169895  0.0175
2023-11-13 13:12:06,368 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230919/sika_call.csv
2023-11-13 13:12:06,370 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     190  40.974998  34.669617  0.0175
1  0.165614     195  36.275002  33.086273  0.0175
2  0.165614     200  31.699997  31.738745  0.0175
3  0.165614     210  23.075005  29.495777  0.0175
4  0.165614     220  15.625002  28.121016  0.0175
2023-11-13 13:12:06,373 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.165614     330  103.949997  0.0175
1  0.165614     335   99.050003  0.0175
2  0.165614     340   94.199997  0.0175
3  0.165614     345   89.349998  0.0175
4  0.165614     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.165614     190  40.974998  0.0175
1  0.165614     195  36.275002  0.0175
2  0.165614     200  31.699997  0.0175
3  0.165614     210  23.075005  0.0175
4  0.165614     220  15.625002  0.0175
2023-11-13 13:12:06,373 - yq - INFO - Calibrating LONZA.
2023-11-13 13:12:08,061 - yq - WARNING - Error during calibration on 2023-09-19: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:12:08,061 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 1 seconds
2023-11-13 13:12:08,061 - yq - ERROR - Error during calibration on 2023-09-19 00:00:00: cannot access local variable 'lonn_result' where it is not associated with a value
2023-11-13 13:12:08,061 - yq - INFO - Pricing the product on 2023-09-20 00:00:00
2023-11-13 13:12:08,061 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:12:08,066 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:12:08,270 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-23    529.8    240.5
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-11-13 13:12:08,271 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/lonn_call.csv
2023-11-13 13:12:08,273 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.162807     330  103.949997  37.879402  0.0175
1  0.162807     335   99.050003  36.874622  0.0175
2  0.162807     340   94.199997  36.165127  0.0175
3  0.162807     345   89.349998  35.303986  0.0175
4  0.162807     350   84.474998  34.169895  0.0175
2023-11-13 13:12:08,274 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230920/sika_call.csv
2023-11-13 13:12:08,275 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     190  40.974998  34.669617  0.0175
1  0.162807     195  36.275002  33.086273  0.0175
2  0.162807     200  31.699997  31.738745  0.0175
3  0.162807     210  23.075005  29.495777  0.0175
4  0.162807     220  15.625002  28.121016  0.0175
2023-11-13 13:12:08,278 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.162807     330  103.949997  0.0175
1  0.162807     335   99.050003  0.0175
2  0.162807     340   94.199997  0.0175
3  0.162807     345   89.349998  0.0175
4  0.162807     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.162807     190  40.974998  0.0175
1  0.162807     195  36.275002  0.0175
2  0.162807     200  31.699997  0.0175
3  0.162807     210  23.075005  0.0175
4  0.162807     220  15.625002  0.0175
2023-11-13 13:12:08,278 - yq - INFO - Calibrating LONZA.
2023-11-13 13:12:38,352 - yq - INFO - Calibrating SIKA.
2023-11-13 13:13:03,958 - yq - INFO - The S_0 for LONZA and SIKA are 440.7 and 242.8
2023-11-13 13:13:03,963 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ab0810>
 <lmfit.minimizer.MinimizerResult object at 0x176b63690>
2023-11-13 13:13:03,963 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 55 seconds
2023-11-13 13:13:03,963 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000125e-02  2.00902161e-02  2.05411515e-01 -3.10178994e-09
   9.99982864e+00]
 [ 8.62494583e+00  4.44548127e-02  1.00015051e-02 -3.70412589e-11
   2.59078237e+00]]
2023-11-13 13:13:03,965 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 55s 695ms
2023-11-13 13:13:03,978 - yq - INFO - The log returns list for all assets is: [Date
2023-06-26   -0.015215
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
                ...   
2023-09-14    0.007385
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-26    0.011575
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
                ...   
2023-09-14    0.010911
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:13:03,980 - yq - INFO - rho_S1S2 is 0.3278432600606565

2023-11-13 13:13:03,981 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32784326]
 [0.32784326 1.        ]]

2023-11-13 13:13:03,981 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -3.10178994e-09  3.27843260e-01  0.00000000e+00]
 [-3.10178994e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.27843260e-01  0.00000000e+00  1.00000000e+00 -3.70412589e-11]
 [ 0.00000000e+00  0.00000000e+00 -3.70412589e-11  1.00000000e+00]]

2023-11-13 13:13:03,981 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-3.10178994e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.27843260e-01  1.01690092e-09  9.44732130e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.92082134e-11  1.00000000e+00]]

2023-11-13 13:13:03,982 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 16ms
2023-11-13 13:13:03,989 - yq - INFO - The adjusted S_0 is [440.7 242.8]
2023-11-13 13:13:04,009 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:13:04,012 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  481.468304  284.130640
1  490.475487  284.554106
2  525.194942  243.607736
3  495.667904  204.103636
4  518.885305  181.061921
2023-11-13 13:13:04,127 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-21  481.468304  284.130640
2023-09-22  490.475487  284.554106
2023-09-25  525.194942  243.607736
2023-09-26  495.667904  204.103636
2023-09-27  518.885305  181.061921
2023-11-13 13:13:04,133 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 55s 864ms
2023-11-13 13:13:04,133 - yq - INFO - Pricing the product on 2023-09-21 00:00:00
2023-11-13 13:13:04,133 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:13:04,141 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:13:04,374 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-26    521.8    243.3
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-11-13 13:13:04,382 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/lonn_call.csv
2023-11-13 13:13:04,384 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0      0.16     330  103.949997  37.879402  0.0175
1      0.16     335   99.050003  36.874622  0.0175
2      0.16     340   94.199997  36.165127  0.0175
3      0.16     345   89.349998  35.303986  0.0175
4      0.16     350   84.474998  34.169895  0.0175
2023-11-13 13:13:04,384 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230921/sika_call.csv
2023-11-13 13:13:04,386 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     190  40.974998  34.669617  0.0175
1      0.16     195  36.275002  33.086273  0.0175
2      0.16     200  31.699997  31.738745  0.0175
3      0.16     210  23.075005  29.495777  0.0175
4      0.16     220  15.625002  28.121016  0.0175
2023-11-13 13:13:04,389 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0      0.16     330  103.949997  0.0175
1      0.16     335   99.050003  0.0175
2      0.16     340   94.199997  0.0175
3      0.16     345   89.349998  0.0175
4      0.16     350   84.474998  0.0175
   maturity  strike      price    rate
0      0.16     190  40.974998  0.0175
1      0.16     195  36.275002  0.0175
2      0.16     200  31.699997  0.0175
3      0.16     210  23.075005  0.0175
4      0.16     220  15.625002  0.0175
2023-11-13 13:13:04,390 - yq - INFO - Calibrating LONZA.
2023-11-13 13:13:10,898 - yq - INFO - Calibrating SIKA.
2023-11-13 13:14:17,272 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 239.9
2023-11-13 13:14:17,274 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b70e10>
 <lmfit.minimizer.MinimizerResult object at 0x1730fd890>
2023-11-13 13:14:17,274 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 12 seconds
2023-11-13 13:14:17,274 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.01570756e-02  9.41925816e+00  2.52930146e-01 -1.29311208e-08
   9.99995441e+00]
 [ 9.99051333e+00  4.81448151e-02  1.78628545e-02 -4.23507360e-08
   2.49265583e+00]]
2023-11-13 13:14:17,281 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 12s 906ms
2023-11-13 13:14:17,290 - yq - INFO - The log returns list for all assets is: [Date
2023-06-27   -0.011953
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
                ...   
2023-09-15    0.016419
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-27    0.010630
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
                ...   
2023-09-15    0.020244
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:14:17,291 - yq - INFO - rho_S1S2 is 0.3430350360744496

2023-11-13 13:14:17,291 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34303504]
 [0.34303504 1.        ]]

2023-11-13 13:14:17,291 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.29311208e-08  3.43035036e-01  0.00000000e+00]
 [-1.29311208e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.43035036e-01  0.00000000e+00  1.00000000e+00 -4.23507360e-08]
 [ 0.00000000e+00  0.00000000e+00 -4.23507360e-08  1.00000000e+00]]

2023-11-13 13:14:17,291 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.29311208e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.43035036e-01  4.43582750e-09  9.39322609e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -4.50864651e-08  1.00000000e+00]]

2023-11-13 13:14:17,291 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 11ms
2023-11-13 13:14:17,298 - yq - INFO - The adjusted S_0 is [426.3 239.9]
2023-11-13 13:14:17,316 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:14:17,318 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  573.313145  276.962894
1  420.137659  274.342504
2  565.951755  256.784610
3  498.354089  229.101684
4  913.518234  254.030903
2023-11-13 13:14:17,419 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-22  573.313145  276.962894
2023-09-25  420.137659  274.342504
2023-09-26  565.951755  256.784610
2023-09-27  498.354089  229.101684
2023-09-28  913.518234  254.030903
2023-11-13 13:14:17,422 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 13s 49ms
2023-11-13 13:14:17,422 - yq - INFO - Pricing the product on 2023-09-22 00:00:00
2023-11-13 13:14:17,422 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:14:17,431 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:14:17,644 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-27    515.6    245.9
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-11-13 13:14:17,648 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/lonn_call.csv
2023-11-13 13:14:17,649 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.157193     330  103.949997  37.879402  0.0175
1  0.157193     335   99.050003  36.874622  0.0175
2  0.157193     340   94.199997  36.165127  0.0175
3  0.157193     345   89.349998  35.303986  0.0175
4  0.157193     350   84.474998  34.169895  0.0175
2023-11-13 13:14:17,651 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230922/sika_call.csv
2023-11-13 13:14:17,652 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     190  40.974998  34.669617  0.0175
1  0.157193     195  36.275002  33.086273  0.0175
2  0.157193     200  31.699997  31.738745  0.0175
3  0.157193     210  23.075005  29.495777  0.0175
4  0.157193     220  15.625002  28.121016  0.0175
2023-11-13 13:14:17,656 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.157193     330  103.949997  0.0175
1  0.157193     335   99.050003  0.0175
2  0.157193     340   94.199997  0.0175
3  0.157193     345   89.349998  0.0175
4  0.157193     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.157193     190  40.974998  0.0175
1  0.157193     195  36.275002  0.0175
2  0.157193     200  31.699997  0.0175
3  0.157193     210  23.075005  0.0175
4  0.157193     220  15.625002  0.0175
2023-11-13 13:14:17,656 - yq - INFO - Calibrating LONZA.
2023-11-13 13:15:06,318 - yq - INFO - Calibrating SIKA.
2023-11-13 13:15:24,792 - yq - INFO - The S_0 for LONZA and SIKA are 426.3 and 236.7
2023-11-13 13:15:24,794 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ad5c50>
 <lmfit.minimizer.MinimizerResult object at 0x176ba1890>
2023-11-13 13:15:24,794 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 7 seconds
2023-11-13 13:15:24,794 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.01899895e-02  1.86870590e-02  2.63939498e-01 -9.36191048e-08
   9.99999999e+00]
 [ 9.99999999e+00  5.27463940e-02  3.21480163e-02 -2.78623569e-10
   2.07346986e+00]]
2023-11-13 13:15:24,797 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 7s 153ms
2023-11-13 13:15:24,810 - yq - INFO - The log returns list for all assets is: [Date
2023-06-28    0.026035
2023-06-29   -0.011785
2023-06-30    0.019690
2023-07-03   -0.007527
2023-07-04    0.002264
                ...   
2023-09-18   -0.158954
2023-09-19    0.013577
2023-09-20    0.024347
2023-09-21   -0.033221
2023-09-22    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-06-28    0.012126
2023-06-29   -0.007663
2023-06-30    0.034617
2023-07-03   -0.013386
2023-07-04    0.005139
                ...   
2023-09-18   -0.015664
2023-09-19   -0.006669
2023-09-20    0.015356
2023-09-21   -0.012016
2023-09-22   -0.013429
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:15:24,810 - yq - INFO - rho_S1S2 is 0.3447849301023391

2023-11-13 13:15:24,810 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.34478493]
 [0.34478493 1.        ]]

2023-11-13 13:15:24,810 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -9.36191048e-08  3.44784930e-01  0.00000000e+00]
 [-9.36191048e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.44784930e-01  0.00000000e+00  1.00000000e+00 -2.78623569e-10]
 [ 0.00000000e+00  0.00000000e+00 -2.78623569e-10  1.00000000e+00]]

2023-11-13 13:15:24,811 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-9.36191048e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.44784930e-01  3.22784565e-08  9.38681710e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.96824329e-10  1.00000000e+00]]

2023-11-13 13:15:24,812 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 14ms
2023-11-13 13:15:24,822 - yq - INFO - The adjusted S_0 is [426.3 236.7]
2023-11-13 13:15:24,846 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:15:24,850 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  518.149724  245.482639
1  500.761074  230.472416
2  471.697485  223.104831
3  368.158023  227.138759
4  354.495693  208.359853
2023-11-13 13:15:24,973 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-25  518.149724  245.482639
2023-09-26  500.761074  230.472416
2023-09-27  471.697485  223.104831
2023-09-28  368.158023  227.138759
2023-09-29  354.495693  208.359853
2023-11-13 13:15:24,986 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 7s 344ms
2023-11-13 13:15:24,987 - yq - INFO - Pricing the product on 2023-09-25 00:00:00
2023-11-13 13:15:24,987 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:15:25,004 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:15:25,297 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-28    529.2    248.9
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-11-13 13:15:25,301 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/lonn_call.csv
2023-11-13 13:15:25,303 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.148772     330  103.949997  37.879402  0.0175
1  0.148772     335   99.050003  36.874622  0.0175
2  0.148772     340   94.199997  36.165127  0.0175
3  0.148772     345   89.349998  35.303986  0.0175
4  0.148772     350   84.474998  34.169895  0.0175
2023-11-13 13:15:25,305 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230925/sika_call.csv
2023-11-13 13:15:25,307 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     190  40.974998  34.669617  0.0175
1  0.148772     195  36.275002  33.086273  0.0175
2  0.148772     200  31.699997  31.738745  0.0175
3  0.148772     210  23.075005  29.495777  0.0175
4  0.148772     220  15.625002  28.121016  0.0175
2023-11-13 13:15:25,311 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.148772     330  103.949997  0.0175
1  0.148772     335   99.050003  0.0175
2  0.148772     340   94.199997  0.0175
3  0.148772     345   89.349998  0.0175
4  0.148772     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.148772     190  40.974998  0.0175
1  0.148772     195  36.275002  0.0175
2  0.148772     200  31.699997  0.0175
3  0.148772     210  23.075005  0.0175
4  0.148772     220  15.625002  0.0175
2023-11-13 13:15:25,311 - yq - INFO - Calibrating LONZA.
2023-11-13 13:15:32,523 - yq - INFO - Calibrating SIKA.
2023-11-13 13:15:33,148 - yq - WARNING - Error during calibration on 2023-09-25: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:15:33,149 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 7 seconds
2023-11-13 13:15:33,149 - yq - ERROR - Error during calibration on 2023-09-25 00:00:00: cannot access local variable 'sika_result' where it is not associated with a value
2023-11-13 13:15:33,149 - yq - INFO - Pricing the product on 2023-09-26 00:00:00
2023-11-13 13:15:33,149 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:15:33,163 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:15:33,393 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-29    523.0    247.0
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-11-13 13:15:33,395 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/lonn_call.csv
2023-11-13 13:15:33,397 - yq - INFO - Options data read is
    maturity  strike       price         IV    rate
0  0.145965     330  103.949997  37.879402  0.0175
1  0.145965     335   99.050003  36.874622  0.0175
2  0.145965     340   94.199997  36.165127  0.0175
3  0.145965     345   89.349998  35.303986  0.0175
4  0.145965     350   84.474998  34.169895  0.0175
2023-11-13 13:15:33,399 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230926/sika_call.csv
2023-11-13 13:15:33,400 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     190  40.974998  34.669617  0.0175
1  0.145965     195  36.275002  33.086273  0.0175
2  0.145965     200  31.699997  31.738745  0.0175
3  0.145965     210  23.075005  29.495777  0.0175
4  0.145965     220  15.625002  28.121016  0.0175
2023-11-13 13:15:33,403 - yq - INFO - LONZA and SIKA df are 
   maturity  strike       price    rate
0  0.145965     330  103.949997  0.0175
1  0.145965     335   99.050003  0.0175
2  0.145965     340   94.199997  0.0175
3  0.145965     345   89.349998  0.0175
4  0.145965     350   84.474998  0.0175
   maturity  strike      price    rate
0  0.145965     190  40.974998  0.0175
1  0.145965     195  36.275002  0.0175
2  0.145965     200  31.699997  0.0175
3  0.145965     210  23.075005  0.0175
4  0.145965     220  15.625002  0.0175
2023-11-13 13:15:33,404 - yq - INFO - Calibrating LONZA.
2023-11-13 13:15:34,025 - yq - WARNING - Error during calibration on 2023-09-26: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:15:34,025 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 0 seconds
2023-11-13 13:15:34,025 - yq - ERROR - Error during calibration on 2023-09-26 00:00:00: cannot access local variable 'lonn_result' where it is not associated with a value
2023-11-13 13:15:34,025 - yq - INFO - Pricing the product on 2023-09-27 00:00:00
2023-11-13 13:15:34,025 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:15:34,031 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:15:34,268 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-06-30    533.4    255.7
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-11-13 13:15:34,270 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/lonn_call.csv
2023-11-13 13:15:34,272 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     330  94.199997  40.003845  0.0175
1  0.143158     335  89.349998  38.856865  0.0175
2  0.143158     340  84.474998  37.484390  0.0175
3  0.143158     345  79.674995  36.437531  0.0175
4  0.143158     350  74.899994  35.390190  0.0175
2023-11-13 13:15:34,273 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230927/sika_call.csv
2023-11-13 13:15:34,275 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     190  40.725006  34.669014  0.0175
1  0.143158     195  35.975006  32.756226  0.0175
2  0.143158     200  31.375000  31.349203  0.0175
3  0.143158     210  22.750000  29.253847  0.0175
4  0.143158     220  15.299999  27.923262  0.0175
2023-11-13 13:15:34,278 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     330  94.199997  0.0175
1  0.143158     335  89.349998  0.0175
2  0.143158     340  84.474998  0.0175
3  0.143158     345  79.674995  0.0175
4  0.143158     350  74.899994  0.0175
   maturity  strike      price    rate
0  0.143158     190  40.725006  0.0175
1  0.143158     195  35.975006  0.0175
2  0.143158     200  31.375000  0.0175
3  0.143158     210  22.750000  0.0175
4  0.143158     220  15.299999  0.0175
2023-11-13 13:15:34,278 - yq - INFO - Calibrating LONZA.
2023-11-13 13:16:09,984 - yq - INFO - Calibrating SIKA.
2023-11-13 13:16:14,894 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 229.4
2023-11-13 13:16:14,896 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ac1b10>
 <lmfit.minimizer.MinimizerResult object at 0x176acdc10>
2023-11-13 13:16:14,896 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 40 seconds
2023-11-13 13:16:14,896 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.24533334e-02  1.00000002e-02  2.65307843e-01 -3.75923654e-07
   9.99999918e+00]
 [ 7.96038221e+00  9.62132360e-02  1.11372346e-01 -3.56839210e-01
   2.97382339e+00]]
2023-11-13 13:16:14,897 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 40s 629ms
2023-11-13 13:16:14,900 - yq - INFO - The log returns list for all assets is: [Date
2023-07-03   -0.007527
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
                ...   
2023-09-21   -0.033221
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-03   -0.013386
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
                ...   
2023-09-21   -0.012016
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:16:14,900 - yq - INFO - rho_S1S2 is 0.29836281054554314

2023-11-13 13:16:14,900 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29836281]
 [0.29836281 1.        ]]

2023-11-13 13:16:14,900 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -3.75923654e-07  2.98362811e-01  0.00000000e+00]
 [-3.75923654e-07  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98362811e-01  0.00000000e+00  1.00000000e+00 -3.56839210e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.56839210e-01  1.00000000e+00]]

2023-11-13 13:16:14,902 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-3.75923654e-07  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98362811e-01  1.12161638e-07  9.54452531e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.73867949e-01  9.27481944e-01]]

2023-11-13 13:16:14,902 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 13:16:14,905 - yq - INFO - The adjusted S_0 is [422.1 229.4]
2023-11-13 13:16:14,926 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:16:14,928 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  321.207053  234.231012
1  630.290865  255.600458
2  736.774061  253.161707
3  737.877835  303.720328
4  668.742234  276.623792
2023-11-13 13:16:15,027 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-28  321.207053  234.231012
2023-09-29  630.290865  255.600458
2023-10-02  736.774061  253.161707
2023-10-03  737.877835  303.720328
2023-10-04  668.742234  276.623792
2023-11-13 13:16:15,029 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 40s 763ms
2023-11-13 13:16:15,030 - yq - INFO - Pricing the product on 2023-09-28 00:00:00
2023-11-13 13:16:15,030 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:16:15,038 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:16:15,661 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-03    529.4    252.3
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-11-13 13:16:15,663 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/lonn_call.csv
2023-11-13 13:16:15,664 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     330  93.750000  37.346252  0.0175
1  0.140351     335  88.875000  36.323925  0.0175
2  0.140351     340  84.074997  35.695438  0.0175
3  0.140351     345  79.250000  34.727436  0.0175
4  0.140351     350  74.449997  33.762619  0.0175
2023-11-13 13:16:15,665 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230928/sika_call.csv
2023-11-13 13:16:15,667 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     190  42.025002  35.140724  0.0175
1  0.140351     195  37.199997  32.796349  0.0175
2  0.140351     200  32.549995  31.354389  0.0175
3  0.140351     210  23.824997  29.419374  0.0175
4  0.140351     220  16.150002  27.958426  0.0175
2023-11-13 13:16:15,671 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     330  93.750000  0.0175
1  0.140351     335  88.875000  0.0175
2  0.140351     340  84.074997  0.0175
3  0.140351     345  79.250000  0.0175
4  0.140351     350  74.449997  0.0175
   maturity  strike      price    rate
0  0.140351     190  42.025002  0.0175
1  0.140351     195  37.199997  0.0175
2  0.140351     200  32.549995  0.0175
3  0.140351     210  23.824997  0.0175
4  0.140351     220  16.150002  0.0175
2023-11-13 13:16:15,671 - yq - INFO - Calibrating LONZA.
2023-11-13 13:16:50,355 - yq - INFO - Calibrating SIKA.
2023-11-13 13:16:55,309 - yq - INFO - The S_0 for LONZA and SIKA are 422.1 and 230.9
2023-11-13 13:16:55,309 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b0a190>
 <lmfit.minimizer.MinimizerResult object at 0x176b43250>
2023-11-13 13:16:55,309 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 39 seconds
2023-11-13 13:16:55,309 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.01701442e-02  1.00000002e-02  2.65090789e-01 -7.87833487e-09
   9.99999999e+00]
 [ 7.59434464e+00  8.87724408e-02  1.02346039e-01 -3.31479298e-01
   2.34440497e+00]]
2023-11-13 13:16:55,313 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 39s 652ms
2023-11-13 13:16:55,335 - yq - INFO - The log returns list for all assets is: [Date
2023-07-04    0.002264
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
                ...   
2023-09-22    0.000000
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-04    0.005139
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
                ...   
2023-09-22   -0.013429
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:16:55,336 - yq - INFO - rho_S1S2 is 0.2985230229316591

2023-11-13 13:16:55,336 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.29852302]
 [0.29852302 1.        ]]

2023-11-13 13:16:55,336 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -7.87833487e-09  2.98523023e-01  0.00000000e+00]
 [-7.87833487e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98523023e-01  0.00000000e+00  1.00000000e+00 -3.31479298e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.31479298e-01  1.00000000e+00]]

2023-11-13 13:16:55,337 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-7.87833487e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 2.98523023e-01  2.35186434e-09  9.54402433e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.47316066e-01  9.37748127e-01]]

2023-11-13 13:16:55,337 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 24ms
2023-11-13 13:16:55,346 - yq - INFO - The adjusted S_0 is [422.1 230.9]
2023-11-13 13:16:55,367 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:16:55,372 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  358.942165  238.464684
1  287.670458  224.686151
2  241.989114  227.958924
3  246.771668  207.561369
4  187.379792  187.250282
2023-11-13 13:16:55,497 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-09-29  358.942165  238.464684
2023-10-02  287.670458  224.686151
2023-10-03  241.989114  227.958924
2023-10-04  246.771668  207.561369
2023-10-05  187.379792  187.250282
2023-11-13 13:16:55,501 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 39s 842ms
2023-11-13 13:16:55,505 - yq - INFO - Pricing the product on 2023-09-29 00:00:00
2023-11-13 13:16:55,506 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:16:55,521 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:16:55,789 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-04    530.6    253.6
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-11-13 13:16:55,792 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/lonn_call.csv
2023-11-13 13:16:55,794 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     385  46.699997  31.922449  0.0175
1  0.137544     390  42.500000  31.159510  0.0175
2  0.137544     395  38.449997  30.474539  0.0175
3  0.137544     400  34.599991  29.921164  0.0175
4  0.137544     410  27.549995  29.105541  0.0175
2023-11-13 13:16:55,795 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20230929/sika_call.csv
2023-11-13 13:16:55,797 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     190  44.299995  34.807804  0.0175
1  0.137544     195  39.499992  33.103973  0.0175
2  0.137544     200  34.825005  31.903854  0.0175
3  0.137544     210  25.750000  29.092791  0.0175
4  0.137544     220  17.599998  27.165337  0.0175
2023-11-13 13:16:55,800 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     385  46.699997  0.0175
1  0.137544     390  42.500000  0.0175
2  0.137544     395  38.449997  0.0175
3  0.137544     400  34.599991  0.0175
4  0.137544     410  27.549995  0.0175
   maturity  strike      price    rate
0  0.137544     190  44.299995  0.0175
1  0.137544     195  39.499992  0.0175
2  0.137544     200  34.825005  0.0175
3  0.137544     210  25.750000  0.0175
4  0.137544     220  17.599998  0.0175
2023-11-13 13:16:55,800 - yq - INFO - Calibrating LONZA.
2023-11-13 13:17:03,779 - yq - INFO - Calibrating SIKA.
2023-11-13 13:17:08,507 - yq - INFO - The S_0 for LONZA and SIKA are 425.6 and 233.1
2023-11-13 13:17:08,507 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176bb14d0>
 <lmfit.minimizer.MinimizerResult object at 0x176b37b50>
2023-11-13 13:17:08,507 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 12 seconds
2023-11-13 13:17:08,507 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.36997052  0.08227735  0.10547295 -0.31504412  1.62244765]
 [ 8.51636779  0.08712574  0.09969909 -0.35258521  2.41459371]]
2023-11-13 13:17:08,508 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 12s 719ms
2023-11-13 13:17:08,511 - yq - INFO - The log returns list for all assets is: [Date
2023-07-05    0.000377
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
                ...   
2023-09-25    0.013514
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-05   -0.003160
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
                ...   
2023-09-25   -0.017473
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:17:08,511 - yq - INFO - rho_S1S2 is 0.3008224014480678

2023-11-13 13:17:08,511 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3008224]
 [0.3008224 1.       ]]

2023-11-13 13:17:08,511 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.31504412  0.3008224   0.        ]
 [-0.31504412  1.          0.          0.        ]
 [ 0.3008224   0.          1.         -0.35258521]
 [ 0.          0.         -0.35258521  1.        ]]

2023-11-13 13:17:08,511 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.31504412  0.94907703  0.          0.        ]
 [ 0.3008224   0.09985736  0.94843787  0.        ]
 [ 0.          0.         -0.37175361  0.92833143]]

2023-11-13 13:17:08,511 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 3ms
2023-11-13 13:17:08,518 - yq - INFO - The adjusted S_0 is [425.6 233.1]
2023-11-13 13:17:08,540 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:17:08,542 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  426.306323  255.561263
1  463.679632  212.573456
2  451.293813  219.350515
3  423.675922  228.133769
4  375.611750  254.160463
2023-11-13 13:17:08,649 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-02  426.306323  255.561263
2023-10-03  463.679632  212.573456
2023-10-04  451.293813  219.350515
2023-10-05  423.675922  228.133769
2023-10-06  375.611750  254.160463
2023-11-13 13:17:08,652 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 12s 864ms
2023-11-13 13:17:08,652 - yq - INFO - Pricing the product on 2023-10-02 00:00:00
2023-11-13 13:17:08,652 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:17:08,659 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:17:08,902 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-05    530.8    252.8
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-11-13 13:17:08,904 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/lonn_call.csv
2023-11-13 13:17:08,906 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     330  92.125000  38.267204  0.0175
1  0.129123     335  87.274994  37.364208  0.0175
2  0.129123     340  82.424995  36.316391  0.0175
3  0.129123     345  77.599998  35.300434  0.0175
4  0.129123     350  72.799995  34.286041  0.0175
2023-11-13 13:17:08,907 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231002/sika_call.csv
2023-11-13 13:17:08,909 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     190  40.525002  34.670864  0.0175
1  0.129123     195  35.775002  32.940758  0.0175
2  0.129123     200  31.099998  31.210375  0.0175
3  0.129123     210  22.375000  29.052795  0.0175
4  0.129123     220  14.799999  27.583376  0.0175
2023-11-13 13:17:08,913 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     330  92.125000  0.0175
1  0.129123     335  87.274994  0.0175
2  0.129123     340  82.424995  0.0175
3  0.129123     345  77.599998  0.0175
4  0.129123     350  72.799995  0.0175
   maturity  strike      price    rate
0  0.129123     190  40.525002  0.0175
1  0.129123     195  35.775002  0.0175
2  0.129123     200  31.099998  0.0175
3  0.129123     210  22.375000  0.0175
4  0.129123     220  14.799999  0.0175
2023-11-13 13:17:08,913 - yq - INFO - Calibrating LONZA.
2023-11-13 13:17:49,143 - yq - INFO - Calibrating SIKA.
2023-11-13 13:17:54,903 - yq - INFO - The S_0 for LONZA and SIKA are 420.5 and 230.0
2023-11-13 13:17:54,903 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a62890>
 <lmfit.minimizer.MinimizerResult object at 0x176b76010>
2023-11-13 13:17:54,903 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 45 seconds
2023-11-13 13:17:54,903 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00773257e-02  9.99933130e+00  2.62742737e-01 -4.93156118e-08
   9.99998820e+00]
 [ 6.80878033e+00  8.82598951e-02  9.95599979e-02 -3.34983536e-01
   2.27773860e+00]]
2023-11-13 13:17:54,904 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 46s 2ms
2023-11-13 13:17:54,913 - yq - INFO - The log returns list for all assets is: [Date
2023-07-06   -0.004532
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
                ...   
2023-09-26    0.000694
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-06   -0.030932
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
                ...   
2023-09-26   -0.014289
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:17:54,913 - yq - INFO - rho_S1S2 is 0.3032609493226555

2023-11-13 13:17:54,913 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30326095]
 [0.30326095 1.        ]]

2023-11-13 13:17:54,913 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -4.93156118e-08  3.03260949e-01  0.00000000e+00]
 [-4.93156118e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.03260949e-01  0.00000000e+00  1.00000000e+00 -3.34983536e-01]
 [ 0.00000000e+00  0.00000000e+00 -3.34983536e-01  1.00000000e+00]]

2023-11-13 13:17:54,913 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-4.93156118e-08  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.03260949e-01  1.49554993e-08  9.52907549e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.51538338e-01  9.36173487e-01]]

2023-11-13 13:17:54,913 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 9ms
2023-11-13 13:17:54,915 - yq - INFO - The adjusted S_0 is [420.5 230. ]
2023-11-13 13:17:54,934 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:17:54,936 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  667.437367  236.508917
1  663.558411  244.252220
2  890.646341  234.217298
3  847.986707  230.251294
4  834.585209  240.505384
2023-11-13 13:17:55,042 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-03  667.437367  236.508917
2023-10-04  663.558411  244.252220
2023-10-05  890.646341  234.217298
2023-10-06  847.986707  230.251294
2023-10-09  834.585209  240.505384
2023-11-13 13:17:55,044 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 46s 144ms
2023-11-13 13:17:55,044 - yq - INFO - Pricing the product on 2023-10-03 00:00:00
2023-11-13 13:17:55,044 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:17:55,050 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:17:55,305 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-06    528.4    245.1
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-11-13 13:17:55,307 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/lonn_call.csv
2023-11-13 13:17:55,309 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     390  43.250000  28.592716  0.0175
1  0.126316     395  39.149994  28.422277  0.0175
2  0.126316     400  35.199997  28.211863  0.0175
3  0.126316     410  27.949997  27.952816  0.0175
4  0.126316     420  21.649994  27.830254  0.0175
2023-11-13 13:17:55,310 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231003/sika_call.csv
2023-11-13 13:17:55,311 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     165  68.550003  47.843029  0.0175
1  0.126316     170  63.600006  45.406399  0.0175
2  0.126316     175  58.699997  43.945614  0.0175
3  0.126316     180  53.800003  41.966976  0.0175
4  0.126316     185  48.925003  40.003117  0.0175
2023-11-13 13:17:55,315 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     390  43.250000  0.0175
1  0.126316     395  39.149994  0.0175
2  0.126316     400  35.199997  0.0175
3  0.126316     410  27.949997  0.0175
4  0.126316     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.126316     165  68.550003  0.0175
1  0.126316     170  63.600006  0.0175
2  0.126316     175  58.699997  0.0175
3  0.126316     180  53.800003  0.0175
4  0.126316     185  48.925003  0.0175
2023-11-13 13:17:55,315 - yq - INFO - Calibrating LONZA.
2023-11-13 13:18:32,888 - yq - INFO - Calibrating SIKA.
2023-11-13 13:18:47,042 - yq - INFO - The S_0 for LONZA and SIKA are 415.3 and 228.8
2023-11-13 13:18:47,044 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ab1310>
 <lmfit.minimizer.MinimizerResult object at 0x176af7010>
2023-11-13 13:18:47,044 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 51 seconds
2023-11-13 13:18:47,044 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.77881126e-02  8.31133275e+00  2.58595074e-01 -6.65452843e-01
   3.82206444e+00]
 [ 1.00000378e-02  3.04704780e-01  1.25966065e-01 -1.52990953e-11
   9.99994745e+00]]
2023-11-13 13:18:47,052 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 51s 746ms
2023-11-13 13:18:47,063 - yq - INFO - The log returns list for all assets is: [Date
2023-07-07   -0.006455
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
                ...   
2023-09-27   -0.024109
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-07   -0.001225
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
                ...   
2023-09-27    0.000436
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:18:47,063 - yq - INFO - rho_S1S2 is 0.31225413567123667

2023-11-13 13:18:47,064 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31225414]
 [0.31225414 1.        ]]

2023-11-13 13:18:47,064 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.65452843e-01  3.12254136e-01  0.00000000e+00]
 [-6.65452843e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.12254136e-01  0.00000000e+00  1.00000000e+00 -1.52990953e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.52990953e-11  1.00000000e+00]]

2023-11-13 13:18:47,064 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.65452843e-01  7.46439893e-01  0.00000000e+00  0.00000000e+00]
 [ 3.12254136e-01  2.78375264e-01  9.08297620e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.68437030e-11  1.00000000e+00]]

2023-11-13 13:18:47,064 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 13ms
2023-11-13 13:18:47,071 - yq - INFO - The adjusted S_0 is [415.3 228.8]
2023-11-13 13:18:47,091 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:18:47,095 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  437.074903  195.997850
1  470.825927  170.592444
2  546.351622  185.106002
3  487.597822  135.576765
4  442.819360  127.349658
2023-11-13 13:18:47,218 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-04  437.074903  195.997850
2023-10-05  470.825927  170.592444
2023-10-06  546.351622  185.106002
2023-10-09  487.597822  135.576765
2023-10-10  442.819360  127.349658
2023-11-13 13:18:47,220 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 51s 917ms
2023-11-13 13:18:47,220 - yq - INFO - Pricing the product on 2023-10-04 00:00:00
2023-11-13 13:18:47,220 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:18:47,234 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:18:47,486 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-07    525.0    244.8
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-11-13 13:18:47,494 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/lonn_call.csv
2023-11-13 13:18:47,496 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     390  43.250000  28.592716  0.0175
1  0.123509     395  39.149994  28.422277  0.0175
2  0.123509     400  35.199997  28.211863  0.0175
3  0.123509     410  27.949997  27.952816  0.0175
4  0.123509     420  21.649994  27.830254  0.0175
2023-11-13 13:18:47,503 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231004/sika_call.csv
2023-11-13 13:18:47,505 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     165  68.550003  47.843029  0.0175
1  0.123509     170  63.600006  45.406399  0.0175
2  0.123509     175  58.699997  43.945614  0.0175
3  0.123509     180  53.800003  41.966976  0.0175
4  0.123509     185  48.925003  40.003117  0.0175
2023-11-13 13:18:47,508 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     390  43.250000  0.0175
1  0.123509     395  39.149994  0.0175
2  0.123509     400  35.199997  0.0175
3  0.123509     410  27.949997  0.0175
4  0.123509     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.123509     165  68.550003  0.0175
1  0.123509     170  63.600006  0.0175
2  0.123509     175  58.699997  0.0175
3  0.123509     180  53.800003  0.0175
4  0.123509     185  48.925003  0.0175
2023-11-13 13:18:47,509 - yq - INFO - Calibrating LONZA.
2023-11-13 13:19:21,679 - yq - INFO - Calibrating SIKA.
2023-11-13 13:22:43,508 - yq - INFO - The S_0 for LONZA and SIKA are 415.9 and 230.2
2023-11-13 13:22:43,511 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b70dd0>
 <lmfit.minimizer.MinimizerResult object at 0x176a12350>
2023-11-13 13:22:43,511 - yq - INFO - The elapsed time for 2 calibration is 3 minutes, 56 seconds
2023-11-13 13:22:43,511 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.03106092e-02  9.50919387e+00  2.57409367e-01 -6.61166123e-01
   3.83719414e+00]
 [ 1.00005005e-02  1.00536587e-01  1.15577080e-01 -3.31222094e-09
   1.00000000e+01]]
2023-11-13 13:22:43,516 - yq - INFO - Runtime of calibrate: 0.0h 3.0m 56s 29ms
2023-11-13 13:22:43,536 - yq - INFO - The log returns list for all assets is: [Date
2023-07-10    0.006834
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
                ...   
2023-09-28    0.000000
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-10    0.005296
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
                ...   
2023-09-28    0.006518
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:22:43,538 - yq - INFO - rho_S1S2 is 0.31305479158935823

2023-11-13 13:22:43,538 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31305479]
 [0.31305479 1.        ]]

2023-11-13 13:22:43,538 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.61166123e-01  3.13054792e-01  0.00000000e+00]
 [-6.61166123e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.13054792e-01  0.00000000e+00  1.00000000e+00 -3.31222094e-09]
 [ 0.00000000e+00  0.00000000e+00 -3.31222094e-09  1.00000000e+00]]

2023-11-13 13:22:43,539 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.61166123e-01  7.50239533e-01  0.00000000e+00  0.00000000e+00]
 [ 3.13054792e-01  2.75886852e-01  9.08781130e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.64468499e-09  1.00000000e+00]]

2023-11-13 13:22:43,539 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 23ms
2023-11-13 13:22:43,545 - yq - INFO - The adjusted S_0 is [415.9 230.2]
2023-11-13 13:22:43,562 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:22:43,564 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  358.275712  214.458366
1  413.932567  244.630573
2  476.831741  247.580854
3  468.633484  297.165351
4  450.909780  240.000543
2023-11-13 13:22:43,661 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-05  358.275712  214.458366
2023-10-06  413.932567  244.630573
2023-10-09  476.831741  247.580854
2023-10-10  468.633484  297.165351
2023-10-11  450.909780  240.000543
2023-11-13 13:22:43,663 - yq - INFO - Runtime of sim_n_path: 0.0h 3.0m 56s 179ms
2023-11-13 13:22:43,664 - yq - INFO - Pricing the product on 2023-10-05 00:00:00
2023-11-13 13:22:43,664 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:22:43,672 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:22:43,868 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-10    528.6    246.1
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-11-13 13:22:43,871 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/lonn_call.csv
2023-11-13 13:22:43,873 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     390  43.250000  28.592716  0.0175
1  0.120702     395  39.149994  28.422277  0.0175
2  0.120702     400  35.199997  28.211863  0.0175
3  0.120702     410  27.949997  27.952816  0.0175
4  0.120702     420  21.649994  27.830254  0.0175
2023-11-13 13:22:43,874 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231005/sika_call.csv
2023-11-13 13:22:43,876 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     165  68.550003  47.843029  0.0175
1  0.120702     170  63.600006  45.406399  0.0175
2  0.120702     175  58.699997  43.945614  0.0175
3  0.120702     180  53.800003  41.966976  0.0175
4  0.120702     185  48.925003  40.003117  0.0175
2023-11-13 13:22:43,879 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     390  43.250000  0.0175
1  0.120702     395  39.149994  0.0175
2  0.120702     400  35.199997  0.0175
3  0.120702     410  27.949997  0.0175
4  0.120702     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.120702     165  68.550003  0.0175
1  0.120702     170  63.600006  0.0175
2  0.120702     175  58.699997  0.0175
3  0.120702     180  53.800003  0.0175
4  0.120702     185  48.925003  0.0175
2023-11-13 13:22:43,880 - yq - INFO - Calibrating LONZA.
2023-11-13 13:23:06,954 - yq - INFO - Calibrating SIKA.
2023-11-13 13:24:30,854 - yq - INFO - The S_0 for LONZA and SIKA are 419.9 and 230.5
2023-11-13 13:24:30,856 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ac4f50>
 <lmfit.minimizer.MinimizerResult object at 0x172bbbe90>
2023-11-13 13:24:30,856 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 46 seconds
2023-11-13 13:24:30,856 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.48106823e-01  7.12501674e-01  2.08788835e-01 -6.07285855e-01
   3.42222718e+00]
 [ 1.00000002e-02  1.48455646e-01  1.14643987e-01 -1.54201096e-11
   9.99895797e+00]]
2023-11-13 13:24:30,859 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 46s 991ms
2023-11-13 13:24:30,872 - yq - INFO - The log returns list for all assets is: [Date
2023-07-11    0.004153
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
                ...   
2023-09-29    0.008258
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-11    0.032777
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
                ...   
2023-09-29    0.009483
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:24:30,872 - yq - INFO - rho_S1S2 is 0.3118443849215505

2023-11-13 13:24:30,872 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31184438]
 [0.31184438 1.        ]]

2023-11-13 13:24:30,873 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.07285855e-01  3.11844385e-01  0.00000000e+00]
 [-6.07285855e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.11844385e-01  0.00000000e+00  1.00000000e+00 -1.54201096e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.54201096e-11  1.00000000e+00]]

2023-11-13 13:24:30,873 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.07285855e-01  7.94483411e-01  0.00000000e+00  0.00000000e+00]
 [ 3.11844385e-01  2.38367071e-01  9.19746823e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.67656025e-11  1.00000000e+00]]

2023-11-13 13:24:30,873 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 14ms
2023-11-13 13:24:30,880 - yq - INFO - The adjusted S_0 is [419.9 230.5]
2023-11-13 13:24:30,897 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:24:30,900 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  356.571156  240.802091
1  373.608691  252.398479
2  358.534214  258.153979
3  308.364251  245.300803
4  333.772757  335.264415
2023-11-13 13:24:30,995 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-06  356.571156  240.802091
2023-10-09  373.608691  252.398479
2023-10-10  358.534214  258.153979
2023-10-11  308.364251  245.300803
2023-10-12  333.772757  335.264415
2023-11-13 13:24:30,999 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 47s 133ms
2023-11-13 13:24:30,999 - yq - INFO - Pricing the product on 2023-10-06 00:00:00
2023-11-13 13:24:30,999 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:24:31,014 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:24:31,200 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-11    530.8    254.3
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-11-13 13:24:31,205 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/lonn_call.csv
2023-11-13 13:24:31,206 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     390  43.250000  28.592716  0.0175
1  0.117895     395  39.149994  28.422277  0.0175
2  0.117895     400  35.199997  28.211863  0.0175
3  0.117895     410  27.949997  27.952816  0.0175
4  0.117895     420  21.649994  27.830254  0.0175
2023-11-13 13:24:31,207 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231006/sika_call.csv
2023-11-13 13:24:31,208 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     165  68.550003  47.843029  0.0175
1  0.117895     170  63.600006  45.406399  0.0175
2  0.117895     175  58.699997  43.945614  0.0175
3  0.117895     180  53.800003  41.966976  0.0175
4  0.117895     185  48.925003  40.003117  0.0175
2023-11-13 13:24:31,211 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     390  43.250000  0.0175
1  0.117895     395  39.149994  0.0175
2  0.117895     400  35.199997  0.0175
3  0.117895     410  27.949997  0.0175
4  0.117895     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.117895     165  68.550003  0.0175
1  0.117895     170  63.600006  0.0175
2  0.117895     175  58.699997  0.0175
3  0.117895     180  53.800003  0.0175
4  0.117895     185  48.925003  0.0175
2023-11-13 13:24:31,211 - yq - INFO - Calibrating LONZA.
2023-11-13 13:24:36,748 - yq - INFO - Calibrating SIKA.
2023-11-13 13:25:13,599 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 233.3
2023-11-13 13:25:13,599 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a227d0>
 <lmfit.minimizer.MinimizerResult object at 0x176af89d0>
2023-11-13 13:25:13,599 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 42 seconds
2023-11-13 13:25:13,599 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.91109508e+00  8.45079527e-02  1.11522104e-01 -2.81798934e-01
   2.54061864e+00]
 [ 1.00000828e-02  2.42311662e-01  9.89891543e-02 -1.54211088e-11
   9.99898316e+00]]
2023-11-13 13:25:13,602 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 42s 402ms
2023-11-13 13:25:13,612 - yq - INFO - The log returns list for all assets is: [Date
2023-07-12    0.005636
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
                ...   
2023-10-02   -0.012055
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-12   -0.000393
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
                ...   
2023-10-02   -0.013388
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:25:13,613 - yq - INFO - rho_S1S2 is 0.3235675287624876

2023-11-13 13:25:13,613 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.32356753]
 [0.32356753 1.        ]]

2023-11-13 13:25:13,613 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.81798934e-01  3.23567529e-01  0.00000000e+00]
 [-2.81798934e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.23567529e-01  0.00000000e+00  1.00000000e+00 -1.54211088e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.54211088e-11  1.00000000e+00]]

2023-11-13 13:25:13,614 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.81798934e-01  9.59473481e-01  0.00000000e+00  0.00000000e+00]
 [ 3.23567529e-01  9.50323134e-02  9.41420689e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.63806776e-11  1.00000000e+00]]

2023-11-13 13:25:13,614 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 12ms
2023-11-13 13:25:13,622 - yq - INFO - The adjusted S_0 is [429.  233.3]
2023-11-13 13:25:13,641 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:25:13,648 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  400.283665  315.855049
1  412.204035  245.299542
2  359.640618  315.044958
3  394.984044  464.331125
4  420.491796  495.289073
2023-11-13 13:25:13,761 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-09  400.283665  315.855049
2023-10-10  412.204035  245.299542
2023-10-11  359.640618  315.044958
2023-10-12  394.984044  464.331125
2023-10-13  420.491796  495.289073
2023-11-13 13:25:13,763 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 42s 564ms
2023-11-13 13:25:13,763 - yq - INFO - Pricing the product on 2023-10-09 00:00:00
2023-11-13 13:25:13,763 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:25:13,774 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:25:13,980 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-12    533.8    254.2
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-11-13 13:25:13,983 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/lonn_call.csv
2023-11-13 13:25:13,985 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     390  44.149994  31.775606  0.0175
1  0.109474     395  39.949997  31.077160  0.0175
2  0.109474     400  35.799995  30.202269  0.0175
3  0.109474     410  28.299995  29.217251  0.0175
4  0.109474     420  21.649994  28.378525  0.0175
2023-11-13 13:25:13,986 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231009/sika_call.csv
2023-11-13 13:25:13,988 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     165  68.550003  47.843029  0.0175
1  0.109474     170  63.600006  45.406399  0.0175
2  0.109474     175  58.699997  43.945614  0.0175
3  0.109474     180  53.800003  41.966976  0.0175
4  0.109474     185  48.925003  40.003117  0.0175
2023-11-13 13:25:13,991 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     390  44.149994  0.0175
1  0.109474     395  39.949997  0.0175
2  0.109474     400  35.799995  0.0175
3  0.109474     410  28.299995  0.0175
4  0.109474     420  21.649994  0.0175
   maturity  strike      price    rate
0  0.109474     165  68.550003  0.0175
1  0.109474     170  63.600006  0.0175
2  0.109474     175  58.699997  0.0175
3  0.109474     180  53.800003  0.0175
4  0.109474     185  48.925003  0.0175
2023-11-13 13:25:13,991 - yq - INFO - Calibrating LONZA.
2023-11-13 13:25:19,424 - yq - INFO - Calibrating SIKA.
2023-11-13 13:25:40,421 - yq - INFO - The S_0 for LONZA and SIKA are 429.0 and 228.5
2023-11-13 13:25:40,422 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ac1910>
 <lmfit.minimizer.MinimizerResult object at 0x176aea550>
2023-11-13 13:25:40,422 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 26 seconds
2023-11-13 13:25:40,422 - yq - INFO - The calibrated params_list_Heston is:
 [[ 3.85319626e+00  8.45299024e-02  1.11362167e-01 -2.86744386e-01
   2.11363566e+00]
 [ 1.00000039e-02  1.51776707e-02  1.38491351e-01 -1.92249643e-08
   9.99965414e+00]]
2023-11-13 13:25:40,422 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 26s 442ms
2023-11-13 13:25:40,426 - yq - INFO - The log returns list for all assets is: [Date
2023-07-13   -0.004883
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
                ...   
2023-10-03   -0.012443
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-13   -0.027924
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
                ...   
2023-10-03   -0.005231
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:25:40,427 - yq - INFO - rho_S1S2 is 0.31656461932210594

2023-11-13 13:25:40,427 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31656462]
 [0.31656462 1.        ]]

2023-11-13 13:25:40,427 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.86744386e-01  3.16564619e-01  0.00000000e+00]
 [-2.86744386e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.16564619e-01  0.00000000e+00  1.00000000e+00 -1.92249643e-08]
 [ 0.00000000e+00  0.00000000e+00 -1.92249643e-08  1.00000000e+00]]

2023-11-13 13:25:40,427 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.86744386e-01  9.58007128e-01  0.00000000e+00  0.00000000e+00]
 [ 3.16564619e-01  9.47520376e-02  9.43826728e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.03691670e-08  1.00000000e+00]]

2023-11-13 13:25:40,427 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 13:25:40,428 - yq - INFO - The adjusted S_0 is [429.  228.5]
2023-11-13 13:25:40,445 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:25:40,446 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  448.761859  283.091654
1  458.491950  245.418727
2  466.020972  176.918450
3  494.509152  199.175491
4  546.259917  152.411472
2023-11-13 13:25:40,543 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-10  448.761859  283.091654
2023-10-11  458.491950  245.418727
2023-10-12  466.020972  176.918450
2023-10-13  494.509152  199.175491
2023-10-16  546.259917  152.411472
2023-11-13 13:25:40,545 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 26s 567ms
2023-11-13 13:25:40,545 - yq - INFO - Pricing the product on 2023-10-10 00:00:00
2023-11-13 13:25:40,545 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:25:40,553 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:25:40,759 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-13    531.2    247.2
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-11-13 13:25:40,760 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/lonn_call.csv
2023-11-13 13:25:40,762 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     390  48.649994  32.976944  0.0175
1  0.106667     395  44.250000  32.010677  0.0175
2  0.106667     400  40.000000  31.187216  0.0175
3  0.106667     410  32.049988  29.919235  0.0175
4  0.106667     420  24.349998  27.869890  0.0175
2023-11-13 13:25:40,763 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231010/sika_call.csv
2023-11-13 13:25:40,764 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     165  70.900009  50.166050  0.0175
1  0.106667     170  65.925003  46.992657  0.0175
2  0.106667     175  60.974998  44.536556  0.0175
3  0.106667     180  56.100006  43.552261  0.0175
4  0.106667     185  51.150002  40.538616  0.0175
2023-11-13 13:25:40,768 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     390  48.649994  0.0175
1  0.106667     395  44.250000  0.0175
2  0.106667     400  40.000000  0.0175
3  0.106667     410  32.049988  0.0175
4  0.106667     420  24.349998  0.0175
   maturity  strike      price    rate
0  0.106667     165  70.900009  0.0175
1  0.106667     170  65.925003  0.0175
2  0.106667     175  60.974998  0.0175
3  0.106667     180  56.100006  0.0175
4  0.106667     185  51.150002  0.0175
2023-11-13 13:25:40,768 - yq - INFO - Calibrating LONZA.
2023-11-13 13:25:46,268 - yq - INFO - Calibrating SIKA.
2023-11-13 13:25:54,547 - yq - INFO - The S_0 for LONZA and SIKA are 434.1 and 235.1
2023-11-13 13:25:54,547 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176bad150>
 <lmfit.minimizer.MinimizerResult object at 0x176bae2d0>
2023-11-13 13:25:54,547 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 13 seconds
2023-11-13 13:25:54,547 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999933e+00  8.10375392e-02  1.32269581e-01 -2.23511865e-01
   3.33782326e+00]
 [ 1.00350085e-02  1.02534628e-02  1.01687582e-01 -1.67179330e-08
   1.00000000e+01]]
2023-11-13 13:25:54,552 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 13s 793ms
2023-11-13 13:25:54,556 - yq - INFO - The log returns list for all assets is: [Date
2023-07-14    0.024546
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
                ...   
2023-10-04    0.001444
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-14    0.016450
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
                ...   
2023-10-04    0.006100
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:25:54,556 - yq - INFO - rho_S1S2 is 0.329649797605491

2023-11-13 13:25:54,556 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3296498]
 [0.3296498 1.       ]]

2023-11-13 13:25:54,556 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.23511865e-01  3.29649798e-01  0.00000000e+00]
 [-2.23511865e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.29649798e-01  0.00000000e+00  1.00000000e+00 -1.67179330e-08]
 [ 0.00000000e+00  0.00000000e+00 -1.67179330e-08  1.00000000e+00]]

2023-11-13 13:25:54,556 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.23511865e-01  9.74701209e-01  0.00000000e+00  0.00000000e+00]
 [ 3.29649798e-01  7.55930539e-02  9.41072102e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.77647738e-08  1.00000000e+00]]

2023-11-13 13:25:54,556 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 4ms
2023-11-13 13:25:54,557 - yq - INFO - The adjusted S_0 is [434.1 235.1]
2023-11-13 13:25:54,574 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:25:54,576 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  358.650285  167.402668
1  368.207842  163.800444
2  340.824225  107.169027
3  370.215064  104.190992
4  379.972674  119.033904
2023-11-13 13:25:54,670 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-11  358.650285  167.402668
2023-10-12  368.207842  163.800444
2023-10-13  340.824225  107.169027
2023-10-16  370.215064  104.190992
2023-10-17  379.972674  119.033904
2023-11-13 13:25:54,672 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 13s 915ms
2023-11-13 13:25:54,672 - yq - INFO - Pricing the product on 2023-10-11 00:00:00
2023-11-13 13:25:54,672 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:25:54,679 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:25:54,879 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-14    544.4    251.3
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-11-13 13:25:54,881 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/lonn_call.csv
2023-11-13 13:25:54,883 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     390  45.899994  30.097866  0.0175
1   0.10386     395  41.549988  29.467657  0.0175
2   0.10386     400  37.349991  28.915565  0.0175
3   0.10386     410  29.499992  28.007881  0.0175
4   0.10386     420  22.549995  27.343821  0.0175
2023-11-13 13:25:54,884 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231011/sika_call.csv
2023-11-13 13:25:54,885 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     165  70.500008  51.139153  0.0175
1   0.10386     170  65.575005  49.437122  0.0175
2   0.10386     175  60.675003  47.853046  0.0175
3   0.10386     180  55.700005  44.278473  0.0175
4   0.10386     185  50.825005  42.488571  0.0175
2023-11-13 13:25:54,888 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     390  45.899994  0.0175
1   0.10386     395  41.549988  0.0175
2   0.10386     400  37.349991  0.0175
3   0.10386     410  29.499992  0.0175
4   0.10386     420  22.549995  0.0175
   maturity  strike      price    rate
0   0.10386     165  70.500008  0.0175
1   0.10386     170  65.575005  0.0175
2   0.10386     175  60.675003  0.0175
3   0.10386     180  55.700005  0.0175
4   0.10386     185  50.825005  0.0175
2023-11-13 13:25:54,888 - yq - INFO - Calibrating LONZA.
2023-11-13 13:26:09,104 - yq - INFO - Calibrating SIKA.
2023-11-13 13:26:45,527 - yq - INFO - The S_0 for LONZA and SIKA are 432.2 and 234.6
2023-11-13 13:26:45,527 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b4afd0>
 <lmfit.minimizer.MinimizerResult object at 0x176b2ff90>
2023-11-13 13:26:45,527 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 50 seconds
2023-11-13 13:26:45,527 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  7.17351255e-02  1.01960042e-01 -2.00825947e-01
   2.16739299e+00]
 [ 1.03209357e-02  2.08658726e-02  9.72278174e-02 -5.68511593e-09
   1.00000000e+01]]
2023-11-13 13:26:45,530 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 50s 650ms
2023-11-13 13:26:45,536 - yq - INFO - The log returns list for all assets is: [Date
2023-07-17   -0.005895
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
                ...   
2023-10-05    0.009572
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-17    0.006742
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
                ...   
2023-10-05    0.001302
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:26:45,536 - yq - INFO - rho_S1S2 is 0.3169791225970056

2023-11-13 13:26:45,536 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.31697912]
 [0.31697912 1.        ]]

2023-11-13 13:26:45,536 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.00825947e-01  3.16979123e-01  0.00000000e+00]
 [-2.00825947e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.16979123e-01  0.00000000e+00  1.00000000e+00 -5.68511593e-09]
 [ 0.00000000e+00  0.00000000e+00 -5.68511593e-09  1.00000000e+00]]

2023-11-13 13:26:45,537 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.00825947e-01  9.79626939e-01  0.00000000e+00  0.00000000e+00]
 [ 3.16979123e-01  6.49815045e-02  9.46203805e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -6.00834187e-09  1.00000000e+00]]

2023-11-13 13:26:45,537 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 7ms
2023-11-13 13:26:45,538 - yq - INFO - The adjusted S_0 is [432.2 234.6]
2023-11-13 13:26:45,556 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:26:45,557 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  437.631409  253.457577
1  406.166604  245.033196
2  383.734885  290.981038
3  386.563692  295.629412
4  382.685608  329.737034
2023-11-13 13:26:45,648 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-12  437.631409  253.457577
2023-10-13  406.166604  245.033196
2023-10-16  383.734885  290.981038
2023-10-17  386.563692  295.629412
2023-10-18  382.685608  329.737034
2023-11-13 13:26:45,650 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 50s 772ms
2023-11-13 13:26:45,650 - yq - INFO - Pricing the product on 2023-10-12 00:00:00
2023-11-13 13:26:45,650 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:26:45,657 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:26:45,865 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-17    541.2    253.0
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-11-13 13:26:45,867 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/lonn_call.csv
2023-11-13 13:26:45,868 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     390  45.700001  31.750900  0.0175
1  0.101053     395  41.299999  30.809237  0.0175
2  0.101053     400  37.099998  30.118776  0.0175
3  0.101053     410  29.200001  28.882235  0.0175
4  0.101053     420  22.299999  28.154430  0.0175
2023-11-13 13:26:45,870 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231012/sika_call.csv
2023-11-13 13:26:45,872 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     165  70.150002  50.219540  0.0175
1  0.101053     170  65.199997  48.034592  0.0175
2  0.101053     175  60.250000  45.546146  0.0175
3  0.101053     180  55.324989  43.450645  0.0175
4  0.101053     185  50.399994  40.996925  0.0175
2023-11-13 13:26:45,875 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     390  45.700001  0.0175
1  0.101053     395  41.299999  0.0175
2  0.101053     400  37.099998  0.0175
3  0.101053     410  29.200001  0.0175
4  0.101053     420  22.299999  0.0175
   maturity  strike      price    rate
0  0.101053     165  70.150002  0.0175
1  0.101053     170  65.199997  0.0175
2  0.101053     175  60.250000  0.0175
3  0.101053     180  55.324989  0.0175
4  0.101053     185  50.399994  0.0175
2023-11-13 13:26:45,875 - yq - INFO - Calibrating LONZA.
2023-11-13 13:26:51,702 - yq - INFO - Calibrating SIKA.
2023-11-13 13:27:27,632 - yq - INFO - The S_0 for LONZA and SIKA are 431.6 and 234.9
2023-11-13 13:27:27,633 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b03510>
 <lmfit.minimizer.MinimizerResult object at 0x176b38cd0>
2023-11-13 13:27:27,633 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 41 seconds
2023-11-13 13:27:27,633 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.00000000e+01  8.13538569e-02  1.19191513e-01 -2.31750902e-01
   3.25032112e+00]
 [ 1.00002366e-02  1.00000013e-02  9.49170742e-02 -1.54025681e-11
   9.99932752e+00]]
2023-11-13 13:27:27,633 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 41s 768ms
2023-11-13 13:27:27,636 - yq - INFO - The log returns list for all assets is: [Date
2023-07-18    0.017583
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
                ...   
2023-10-06    0.021440
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-18    0.004338
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
                ...   
2023-10-06    0.012074
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:27:27,636 - yq - INFO - rho_S1S2 is 0.31851779552852644

2023-11-13 13:27:27,636 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3185178]
 [0.3185178 1.       ]]

2023-11-13 13:27:27,637 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.31750902e-01  3.18517796e-01  0.00000000e+00]
 [-2.31750902e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.18517796e-01  0.00000000e+00  1.00000000e+00 -1.54025681e-11]
 [ 0.00000000e+00  0.00000000e+00 -1.54025681e-11  1.00000000e+00]]

2023-11-13 13:27:27,637 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.31750902e-01  9.72775164e-01  0.00000000e+00  0.00000000e+00]
 [ 3.18517796e-01  7.58826800e-02  9.44874718e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.63011750e-11  1.00000000e+00]]

2023-11-13 13:27:27,637 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 3ms
2023-11-13 13:27:27,637 - yq - INFO - The adjusted S_0 is [431.6 234.9]
2023-11-13 13:27:27,653 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:27:27,655 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  364.807040  205.844937
1  418.708693  178.675837
2  426.634599  180.510978
3  474.416267  166.300639
4  441.240491  151.728301
2023-11-13 13:27:27,750 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-13  364.807040  205.844937
2023-10-16  418.708693  178.675837
2023-10-17  426.634599  180.510978
2023-10-18  474.416267  166.300639
2023-10-19  441.240491  151.728301
2023-11-13 13:27:27,752 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 41s 889ms
2023-11-13 13:27:27,752 - yq - INFO - Pricing the product on 2023-10-13 00:00:00
2023-11-13 13:27:27,752 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:27:27,758 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:27:27,981 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-18    550.8    254.1
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-11-13 13:27:27,983 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/lonn_call.csv
2023-11-13 13:27:27,984 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     380  45.500000  29.856724  0.0175
1  0.176842     385  41.500000  29.342726  0.0175
2  0.176842     390  37.599991  28.775595  0.0175
3  0.176842     395  33.949997  28.392563  0.0175
4  0.176842     400  30.474998  28.026896  0.0175
2023-11-13 13:27:27,985 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231013/sika_call.csv
2023-11-13 13:27:27,987 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.176842     195  43.025002  35.105164  0.0175
1  0.176842     200  38.374992  33.525452  0.0175
2  0.176842     210  29.399994  30.622183  0.0175
3  0.176842     220  21.324997  28.788097  0.0175
4  0.176842     230  14.375000  27.261559  0.0175
2023-11-13 13:27:27,991 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.176842     380  45.500000  0.0175
1  0.176842     385  41.500000  0.0175
2  0.176842     390  37.599991  0.0175
3  0.176842     395  33.949997  0.0175
4  0.176842     400  30.474998  0.0175
   maturity  strike      price    rate
0  0.176842     195  43.025002  0.0175
1  0.176842     200  38.374992  0.0175
2  0.176842     210  29.399994  0.0175
3  0.176842     220  21.324997  0.0175
4  0.176842     230  14.375000  0.0175
2023-11-13 13:27:27,991 - yq - INFO - Calibrating LONZA.
2023-11-13 13:27:53,753 - yq - INFO - Calibrating SIKA.
2023-11-13 13:27:56,932 - yq - INFO - The S_0 for LONZA and SIKA are 418.1 and 235.6
2023-11-13 13:27:56,932 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b441d0>
 <lmfit.minimizer.MinimizerResult object at 0x176aec390>
2023-11-13 13:27:56,932 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 28 seconds
2023-11-13 13:27:56,932 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.58700578  0.08572117  0.08041459 -0.31618468  0.84489426]
 [ 5.79432716  0.10401347  0.10751135 -0.38852666  2.68964203]]
2023-11-13 13:27:56,932 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 28s 951ms
2023-11-13 13:27:56,934 - yq - INFO - The log returns list for all assets is: [Date
2023-07-19    0.004348
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
                ...   
2023-10-09    0.000000
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-19    0.008621
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
                ...   
2023-10-09   -0.020789
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:27:56,934 - yq - INFO - rho_S1S2 is 0.30846875512601135

2023-11-13 13:27:56,935 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.30846876]
 [0.30846876 1.        ]]

2023-11-13 13:27:56,935 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.31618468  0.30846876  0.        ]
 [-0.31618468  1.          0.          0.        ]
 [ 0.30846876  0.          1.         -0.38852666]
 [ 0.          0.         -0.38852666  1.        ]]

2023-11-13 13:27:56,935 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.31618468  0.94869766  0.          0.        ]
 [ 0.30846876  0.10280735  0.94566256  0.        ]
 [ 0.          0.         -0.41085126  0.91170239]]

2023-11-13 13:27:56,935 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 3ms
2023-11-13 13:27:56,936 - yq - INFO - The adjusted S_0 is [418.1 235.6]
2023-11-13 13:27:56,952 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:27:56,954 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  415.672873  234.216276
1  419.783855  250.537048
2  433.739586  267.271709
3  465.708045  301.802657
4  499.706452  303.869175
2023-11-13 13:27:57,047 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-16  415.672873  234.216276
2023-10-17  419.783855  250.537048
2023-10-18  433.739586  267.271709
2023-10-19  465.708045  301.802657
2023-10-20  499.706452  303.869175
2023-11-13 13:27:57,049 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 29s 70ms
2023-11-13 13:27:57,049 - yq - INFO - Pricing the product on 2023-10-16 00:00:00
2023-11-13 13:27:57,049 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:27:57,055 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:27:57,267 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-19    553.2    256.3
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-11-13 13:27:57,268 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/lonn_call.csv
2023-11-13 13:27:57,270 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.168421     385  47.699997  29.411749  0.0175
1  0.168421     390  43.949997  29.572170  0.0175
2  0.168421     395  40.049995  29.142870  0.0175
3  0.168421     400  36.349991  28.814251  0.0175
4  0.168421     410  29.399994  28.098360  0.0175
2023-11-13 13:27:57,271 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231016/sika_call.csv
2023-11-13 13:27:57,273 - yq - INFO - Options data read is
    maturity  strike       price          IV    rate
0  0.168421      76  159.475006   99.122787  0.0175
1  0.168421      84  151.574997  100.150345  0.0175
2  0.168421      92  143.600006   91.919762  0.0175
3  0.168421     100  135.649994   86.183449  0.0175
4  0.168421     110  125.700005   78.469963  0.0175
2023-11-13 13:27:57,276 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.168421     385  47.699997  0.0175
1  0.168421     390  43.949997  0.0175
2  0.168421     395  40.049995  0.0175
3  0.168421     400  36.349991  0.0175
4  0.168421     410  29.399994  0.0175
   maturity  strike       price    rate
0  0.168421      76  159.475006  0.0175
1  0.168421      84  151.574997  0.0175
2  0.168421      92  143.600006  0.0175
3  0.168421     100  135.649994  0.0175
4  0.168421     110  125.700005  0.0175
2023-11-13 13:27:57,277 - yq - INFO - Calibrating LONZA.
2023-11-13 13:28:06,736 - yq - INFO - Calibrating SIKA.
2023-11-13 13:29:34,124 - yq - INFO - The S_0 for LONZA and SIKA are 426.1 and 235.0
2023-11-13 13:29:34,126 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b57890>
 <lmfit.minimizer.MinimizerResult object at 0x176a4d7d0>
2023-11-13 13:29:34,126 - yq - INFO - The elapsed time for 2 calibration is 1 minutes, 36 seconds
2023-11-13 13:29:34,126 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.48272403e+00  5.42700718e-02  9.46130513e-02 -3.10340086e-01
   7.05537855e-01]
 [ 1.10803306e-02  1.67002791e-02  1.18930428e-01 -1.19906063e-09
   9.99999960e+00]]
2023-11-13 13:29:34,133 - yq - INFO - Runtime of calibrate: 0.0h 1.0m 36s 866ms
2023-11-13 13:29:34,146 - yq - INFO - The log returns list for all assets is: [Date
2023-07-20   -0.001447
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
                ...   
2023-10-10    0.011818
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-20    0.006611
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
                ...   
2023-10-10    0.028475
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:29:34,146 - yq - INFO - rho_S1S2 is 0.3035652013170766

2023-11-13 13:29:34,146 - yq - INFO - Correlation between log returns of each asset:
[[1.        0.3035652]
 [0.3035652 1.       ]]

2023-11-13 13:29:34,146 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -3.10340086e-01  3.03565201e-01  0.00000000e+00]
 [-3.10340086e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 3.03565201e-01  0.00000000e+00  1.00000000e+00 -1.19906063e-09]
 [ 0.00000000e+00  0.00000000e+00 -1.19906063e-09  1.00000000e+00]]

2023-11-13 13:29:34,147 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-3.10340086e-01  9.50625600e-01  0.00000000e+00  0.00000000e+00]
 [ 3.03565201e-01  9.91015294e-02  9.47642894e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.26530852e-09  1.00000000e+00]]

2023-11-13 13:29:34,147 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 13ms
2023-11-13 13:29:34,153 - yq - INFO - The adjusted S_0 is [426.1 235. ]
2023-11-13 13:29:34,170 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:29:34,172 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  417.539828  238.375437
1  419.069918  239.295307
2  429.537293  288.522410
3  488.607350  354.426748
4  526.507170  366.434322
2023-11-13 13:29:34,265 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-17  417.539828  238.375437
2023-10-18  419.069918  239.295307
2023-10-19  429.537293  288.522410
2023-10-20  488.607350  354.426748
2023-10-23  526.507170  366.434322
2023-11-13 13:29:34,267 - yq - INFO - Runtime of sim_n_path: 0.0h 1.0m 37s 2ms
2023-11-13 13:29:34,267 - yq - INFO - Pricing the product on 2023-10-17 00:00:00
2023-11-13 13:29:34,267 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:29:34,281 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:29:34,473 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-20    552.4    258.0
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-11-13 13:29:34,481 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/lonn_call.csv
2023-11-13 13:29:34,483 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.165614     335  30.549988  28.717325  0.0175
1  0.165614     340  27.049988  28.429321  0.0175
2  0.165614     345  23.749992  28.119053  0.0175
3  0.165614     350  20.750000  27.944704  0.0175
4  0.165614     355  21.599998  33.963181  0.0175
2023-11-13 13:29:34,484 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231017/sika_call.csv
2023-11-13 13:29:34,485 - yq - INFO - Options data read is
    maturity  strike       price           IV    rate
0  0.165614     0.1  223.100006  2292.225586  0.0175
1  0.165614    76.0  147.449997   106.440056  0.0175
2  0.165614    84.0  139.500000    99.310966  0.0175
3  0.165614    92.0  131.524994    90.756920  0.0175
4  0.165614   100.0  123.575005    84.469040  0.0175
2023-11-13 13:29:34,488 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.165614     335  30.549988  0.0175
1  0.165614     340  27.049988  0.0175
2  0.165614     345  23.749992  0.0175
3  0.165614     350  20.750000  0.0175
4  0.165614     355  21.599998  0.0175
   maturity  strike       price    rate
0  0.165614     0.1  223.100006  0.0175
1  0.165614    76.0  147.449997  0.0175
2  0.165614    84.0  139.500000  0.0175
3  0.165614    92.0  131.524994  0.0175
4  0.165614   100.0  123.575005  0.0175
2023-11-13 13:29:34,489 - yq - INFO - Calibrating LONZA.
2023-11-13 13:29:40,161 - yq - INFO - Calibrating SIKA.
2023-11-13 13:30:25,423 - yq - INFO - The S_0 for LONZA and SIKA are 357.3 and 222.2
2023-11-13 13:30:25,425 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b52c90>
 <lmfit.minimizer.MinimizerResult object at 0x176b1d790>
2023-11-13 13:30:25,425 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 50 seconds
2023-11-13 13:30:25,425 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.22224934e+00  4.82011437e-02  8.80875147e-02 -2.02468754e-01
   7.86237576e-01]
 [ 1.00019672e-02  5.30108334e-01  1.69920557e-01 -1.15152041e-08
   9.99999999e+00]]
2023-11-13 13:30:25,430 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 50s 956ms
2023-11-13 13:30:25,440 - yq - INFO - The log returns list for all assets is: [Date
2023-07-21   -0.118032
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
                ...   
2023-10-11   -0.004386
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-21    0.000775
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
                ...   
2023-10-11   -0.002129
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:30:25,440 - yq - INFO - rho_S1S2 is 0.4745605548224541

2023-11-13 13:30:25,441 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.47456055]
 [0.47456055 1.        ]]

2023-11-13 13:30:25,441 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.02468754e-01  4.74560555e-01  0.00000000e+00]
 [-2.02468754e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 4.74560555e-01  0.00000000e+00  1.00000000e+00 -1.15152041e-08]
 [ 0.00000000e+00  0.00000000e+00 -1.15152041e-08  1.00000000e+00]]

2023-11-13 13:30:25,441 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.02468754e-01  9.79288723e-01  0.00000000e+00  0.00000000e+00]
 [ 4.74560555e-01  9.81157874e-02  8.74737430e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -1.31641836e-08  1.00000000e+00]]

2023-11-13 13:30:25,441 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 11ms
2023-11-13 13:30:25,448 - yq - INFO - The adjusted S_0 is [357.3 222.2]
2023-11-13 13:30:25,466 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:30:25,469 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  300.463008  216.436395
1  282.124752  189.787978
2  283.791112  237.151571
3  315.685429  259.750017
4  390.931168  365.473506
2023-11-13 13:30:25,577 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-18  300.463008  216.436395
2023-10-19  282.124752  189.787978
2023-10-20  283.791112  237.151571
2023-10-23  315.685429  259.750017
2023-10-24  390.931168  365.473506
2023-11-13 13:30:25,579 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 51s 107ms
2023-11-13 13:30:25,580 - yq - INFO - Pricing the product on 2023-10-18 00:00:00
2023-11-13 13:30:25,580 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:30:25,592 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:30:25,813 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-21    490.9    258.2
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-11-13 13:30:25,816 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/lonn_call.csv
2023-11-13 13:30:25,817 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     320  31.299999  28.101810  0.0175
1  0.162807     325  27.500000  27.525820  0.0175
2  0.162807     330  24.950001  29.035944  0.0175
3  0.162807     335  21.875000  28.934927  0.0175
4  0.162807     340  19.049999  28.851625  0.0175
2023-11-13 13:30:25,818 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231018/sika_call.csv
2023-11-13 13:30:25,820 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.162807     175  38.500000  38.528267  0.0175
1  0.162807     180  33.849998  36.588718  0.0175
2  0.162807     185  29.324997  34.833080  0.0175
3  0.162807     190  25.024994  33.522907  0.0175
4  0.162807     195  20.899994  32.112335  0.0175
2023-11-13 13:30:25,823 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.162807     320  31.299999  0.0175
1  0.162807     325  27.500000  0.0175
2  0.162807     330  24.950001  0.0175
3  0.162807     335  21.875000  0.0175
4  0.162807     340  19.049999  0.0175
   maturity  strike      price    rate
0  0.162807     175  38.500000  0.0175
1  0.162807     180  33.849998  0.0175
2  0.162807     185  29.324997  0.0175
3  0.162807     190  25.024994  0.0175
4  0.162807     195  20.899994  0.0175
2023-11-13 13:30:25,823 - yq - INFO - Calibrating LONZA.
2023-11-13 13:31:03,470 - yq - INFO - Calibrating SIKA.
2023-11-13 13:33:01,854 - yq - INFO - The S_0 for LONZA and SIKA are 344.7 and 216.3
2023-11-13 13:33:01,885 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b74410>
 <lmfit.minimizer.MinimizerResult object at 0x176b8b310>
2023-11-13 13:33:01,885 - yq - INFO - The elapsed time for 2 calibration is 2 minutes, 36 seconds
2023-11-13 13:33:01,885 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.04543047e-02  8.83591885e+00  7.71477910e-02 -4.19446317e-01
   9.60314618e-01]
 [ 3.34104391e-01  3.22847571e-01  4.25682796e-02 -3.02322278e-10
   7.06743273e-01]]
2023-11-13 13:33:01,907 - yq - INFO - Runtime of calibrate: 0.0h 2.0m 36s 93ms
2023-11-13 13:33:01,928 - yq - INFO - The log returns list for all assets is: [Date
2023-07-24   -0.011061
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
                ...   
2023-10-12   -0.001389
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-24   -0.003103
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
                ...   
2023-10-12    0.001278
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:33:01,928 - yq - INFO - rho_S1S2 is 0.5389646229379524

2023-11-13 13:33:01,928 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53896462]
 [0.53896462 1.        ]]

2023-11-13 13:33:01,928 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -4.19446317e-01  5.38964623e-01  0.00000000e+00]
 [-4.19446317e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.38964623e-01  0.00000000e+00  1.00000000e+00 -3.02322278e-10]
 [ 0.00000000e+00  0.00000000e+00 -3.02322278e-10  1.00000000e+00]]

2023-11-13 13:33:01,929 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-4.19446317e-01  9.07780143e-01  0.00000000e+00  0.00000000e+00]
 [ 5.38964623e-01  2.49032464e-01  8.04673826e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.75707856e-10  1.00000000e+00]]

2023-11-13 13:33:01,929 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 22ms
2023-11-13 13:33:01,950 - yq - INFO - The adjusted S_0 is [344.7 216.3]
2023-11-13 13:33:01,977 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:33:01,985 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  334.358262  207.275006
1  337.307043  215.237636
2  309.081434  209.398327
3  300.705133  209.327034
4  296.846064  214.929643
2023-11-13 13:33:03,700 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-19  334.358262  207.275006
2023-10-20  337.307043  215.237636
2023-10-23  309.081434  209.398327
2023-10-24  300.705133  209.327034
2023-10-25  296.846064  214.929643
2023-11-13 13:33:03,703 - yq - INFO - Runtime of sim_n_path: 0.0h 2.0m 37s 892ms
2023-11-13 13:33:03,703 - yq - INFO - Pricing the product on 2023-10-19 00:00:00
2023-11-13 13:33:03,703 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:33:03,716 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:33:03,930 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-24    485.5    257.4
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-11-13 13:33:03,936 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/lonn_call.csv
2023-11-13 13:33:03,938 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     290  33.549995  38.621948  0.0175
1      0.16     295  29.849991  37.778728  0.0175
2      0.16     300  26.349991  36.993767  0.0175
3      0.16     305  23.099991  36.343693  0.0175
4      0.16     310  20.049995  35.675377  0.0175
2023-11-13 13:33:03,940 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231019/sika_call.csv
2023-11-13 13:33:03,942 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0      0.16     175  38.500000  38.528267  0.0175
1      0.16     180  33.849998  36.588718  0.0175
2      0.16     185  29.324997  34.833080  0.0175
3      0.16     190  25.024994  33.522907  0.0175
4      0.16     195  20.899994  32.112335  0.0175
2023-11-13 13:33:03,945 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0      0.16     290  33.549995  0.0175
1      0.16     295  29.849991  0.0175
2      0.16     300  26.349991  0.0175
3      0.16     305  23.099991  0.0175
4      0.16     310  20.049995  0.0175
   maturity  strike      price    rate
0      0.16     175  38.500000  0.0175
1      0.16     180  33.849998  0.0175
2      0.16     185  29.324997  0.0175
3      0.16     190  25.024994  0.0175
4      0.16     195  20.899994  0.0175
2023-11-13 13:33:03,945 - yq - INFO - Calibrating LONZA.
2023-11-13 13:37:23,761 - yq - INFO - Calibrating SIKA.
2023-11-13 13:38:58,325 - yq - INFO - The S_0 for LONZA and SIKA are 342.0 and 218.2
2023-11-13 13:38:58,331 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b329d0>
 <lmfit.minimizer.MinimizerResult object at 0x176b10610>
2023-11-13 13:38:58,331 - yq - INFO - The elapsed time for 2 calibration is 5 minutes, 54 seconds
2023-11-13 13:38:58,332 - yq - INFO - The calibrated params_list_Heston is:
 [[ 7.77065125e-02  1.37513117e+00  1.00000000e-02 -1.33172140e-10
   1.13093817e-02]
 [ 4.68555947e-01  2.69769736e-01  3.49390957e-02 -4.24905222e-10
   7.95351786e-01]]
2023-11-13 13:38:58,366 - yq - INFO - Runtime of calibrate: 0.0h 5.0m 54s 435ms
2023-11-13 13:38:58,489 - yq - INFO - The log returns list for all assets is: [Date
2023-07-25    0.021800
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
                ...   
2023-10-13   -0.031779
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-25    0.018858
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
                ...   
2023-10-13    0.002976
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:38:58,491 - yq - INFO - rho_S1S2 is 0.5362086169973319

2023-11-13 13:38:58,492 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53620862]
 [0.53620862 1.        ]]

2023-11-13 13:38:58,492 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -1.33172140e-10  5.36208617e-01  0.00000000e+00]
 [-1.33172140e-10  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.36208617e-01  0.00000000e+00  1.00000000e+00 -4.24905222e-10]
 [ 0.00000000e+00  0.00000000e+00 -4.24905222e-10  1.00000000e+00]]

2023-11-13 13:38:58,493 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-1.33172140e-10  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.36208617e-01  7.14080490e-11  8.44085493e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -5.03391215e-10  1.00000000e+00]]

2023-11-13 13:38:58,493 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 126ms
2023-11-13 13:38:58,512 - yq - INFO - The adjusted S_0 is [342.  218.2]
2023-11-13 13:38:58,548 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:38:58,559 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  342.077151  228.554414
1  341.422734  219.178303
2  345.223251  218.374575
3  346.417875  220.378375
4  348.387246  227.262121
2023-11-13 13:38:58,842 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-20  342.077151  228.554414
2023-10-23  341.422734  219.178303
2023-10-24  345.223251  218.374575
2023-10-25  346.417875  220.378375
2023-10-26  348.387246  227.262121
2023-11-13 13:38:58,867 - yq - INFO - Runtime of sim_n_path: 0.0h 5.0m 54s 938ms
2023-11-13 13:38:58,870 - yq - INFO - Pricing the product on 2023-10-20 00:00:00
2023-11-13 13:38:58,873 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:38:58,907 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:38:59,249 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-25    496.2    262.3
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-11-13 13:38:59,331 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/lonn_call.csv
2023-11-13 13:38:59,333 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     290  33.549995  38.621948  0.0175
1  0.157193     295  29.849991  37.778728  0.0175
2  0.157193     300  26.349991  36.993767  0.0175
3  0.157193     305  23.099991  36.343693  0.0175
4  0.157193     310  20.049995  35.675377  0.0175
2023-11-13 13:38:59,353 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231020/sika_call.csv
2023-11-13 13:38:59,358 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.157193     175  38.500000  38.528267  0.0175
1  0.157193     180  33.849998  36.588718  0.0175
2  0.157193     185  29.324997  34.833080  0.0175
3  0.157193     190  25.024994  33.522907  0.0175
4  0.157193     195  20.899994  32.112335  0.0175
2023-11-13 13:38:59,373 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.157193     290  33.549995  0.0175
1  0.157193     295  29.849991  0.0175
2  0.157193     300  26.349991  0.0175
3  0.157193     305  23.099991  0.0175
4  0.157193     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.157193     175  38.500000  0.0175
1  0.157193     180  33.849998  0.0175
2  0.157193     185  29.324997  0.0175
3  0.157193     190  25.024994  0.0175
4  0.157193     195  20.899994  0.0175
2023-11-13 13:38:59,378 - yq - INFO - Calibrating LONZA.
2023-11-13 13:54:01,312 - yq - INFO - Calibrating SIKA.
2023-11-13 13:54:10,984 - yq - INFO - The S_0 for LONZA and SIKA are 332.9 and 217.0
2023-11-13 13:54:10,986 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176ad4d10>
 <lmfit.minimizer.MinimizerResult object at 0x176a02410>
2023-11-13 13:54:10,987 - yq - INFO - The elapsed time for 2 calibration is 15 minutes, 11 seconds
2023-11-13 13:54:10,987 - yq - INFO - The calibrated params_list_Heston is:
 [[ 2.16297139e-01  1.04047850e+00  1.00000002e-02 -6.67429341e-07
   4.30610651e-01]
 [ 1.63814582e-02  5.33389670e+00  4.21172076e-02 -3.17355031e-11
   7.01343428e-01]]
2023-11-13 13:54:10,993 - yq - INFO - Runtime of calibrate: 0.0h 15.0m 11s 744ms
2023-11-13 13:54:11,028 - yq - INFO - The log returns list for all assets is: [Date
2023-07-26   -0.011758
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
                ...   
2023-10-16    0.018953
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-26   -0.005735
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
                ...   
2023-10-16   -0.002550
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:54:11,029 - yq - INFO - rho_S1S2 is 0.5283653584747795

2023-11-13 13:54:11,029 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52836536]
 [0.52836536 1.        ]]

2023-11-13 13:54:11,030 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -6.67429341e-07  5.28365358e-01  0.00000000e+00]
 [-6.67429341e-07  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28365358e-01  0.00000000e+00  1.00000000e+00 -3.17355031e-11]
 [ 0.00000000e+00  0.00000000e+00 -3.17355031e-11  1.00000000e+00]]

2023-11-13 13:54:11,030 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-6.67429341e-07  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28365358e-01  3.52646543e-07  8.49017107e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.73791092e-11  1.00000000e+00]]

2023-11-13 13:54:11,030 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 37ms
2023-11-13 13:54:11,048 - yq - INFO - The adjusted S_0 is [332.9 217. ]
2023-11-13 13:54:11,089 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:54:11,097 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  352.758491  233.879063
1  318.153912  222.255109
2  343.044386  231.069450
3  333.822273  223.673964
4  335.642559  218.836317
2023-11-13 13:54:11,360 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-23  352.758491  233.879063
2023-10-24  318.153912  222.255109
2023-10-25  343.044386  231.069450
2023-10-26  333.822273  223.673964
2023-10-27  335.642559  218.836317
2023-11-13 13:54:11,371 - yq - INFO - Runtime of sim_n_path: 0.0h 15.0m 12s 129ms
2023-11-13 13:54:11,372 - yq - INFO - Pricing the product on 2023-10-23 00:00:00
2023-11-13 13:54:11,378 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:54:11,407 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:54:11,853 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-26    490.4    260.8
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-11-13 13:54:11,860 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/lonn_call.csv
2023-11-13 13:54:11,863 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     290  33.549995  38.621948  0.0175
1  0.148772     295  29.849991  37.778728  0.0175
2  0.148772     300  26.349991  36.993767  0.0175
3  0.148772     305  23.099991  36.343693  0.0175
4  0.148772     310  20.049995  35.675377  0.0175
2023-11-13 13:54:11,867 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231023/sika_call.csv
2023-11-13 13:54:11,871 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.148772     175  38.500000  38.528267  0.0175
1  0.148772     180  33.849998  36.588718  0.0175
2  0.148772     185  29.324997  34.833080  0.0175
3  0.148772     190  25.024994  33.522907  0.0175
4  0.148772     195  20.899994  32.112335  0.0175
2023-11-13 13:54:11,876 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.148772     290  33.549995  0.0175
1  0.148772     295  29.849991  0.0175
2  0.148772     300  26.349991  0.0175
3  0.148772     305  23.099991  0.0175
4  0.148772     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.148772     175  38.500000  0.0175
1  0.148772     180  33.849998  0.0175
2  0.148772     185  29.324997  0.0175
3  0.148772     190  25.024994  0.0175
4  0.148772     195  20.899994  0.0175
2023-11-13 13:54:11,877 - yq - INFO - Calibrating LONZA.
2023-11-13 13:56:56,263 - yq - INFO - Calibrating SIKA.
2023-11-13 13:58:42,272 - yq - INFO - The S_0 for LONZA and SIKA are 327.6 and 215.9
2023-11-13 13:58:42,285 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b759d0>
 <lmfit.minimizer.MinimizerResult object at 0x176ab1fd0>
2023-11-13 13:58:42,286 - yq - INFO - The elapsed time for 2 calibration is 4 minutes, 30 seconds
2023-11-13 13:58:42,286 - yq - INFO - The calibrated params_list_Heston is:
 [[ 5.65699789e-02  3.67885181e+00  2.87442729e-02 -2.64011213e-09
   4.22301986e-01]
 [ 3.84105828e-01  2.26098720e-01  5.17261987e-02 -2.80722334e-10
   7.16122359e-01]]
2023-11-13 13:58:42,325 - yq - INFO - Runtime of calibrate: 0.0h 4.0m 30s 472ms
2023-11-13 13:58:42,437 - yq - INFO - The log returns list for all assets is: [Date
2023-07-27    0.022183
2023-07-28    0.006362
2023-07-31    0.001188
2023-08-02   -0.014756
2023-08-03   -0.015793
                ...   
2023-10-17   -0.176098
2023-10-18   -0.035901
2023-10-19   -0.007864
2023-10-20   -0.026969
2023-10-23   -0.016049
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-07-27    0.042048
2023-07-28   -0.002208
2023-07-31   -0.002583
2023-08-02   -0.001109
2023-08-03   -0.008169
                ...   
2023-10-17   -0.056008
2023-10-18   -0.026912
2023-10-19    0.008746
2023-10-20   -0.005515
2023-10-23   -0.005082
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:58:42,438 - yq - INFO - rho_S1S2 is 0.5283126864034193

2023-11-13 13:58:42,438 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52831269]
 [0.52831269 1.        ]]

2023-11-13 13:58:42,438 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -2.64011213e-09  5.28312686e-01  0.00000000e+00]
 [-2.64011213e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28312686e-01  0.00000000e+00  1.00000000e+00 -2.80722334e-10]
 [ 0.00000000e+00  0.00000000e+00 -2.80722334e-10  1.00000000e+00]]

2023-11-13 13:58:42,440 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-2.64011213e-09  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.28312686e-01  1.39480473e-09  8.49049884e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -3.30631144e-10  1.00000000e+00]]

2023-11-13 13:58:42,440 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 113ms
2023-11-13 13:58:42,457 - yq - INFO - The adjusted S_0 is [327.6 215.9]
2023-11-13 13:58:42,475 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:58:42,481 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  323.768248  221.543644
1  313.470858  201.901157
2  339.116043  217.466166
3  336.087082  216.563295
4  321.280276  210.466018
2023-11-13 13:58:42,617 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-24  323.768248  221.543644
2023-10-25  313.470858  201.901157
2023-10-26  339.116043  217.466166
2023-10-27  336.087082  216.563295
2023-10-30  321.280276  210.466018
2023-11-13 13:58:42,636 - yq - INFO - Runtime of sim_n_path: 0.0h 4.0m 30s 787ms
2023-11-13 13:58:42,639 - yq - INFO - Pricing the product on 2023-10-24 00:00:00
2023-11-13 13:58:42,640 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:58:42,671 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:58:42,963 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-27    501.4    272.0
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-11-13 13:58:42,974 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/lonn_call.csv
2023-11-13 13:58:42,981 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     290  33.549995  38.621948  0.0175
1  0.145965     295  29.849991  37.778728  0.0175
2  0.145965     300  26.349991  36.993767  0.0175
3  0.145965     305  23.099991  36.343693  0.0175
4  0.145965     310  20.049995  35.675377  0.0175
2023-11-13 13:58:42,983 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231024/sika_call.csv
2023-11-13 13:58:42,987 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.145965     175  38.500000  38.528267  0.0175
1  0.145965     180  33.849998  36.588718  0.0175
2  0.145965     185  29.324997  34.833080  0.0175
3  0.145965     190  25.024994  33.522907  0.0175
4  0.145965     195  20.899994  32.112335  0.0175
2023-11-13 13:58:42,991 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.145965     290  33.549995  0.0175
1  0.145965     295  29.849991  0.0175
2  0.145965     300  26.349991  0.0175
3  0.145965     305  23.099991  0.0175
4  0.145965     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.145965     175  38.500000  0.0175
1  0.145965     180  33.849998  0.0175
2  0.145965     185  29.324997  0.0175
3  0.145965     190  25.024994  0.0175
4  0.145965     195  20.899994  0.0175
2023-11-13 13:58:42,992 - yq - INFO - Calibrating LONZA.
2023-11-13 13:58:45,045 - yq - WARNING - Error during calibration on 2023-10-24: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:58:45,049 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 2 seconds
2023-11-13 13:58:45,049 - yq - ERROR - Error during calibration on 2023-10-24 00:00:00: cannot access local variable 'lonn_result' where it is not associated with a value
2023-11-13 13:58:45,050 - yq - INFO - Pricing the product on 2023-10-25 00:00:00
2023-11-13 13:58:45,051 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:58:45,075 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:58:45,371 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-28    504.6    271.4
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-11-13 13:58:45,373 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/lonn_call.csv
2023-11-13 13:58:45,375 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     290  33.549995  38.621948  0.0175
1  0.143158     295  29.849991  37.778728  0.0175
2  0.143158     300  26.349991  36.993767  0.0175
3  0.143158     305  23.099991  36.343693  0.0175
4  0.143158     310  20.049995  35.675377  0.0175
2023-11-13 13:58:45,376 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231025/sika_call.csv
2023-11-13 13:58:45,378 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.143158     175  38.500000  38.528267  0.0175
1  0.143158     180  33.849998  36.588718  0.0175
2  0.143158     185  29.324997  34.833080  0.0175
3  0.143158     190  25.024994  33.522907  0.0175
4  0.143158     195  20.899994  32.112335  0.0175
2023-11-13 13:58:45,383 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.143158     290  33.549995  0.0175
1  0.143158     295  29.849991  0.0175
2  0.143158     300  26.349991  0.0175
3  0.143158     305  23.099991  0.0175
4  0.143158     310  20.049995  0.0175
   maturity  strike      price    rate
0  0.143158     175  38.500000  0.0175
1  0.143158     180  33.849998  0.0175
2  0.143158     185  29.324997  0.0175
3  0.143158     190  25.024994  0.0175
4  0.143158     195  20.899994  0.0175
2023-11-13 13:58:45,383 - yq - INFO - Calibrating LONZA.
2023-11-13 13:58:53,832 - yq - INFO - Calibrating SIKA.
2023-11-13 13:58:54,494 - yq - WARNING - Error during calibration on 2023-10-25: NaN values detected in your input data or the output of your objective/model function - fitting algorithms cannot handle this! Please read https://lmfit.github.io/lmfit-py/faq.html#i-get-errors-from-nan-in-my-fit-what-can-i-do for more information.
2023-11-13 13:58:54,494 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 9 seconds
2023-11-13 13:58:54,494 - yq - ERROR - Error during calibration on 2023-10-25 00:00:00: cannot access local variable 'sika_result' where it is not associated with a value
2023-11-13 13:58:54,495 - yq - INFO - Pricing the product on 2023-10-26 00:00:00
2023-11-13 13:58:54,496 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:58:54,521 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:58:54,826 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-07-31    505.2    270.7
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-11-13 13:58:54,829 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/lonn_call.csv
2023-11-13 13:58:54,832 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     295  30.500000  38.355637  0.0175
1  0.140351     300  26.950001  37.520493  0.0175
2  0.140351     305  23.625000  36.776703  0.0175
3  0.140351     310  20.549999  36.132118  0.0175
4  0.140351     315  17.725000  35.556763  0.0175
2023-11-13 13:58:54,833 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231026/sika_call.csv
2023-11-13 13:58:54,836 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.140351     175  38.699997  38.509201  0.0175
1  0.140351     180  34.050003  36.681973  0.0175
2  0.140351     185  29.500000  34.874573  0.0175
3  0.140351     190  25.125000  33.306301  0.0175
4  0.140351     195  21.000000  32.032856  0.0175
2023-11-13 13:58:54,840 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.140351     295  30.500000  0.0175
1  0.140351     300  26.950001  0.0175
2  0.140351     305  23.625000  0.0175
3  0.140351     310  20.549999  0.0175
4  0.140351     315  17.725000  0.0175
   maturity  strike      price    rate
0  0.140351     175  38.699997  0.0175
1  0.140351     180  34.050003  0.0175
2  0.140351     185  29.500000  0.0175
3  0.140351     190  25.125000  0.0175
4  0.140351     195  21.000000  0.0175
2023-11-13 13:58:54,841 - yq - INFO - Calibrating LONZA.
2023-11-13 13:59:04,557 - yq - INFO - Calibrating SIKA.
2023-11-13 13:59:11,470 - yq - INFO - The S_0 for LONZA and SIKA are 315.9 and 211.2
2023-11-13 13:59:11,471 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176acfc50>
 <lmfit.minimizer.MinimizerResult object at 0x176ac3ed0>
2023-11-13 13:59:11,471 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 16 seconds
2023-11-13 13:59:11,471 - yq - INFO - The calibrated params_list_Heston is:
 [[10.          0.14363702  0.2117223  -0.33111713  3.95897913]
 [ 0.0149578   9.99832544  0.10863129 -0.45546211  1.52705619]]
2023-11-13 13:59:11,476 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 16s 651ms
2023-11-13 13:59:11,498 - yq - INFO - The log returns list for all assets is: [Date
2023-08-02   -0.014756
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
                ...   
2023-10-20   -0.026969
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-02   -0.001109
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
                ...   
2023-10-20   -0.005515
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:59:11,499 - yq - INFO - rho_S1S2 is 0.5325842602953332

2023-11-13 13:59:11,500 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53258426]
 [0.53258426 1.        ]]

2023-11-13 13:59:11,500 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.33111713  0.53258426  0.        ]
 [-0.33111713  1.          0.          0.        ]
 [ 0.53258426  0.          1.         -0.45546211]
 [ 0.          0.         -0.45546211  1.        ]]

2023-11-13 13:59:11,500 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.33111713  0.94358966  0.          0.        ]
 [ 0.53258426  0.18689032  0.82548532  0.        ]
 [ 0.          0.         -0.5517507   0.83400909]]

2023-11-13 13:59:11,501 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 24ms
2023-11-13 13:59:11,508 - yq - INFO - The adjusted S_0 is [315.9 211.2]
2023-11-13 13:59:11,535 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:59:11,541 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  309.588792  212.879347
1  369.056577  220.381664
2  353.224347  221.207724
3  374.413466  241.356271
4  468.961269  246.115044
2023-11-13 13:59:11,685 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-27  309.588792  212.879347
2023-10-30  369.056577  220.381664
2023-10-31  353.224347  221.207724
2023-11-01  374.413466  241.356271
2023-11-02  468.961269  246.115044
2023-11-13 13:59:11,694 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 16s 872ms
2023-11-13 13:59:11,694 - yq - INFO - Pricing the product on 2023-10-27 00:00:00
2023-11-13 13:59:11,695 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:59:11,705 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:59:12,036 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-02    497.8    270.4
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-11-13 13:59:12,039 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/lonn_call.csv
2023-11-13 13:59:12,042 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     290  33.500000  40.410904  0.0175
1  0.137544     295  29.999992  39.955196  0.0175
2  0.137544     300  26.499992  39.053944  0.0175
3  0.137544     305  23.249992  38.304703  0.0175
4  0.137544     310  20.199997  37.549683  0.0175
2023-11-13 13:59:12,044 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231027/sika_call.csv
2023-11-13 13:59:12,048 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.137544     180  36.075005  37.532513  0.0175
1  0.137544     185  31.500000  35.868580  0.0175
2  0.137544     190  26.974998  33.822449  0.0175
3  0.137544     195  22.725006  32.429932  0.0175
4  0.137544     200  18.700005  31.064346  0.0175
2023-11-13 13:59:12,054 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.137544     290  33.500000  0.0175
1  0.137544     295  29.999992  0.0175
2  0.137544     300  26.499992  0.0175
3  0.137544     305  23.249992  0.0175
4  0.137544     310  20.199997  0.0175
   maturity  strike      price    rate
0  0.137544     180  36.075005  0.0175
1  0.137544     185  31.500000  0.0175
2  0.137544     190  26.974998  0.0175
3  0.137544     195  22.725006  0.0175
4  0.137544     200  18.700005  0.0175
2023-11-13 13:59:12,054 - yq - INFO - Calibrating LONZA.
2023-11-13 13:59:39,219 - yq - INFO - Calibrating SIKA.
2023-11-13 13:59:46,879 - yq - INFO - The S_0 for LONZA and SIKA are 314.6 and 214.1
2023-11-13 13:59:46,880 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b61110>
 <lmfit.minimizer.MinimizerResult object at 0x176b95cd0>
2023-11-13 13:59:46,880 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 34 seconds
2023-11-13 13:59:46,880 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999999  0.15064611  0.23542488 -0.3144717   4.04992001]
 [ 2.92489102  0.1512944   0.10467205 -0.4062779   2.19943122]]
2023-11-13 13:59:46,881 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 34s 845ms
2023-11-13 13:59:46,893 - yq - INFO - The log returns list for all assets is: [Date
2023-08-03   -0.015793
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
                ...   
2023-10-23   -0.016049
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-03   -0.008169
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
                ...   
2023-10-23   -0.005082
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 13:59:46,894 - yq - INFO - rho_S1S2 is 0.5300127356410798

2023-11-13 13:59:46,894 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.53001274]
 [0.53001274 1.        ]]

2023-11-13 13:59:46,894 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.3144717   0.53001274  0.        ]
 [-0.3144717   1.          0.          0.        ]
 [ 0.53001274  0.          1.         -0.4062779 ]
 [ 0.          0.         -0.4062779   1.        ]]

2023-11-13 13:59:46,895 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.3144717   0.94926685  0.          0.        ]
 [ 0.53001274  0.17558183  0.82961287  0.        ]
 [ 0.          0.         -0.48971986  0.87187984]]

2023-11-13 13:59:46,895 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 14ms
2023-11-13 13:59:46,899 - yq - INFO - The adjusted S_0 is [314.6 214.1]
2023-11-13 13:59:46,923 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 13:59:46,925 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  312.216233  212.972082
1  233.188807  192.913969
2  257.258399  211.818451
3  282.341414  214.484249
4  290.371889  220.717059
2023-11-13 13:59:47,063 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-30  312.216233  212.972082
2023-10-31  233.188807  192.913969
2023-11-01  257.258399  211.818451
2023-11-02  282.341414  214.484249
2023-11-03  290.371889  220.717059
2023-11-13 13:59:47,065 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 35s 32ms
2023-11-13 13:59:47,066 - yq - INFO - Pricing the product on 2023-10-30 00:00:00
2023-11-13 13:59:47,066 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 13:59:47,076 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 13:59:47,414 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-03    490.0    268.2
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-11-13 13:59:47,419 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/lonn_call.csv
2023-11-13 13:59:47,421 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     295  29.500000  35.865021  0.0175
1  0.129123     300  26.974991  37.865707  0.0175
2  0.129123     305  22.500000  34.535404  0.0175
3  0.129123     310  18.049999  30.977629  0.0175
4  0.129123     315  16.500000  33.432877  0.0175
2023-11-13 13:59:47,423 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231030/sika_call.csv
2023-11-13 13:59:47,425 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.129123     180  37.825005  35.644909  0.0175
1  0.129123     185  33.150002  34.194305  0.0175
2  0.129123     190  28.525002  32.353138  0.0175
3  0.129123     195  24.099998  30.941946  0.0175
4  0.129123     200  19.925003  29.785938  0.0175
2023-11-13 13:59:47,429 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.129123     295  29.500000  0.0175
1  0.129123     300  26.974991  0.0175
2  0.129123     305  22.500000  0.0175
3  0.129123     310  18.049999  0.0175
4  0.129123     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.129123     180  37.825005  0.0175
1  0.129123     185  33.150002  0.0175
2  0.129123     190  28.525002  0.0175
3  0.129123     195  24.099998  0.0175
4  0.129123     200  19.925003  0.0175
2023-11-13 13:59:47,429 - yq - INFO - Calibrating LONZA.
2023-11-13 14:00:03,069 - yq - INFO - Calibrating SIKA.
2023-11-13 14:00:13,450 - yq - INFO - The S_0 for LONZA and SIKA are 311.5 and 214.1
2023-11-13 14:00:13,451 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b8c9d0>
 <lmfit.minimizer.MinimizerResult object at 0x176a7ad10>
2023-11-13 14:00:13,451 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 26 seconds
2023-11-13 14:00:13,451 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999999  0.24355319  0.43599957 -0.46860055  9.06937974]
 [ 1.42807867  0.30862581  0.13960123 -0.54873619  2.70208791]]
2023-11-13 14:00:13,454 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 26s 39ms
2023-11-13 14:00:13,468 - yq - INFO - The log returns list for all assets is: [Date
2023-08-04    0.006104
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
                ...   
2023-10-24    0.010023
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-04    0.039479
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
                ...   
2023-10-24   -0.000927
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:00:13,468 - yq - INFO - rho_S1S2 is 0.5288989583914336

2023-11-13 14:00:13,468 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.52889896]
 [0.52889896 1.        ]]

2023-11-13 14:00:13,468 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.46860055  0.52889896  0.        ]
 [-0.46860055  1.          0.          0.        ]
 [ 0.52889896  0.          1.         -0.54873619]
 [ 0.          0.         -0.54873619  1.        ]]

2023-11-13 14:00:13,469 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.46860055  0.88341017  0.          0.        ]
 [ 0.52889896  0.28055184  0.80097226  0.        ]
 [ 0.          0.         -0.68508763  0.72846066]]

2023-11-13 14:00:13,469 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 15ms
2023-11-13 14:00:13,478 - yq - INFO - The adjusted S_0 is [311.5 214.1]
2023-11-13 14:00:13,498 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:00:13,502 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  274.123816  206.186542
1  425.518263  211.802820
2  401.640840  215.893647
3  376.446482  214.669067
4  429.508677  217.635507
2023-11-13 14:00:13,622 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-10-31  274.123816  206.186542
2023-11-01  425.518263  211.802820
2023-11-02  401.640840  215.893647
2023-11-03  376.446482  214.669067
2023-11-06  429.508677  217.635507
2023-11-13 14:00:13,625 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 26s 212ms
2023-11-13 14:00:13,625 - yq - INFO - Pricing the product on 2023-10-31 00:00:00
2023-11-13 14:00:13,625 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:00:13,636 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:00:13,900 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-04    493.0    279.0
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-11-13 14:00:13,904 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/lonn_call.csv
2023-11-13 14:00:13,906 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     295  29.500000  35.865021  0.0175
1  0.126316     300  26.974991  37.865707  0.0175
2  0.126316     305  22.500000  34.535404  0.0175
3  0.126316     310  18.049999  30.977629  0.0175
4  0.126316     315  16.500000  33.432877  0.0175
2023-11-13 14:00:13,907 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231031/sika_call.csv
2023-11-13 14:00:13,910 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.126316     180  37.825005  35.644909  0.0175
1  0.126316     185  33.150002  34.194305  0.0175
2  0.126316     190  28.525002  32.353138  0.0175
3  0.126316     195  24.099998  30.941946  0.0175
4  0.126316     200  19.925003  29.785938  0.0175
2023-11-13 14:00:13,914 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.126316     295  29.500000  0.0175
1  0.126316     300  26.974991  0.0175
2  0.126316     305  22.500000  0.0175
3  0.126316     310  18.049999  0.0175
4  0.126316     315  16.500000  0.0175
   maturity  strike      price    rate
0  0.126316     180  37.825005  0.0175
1  0.126316     185  33.150002  0.0175
2  0.126316     190  28.525002  0.0175
3  0.126316     195  24.099998  0.0175
4  0.126316     200  19.925003  0.0175
2023-11-13 14:00:13,914 - yq - INFO - Calibrating LONZA.
2023-11-13 14:00:24,541 - yq - INFO - Calibrating SIKA.
2023-11-13 14:00:31,617 - yq - INFO - The S_0 for LONZA and SIKA are 316.8 and 216.9
2023-11-13 14:00:31,618 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b36690>
 <lmfit.minimizer.MinimizerResult object at 0x176b2b350>
2023-11-13 14:00:31,618 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 17 seconds
2023-11-13 14:00:31,618 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999174  0.13078966  0.19275389 -0.23120514  3.96208055]
 [ 4.15419582  0.11303008  0.0883531  -0.32223362  2.06703175]]
2023-11-13 14:00:31,624 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 17s 724ms
2023-11-13 14:00:31,639 - yq - INFO - The log returns list for all assets is: [Date
2023-08-07   -0.005696
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
                ...   
2023-10-25   -0.049244
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-07   -0.028724
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
                ...   
2023-10-25   -0.017302
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:00:31,640 - yq - INFO - rho_S1S2 is 0.5513577730599765

2023-11-13 14:00:31,640 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55135777]
 [0.55135777 1.        ]]

2023-11-13 14:00:31,640 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.23120514  0.55135777  0.        ]
 [-0.23120514  1.          0.          0.        ]
 [ 0.55135777  0.          1.         -0.32223362]
 [ 0.          0.         -0.32223362  1.        ]]

2023-11-13 14:00:31,641 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.23120514  0.97290502  0.          0.        ]
 [ 0.55135777  0.13102692  0.82391538  0.        ]
 [ 0.          0.         -0.39110038  0.92034803]]

2023-11-13 14:00:31,641 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 17ms
2023-11-13 14:00:31,658 - yq - INFO - The adjusted S_0 is [316.8 216.9]
2023-11-13 14:00:31,684 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:00:31,689 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  304.964013  201.587063
1  349.692258  220.550421
2  328.405099  219.851193
3  296.956286  201.097403
4  395.690451  247.235487
2023-11-13 14:00:31,821 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-01  304.964013  201.587063
2023-11-02  349.692258  220.550421
2023-11-03  328.405099  219.851193
2023-11-06  296.956286  201.097403
2023-11-07  395.690451  247.235487
2023-11-13 14:00:31,824 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 17s 926ms
2023-11-13 14:00:31,824 - yq - INFO - Pricing the product on 2023-11-01 00:00:00
2023-11-13 14:00:31,824 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:00:31,836 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:00:32,145 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-07    490.2    271.1
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-11-13 14:00:32,150 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/lonn_call.csv
2023-11-13 14:00:32,152 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     295  31.399994  37.997524  0.0175
1  0.123509     300  27.949997  37.785522  0.0175
2  0.123509     305  24.399994  36.817703  0.0175
3  0.123509     310  21.099991  35.968155  0.0175
4  0.123509     315  18.049999  35.185196  0.0175
2023-11-13 14:00:32,154 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231101/sika_call.csv
2023-11-13 14:00:32,156 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.123509     180  37.175003  36.303440  0.0175
1  0.123509     185  32.424995  34.078827  0.0175
2  0.123509     190  27.874992  32.687176  0.0175
3  0.123509     195  23.425003  30.999638  0.0175
4  0.123509     200  19.175003  29.390894  0.0175
2023-11-13 14:00:32,161 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.123509     295  31.399994  0.0175
1  0.123509     300  27.949997  0.0175
2  0.123509     305  24.399994  0.0175
3  0.123509     310  21.099991  0.0175
4  0.123509     315  18.049999  0.0175
   maturity  strike      price    rate
0  0.123509     180  37.175003  0.0175
1  0.123509     185  32.424995  0.0175
2  0.123509     190  27.874992  0.0175
3  0.123509     195  23.425003  0.0175
4  0.123509     200  19.175003  0.0175
2023-11-13 14:00:32,162 - yq - INFO - Calibrating LONZA.
2023-11-13 14:00:40,423 - yq - INFO - Calibrating SIKA.
2023-11-13 14:00:46,171 - yq - INFO - The S_0 for LONZA and SIKA are 318.6 and 215.2
2023-11-13 14:00:46,174 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b1cc10>
 <lmfit.minimizer.MinimizerResult object at 0x176b55890>
2023-11-13 14:00:46,174 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 14 seconds
2023-11-13 14:00:46,175 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.9999992   0.14432692  0.18520207 -0.32948611  3.61638531]
 [ 2.86417819  0.16079591  0.10071613 -0.43085801  2.34305524]]
2023-11-13 14:00:46,176 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 14s 30ms
2023-11-13 14:00:46,180 - yq - INFO - The log returns list for all assets is: [Date
2023-08-08    0.002038
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
                ...   
2023-10-26    0.002853
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-08   -0.013368
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
                ...   
2023-10-26   -0.003781
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:00:46,180 - yq - INFO - rho_S1S2 is 0.5625703773759996

2023-11-13 14:00:46,181 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.56257038]
 [0.56257038 1.        ]]

2023-11-13 14:00:46,181 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.32948611  0.56257038  0.        ]
 [-0.32948611  1.          0.          0.        ]
 [ 0.56257038  0.          1.         -0.43085801]
 [ 0.          0.         -0.43085801  1.        ]]

2023-11-13 14:00:46,181 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.32948611  0.94416042  0.          0.        ]
 [ 0.56257038  0.19632164  0.80310173  0.        ]
 [ 0.          0.         -0.53649245  0.84390512]]

2023-11-13 14:00:46,181 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 5ms
2023-11-13 14:00:46,182 - yq - INFO - The adjusted S_0 is [318.6 215.2]
2023-11-13 14:00:46,201 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:00:46,203 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  393.286513  250.739580
1  337.550006  257.031518
2  348.692403  300.368591
3  417.193809  322.702830
4  384.830410  320.775329
2023-11-13 14:00:46,323 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-02  393.286513  250.739580
2023-11-03  337.550006  257.031518
2023-11-06  348.692403  300.368591
2023-11-07  417.193809  322.702830
2023-11-08  384.830410  320.775329
2023-11-13 14:00:46,329 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 14s 186ms
2023-11-13 14:00:46,329 - yq - INFO - Pricing the product on 2023-11-02 00:00:00
2023-11-13 14:00:46,329 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:00:46,337 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:00:46,665 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-08    491.2    267.5
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-11-13 14:00:46,667 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/lonn_call.csv
2023-11-13 14:00:46,672 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     295  32.000000  37.357304  0.0175
1  0.120702     300  28.099991  36.198601  0.0175
2  0.120702     305  25.149994  36.973526  0.0175
3  0.120702     310  21.624992  35.745502  0.0175
4  0.120702     315  17.849997  33.472771  0.0175
2023-11-13 14:00:46,674 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231102/sika_call.csv
2023-11-13 14:00:46,678 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.120702     185  39.800003  34.830147  0.0175
1  0.120702     190  35.099991  33.827091  0.0175
2  0.120702     195  30.449997  32.338520  0.0175
3  0.120702     200  25.949997  31.015888  0.0175
4  0.120702     210  17.550003  28.456898  0.0175
2023-11-13 14:00:46,683 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.120702     295  32.000000  0.0175
1  0.120702     300  28.099991  0.0175
2  0.120702     305  25.149994  0.0175
3  0.120702     310  21.624992  0.0175
4  0.120702     315  17.849997  0.0175
   maturity  strike      price    rate
0  0.120702     185  39.800003  0.0175
1  0.120702     190  35.099991  0.0175
2  0.120702     195  30.449997  0.0175
3  0.120702     200  25.949997  0.0175
4  0.120702     210  17.550003  0.0175
2023-11-13 14:00:46,683 - yq - INFO - Calibrating LONZA.
2023-11-13 14:00:59,874 - yq - INFO - Calibrating SIKA.
2023-11-13 14:01:11,114 - yq - INFO - The S_0 for LONZA and SIKA are 320.0 and 223.8
2023-11-13 14:01:11,115 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a1fa50>
 <lmfit.minimizer.MinimizerResult object at 0x176abc550>
2023-11-13 14:01:11,115 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 24 seconds
2023-11-13 14:01:11,116 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99996633  0.1459587   0.16834725 -0.3169327   3.77267051]
 [10.          0.09342824  0.09622681 -0.3224611   2.97713087]]
2023-11-13 14:01:11,124 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 24s 459ms
2023-11-13 14:01:11,156 - yq - INFO - The log returns list for all assets is: [Date
2023-08-09   -0.004489
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
                ...   
2023-10-27   -0.004124
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-09   -0.007505
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
                ...   
2023-10-27    0.013638
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:01:11,157 - yq - INFO - rho_S1S2 is 0.5472672528704893

2023-11-13 14:01:11,158 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.54726725]
 [0.54726725 1.        ]]

2023-11-13 14:01:11,158 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.3169327   0.54726725  0.        ]
 [-0.3169327   1.          0.          0.        ]
 [ 0.54726725  0.          1.         -0.3224611 ]
 [ 0.          0.         -0.3224611   1.        ]]

2023-11-13 14:01:11,159 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.3169327   0.94844803  0.          0.        ]
 [ 0.54726725  0.18287443  0.81673466  0.        ]
 [ 0.          0.         -0.39481746  0.91875958]]

2023-11-13 14:01:11,159 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 35ms
2023-11-13 14:01:11,172 - yq - INFO - The adjusted S_0 is [320.  223.8]
2023-11-13 14:01:11,199 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:01:11,204 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  287.308664  212.153320
1  264.602638  191.623780
2  243.228599  181.434067
3  228.536837  185.569497
4  242.063769  191.818943
2023-11-13 14:01:11,352 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-03  287.308664  212.153320
2023-11-06  264.602638  191.623780
2023-11-07  243.228599  181.434067
2023-11-08  228.536837  185.569497
2023-11-09  242.063769  191.818943
2023-11-13 14:01:11,356 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 24s 694ms
2023-11-13 14:01:11,356 - yq - INFO - Pricing the product on 2023-11-03 00:00:00
2023-11-13 14:01:11,357 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:01:11,371 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:01:11,629 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-09    489.0    265.5
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-11-13 14:01:11,632 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231103/lonn_call.csv
2023-11-13 14:01:11,635 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     310  27.750001  33.530460  0.0175
1  0.117895     315  24.050004  32.782989  0.0175
2  0.117895     320  20.600007  31.983255  0.0175
3  0.117895     325  17.349999  31.317520  0.0175
4  0.117895     330  14.475001  30.779957  0.0175
2023-11-13 14:01:11,636 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231103/sika_call.csv
2023-11-13 14:01:11,639 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.117895     195  32.450001  30.662168  0.0175
1  0.117895     200  27.650000  28.702374  0.0175
2  0.117895     210  18.850000  27.020227  0.0175
3  0.117895     220  11.300000  24.894001  0.0175
4  0.117895     230   5.725000  23.684481  0.0175
2023-11-13 14:01:11,644 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.117895     310  27.750001  0.0175
1  0.117895     315  24.050004  0.0175
2  0.117895     320  20.600007  0.0175
3  0.117895     325  17.349999  0.0175
4  0.117895     330  14.475001  0.0175
   maturity  strike      price    rate
0  0.117895     195  32.450001  0.0175
1  0.117895     200  27.650000  0.0175
2  0.117895     210  18.850000  0.0175
3  0.117895     220  11.300000  0.0175
4  0.117895     230   5.725000  0.0175
2023-11-13 14:01:11,645 - yq - INFO - Calibrating LONZA.
2023-11-13 14:01:25,580 - yq - INFO - Calibrating SIKA.
2023-11-13 14:01:38,276 - yq - INFO - The S_0 for LONZA and SIKA are 329.1 and 227.8
2023-11-13 14:01:38,277 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176acec90>
 <lmfit.minimizer.MinimizerResult object at 0x176a4de50>
2023-11-13 14:01:38,277 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 26 seconds
2023-11-13 14:01:38,277 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.22325014e+00  1.40443352e-01  1.15846881e-01 -3.39837840e-01
   1.14855961e+00]
 [ 9.99999859e+00  5.85904188e-02  3.07219828e-02 -3.76067288e-09
   4.67778122e+00]]
2023-11-13 14:01:38,281 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 26s 652ms
2023-11-13 14:01:38,307 - yq - INFO - The log returns list for all assets is: [Date
2023-08-10    0.018438
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
                ...   
2023-10-30   -0.009903
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-10    0.010491
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
                ...   
2023-10-30    0.000000
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:01:38,307 - yq - INFO - rho_S1S2 is 0.5577107927282231

2023-11-13 14:01:38,307 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55771079]
 [0.55771079 1.        ]]

2023-11-13 14:01:38,308 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -3.39837840e-01  5.57710793e-01  0.00000000e+00]
 [-3.39837840e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.57710793e-01  0.00000000e+00  1.00000000e+00 -3.76067288e-09]
 [ 0.00000000e+00  0.00000000e+00 -3.76067288e-09  1.00000000e+00]]

2023-11-13 14:01:38,309 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-3.39837840e-01  9.40484047e-01  0.00000000e+00  0.00000000e+00]
 [ 5.57710793e-01  2.01525195e-01  8.05199520e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -4.67048575e-09  1.00000000e+00]]

2023-11-13 14:01:38,309 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 28ms
2023-11-13 14:01:38,326 - yq - INFO - The adjusted S_0 is [329.1 227.8]
2023-11-13 14:01:38,359 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:01:38,363 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  347.526555  262.927439
1  390.111477  279.795692
2  414.289137  320.962119
3  444.951284  334.734704
4  425.320677  324.768823
2023-11-13 14:01:38,519 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-06  347.526555  262.927439
2023-11-07  390.111477  279.795692
2023-11-08  414.289137  320.962119
2023-11-09  444.951284  334.734704
2023-11-10  425.320677  324.768823
2023-11-13 14:01:38,524 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 26s 897ms
2023-11-13 14:01:38,524 - yq - INFO - Pricing the product on 2023-11-06 00:00:00
2023-11-13 14:01:38,524 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:01:38,539 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:01:38,884 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-10    498.1    268.3
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-11-13 14:01:38,890 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231106/lonn_call.csv
2023-11-13 14:01:38,893 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     310  27.750001  33.530460  0.0175
1  0.109474     315  24.050004  32.782989  0.0175
2  0.109474     320  20.600007  31.983255  0.0175
3  0.109474     325  17.349999  31.317520  0.0175
4  0.109474     330  14.475001  30.779957  0.0175
2023-11-13 14:01:38,894 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231106/sika_call.csv
2023-11-13 14:01:38,897 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.109474     195  32.450001  30.662168  0.0175
1  0.109474     200  27.650000  28.702374  0.0175
2  0.109474     210  18.850000  27.020227  0.0175
3  0.109474     220  11.300000  24.894001  0.0175
4  0.109474     230   5.725000  23.684481  0.0175
2023-11-13 14:01:38,904 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.109474     310  27.750001  0.0175
1  0.109474     315  24.050004  0.0175
2  0.109474     320  20.600007  0.0175
3  0.109474     325  17.349999  0.0175
4  0.109474     330  14.475001  0.0175
   maturity  strike      price    rate
0  0.109474     195  32.450001  0.0175
1  0.109474     200  27.650000  0.0175
2  0.109474     210  18.850000  0.0175
3  0.109474     220  11.300000  0.0175
4  0.109474     230   5.725000  0.0175
2023-11-13 14:01:38,904 - yq - INFO - Calibrating LONZA.
2023-11-13 14:01:50,979 - yq - INFO - Calibrating SIKA.
2023-11-13 14:02:07,782 - yq - INFO - The S_0 for LONZA and SIKA are 331.4 and 225.0
2023-11-13 14:02:07,783 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176a00110>
 <lmfit.minimizer.MinimizerResult object at 0x176b60a90>
2023-11-13 14:02:07,783 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 28 seconds
2023-11-13 14:02:07,783 - yq - INFO - The calibrated params_list_Heston is:
 [[ 1.1626374   0.10244705  0.10032689 -0.23414048  0.79756493]
 [ 8.67660685  0.12345922  0.05796366 -0.29937619  9.99998855]]
2023-11-13 14:02:07,786 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 28s 901ms
2023-11-13 14:02:07,795 - yq - INFO - The log returns list for all assets is: [Date
2023-08-11   -0.006445
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
                ...   
2023-10-31    0.016871
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-11   -0.020712
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
                ...   
2023-10-31    0.012993
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:02:07,795 - yq - INFO - rho_S1S2 is 0.5466361685208238

2023-11-13 14:02:07,796 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.54663617]
 [0.54663617 1.        ]]

2023-11-13 14:02:07,796 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.23414048  0.54663617  0.        ]
 [-0.23414048  1.          0.          0.        ]
 [ 0.54663617  0.          1.         -0.29937619]
 [ 0.          0.         -0.29937619  1.        ]]

2023-11-13 14:02:07,796 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.23414048  0.97220277  0.          0.        ]
 [ 0.54663617  0.13164914  0.82695671  0.        ]
 [ 0.          0.         -0.36202159  0.93216971]]

2023-11-13 14:02:07,796 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 10ms
2023-11-13 14:02:07,800 - yq - INFO - The adjusted S_0 is [331.4 225. ]
2023-11-13 14:02:07,820 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:02:07,825 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  329.470801  299.424441
1  332.922626  274.827246
2  331.072751  382.422309
3  338.691864  387.226568
4  337.292788  396.451237
2023-11-13 14:02:07,948 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-07  329.470801  299.424441
2023-11-08  332.922626  274.827246
2023-11-09  331.072751  382.422309
2023-11-10  338.691864  387.226568
2023-11-13  337.292788  396.451237
2023-11-13 14:02:07,957 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 29s 76ms
2023-11-13 14:02:07,960 - yq - INFO - Pricing the product on 2023-11-07 00:00:00
2023-11-13 14:02:07,961 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:02:07,970 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:02:08,263 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-11    494.9    262.8
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-11-13 14:02:08,268 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231107/lonn_call.csv
2023-11-13 14:02:08,271 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     310  30.399994  34.911545  0.0175
1  0.106667     315  26.449997  33.783463  0.0175
2  0.106667     320  22.849991  33.080822  0.0175
3  0.106667     325  19.349995  32.058968  0.0175
4  0.106667     330  16.199997  31.287321  0.0175
2023-11-13 14:02:08,273 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231107/sika_call.csv
2023-11-13 14:02:08,276 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.106667     185  42.399994  33.494320  0.0175
1  0.106667     190  37.500000  31.443699  0.0175
2  0.106667     195  32.674995  29.894207  0.0175
3  0.106667     200  27.925003  28.326893  0.0175
4  0.106667     210  18.974998  26.093891  0.0175
2023-11-13 14:02:08,281 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.106667     310  30.399994  0.0175
1  0.106667     315  26.449997  0.0175
2  0.106667     320  22.849991  0.0175
3  0.106667     325  19.349995  0.0175
4  0.106667     330  16.199997  0.0175
   maturity  strike      price    rate
0  0.106667     185  42.399994  0.0175
1  0.106667     190  37.500000  0.0175
2  0.106667     195  32.674995  0.0175
3  0.106667     200  27.925003  0.0175
4  0.106667     210  18.974998  0.0175
2023-11-13 14:02:08,281 - yq - INFO - Calibrating LONZA.
2023-11-13 14:02:15,657 - yq - INFO - Calibrating SIKA.
2023-11-13 14:17:04,448 - yq - INFO - The S_0 for LONZA and SIKA are 331.4 and 226.4
2023-11-13 14:17:04,465 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b44cd0>
 <lmfit.minimizer.MinimizerResult object at 0x176b45810>
2023-11-13 14:17:04,469 - yq - INFO - The elapsed time for 2 calibration is 14 minutes, 56 seconds
2023-11-13 14:17:04,471 - yq - INFO - The calibrated params_list_Heston is:
 [[ 4.08265030e-01  5.31192250e-01  1.69504269e-01 -5.16657958e-01
   2.63887649e+00]
 [ 4.25210478e+00  1.00061205e-02  8.03868383e-02 -1.64798132e-04
   1.00000001e-02]]
2023-11-13 14:17:04,490 - yq - INFO - Runtime of calibrate: 0.0h 14.0m 56s 226ms
2023-11-13 14:17:04,556 - yq - INFO - The log returns list for all assets is: [Date
2023-08-14   -0.001415
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
                ...   
2023-11-01    0.005666
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-14   -0.001142
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
                ...   
2023-11-01   -0.007869
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:17:04,561 - yq - INFO - rho_S1S2 is 0.5528754507176123

2023-11-13 14:17:04,562 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55287545]
 [0.55287545 1.        ]]

2023-11-13 14:17:04,562 - yq - INFO - Simplified correlation matrix is:
[[ 1.00000000e+00 -5.16657958e-01  5.52875451e-01  0.00000000e+00]
 [-5.16657958e-01  1.00000000e+00  0.00000000e+00  0.00000000e+00]
 [ 5.52875451e-01  0.00000000e+00  1.00000000e+00 -1.64798132e-04]
 [ 0.00000000e+00  0.00000000e+00 -1.64798132e-04  1.00000000e+00]]

2023-11-13 14:17:04,564 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00]
 [-5.16657958e-01  8.56191891e-01  0.00000000e+00  0.00000000e+00]
 [ 5.52875451e-01  3.33625562e-01  7.63559245e-01  0.00000000e+00]
 [ 0.00000000e+00  0.00000000e+00 -2.15828874e-04  9.99999977e-01]]

2023-11-13 14:17:04,564 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 74ms
2023-11-13 14:17:04,583 - yq - INFO - The adjusted S_0 is [331.4 226.4]
2023-11-13 14:17:04,620 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:17:04,636 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  292.168049  225.242129
1  253.490240  224.242215
2  244.502413  222.993425
3  211.404932  226.428734
4  235.085387  230.446672
2023-11-13 14:17:04,901 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-08  292.168049  225.242129
2023-11-09  253.490240  224.242215
2023-11-10  244.502413  222.993425
2023-11-13  211.404932  226.428734
2023-11-14  235.085387  230.446672
2023-11-13 14:17:04,947 - yq - INFO - Runtime of sim_n_path: 0.0h 14.0m 56s 686ms
2023-11-13 14:17:04,951 - yq - INFO - Pricing the product on 2023-11-08 00:00:00
2023-11-13 14:17:04,952 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:17:04,983 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:17:05,372 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-14    494.2    262.5
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-11-13 14:17:05,379 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231108/lonn_call.csv
2023-11-13 14:17:05,382 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     310  30.399994  34.911545  0.0175
1   0.10386     315  26.449997  33.783463  0.0175
2   0.10386     320  22.849991  33.080822  0.0175
3   0.10386     325  19.349995  32.058968  0.0175
4   0.10386     330  16.199997  31.287321  0.0175
2023-11-13 14:17:05,384 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231108/sika_call.csv
2023-11-13 14:17:05,388 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0   0.10386     185  42.399994  33.494320  0.0175
1   0.10386     190  37.500000  31.443699  0.0175
2   0.10386     195  32.674995  29.894207  0.0175
3   0.10386     200  27.925003  28.326893  0.0175
4   0.10386     210  18.974998  26.093891  0.0175
2023-11-13 14:17:05,394 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0   0.10386     310  30.399994  0.0175
1   0.10386     315  26.449997  0.0175
2   0.10386     320  22.849991  0.0175
3   0.10386     325  19.349995  0.0175
4   0.10386     330  16.199997  0.0175
   maturity  strike      price    rate
0   0.10386     185  42.399994  0.0175
1   0.10386     190  37.500000  0.0175
2   0.10386     195  32.674995  0.0175
3   0.10386     200  27.925003  0.0175
4   0.10386     210  18.974998  0.0175
2023-11-13 14:17:05,394 - yq - INFO - Calibrating LONZA.
2023-11-13 14:17:42,207 - yq - INFO - Calibrating SIKA.
2023-11-13 14:17:48,930 - yq - INFO - The S_0 for LONZA and SIKA are 334.4 and 226.5
2023-11-13 14:17:48,936 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176bb6390>
 <lmfit.minimizer.MinimizerResult object at 0x176b6a250>
2023-11-13 14:17:48,936 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 43 seconds
2023-11-13 14:17:48,936 - yq - INFO - The calibrated params_list_Heston is:
 [[ 0.01057133  5.82654198  0.11933455 -0.37557045  1.68414256]
 [ 9.99999902  0.07646487  0.09547584 -0.35646545  3.12008615]]
2023-11-13 14:17:48,938 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 43s 566ms
2023-11-13 14:17:48,949 - yq - INFO - The log returns list for all assets is: [Date
2023-08-15   -0.012830
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
                ...   
2023-11-02    0.004385
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
2023-11-08    0.009012
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-15   -0.016904
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
                ...   
2023-11-02    0.039185
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
2023-11-08    0.000442
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:17:48,949 - yq - INFO - rho_S1S2 is 0.553065240885675

2023-11-13 14:17:48,950 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55306524]
 [0.55306524 1.        ]]

2023-11-13 14:17:48,950 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.37557045  0.55306524  0.        ]
 [-0.37557045  1.          0.          0.        ]
 [ 0.55306524  0.          1.         -0.35646545]
 [ 0.          0.         -0.35646545  1.        ]]

2023-11-13 14:17:48,950 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.37557045  0.92679385  0.          0.        ]
 [ 0.55306524  0.22412207  0.80242641  0.        ]
 [ 0.          0.         -0.44423444  0.89591058]]

2023-11-13 14:17:48,950 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 12ms
2023-11-13 14:17:48,958 - yq - INFO - The adjusted S_0 is [334.4 226.5]
2023-11-13 14:17:48,980 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:17:48,984 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  324.047228  250.306639
1  290.877668  210.548558
2  291.383616  219.891609
3  324.119686  236.276734
4  321.288086  215.964797
2023-11-13 14:17:49,121 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-09  324.047228  250.306639
2023-11-10  290.877668  210.548558
2023-11-13  291.383616  219.891609
2023-11-14  324.119686  236.276734
2023-11-15  321.288086  215.964797
2023-11-13 14:17:49,128 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 43s 760ms
2023-11-13 14:17:49,128 - yq - INFO - Pricing the product on 2023-11-09 00:00:00
2023-11-13 14:17:49,129 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/LONN.SE.json
2023-11-13 14:17:49,148 - yq - INFO - The json file path is: /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/code/sc/SIKA.SE.json
2023-11-13 14:17:49,435 - yq - INFO - The historical data is
             LONN.SE  SIKA.SE
Date                        
2023-08-15    487.9    258.1
2023-08-16    479.8    257.4
2023-08-17    473.2    250.6
2023-08-18    471.9    247.5
2023-08-21    469.9    244.9
2023-11-13 14:17:49,439 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231109/lonn_call.csv
2023-11-13 14:17:49,442 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     315  29.199997  31.831684  0.0175
1  0.101053     320  25.299988  31.102568  0.0175
2  0.101053     325  21.599991  30.327896  0.0175
3  0.101053     330  18.149998  29.569244  0.0175
4  0.101053     335  15.025000  28.936207  0.0175
2023-11-13 14:17:49,445 - yq - INFO - File path is /Users/tangyiqwan/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/ntu/Acads/4_Y4S1/MH4518/group-project/code/simulation-in-finance/data/options-cleaned/20231109/sika_call.csv
2023-11-13 14:17:49,448 - yq - INFO - Options data read is
    maturity  strike      price         IV    rate
0  0.101053     190  39.575005  33.059349  0.0175
1  0.101053     195  34.674995  30.623409  0.0175
2  0.101053     200  29.875000  28.943167  0.0175
3  0.101053     210  20.724998  26.483250  0.0175
4  0.101053     220  12.725000  24.856747  0.0175
2023-11-13 14:17:49,454 - yq - INFO - LONZA and SIKA df are 
   maturity  strike      price    rate
0  0.101053     315  29.199997  0.0175
1  0.101053     320  25.299988  0.0175
2  0.101053     325  21.599991  0.0175
3  0.101053     330  18.149998  0.0175
4  0.101053     335  15.025000  0.0175
   maturity  strike      price    rate
0  0.101053     190  39.575005  0.0175
1  0.101053     195  34.674995  0.0175
2  0.101053     200  29.875000  0.0175
3  0.101053     210  20.724998  0.0175
4  0.101053     220  12.725000  0.0175
2023-11-13 14:17:49,455 - yq - INFO - Calibrating LONZA.
2023-11-13 14:18:06,226 - yq - INFO - Calibrating SIKA.
2023-11-13 14:18:14,167 - yq - INFO - The S_0 for LONZA and SIKA are 339.2 and 229.4
2023-11-13 14:18:14,168 - yq - INFO - Calibration results for LONZA and SIKA are 
<lmfit.minimizer.MinimizerResult object at 0x176b2c550>
 <lmfit.minimizer.MinimizerResult object at 0x176b56910>
2023-11-13 14:18:14,168 - yq - INFO - The elapsed time for 2 calibration is 0 minutes, 24 seconds
2023-11-13 14:18:14,168 - yq - INFO - The calibrated params_list_Heston is:
 [[ 9.99999999  0.08656082  0.11160247 -0.30577725  2.07597965]
 [ 9.99998496  0.06123103  0.11626899 -0.35642681  4.58794568]]
2023-11-13 14:18:14,169 - yq - INFO - Runtime of calibrate: 0.0h 0.0m 24s 734ms
2023-11-13 14:18:14,185 - yq - INFO - The log returns list for all assets is: [Date
2023-08-16   -0.016741
2023-08-17   -0.013851
2023-08-18   -0.002751
2023-08-21   -0.004247
2023-08-22   -0.001704
                ...   
2023-11-03    0.028041
2023-11-06    0.006964
2023-11-07    0.000000
2023-11-08    0.009012
2023-11-09    0.014252
Name: LONN.SE, Length: 62, dtype: float64, Date
2023-08-16   -0.002716
2023-08-17   -0.026773
2023-08-18   -0.012447
2023-08-21   -0.010561
2023-08-22    0.000816
                ...   
2023-11-03    0.017715
2023-11-06   -0.012368
2023-11-07    0.006203
2023-11-08    0.000442
2023-11-09    0.012722
Name: SIKA.SE, Length: 62, dtype: float64]
2023-11-13 14:18:14,185 - yq - INFO - rho_S1S2 is 0.5578749895424259

2023-11-13 14:18:14,185 - yq - INFO - Correlation between log returns of each asset:
[[1.         0.55787499]
 [0.55787499 1.        ]]

2023-11-13 14:18:14,185 - yq - INFO - Simplified correlation matrix is:
[[ 1.         -0.30577725  0.55787499  0.        ]
 [-0.30577725  1.          0.          0.        ]
 [ 0.55787499  0.          1.         -0.35642681]
 [ 0.          0.         -0.35642681  1.        ]]

2023-11-13 14:18:14,185 - yq - INFO - Lower triangular matrix L after Cholesky decomposition is:
[[ 1.          0.          0.          0.        ]
 [-0.30577725  0.95210308  0.          0.        ]
 [ 0.55787499  0.17916703  0.81035466  0.        ]
 [ 0.          0.         -0.43984051  0.8980759 ]]

2023-11-13 14:18:14,185 - yq - INFO - Runtime of calc_L_lower: 0.0h 0.0m 0s 17ms
2023-11-13 14:18:14,187 - yq - INFO - The adjusted S_0 is [339.2 229.4]
2023-11-13 14:18:14,214 - yq - INFO - The new column names are ['LONN.SE_0', 'SIKA.SE_0']
2023-11-13 14:18:14,216 - yq - INFO - The simulated data for 0th iteration is:
     LONN.SE_0   SIKA.SE_0
0  328.077412  266.816815
1  275.709037  227.401170
2  326.959038  224.948809
3  334.362160  240.519796
4  369.027088  303.320682
2023-11-13 14:18:14,352 - yq - INFO - 1 sim, diff h, sim_data_comb:
             LONN.SE_0   SIKA.SE_0
Date                              
2023-11-10  328.077412  266.816815
2023-11-13  275.709037  227.401170
2023-11-14  326.959038  224.948809
2023-11-15  334.362160  240.519796
2023-11-16  369.027088  303.320682
2023-11-13 14:18:14,354 - yq - INFO - Runtime of sim_n_path: 0.0h 0.0m 24s 923ms
2023-11-13 14:18:14,360 - yq - INFO - Runtime of run_pricing: 1.0h 23.0m 2s 714ms
